var IC=e=>{throw TypeError(e)};var jx=(e,t,n)=>t.has(e)||IC("Cannot "+n);var le=(e,t,n)=>(jx(e,t,"read from private field"),n?n.call(e):t.get(e)),vt=(e,t,n)=>t.has(e)?IC("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),qe=(e,t,n,r)=>(jx(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Bn=(e,t,n)=>(jx(e,t,"access private method"),n);var Zh=(e,t,n,r)=>({set _(i){qe(e,t,i,n)},get _(){return le(e,t,r)}});function qz(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var hn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Vz(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var hI={exports:{}},bv={},pI={exports:{}},it={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xh=Symbol.for("react.element"),Kz=Symbol.for("react.portal"),Gz=Symbol.for("react.fragment"),Yz=Symbol.for("react.strict_mode"),Xz=Symbol.for("react.profiler"),Qz=Symbol.for("react.provider"),Jz=Symbol.for("react.context"),Zz=Symbol.for("react.forward_ref"),e8=Symbol.for("react.suspense"),t8=Symbol.for("react.memo"),n8=Symbol.for("react.lazy"),RC=Symbol.iterator;function r8(e){return e===null||typeof e!="object"?null:(e=RC&&e[RC]||e["@@iterator"],typeof e=="function"?e:null)}var mI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gI=Object.assign,vI={};function Su(e,t,n){this.props=e,this.context=t,this.refs=vI,this.updater=n||mI}Su.prototype.isReactComponent={};Su.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Su.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function yI(){}yI.prototype=Su.prototype;function Q_(e,t,n){this.props=e,this.context=t,this.refs=vI,this.updater=n||mI}var J_=Q_.prototype=new yI;J_.constructor=Q_;gI(J_,Su.prototype);J_.isPureReactComponent=!0;var MC=Array.isArray,xI=Object.prototype.hasOwnProperty,Z_={current:null},bI={key:!0,ref:!0,__self:!0,__source:!0};function wI(e,t,n){var r,i={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)xI.call(t,r)&&!bI.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var c=Array(s),u=0;u<s;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:xh,type:e,key:a,ref:o,props:i,_owner:Z_.current}}function i8(e,t){return{$$typeof:xh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function eS(e){return typeof e=="object"&&e!==null&&e.$$typeof===xh}function a8(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var DC=/\/+/g;function kx(e,t){return typeof e=="object"&&e!==null&&e.key!=null?a8(""+e.key):t.toString(36)}function Zp(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case xh:case Kz:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+kx(o,0):r,MC(i)?(n="",e!=null&&(n=e.replace(DC,"$&/")+"/"),Zp(i,t,n,"",function(u){return u})):i!=null&&(eS(i)&&(i=i8(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(DC,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",MC(e))for(var s=0;s<e.length;s++){a=e[s];var c=r+kx(a,s);o+=Zp(a,t,n,c,i)}else if(c=r8(e),typeof c=="function")for(e=c.call(e),s=0;!(a=e.next()).done;)a=a.value,c=r+kx(a,s++),o+=Zp(a,t,n,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ep(e,t,n){if(e==null)return e;var r=[],i=0;return Zp(e,r,"","",function(a){return t.call(n,a,i++)}),r}function o8(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ar={current:null},em={transition:null},s8={ReactCurrentDispatcher:ar,ReactCurrentBatchConfig:em,ReactCurrentOwner:Z_};function _I(){throw Error("act(...) is not supported in production builds of React.")}it.Children={map:ep,forEach:function(e,t,n){ep(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ep(e,function(){t++}),t},toArray:function(e){return ep(e,function(t){return t})||[]},only:function(e){if(!eS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};it.Component=Su;it.Fragment=Gz;it.Profiler=Xz;it.PureComponent=Q_;it.StrictMode=Yz;it.Suspense=e8;it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s8;it.act=_I;it.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=gI({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Z_.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)xI.call(t,c)&&!bI.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&s!==void 0?s[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){s=Array(c);for(var u=0;u<c;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:xh,type:e.type,key:i,ref:a,props:r,_owner:o}};it.createContext=function(e){return e={$$typeof:Jz,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Qz,_context:e},e.Consumer=e};it.createElement=wI;it.createFactory=function(e){var t=wI.bind(null,e);return t.type=e,t};it.createRef=function(){return{current:null}};it.forwardRef=function(e){return{$$typeof:Zz,render:e}};it.isValidElement=eS;it.lazy=function(e){return{$$typeof:n8,_payload:{_status:-1,_result:e},_init:o8}};it.memo=function(e,t){return{$$typeof:t8,type:e,compare:t===void 0?null:t}};it.startTransition=function(e){var t=em.transition;em.transition={};try{e()}finally{em.transition=t}};it.unstable_act=_I;it.useCallback=function(e,t){return ar.current.useCallback(e,t)};it.useContext=function(e){return ar.current.useContext(e)};it.useDebugValue=function(){};it.useDeferredValue=function(e){return ar.current.useDeferredValue(e)};it.useEffect=function(e,t){return ar.current.useEffect(e,t)};it.useId=function(){return ar.current.useId()};it.useImperativeHandle=function(e,t,n){return ar.current.useImperativeHandle(e,t,n)};it.useInsertionEffect=function(e,t){return ar.current.useInsertionEffect(e,t)};it.useLayoutEffect=function(e,t){return ar.current.useLayoutEffect(e,t)};it.useMemo=function(e,t){return ar.current.useMemo(e,t)};it.useReducer=function(e,t,n){return ar.current.useReducer(e,t,n)};it.useRef=function(e){return ar.current.useRef(e)};it.useState=function(e){return ar.current.useState(e)};it.useSyncExternalStore=function(e,t,n){return ar.current.useSyncExternalStore(e,t,n)};it.useTransition=function(){return ar.current.useTransition()};it.version="18.3.1";pI.exports=it;var g=pI.exports;const H=Nt(g),tS=qz({__proto__:null,default:H},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l8=g,c8=Symbol.for("react.element"),u8=Symbol.for("react.fragment"),d8=Object.prototype.hasOwnProperty,f8=l8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h8={key:!0,ref:!0,__self:!0,__source:!0};function SI(e,t,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)d8.call(t,r)&&!h8.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:c8,type:e,key:a,ref:o,props:i,_owner:f8.current}}bv.Fragment=u8;bv.jsx=SI;bv.jsxs=SI;hI.exports=bv;var l=hI.exports,jI={exports:{}},zr={},kI={exports:{}},CI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,$){var P=D.length;D.push($);e:for(;0<P;){var R=P-1>>>1,T=D[R];if(0<i(T,$))D[R]=$,D[P]=T,P=R;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var $=D[0],P=D.pop();if(P!==$){D[0]=P;e:for(var R=0,T=D.length,C=T>>>1;R<C;){var U=2*(R+1)-1,G=D[U],ne=U+1,q=D[ne];if(0>i(G,P))ne<T&&0>i(q,G)?(D[R]=q,D[ne]=P,R=ne):(D[R]=G,D[U]=P,R=U);else if(ne<T&&0>i(q,P))D[R]=q,D[ne]=P,R=ne;else break e}}return $}function i(D,$){var P=D.sortIndex-$.sortIndex;return P!==0?P:D.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var c=[],u=[],f=1,d=null,h=3,p=!1,m=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(D){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=D)r(u),$.sortIndex=$.expirationTime,t(c,$);else break;$=n(u)}}function j(D){if(v=!1,b(D),!m)if(n(c)!==null)m=!0,F(_);else{var $=n(u);$!==null&&B(j,$.startTime-D)}}function _(D,$){m=!1,v&&(v=!1,x(E),E=-1),p=!0;var P=h;try{for(b($),d=n(c);d!==null&&(!(d.expirationTime>$)||D&&!A());){var R=d.callback;if(typeof R=="function"){d.callback=null,h=d.priorityLevel;var T=R(d.expirationTime<=$);$=e.unstable_now(),typeof T=="function"?d.callback=T:d===n(c)&&r(c),b($)}else r(c);d=n(c)}if(d!==null)var C=!0;else{var U=n(u);U!==null&&B(j,U.startTime-$),C=!1}return C}finally{d=null,h=P,p=!1}}var S=!1,k=null,E=-1,O=5,N=-1;function A(){return!(e.unstable_now()-N<O)}function I(){if(k!==null){var D=e.unstable_now();N=D;var $=!0;try{$=k(!0,D)}finally{$?M():(S=!1,k=null)}}else S=!1}var M;if(typeof w=="function")M=function(){w(I)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,z=L.port2;L.port1.onmessage=I,M=function(){z.postMessage(null)}}else M=function(){y(I,0)};function F(D){k=D,S||(S=!0,M())}function B(D,$){E=y(function(){D(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,F(_))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var P=h;h=$;try{return D()}finally{h=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,$){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var P=h;h=D;try{return $()}finally{h=P}},e.unstable_scheduleCallback=function(D,$,P){var R=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?R+P:R):P=R,D){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=P+T,D={id:f++,callback:$,priorityLevel:D,startTime:P,expirationTime:T,sortIndex:-1},P>R?(D.sortIndex=P,t(u,D),n(c)===null&&D===n(u)&&(v?(x(E),E=-1):v=!0,B(j,P-R))):(D.sortIndex=T,t(c,D),m||p||(m=!0,F(_))),D},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(D){var $=h;return function(){var P=h;h=$;try{return D.apply(this,arguments)}finally{h=P}}}})(CI);kI.exports=CI;var p8=kI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m8=g,Br=p8;function me(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var EI=new Set,ef={};function ll(e,t){Mc(e,t),Mc(e+"Capture",t)}function Mc(e,t){for(ef[e]=t,e=0;e<t.length;e++)EI.add(t[e])}var Da=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ab=Object.prototype.hasOwnProperty,g8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$C={},LC={};function v8(e){return Ab.call(LC,e)?!0:Ab.call($C,e)?!1:g8.test(e)?LC[e]=!0:($C[e]=!0,!1)}function y8(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function x8(e,t,n,r){if(t===null||typeof t>"u"||y8(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function or(e,t,n,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Ln={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ln[e]=new or(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ln[t]=new or(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ln[e]=new or(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ln[e]=new or(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ln[e]=new or(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ln[e]=new or(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ln[e]=new or(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ln[e]=new or(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ln[e]=new or(e,5,!1,e.toLowerCase(),null,!1,!1)});var nS=/[\-:]([a-z])/g;function rS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(nS,rS);Ln[t]=new or(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(nS,rS);Ln[t]=new or(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(nS,rS);Ln[t]=new or(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ln[e]=new or(e,1,!1,e.toLowerCase(),null,!1,!1)});Ln.xlinkHref=new or("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ln[e]=new or(e,1,!1,e.toLowerCase(),null,!0,!0)});function iS(e,t,n,r){var i=Ln.hasOwnProperty(t)?Ln[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(x8(t,n,i,r)&&(n=null),r||i===null?v8(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ga=m8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tp=Symbol.for("react.element"),ql=Symbol.for("react.portal"),Vl=Symbol.for("react.fragment"),aS=Symbol.for("react.strict_mode"),Nb=Symbol.for("react.profiler"),AI=Symbol.for("react.provider"),NI=Symbol.for("react.context"),oS=Symbol.for("react.forward_ref"),Pb=Symbol.for("react.suspense"),Tb=Symbol.for("react.suspense_list"),sS=Symbol.for("react.memo"),ho=Symbol.for("react.lazy"),PI=Symbol.for("react.offscreen"),FC=Symbol.iterator;function Qu(e){return e===null||typeof e!="object"?null:(e=FC&&e[FC]||e["@@iterator"],typeof e=="function"?e:null)}var Zt=Object.assign,Cx;function kd(e){if(Cx===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Cx=t&&t[1]||""}return`
`+Cx+e}var Ex=!1;function Ax(e,t){if(!e||Ex)return"";Ex=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=s);break}}}finally{Ex=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?kd(e):""}function b8(e){switch(e.tag){case 5:return kd(e.type);case 16:return kd("Lazy");case 13:return kd("Suspense");case 19:return kd("SuspenseList");case 0:case 2:case 15:return e=Ax(e.type,!1),e;case 11:return e=Ax(e.type.render,!1),e;case 1:return e=Ax(e.type,!0),e;default:return""}}function Ob(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vl:return"Fragment";case ql:return"Portal";case Nb:return"Profiler";case aS:return"StrictMode";case Pb:return"Suspense";case Tb:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case NI:return(e.displayName||"Context")+".Consumer";case AI:return(e._context.displayName||"Context")+".Provider";case oS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case sS:return t=e.displayName||null,t!==null?t:Ob(e.type)||"Memo";case ho:t=e._payload,e=e._init;try{return Ob(e(t))}catch{}}return null}function w8(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ob(t);case 8:return t===aS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Uo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function TI(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _8(e){var t=TI(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function np(e){e._valueTracker||(e._valueTracker=_8(e))}function OI(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=TI(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function xm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ib(e,t){var n=t.checked;return Zt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function BC(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Uo(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function II(e,t){t=t.checked,t!=null&&iS(e,"checked",t,!1)}function Rb(e,t){II(e,t);var n=Uo(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Mb(e,t.type,n):t.hasOwnProperty("defaultValue")&&Mb(e,t.type,Uo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function UC(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Mb(e,t,n){(t!=="number"||xm(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Cd=Array.isArray;function lc(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Uo(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Db(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(me(91));return Zt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zC(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(me(92));if(Cd(n)){if(1<n.length)throw Error(me(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Uo(n)}}function RI(e,t){var n=Uo(t.value),r=Uo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function WC(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function MI(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $b(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?MI(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var rp,DI=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(rp=rp||document.createElement("div"),rp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=rp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function tf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Rd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},S8=["Webkit","ms","Moz","O"];Object.keys(Rd).forEach(function(e){S8.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Rd[t]=Rd[e]})});function $I(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Rd.hasOwnProperty(e)&&Rd[e]?(""+t).trim():t+"px"}function LI(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=$I(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var j8=Zt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lb(e,t){if(t){if(j8[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(me(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(me(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(me(61))}if(t.style!=null&&typeof t.style!="object")throw Error(me(62))}}function Fb(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bb=null;function lS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ub=null,cc=null,uc=null;function HC(e){if(e=_h(e)){if(typeof Ub!="function")throw Error(me(280));var t=e.stateNode;t&&(t=kv(t),Ub(e.stateNode,e.type,t))}}function FI(e){cc?uc?uc.push(e):uc=[e]:cc=e}function BI(){if(cc){var e=cc,t=uc;if(uc=cc=null,HC(e),t)for(e=0;e<t.length;e++)HC(t[e])}}function UI(e,t){return e(t)}function zI(){}var Nx=!1;function WI(e,t,n){if(Nx)return e(t,n);Nx=!0;try{return UI(e,t,n)}finally{Nx=!1,(cc!==null||uc!==null)&&(zI(),BI())}}function nf(e,t){var n=e.stateNode;if(n===null)return null;var r=kv(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(me(231,t,typeof n));return n}var zb=!1;if(Da)try{var Ju={};Object.defineProperty(Ju,"passive",{get:function(){zb=!0}}),window.addEventListener("test",Ju,Ju),window.removeEventListener("test",Ju,Ju)}catch{zb=!1}function k8(e,t,n,r,i,a,o,s,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var Md=!1,bm=null,wm=!1,Wb=null,C8={onError:function(e){Md=!0,bm=e}};function E8(e,t,n,r,i,a,o,s,c){Md=!1,bm=null,k8.apply(C8,arguments)}function A8(e,t,n,r,i,a,o,s,c){if(E8.apply(this,arguments),Md){if(Md){var u=bm;Md=!1,bm=null}else throw Error(me(198));wm||(wm=!0,Wb=u)}}function cl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function HI(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qC(e){if(cl(e)!==e)throw Error(me(188))}function N8(e){var t=e.alternate;if(!t){if(t=cl(e),t===null)throw Error(me(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return qC(i),e;if(a===r)return qC(i),t;a=a.sibling}throw Error(me(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(me(189))}}if(n.alternate!==r)throw Error(me(190))}if(n.tag!==3)throw Error(me(188));return n.stateNode.current===n?e:t}function qI(e){return e=N8(e),e!==null?VI(e):null}function VI(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=VI(e);if(t!==null)return t;e=e.sibling}return null}var KI=Br.unstable_scheduleCallback,VC=Br.unstable_cancelCallback,P8=Br.unstable_shouldYield,T8=Br.unstable_requestPaint,cn=Br.unstable_now,O8=Br.unstable_getCurrentPriorityLevel,cS=Br.unstable_ImmediatePriority,GI=Br.unstable_UserBlockingPriority,_m=Br.unstable_NormalPriority,I8=Br.unstable_LowPriority,YI=Br.unstable_IdlePriority,wv=null,ea=null;function R8(e){if(ea&&typeof ea.onCommitFiberRoot=="function")try{ea.onCommitFiberRoot(wv,e,void 0,(e.current.flags&128)===128)}catch{}}var Ci=Math.clz32?Math.clz32:$8,M8=Math.log,D8=Math.LN2;function $8(e){return e>>>=0,e===0?32:31-(M8(e)/D8|0)|0}var ip=64,ap=4194304;function Ed(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Sm(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=Ed(s):(a&=o,a!==0&&(r=Ed(a)))}else o=n&~i,o!==0?r=Ed(o):a!==0&&(r=Ed(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ci(t),i=1<<n,r|=e[n],t&=~i;return r}function L8(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function F8(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Ci(a),s=1<<o,c=i[o];c===-1?(!(s&n)||s&r)&&(i[o]=L8(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}}function Hb(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function XI(){var e=ip;return ip<<=1,!(ip&4194240)&&(ip=64),e}function Px(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function bh(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ci(t),e[t]=n}function B8(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ci(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function uS(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ci(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var At=0;function QI(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var JI,dS,ZI,eR,tR,qb=!1,op=[],No=null,Po=null,To=null,rf=new Map,af=new Map,go=[],U8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function KC(e,t){switch(e){case"focusin":case"focusout":No=null;break;case"dragenter":case"dragleave":Po=null;break;case"mouseover":case"mouseout":To=null;break;case"pointerover":case"pointerout":rf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":af.delete(t.pointerId)}}function Zu(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=_h(t),t!==null&&dS(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function z8(e,t,n,r,i){switch(t){case"focusin":return No=Zu(No,e,t,n,r,i),!0;case"dragenter":return Po=Zu(Po,e,t,n,r,i),!0;case"mouseover":return To=Zu(To,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return rf.set(a,Zu(rf.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,af.set(a,Zu(af.get(a)||null,e,t,n,r,i)),!0}return!1}function nR(e){var t=Cs(e.target);if(t!==null){var n=cl(t);if(n!==null){if(t=n.tag,t===13){if(t=HI(n),t!==null){e.blockedOn=t,tR(e.priority,function(){ZI(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Vb(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Bb=r,n.target.dispatchEvent(r),Bb=null}else return t=_h(n),t!==null&&dS(t),e.blockedOn=n,!1;t.shift()}return!0}function GC(e,t,n){tm(e)&&n.delete(t)}function W8(){qb=!1,No!==null&&tm(No)&&(No=null),Po!==null&&tm(Po)&&(Po=null),To!==null&&tm(To)&&(To=null),rf.forEach(GC),af.forEach(GC)}function ed(e,t){e.blockedOn===t&&(e.blockedOn=null,qb||(qb=!0,Br.unstable_scheduleCallback(Br.unstable_NormalPriority,W8)))}function of(e){function t(i){return ed(i,e)}if(0<op.length){ed(op[0],e);for(var n=1;n<op.length;n++){var r=op[n];r.blockedOn===e&&(r.blockedOn=null)}}for(No!==null&&ed(No,e),Po!==null&&ed(Po,e),To!==null&&ed(To,e),rf.forEach(t),af.forEach(t),n=0;n<go.length;n++)r=go[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<go.length&&(n=go[0],n.blockedOn===null);)nR(n),n.blockedOn===null&&go.shift()}var dc=Ga.ReactCurrentBatchConfig,jm=!0;function H8(e,t,n,r){var i=At,a=dc.transition;dc.transition=null;try{At=1,fS(e,t,n,r)}finally{At=i,dc.transition=a}}function q8(e,t,n,r){var i=At,a=dc.transition;dc.transition=null;try{At=4,fS(e,t,n,r)}finally{At=i,dc.transition=a}}function fS(e,t,n,r){if(jm){var i=Vb(e,t,n,r);if(i===null)Bx(e,t,r,km,n),KC(e,r);else if(z8(i,e,t,n,r))r.stopPropagation();else if(KC(e,r),t&4&&-1<U8.indexOf(e)){for(;i!==null;){var a=_h(i);if(a!==null&&JI(a),a=Vb(e,t,n,r),a===null&&Bx(e,t,r,km,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Bx(e,t,r,null,n)}}var km=null;function Vb(e,t,n,r){if(km=null,e=lS(r),e=Cs(e),e!==null)if(t=cl(e),t===null)e=null;else if(n=t.tag,n===13){if(e=HI(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return km=e,null}function rR(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(O8()){case cS:return 1;case GI:return 4;case _m:case I8:return 16;case YI:return 536870912;default:return 16}default:return 16}}var jo=null,hS=null,nm=null;function iR(){if(nm)return nm;var e,t=hS,n=t.length,r,i="value"in jo?jo.value:jo.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return nm=i.slice(e,1<r?1-r:void 0)}function rm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function sp(){return!0}function YC(){return!1}function Wr(e){function t(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?sp:YC,this.isPropagationStopped=YC,this}return Zt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sp)},persist:function(){},isPersistent:sp}),t}var ju={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pS=Wr(ju),wh=Zt({},ju,{view:0,detail:0}),V8=Wr(wh),Tx,Ox,td,_v=Zt({},wh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mS,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==td&&(td&&e.type==="mousemove"?(Tx=e.screenX-td.screenX,Ox=e.screenY-td.screenY):Ox=Tx=0,td=e),Tx)},movementY:function(e){return"movementY"in e?e.movementY:Ox}}),XC=Wr(_v),K8=Zt({},_v,{dataTransfer:0}),G8=Wr(K8),Y8=Zt({},wh,{relatedTarget:0}),Ix=Wr(Y8),X8=Zt({},ju,{animationName:0,elapsedTime:0,pseudoElement:0}),Q8=Wr(X8),J8=Zt({},ju,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Z8=Wr(J8),eW=Zt({},ju,{data:0}),QC=Wr(eW),tW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iW(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=rW[e])?!!t[e]:!1}function mS(){return iW}var aW=Zt({},wh,{key:function(e){if(e.key){var t=tW[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nW[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mS,charCode:function(e){return e.type==="keypress"?rm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),oW=Wr(aW),sW=Zt({},_v,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),JC=Wr(sW),lW=Zt({},wh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mS}),cW=Wr(lW),uW=Zt({},ju,{propertyName:0,elapsedTime:0,pseudoElement:0}),dW=Wr(uW),fW=Zt({},_v,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hW=Wr(fW),pW=[9,13,27,32],gS=Da&&"CompositionEvent"in window,Dd=null;Da&&"documentMode"in document&&(Dd=document.documentMode);var mW=Da&&"TextEvent"in window&&!Dd,aR=Da&&(!gS||Dd&&8<Dd&&11>=Dd),ZC=" ",eE=!1;function oR(e,t){switch(e){case"keyup":return pW.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sR(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Kl=!1;function gW(e,t){switch(e){case"compositionend":return sR(t);case"keypress":return t.which!==32?null:(eE=!0,ZC);case"textInput":return e=t.data,e===ZC&&eE?null:e;default:return null}}function vW(e,t){if(Kl)return e==="compositionend"||!gS&&oR(e,t)?(e=iR(),nm=hS=jo=null,Kl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return aR&&t.locale!=="ko"?null:t.data;default:return null}}var yW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!yW[e.type]:t==="textarea"}function lR(e,t,n,r){FI(r),t=Cm(t,"onChange"),0<t.length&&(n=new pS("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $d=null,sf=null;function xW(e){xR(e,0)}function Sv(e){var t=Xl(e);if(OI(t))return e}function bW(e,t){if(e==="change")return t}var cR=!1;if(Da){var Rx;if(Da){var Mx="oninput"in document;if(!Mx){var nE=document.createElement("div");nE.setAttribute("oninput","return;"),Mx=typeof nE.oninput=="function"}Rx=Mx}else Rx=!1;cR=Rx&&(!document.documentMode||9<document.documentMode)}function rE(){$d&&($d.detachEvent("onpropertychange",uR),sf=$d=null)}function uR(e){if(e.propertyName==="value"&&Sv(sf)){var t=[];lR(t,sf,e,lS(e)),WI(xW,t)}}function wW(e,t,n){e==="focusin"?(rE(),$d=t,sf=n,$d.attachEvent("onpropertychange",uR)):e==="focusout"&&rE()}function _W(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sv(sf)}function SW(e,t){if(e==="click")return Sv(t)}function jW(e,t){if(e==="input"||e==="change")return Sv(t)}function kW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pi=typeof Object.is=="function"?Object.is:kW;function lf(e,t){if(Pi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ab.call(t,i)||!Pi(e[i],t[i]))return!1}return!0}function iE(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function aE(e,t){var n=iE(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=iE(n)}}function dR(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dR(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fR(){for(var e=window,t=xm();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xm(e.document)}return t}function vS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function CW(e){var t=fR(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dR(n.ownerDocument.documentElement,n)){if(r!==null&&vS(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=aE(n,a);var o=aE(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var EW=Da&&"documentMode"in document&&11>=document.documentMode,Gl=null,Kb=null,Ld=null,Gb=!1;function oE(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gb||Gl==null||Gl!==xm(r)||(r=Gl,"selectionStart"in r&&vS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ld&&lf(Ld,r)||(Ld=r,r=Cm(Kb,"onSelect"),0<r.length&&(t=new pS("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Gl)))}function lp(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Yl={animationend:lp("Animation","AnimationEnd"),animationiteration:lp("Animation","AnimationIteration"),animationstart:lp("Animation","AnimationStart"),transitionend:lp("Transition","TransitionEnd")},Dx={},hR={};Da&&(hR=document.createElement("div").style,"AnimationEvent"in window||(delete Yl.animationend.animation,delete Yl.animationiteration.animation,delete Yl.animationstart.animation),"TransitionEvent"in window||delete Yl.transitionend.transition);function jv(e){if(Dx[e])return Dx[e];if(!Yl[e])return e;var t=Yl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in hR)return Dx[e]=t[n];return e}var pR=jv("animationend"),mR=jv("animationiteration"),gR=jv("animationstart"),vR=jv("transitionend"),yR=new Map,sE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Go(e,t){yR.set(e,t),ll(t,[e])}for(var $x=0;$x<sE.length;$x++){var Lx=sE[$x],AW=Lx.toLowerCase(),NW=Lx[0].toUpperCase()+Lx.slice(1);Go(AW,"on"+NW)}Go(pR,"onAnimationEnd");Go(mR,"onAnimationIteration");Go(gR,"onAnimationStart");Go("dblclick","onDoubleClick");Go("focusin","onFocus");Go("focusout","onBlur");Go(vR,"onTransitionEnd");Mc("onMouseEnter",["mouseout","mouseover"]);Mc("onMouseLeave",["mouseout","mouseover"]);Mc("onPointerEnter",["pointerout","pointerover"]);Mc("onPointerLeave",["pointerout","pointerover"]);ll("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ll("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ll("onBeforeInput",["compositionend","keypress","textInput","paste"]);ll("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ll("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ll("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ad="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PW=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ad));function lE(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,A8(r,t,void 0,e),e.currentTarget=null}function xR(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break e;lE(i,s,u),a=c}else for(o=0;o<r.length;o++){if(s=r[o],c=s.instance,u=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break e;lE(i,s,u),a=c}}}if(wm)throw e=Wb,wm=!1,Wb=null,e}function qt(e,t){var n=t[Zb];n===void 0&&(n=t[Zb]=new Set);var r=e+"__bubble";n.has(r)||(bR(t,e,2,!1),n.add(r))}function Fx(e,t,n){var r=0;t&&(r|=4),bR(n,e,r,t)}var cp="_reactListening"+Math.random().toString(36).slice(2);function cf(e){if(!e[cp]){e[cp]=!0,EI.forEach(function(n){n!=="selectionchange"&&(PW.has(n)||Fx(n,!1,e),Fx(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cp]||(t[cp]=!0,Fx("selectionchange",!1,t))}}function bR(e,t,n,r){switch(rR(t)){case 1:var i=H8;break;case 4:i=q8;break;default:i=fS}n=i.bind(null,t,n,e),i=void 0,!zb||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Bx(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Cs(s),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}s=s.parentNode}}r=r.return}WI(function(){var u=a,f=lS(n),d=[];e:{var h=yR.get(e);if(h!==void 0){var p=pS,m=e;switch(e){case"keypress":if(rm(n)===0)break e;case"keydown":case"keyup":p=oW;break;case"focusin":m="focus",p=Ix;break;case"focusout":m="blur",p=Ix;break;case"beforeblur":case"afterblur":p=Ix;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=XC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=G8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=cW;break;case pR:case mR:case gR:p=Q8;break;case vR:p=dW;break;case"scroll":p=V8;break;case"wheel":p=hW;break;case"copy":case"cut":case"paste":p=Z8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=JC}var v=(t&4)!==0,y=!v&&e==="scroll",x=v?h!==null?h+"Capture":null:h;v=[];for(var w=u,b;w!==null;){b=w;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,x!==null&&(j=nf(w,x),j!=null&&v.push(uf(w,j,b)))),y)break;w=w.return}0<v.length&&(h=new p(h,m,null,n,f),d.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==Bb&&(m=n.relatedTarget||n.fromElement)&&(Cs(m)||m[$a]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?Cs(m):null,m!==null&&(y=cl(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(v=XC,j="onMouseLeave",x="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(v=JC,j="onPointerLeave",x="onPointerEnter",w="pointer"),y=p==null?h:Xl(p),b=m==null?h:Xl(m),h=new v(j,w+"leave",p,n,f),h.target=y,h.relatedTarget=b,j=null,Cs(f)===u&&(v=new v(x,w+"enter",m,n,f),v.target=b,v.relatedTarget=y,j=v),y=j,p&&m)t:{for(v=p,x=m,w=0,b=v;b;b=Sl(b))w++;for(b=0,j=x;j;j=Sl(j))b++;for(;0<w-b;)v=Sl(v),w--;for(;0<b-w;)x=Sl(x),b--;for(;w--;){if(v===x||x!==null&&v===x.alternate)break t;v=Sl(v),x=Sl(x)}v=null}else v=null;p!==null&&cE(d,h,p,v,!1),m!==null&&y!==null&&cE(d,y,m,v,!0)}}e:{if(h=u?Xl(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var _=bW;else if(tE(h))if(cR)_=jW;else{_=_W;var S=wW}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=SW);if(_&&(_=_(e,u))){lR(d,_,n,f);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Mb(h,"number",h.value)}switch(S=u?Xl(u):window,e){case"focusin":(tE(S)||S.contentEditable==="true")&&(Gl=S,Kb=u,Ld=null);break;case"focusout":Ld=Kb=Gl=null;break;case"mousedown":Gb=!0;break;case"contextmenu":case"mouseup":case"dragend":Gb=!1,oE(d,n,f);break;case"selectionchange":if(EW)break;case"keydown":case"keyup":oE(d,n,f)}var k;if(gS)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Kl?oR(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(aR&&n.locale!=="ko"&&(Kl||E!=="onCompositionStart"?E==="onCompositionEnd"&&Kl&&(k=iR()):(jo=f,hS="value"in jo?jo.value:jo.textContent,Kl=!0)),S=Cm(u,E),0<S.length&&(E=new QC(E,e,null,n,f),d.push({event:E,listeners:S}),k?E.data=k:(k=sR(n),k!==null&&(E.data=k)))),(k=mW?gW(e,n):vW(e,n))&&(u=Cm(u,"onBeforeInput"),0<u.length&&(f=new QC("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:u}),f.data=k))}xR(d,t)})}function uf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Cm(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=nf(e,n),a!=null&&r.unshift(uf(e,a,i)),a=nf(e,t),a!=null&&r.push(uf(e,a,i))),e=e.return}return r}function Sl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cE(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,c=s.alternate,u=s.stateNode;if(c!==null&&c===r)break;s.tag===5&&u!==null&&(s=u,i?(c=nf(n,a),c!=null&&o.unshift(uf(n,c,s))):i||(c=nf(n,a),c!=null&&o.push(uf(n,c,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var TW=/\r\n?/g,OW=/\u0000|\uFFFD/g;function uE(e){return(typeof e=="string"?e:""+e).replace(TW,`
`).replace(OW,"")}function up(e,t,n){if(t=uE(t),uE(e)!==t&&n)throw Error(me(425))}function Em(){}var Yb=null,Xb=null;function Qb(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Jb=typeof setTimeout=="function"?setTimeout:void 0,IW=typeof clearTimeout=="function"?clearTimeout:void 0,dE=typeof Promise=="function"?Promise:void 0,RW=typeof queueMicrotask=="function"?queueMicrotask:typeof dE<"u"?function(e){return dE.resolve(null).then(e).catch(MW)}:Jb;function MW(e){setTimeout(function(){throw e})}function Ux(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),of(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);of(t)}function Oo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fE(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ku=Math.random().toString(36).slice(2),Vi="__reactFiber$"+ku,df="__reactProps$"+ku,$a="__reactContainer$"+ku,Zb="__reactEvents$"+ku,DW="__reactListeners$"+ku,$W="__reactHandles$"+ku;function Cs(e){var t=e[Vi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$a]||n[Vi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=fE(e);e!==null;){if(n=e[Vi])return n;e=fE(e)}return t}e=n,n=e.parentNode}return null}function _h(e){return e=e[Vi]||e[$a],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(me(33))}function kv(e){return e[df]||null}var ew=[],Ql=-1;function Yo(e){return{current:e}}function Gt(e){0>Ql||(e.current=ew[Ql],ew[Ql]=null,Ql--)}function zt(e,t){Ql++,ew[Ql]=e.current,e.current=t}var zo={},Gn=Yo(zo),wr=Yo(!1),Hs=zo;function Dc(e,t){var n=e.type.contextTypes;if(!n)return zo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function _r(e){return e=e.childContextTypes,e!=null}function Am(){Gt(wr),Gt(Gn)}function hE(e,t,n){if(Gn.current!==zo)throw Error(me(168));zt(Gn,t),zt(wr,n)}function wR(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(me(108,w8(e)||"Unknown",i));return Zt({},n,r)}function Nm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zo,Hs=Gn.current,zt(Gn,e),zt(wr,wr.current),!0}function pE(e,t,n){var r=e.stateNode;if(!r)throw Error(me(169));n?(e=wR(e,t,Hs),r.__reactInternalMemoizedMergedChildContext=e,Gt(wr),Gt(Gn),zt(Gn,e)):Gt(wr),zt(wr,n)}var _a=null,Cv=!1,zx=!1;function _R(e){_a===null?_a=[e]:_a.push(e)}function LW(e){Cv=!0,_R(e)}function Xo(){if(!zx&&_a!==null){zx=!0;var e=0,t=At;try{var n=_a;for(At=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}_a=null,Cv=!1}catch(i){throw _a!==null&&(_a=_a.slice(e+1)),KI(cS,Xo),i}finally{At=t,zx=!1}}return null}var Jl=[],Zl=0,Pm=null,Tm=0,Gr=[],Yr=0,qs=null,Ca=1,Ea="";function ms(e,t){Jl[Zl++]=Tm,Jl[Zl++]=Pm,Pm=e,Tm=t}function SR(e,t,n){Gr[Yr++]=Ca,Gr[Yr++]=Ea,Gr[Yr++]=qs,qs=e;var r=Ca;e=Ea;var i=32-Ci(r)-1;r&=~(1<<i),n+=1;var a=32-Ci(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ca=1<<32-Ci(t)+i|n<<i|r,Ea=a+e}else Ca=1<<a|n<<i|r,Ea=e}function yS(e){e.return!==null&&(ms(e,1),SR(e,1,0))}function xS(e){for(;e===Pm;)Pm=Jl[--Zl],Jl[Zl]=null,Tm=Jl[--Zl],Jl[Zl]=null;for(;e===qs;)qs=Gr[--Yr],Gr[Yr]=null,Ea=Gr[--Yr],Gr[Yr]=null,Ca=Gr[--Yr],Gr[Yr]=null}var $r=null,Mr=null,Yt=!1,_i=null;function jR(e,t){var n=Qr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function mE(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$r=e,Mr=Oo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$r=e,Mr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=qs!==null?{id:Ca,overflow:Ea}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Qr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,$r=e,Mr=null,!0):!1;default:return!1}}function tw(e){return(e.mode&1)!==0&&(e.flags&128)===0}function nw(e){if(Yt){var t=Mr;if(t){var n=t;if(!mE(e,t)){if(tw(e))throw Error(me(418));t=Oo(n.nextSibling);var r=$r;t&&mE(e,t)?jR(r,n):(e.flags=e.flags&-4097|2,Yt=!1,$r=e)}}else{if(tw(e))throw Error(me(418));e.flags=e.flags&-4097|2,Yt=!1,$r=e}}}function gE(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$r=e}function dp(e){if(e!==$r)return!1;if(!Yt)return gE(e),Yt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Qb(e.type,e.memoizedProps)),t&&(t=Mr)){if(tw(e))throw kR(),Error(me(418));for(;t;)jR(e,t),t=Oo(t.nextSibling)}if(gE(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(me(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Mr=Oo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Mr=null}}else Mr=$r?Oo(e.stateNode.nextSibling):null;return!0}function kR(){for(var e=Mr;e;)e=Oo(e.nextSibling)}function $c(){Mr=$r=null,Yt=!1}function bS(e){_i===null?_i=[e]:_i.push(e)}var FW=Ga.ReactCurrentBatchConfig;function nd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(me(309));var r=n.stateNode}if(!r)throw Error(me(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(me(284));if(!n._owner)throw Error(me(290,e))}return e}function fp(e,t){throw e=Object.prototype.toString.call(t),Error(me(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vE(e){var t=e._init;return t(e._payload)}function CR(e){function t(x,w){if(e){var b=x.deletions;b===null?(x.deletions=[w],x.flags|=16):b.push(w)}}function n(x,w){if(!e)return null;for(;w!==null;)t(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=Do(x,w),x.index=0,x.sibling=null,x}function a(x,w,b){return x.index=b,e?(b=x.alternate,b!==null?(b=b.index,b<w?(x.flags|=2,w):b):(x.flags|=2,w)):(x.flags|=1048576,w)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function s(x,w,b,j){return w===null||w.tag!==6?(w=Yx(b,x.mode,j),w.return=x,w):(w=i(w,b),w.return=x,w)}function c(x,w,b,j){var _=b.type;return _===Vl?f(x,w,b.props.children,j,b.key):w!==null&&(w.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ho&&vE(_)===w.type)?(j=i(w,b.props),j.ref=nd(x,w,b),j.return=x,j):(j=um(b.type,b.key,b.props,null,x.mode,j),j.ref=nd(x,w,b),j.return=x,j)}function u(x,w,b,j){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=Xx(b,x.mode,j),w.return=x,w):(w=i(w,b.children||[]),w.return=x,w)}function f(x,w,b,j,_){return w===null||w.tag!==7?(w=Bs(b,x.mode,j,_),w.return=x,w):(w=i(w,b),w.return=x,w)}function d(x,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Yx(""+w,x.mode,b),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case tp:return b=um(w.type,w.key,w.props,null,x.mode,b),b.ref=nd(x,null,w),b.return=x,b;case ql:return w=Xx(w,x.mode,b),w.return=x,w;case ho:var j=w._init;return d(x,j(w._payload),b)}if(Cd(w)||Qu(w))return w=Bs(w,x.mode,b,null),w.return=x,w;fp(x,w)}return null}function h(x,w,b,j){var _=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return _!==null?null:s(x,w,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case tp:return b.key===_?c(x,w,b,j):null;case ql:return b.key===_?u(x,w,b,j):null;case ho:return _=b._init,h(x,w,_(b._payload),j)}if(Cd(b)||Qu(b))return _!==null?null:f(x,w,b,j,null);fp(x,b)}return null}function p(x,w,b,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(b)||null,s(w,x,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case tp:return x=x.get(j.key===null?b:j.key)||null,c(w,x,j,_);case ql:return x=x.get(j.key===null?b:j.key)||null,u(w,x,j,_);case ho:var S=j._init;return p(x,w,b,S(j._payload),_)}if(Cd(j)||Qu(j))return x=x.get(b)||null,f(w,x,j,_,null);fp(w,j)}return null}function m(x,w,b,j){for(var _=null,S=null,k=w,E=w=0,O=null;k!==null&&E<b.length;E++){k.index>E?(O=k,k=null):O=k.sibling;var N=h(x,k,b[E],j);if(N===null){k===null&&(k=O);break}e&&k&&N.alternate===null&&t(x,k),w=a(N,w,E),S===null?_=N:S.sibling=N,S=N,k=O}if(E===b.length)return n(x,k),Yt&&ms(x,E),_;if(k===null){for(;E<b.length;E++)k=d(x,b[E],j),k!==null&&(w=a(k,w,E),S===null?_=k:S.sibling=k,S=k);return Yt&&ms(x,E),_}for(k=r(x,k);E<b.length;E++)O=p(k,x,E,b[E],j),O!==null&&(e&&O.alternate!==null&&k.delete(O.key===null?E:O.key),w=a(O,w,E),S===null?_=O:S.sibling=O,S=O);return e&&k.forEach(function(A){return t(x,A)}),Yt&&ms(x,E),_}function v(x,w,b,j){var _=Qu(b);if(typeof _!="function")throw Error(me(150));if(b=_.call(b),b==null)throw Error(me(151));for(var S=_=null,k=w,E=w=0,O=null,N=b.next();k!==null&&!N.done;E++,N=b.next()){k.index>E?(O=k,k=null):O=k.sibling;var A=h(x,k,N.value,j);if(A===null){k===null&&(k=O);break}e&&k&&A.alternate===null&&t(x,k),w=a(A,w,E),S===null?_=A:S.sibling=A,S=A,k=O}if(N.done)return n(x,k),Yt&&ms(x,E),_;if(k===null){for(;!N.done;E++,N=b.next())N=d(x,N.value,j),N!==null&&(w=a(N,w,E),S===null?_=N:S.sibling=N,S=N);return Yt&&ms(x,E),_}for(k=r(x,k);!N.done;E++,N=b.next())N=p(k,x,E,N.value,j),N!==null&&(e&&N.alternate!==null&&k.delete(N.key===null?E:N.key),w=a(N,w,E),S===null?_=N:S.sibling=N,S=N);return e&&k.forEach(function(I){return t(x,I)}),Yt&&ms(x,E),_}function y(x,w,b,j){if(typeof b=="object"&&b!==null&&b.type===Vl&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case tp:e:{for(var _=b.key,S=w;S!==null;){if(S.key===_){if(_=b.type,_===Vl){if(S.tag===7){n(x,S.sibling),w=i(S,b.props.children),w.return=x,x=w;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ho&&vE(_)===S.type){n(x,S.sibling),w=i(S,b.props),w.ref=nd(x,S,b),w.return=x,x=w;break e}n(x,S);break}else t(x,S);S=S.sibling}b.type===Vl?(w=Bs(b.props.children,x.mode,j,b.key),w.return=x,x=w):(j=um(b.type,b.key,b.props,null,x.mode,j),j.ref=nd(x,w,b),j.return=x,x=j)}return o(x);case ql:e:{for(S=b.key;w!==null;){if(w.key===S)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){n(x,w.sibling),w=i(w,b.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else t(x,w);w=w.sibling}w=Xx(b,x.mode,j),w.return=x,x=w}return o(x);case ho:return S=b._init,y(x,w,S(b._payload),j)}if(Cd(b))return m(x,w,b,j);if(Qu(b))return v(x,w,b,j);fp(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(n(x,w.sibling),w=i(w,b),w.return=x,x=w):(n(x,w),w=Yx(b,x.mode,j),w.return=x,x=w),o(x)):n(x,w)}return y}var Lc=CR(!0),ER=CR(!1),Om=Yo(null),Im=null,ec=null,wS=null;function _S(){wS=ec=Im=null}function SS(e){var t=Om.current;Gt(Om),e._currentValue=t}function rw(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function fc(e,t){Im=e,wS=ec=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(mr=!0),e.firstContext=null)}function ni(e){var t=e._currentValue;if(wS!==e)if(e={context:e,memoizedValue:t,next:null},ec===null){if(Im===null)throw Error(me(308));ec=e,Im.dependencies={lanes:0,firstContext:e}}else ec=ec.next=e;return t}var Es=null;function jS(e){Es===null?Es=[e]:Es.push(e)}function AR(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,jS(t)):(n.next=i.next,i.next=n),t.interleaved=n,La(e,r)}function La(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var po=!1;function kS(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NR(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Io(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ft&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,La(e,n)}return i=r.interleaved,i===null?(t.next=t,jS(r)):(t.next=i.next,i.next=t),r.interleaved=t,La(e,n)}function im(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,uS(e,n)}}function yE(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Rm(e,t,n,r){var i=e.updateQueue;po=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var f=e.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==o&&(s===null?f.firstBaseUpdate=u:s.next=u,f.lastBaseUpdate=c))}if(a!==null){var d=i.baseState;o=0,f=u=c=null,s=a;do{var h=s.lane,p=s.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,v=s;switch(h=t,p=n,v.tag){case 1:if(m=v.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=Zt({},d,h);break e;case 2:po=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(u=f=p,c=d):f=f.next=p,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(f===null&&(c=d),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Ks|=o,e.lanes=o,e.memoizedState=d}}function xE(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(me(191,i));i.call(r)}}}var Sh={},ta=Yo(Sh),ff=Yo(Sh),hf=Yo(Sh);function As(e){if(e===Sh)throw Error(me(174));return e}function CS(e,t){switch(zt(hf,t),zt(ff,e),zt(ta,Sh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$b(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$b(t,e)}Gt(ta),zt(ta,t)}function Fc(){Gt(ta),Gt(ff),Gt(hf)}function PR(e){As(hf.current);var t=As(ta.current),n=$b(t,e.type);t!==n&&(zt(ff,e),zt(ta,n))}function ES(e){ff.current===e&&(Gt(ta),Gt(ff))}var Qt=Yo(0);function Mm(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wx=[];function AS(){for(var e=0;e<Wx.length;e++)Wx[e]._workInProgressVersionPrimary=null;Wx.length=0}var am=Ga.ReactCurrentDispatcher,Hx=Ga.ReactCurrentBatchConfig,Vs=0,Jt=null,_n=null,Nn=null,Dm=!1,Fd=!1,pf=0,BW=0;function Un(){throw Error(me(321))}function NS(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Pi(e[n],t[n]))return!1;return!0}function PS(e,t,n,r,i,a){if(Vs=a,Jt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,am.current=e===null||e.memoizedState===null?HW:qW,e=n(r,i),Fd){a=0;do{if(Fd=!1,pf=0,25<=a)throw Error(me(301));a+=1,Nn=_n=null,t.updateQueue=null,am.current=VW,e=n(r,i)}while(Fd)}if(am.current=$m,t=_n!==null&&_n.next!==null,Vs=0,Nn=_n=Jt=null,Dm=!1,t)throw Error(me(300));return e}function TS(){var e=pf!==0;return pf=0,e}function Bi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?Jt.memoizedState=Nn=e:Nn=Nn.next=e,Nn}function ri(){if(_n===null){var e=Jt.alternate;e=e!==null?e.memoizedState:null}else e=_n.next;var t=Nn===null?Jt.memoizedState:Nn.next;if(t!==null)Nn=t,_n=e;else{if(e===null)throw Error(me(310));_n=e,e={memoizedState:_n.memoizedState,baseState:_n.baseState,baseQueue:_n.baseQueue,queue:_n.queue,next:null},Nn===null?Jt.memoizedState=Nn=e:Nn=Nn.next=e}return Nn}function mf(e,t){return typeof t=="function"?t(e):t}function qx(e){var t=ri(),n=t.queue;if(n===null)throw Error(me(311));n.lastRenderedReducer=e;var r=_n,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var s=o=null,c=null,u=a;do{var f=u.lane;if((Vs&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(s=c=d,o=r):c=c.next=d,Jt.lanes|=f,Ks|=f}u=u.next}while(u!==null&&u!==a);c===null?o=r:c.next=s,Pi(r,t.memoizedState)||(mr=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,Jt.lanes|=a,Ks|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Vx(e){var t=ri(),n=t.queue;if(n===null)throw Error(me(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Pi(a,t.memoizedState)||(mr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function TR(){}function OR(e,t){var n=Jt,r=ri(),i=t(),a=!Pi(r.memoizedState,i);if(a&&(r.memoizedState=i,mr=!0),r=r.queue,OS(MR.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Nn!==null&&Nn.memoizedState.tag&1){if(n.flags|=2048,gf(9,RR.bind(null,n,r,i,t),void 0,null),Tn===null)throw Error(me(349));Vs&30||IR(n,t,i)}return i}function IR(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Jt.updateQueue,t===null?(t={lastEffect:null,stores:null},Jt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function RR(e,t,n,r){t.value=n,t.getSnapshot=r,DR(t)&&$R(e)}function MR(e,t,n){return n(function(){DR(t)&&$R(e)})}function DR(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Pi(e,n)}catch{return!0}}function $R(e){var t=La(e,1);t!==null&&Ei(t,e,1,-1)}function bE(e){var t=Bi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mf,lastRenderedState:e},t.queue=e,e=e.dispatch=WW.bind(null,Jt,e),[t.memoizedState,e]}function gf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Jt.updateQueue,t===null?(t={lastEffect:null,stores:null},Jt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function LR(){return ri().memoizedState}function om(e,t,n,r){var i=Bi();Jt.flags|=e,i.memoizedState=gf(1|t,n,void 0,r===void 0?null:r)}function Ev(e,t,n,r){var i=ri();r=r===void 0?null:r;var a=void 0;if(_n!==null){var o=_n.memoizedState;if(a=o.destroy,r!==null&&NS(r,o.deps)){i.memoizedState=gf(t,n,a,r);return}}Jt.flags|=e,i.memoizedState=gf(1|t,n,a,r)}function wE(e,t){return om(8390656,8,e,t)}function OS(e,t){return Ev(2048,8,e,t)}function FR(e,t){return Ev(4,2,e,t)}function BR(e,t){return Ev(4,4,e,t)}function UR(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zR(e,t,n){return n=n!=null?n.concat([e]):null,Ev(4,4,UR.bind(null,t,e),n)}function IS(){}function WR(e,t){var n=ri();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&NS(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function HR(e,t){var n=ri();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&NS(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qR(e,t,n){return Vs&21?(Pi(n,t)||(n=XI(),Jt.lanes|=n,Ks|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,mr=!0),e.memoizedState=n)}function UW(e,t){var n=At;At=n!==0&&4>n?n:4,e(!0);var r=Hx.transition;Hx.transition={};try{e(!1),t()}finally{At=n,Hx.transition=r}}function VR(){return ri().memoizedState}function zW(e,t,n){var r=Mo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},KR(e))GR(t,n);else if(n=AR(e,t,n,r),n!==null){var i=ir();Ei(n,e,r,i),YR(n,t,r)}}function WW(e,t,n){var r=Mo(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(KR(e))GR(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Pi(s,o)){var c=t.interleaved;c===null?(i.next=i,jS(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=AR(e,t,i,r),n!==null&&(i=ir(),Ei(n,e,r,i),YR(n,t,r))}}function KR(e){var t=e.alternate;return e===Jt||t!==null&&t===Jt}function GR(e,t){Fd=Dm=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function YR(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,uS(e,n)}}var $m={readContext:ni,useCallback:Un,useContext:Un,useEffect:Un,useImperativeHandle:Un,useInsertionEffect:Un,useLayoutEffect:Un,useMemo:Un,useReducer:Un,useRef:Un,useState:Un,useDebugValue:Un,useDeferredValue:Un,useTransition:Un,useMutableSource:Un,useSyncExternalStore:Un,useId:Un,unstable_isNewReconciler:!1},HW={readContext:ni,useCallback:function(e,t){return Bi().memoizedState=[e,t===void 0?null:t],e},useContext:ni,useEffect:wE,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,om(4194308,4,UR.bind(null,t,e),n)},useLayoutEffect:function(e,t){return om(4194308,4,e,t)},useInsertionEffect:function(e,t){return om(4,2,e,t)},useMemo:function(e,t){var n=Bi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Bi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=zW.bind(null,Jt,e),[r.memoizedState,e]},useRef:function(e){var t=Bi();return e={current:e},t.memoizedState=e},useState:bE,useDebugValue:IS,useDeferredValue:function(e){return Bi().memoizedState=e},useTransition:function(){var e=bE(!1),t=e[0];return e=UW.bind(null,e[1]),Bi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Jt,i=Bi();if(Yt){if(n===void 0)throw Error(me(407));n=n()}else{if(n=t(),Tn===null)throw Error(me(349));Vs&30||IR(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,wE(MR.bind(null,r,a,e),[e]),r.flags|=2048,gf(9,RR.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Bi(),t=Tn.identifierPrefix;if(Yt){var n=Ea,r=Ca;n=(r&~(1<<32-Ci(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=pf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=BW++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},qW={readContext:ni,useCallback:WR,useContext:ni,useEffect:OS,useImperativeHandle:zR,useInsertionEffect:FR,useLayoutEffect:BR,useMemo:HR,useReducer:qx,useRef:LR,useState:function(){return qx(mf)},useDebugValue:IS,useDeferredValue:function(e){var t=ri();return qR(t,_n.memoizedState,e)},useTransition:function(){var e=qx(mf)[0],t=ri().memoizedState;return[e,t]},useMutableSource:TR,useSyncExternalStore:OR,useId:VR,unstable_isNewReconciler:!1},VW={readContext:ni,useCallback:WR,useContext:ni,useEffect:OS,useImperativeHandle:zR,useInsertionEffect:FR,useLayoutEffect:BR,useMemo:HR,useReducer:Vx,useRef:LR,useState:function(){return Vx(mf)},useDebugValue:IS,useDeferredValue:function(e){var t=ri();return _n===null?t.memoizedState=e:qR(t,_n.memoizedState,e)},useTransition:function(){var e=Vx(mf)[0],t=ri().memoizedState;return[e,t]},useMutableSource:TR,useSyncExternalStore:OR,useId:VR,unstable_isNewReconciler:!1};function mi(e,t){if(e&&e.defaultProps){t=Zt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function iw(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Zt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Av={isMounted:function(e){return(e=e._reactInternals)?cl(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ir(),i=Mo(e),a=Ia(r,i);a.payload=t,n!=null&&(a.callback=n),t=Io(e,a,i),t!==null&&(Ei(t,e,i,r),im(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ir(),i=Mo(e),a=Ia(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Io(e,a,i),t!==null&&(Ei(t,e,i,r),im(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ir(),r=Mo(e),i=Ia(n,r);i.tag=2,t!=null&&(i.callback=t),t=Io(e,i,r),t!==null&&(Ei(t,e,r,n),im(t,e,r))}};function _E(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!lf(n,r)||!lf(i,a):!0}function XR(e,t,n){var r=!1,i=zo,a=t.contextType;return typeof a=="object"&&a!==null?a=ni(a):(i=_r(t)?Hs:Gn.current,r=t.contextTypes,a=(r=r!=null)?Dc(e,i):zo),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Av,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function SE(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Av.enqueueReplaceState(t,t.state,null)}function aw(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},kS(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=ni(a):(a=_r(t)?Hs:Gn.current,i.context=Dc(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(iw(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Av.enqueueReplaceState(i,i.state,null),Rm(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Bc(e,t){try{var n="",r=t;do n+=b8(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Kx(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ow(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var KW=typeof WeakMap=="function"?WeakMap:Map;function QR(e,t,n){n=Ia(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Fm||(Fm=!0,gw=r),ow(e,t)},n}function JR(e,t,n){n=Ia(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ow(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){ow(e,t),typeof r!="function"&&(Ro===null?Ro=new Set([this]):Ro.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function jE(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new KW;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=s9.bind(null,e,t,n),t.then(e,e))}function kE(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function CE(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ia(-1,1),t.tag=2,Io(n,t,1))),n.lanes|=1),e)}var GW=Ga.ReactCurrentOwner,mr=!1;function Jn(e,t,n,r){t.child=e===null?ER(t,null,n,r):Lc(t,e.child,n,r)}function EE(e,t,n,r,i){n=n.render;var a=t.ref;return fc(t,i),r=PS(e,t,n,r,a,i),n=TS(),e!==null&&!mr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Fa(e,t,i)):(Yt&&n&&yS(t),t.flags|=1,Jn(e,t,r,i),t.child)}function AE(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!US(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,ZR(e,t,a,r,i)):(e=um(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:lf,n(o,r)&&e.ref===t.ref)return Fa(e,t,i)}return t.flags|=1,e=Do(a,r),e.ref=t.ref,e.return=t,t.child=e}function ZR(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(lf(a,r)&&e.ref===t.ref)if(mr=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(mr=!0);else return t.lanes=e.lanes,Fa(e,t,i)}return sw(e,t,n,r,i)}function eM(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},zt(nc,Pr),Pr|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,zt(nc,Pr),Pr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,zt(nc,Pr),Pr|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,zt(nc,Pr),Pr|=r;return Jn(e,t,i,n),t.child}function tM(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function sw(e,t,n,r,i){var a=_r(n)?Hs:Gn.current;return a=Dc(t,a),fc(t,i),n=PS(e,t,n,r,a,i),r=TS(),e!==null&&!mr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Fa(e,t,i)):(Yt&&r&&yS(t),t.flags|=1,Jn(e,t,n,i),t.child)}function NE(e,t,n,r,i){if(_r(n)){var a=!0;Nm(t)}else a=!1;if(fc(t,i),t.stateNode===null)sm(e,t),XR(t,n,r),aw(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ni(u):(u=_r(n)?Hs:Gn.current,u=Dc(t,u));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||c!==u)&&SE(t,o,r,u),po=!1;var h=t.memoizedState;o.state=h,Rm(t,r,o,i),c=t.memoizedState,s!==r||h!==c||wr.current||po?(typeof f=="function"&&(iw(t,n,f,r),c=t.memoizedState),(s=po||_E(t,n,s,r,h,c,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,NR(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:mi(t.type,s),o.props=u,d=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=ni(c):(c=_r(n)?Hs:Gn.current,c=Dc(t,c));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==d||h!==c)&&SE(t,o,r,c),po=!1,h=t.memoizedState,o.state=h,Rm(t,r,o,i);var m=t.memoizedState;s!==d||h!==m||wr.current||po?(typeof p=="function"&&(iw(t,n,p,r),m=t.memoizedState),(u=po||_E(t,n,u,r,h,m,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return lw(e,t,n,r,a,i)}function lw(e,t,n,r,i,a){tM(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&pE(t,n,!1),Fa(e,t,a);r=t.stateNode,GW.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Lc(t,e.child,null,a),t.child=Lc(t,null,s,a)):Jn(e,t,s,a),t.memoizedState=r.state,i&&pE(t,n,!0),t.child}function nM(e){var t=e.stateNode;t.pendingContext?hE(e,t.pendingContext,t.pendingContext!==t.context):t.context&&hE(e,t.context,!1),CS(e,t.containerInfo)}function PE(e,t,n,r,i){return $c(),bS(i),t.flags|=256,Jn(e,t,n,r),t.child}var cw={dehydrated:null,treeContext:null,retryLane:0};function uw(e){return{baseLanes:e,cachePool:null,transitions:null}}function rM(e,t,n){var r=t.pendingProps,i=Qt.current,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),zt(Qt,i&1),e===null)return nw(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Tv(o,r,0,null),e=Bs(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=uw(n),t.memoizedState=cw,e):RS(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return YW(e,t,o,r,s,i,n);if(a){a=r.fallback,o=t.mode,i=e.child,s=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Do(i,c),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=Do(s,a):(a=Bs(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?uw(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=cw,r}return a=e.child,e=a.sibling,r=Do(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function RS(e,t){return t=Tv({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function hp(e,t,n,r){return r!==null&&bS(r),Lc(t,e.child,null,n),e=RS(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function YW(e,t,n,r,i,a,o){if(n)return t.flags&256?(t.flags&=-257,r=Kx(Error(me(422))),hp(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Tv({mode:"visible",children:r.children},i,0,null),a=Bs(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Lc(t,e.child,null,o),t.child.memoizedState=uw(o),t.memoizedState=cw,a);if(!(t.mode&1))return hp(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(me(419)),r=Kx(a,r,void 0),hp(e,t,o,r)}if(s=(o&e.childLanes)!==0,mr||s){if(r=Tn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,La(e,i),Ei(r,e,i,-1))}return BS(),r=Kx(Error(me(421))),hp(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=l9.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Mr=Oo(i.nextSibling),$r=t,Yt=!0,_i=null,e!==null&&(Gr[Yr++]=Ca,Gr[Yr++]=Ea,Gr[Yr++]=qs,Ca=e.id,Ea=e.overflow,qs=t),t=RS(t,r.children),t.flags|=4096,t)}function TE(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),rw(e.return,t,n)}function Gx(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function iM(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Jn(e,t,r.children,n),r=Qt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&TE(e,n,t);else if(e.tag===19)TE(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(zt(Qt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Mm(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Gx(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Mm(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Gx(t,!0,n,null,a);break;case"together":Gx(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function sm(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Fa(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ks|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(me(153));if(t.child!==null){for(e=t.child,n=Do(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Do(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function XW(e,t,n){switch(t.tag){case 3:nM(t),$c();break;case 5:PR(t);break;case 1:_r(t.type)&&Nm(t);break;case 4:CS(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;zt(Om,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(zt(Qt,Qt.current&1),t.flags|=128,null):n&t.child.childLanes?rM(e,t,n):(zt(Qt,Qt.current&1),e=Fa(e,t,n),e!==null?e.sibling:null);zt(Qt,Qt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return iM(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),zt(Qt,Qt.current),r)break;return null;case 22:case 23:return t.lanes=0,eM(e,t,n)}return Fa(e,t,n)}var aM,dw,oM,sM;aM=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};dw=function(){};oM=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,As(ta.current);var a=null;switch(n){case"input":i=Ib(e,i),r=Ib(e,r),a=[];break;case"select":i=Zt({},i,{value:void 0}),r=Zt({},r,{value:void 0}),a=[];break;case"textarea":i=Db(e,i),r=Db(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Em)}Lb(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ef.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==s&&(c!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&s[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,s=s?s.__html:void 0,c!=null&&s!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ef.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&qt("scroll",e),a||s===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};sM=function(e,t,n,r){n!==r&&(t.flags|=4)};function rd(e,t){if(!Yt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function zn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function QW(e,t,n){var r=t.pendingProps;switch(xS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zn(t),null;case 1:return _r(t.type)&&Am(),zn(t),null;case 3:return r=t.stateNode,Fc(),Gt(wr),Gt(Gn),AS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(dp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_i!==null&&(xw(_i),_i=null))),dw(e,t),zn(t),null;case 5:ES(t);var i=As(hf.current);if(n=t.type,e!==null&&t.stateNode!=null)oM(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(me(166));return zn(t),null}if(e=As(ta.current),dp(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Vi]=t,r[df]=a,e=(t.mode&1)!==0,n){case"dialog":qt("cancel",r),qt("close",r);break;case"iframe":case"object":case"embed":qt("load",r);break;case"video":case"audio":for(i=0;i<Ad.length;i++)qt(Ad[i],r);break;case"source":qt("error",r);break;case"img":case"image":case"link":qt("error",r),qt("load",r);break;case"details":qt("toggle",r);break;case"input":BC(r,a),qt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},qt("invalid",r);break;case"textarea":zC(r,a),qt("invalid",r)}Lb(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&up(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&up(r.textContent,s,e),i=["children",""+s]):ef.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&qt("scroll",r)}switch(n){case"input":np(r),UC(r,a,!0);break;case"textarea":np(r),WC(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Em)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=MI(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Vi]=t,e[df]=r,aM(e,t,!1,!1),t.stateNode=e;e:{switch(o=Fb(n,r),n){case"dialog":qt("cancel",e),qt("close",e),i=r;break;case"iframe":case"object":case"embed":qt("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ad.length;i++)qt(Ad[i],e);i=r;break;case"source":qt("error",e),i=r;break;case"img":case"image":case"link":qt("error",e),qt("load",e),i=r;break;case"details":qt("toggle",e),i=r;break;case"input":BC(e,r),i=Ib(e,r),qt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Zt({},r,{value:void 0}),qt("invalid",e);break;case"textarea":zC(e,r),i=Db(e,r),qt("invalid",e);break;default:i=r}Lb(n,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var c=s[a];a==="style"?LI(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&DI(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&tf(e,c):typeof c=="number"&&tf(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ef.hasOwnProperty(a)?c!=null&&a==="onScroll"&&qt("scroll",e):c!=null&&iS(e,a,c,o))}switch(n){case"input":np(e),UC(e,r,!1);break;case"textarea":np(e),WC(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Uo(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?lc(e,!!r.multiple,a,!1):r.defaultValue!=null&&lc(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Em)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return zn(t),null;case 6:if(e&&t.stateNode!=null)sM(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(me(166));if(n=As(hf.current),As(ta.current),dp(t)){if(r=t.stateNode,n=t.memoizedProps,r[Vi]=t,(a=r.nodeValue!==n)&&(e=$r,e!==null))switch(e.tag){case 3:up(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&up(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Vi]=t,t.stateNode=r}return zn(t),null;case 13:if(Gt(Qt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Yt&&Mr!==null&&t.mode&1&&!(t.flags&128))kR(),$c(),t.flags|=98560,a=!1;else if(a=dp(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(me(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(me(317));a[Vi]=t}else $c(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;zn(t),a=!1}else _i!==null&&(xw(_i),_i=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Qt.current&1?Sn===0&&(Sn=3):BS())),t.updateQueue!==null&&(t.flags|=4),zn(t),null);case 4:return Fc(),dw(e,t),e===null&&cf(t.stateNode.containerInfo),zn(t),null;case 10:return SS(t.type._context),zn(t),null;case 17:return _r(t.type)&&Am(),zn(t),null;case 19:if(Gt(Qt),a=t.memoizedState,a===null)return zn(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)rd(a,!1);else{if(Sn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Mm(e),o!==null){for(t.flags|=128,rd(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return zt(Qt,Qt.current&1|2),t.child}e=e.sibling}a.tail!==null&&cn()>Uc&&(t.flags|=128,r=!0,rd(a,!1),t.lanes=4194304)}else{if(!r)if(e=Mm(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),rd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Yt)return zn(t),null}else 2*cn()-a.renderingStartTime>Uc&&n!==1073741824&&(t.flags|=128,r=!0,rd(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=cn(),t.sibling=null,n=Qt.current,zt(Qt,r?n&1|2:n&1),t):(zn(t),null);case 22:case 23:return FS(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Pr&1073741824&&(zn(t),t.subtreeFlags&6&&(t.flags|=8192)):zn(t),null;case 24:return null;case 25:return null}throw Error(me(156,t.tag))}function JW(e,t){switch(xS(t),t.tag){case 1:return _r(t.type)&&Am(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fc(),Gt(wr),Gt(Gn),AS(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ES(t),null;case 13:if(Gt(Qt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(me(340));$c()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Gt(Qt),null;case 4:return Fc(),null;case 10:return SS(t.type._context),null;case 22:case 23:return FS(),null;case 24:return null;default:return null}}var pp=!1,qn=!1,ZW=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function tc(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){nn(e,t,r)}else n.current=null}function fw(e,t,n){try{n()}catch(r){nn(e,t,r)}}var OE=!1;function e9(e,t){if(Yb=jm,e=fR(),vS(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,c=-1,u=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(s=o+i),d!==a||r!==0&&d.nodeType!==3||(c=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++u===i&&(s=o),h===a&&++f===r&&(c=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=s===-1||c===-1?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xb={focusedElem:e,selectionRange:n},jm=!1,Oe=t;Oe!==null;)if(t=Oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Oe=e;else for(;Oe!==null;){t=Oe;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,y=m.memoizedState,x=t.stateNode,w=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:mi(t.type,v),y);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(me(163))}}catch(j){nn(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Oe=e;break}Oe=t.return}return m=OE,OE=!1,m}function Bd(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&fw(t,n,a)}i=i.next}while(i!==r)}}function Nv(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function hw(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function lM(e){var t=e.alternate;t!==null&&(e.alternate=null,lM(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Vi],delete t[df],delete t[Zb],delete t[DW],delete t[$W])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function cM(e){return e.tag===5||e.tag===3||e.tag===4}function IE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cM(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pw(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Em));else if(r!==4&&(e=e.child,e!==null))for(pw(e,t,n),e=e.sibling;e!==null;)pw(e,t,n),e=e.sibling}function mw(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(mw(e,t,n),e=e.sibling;e!==null;)mw(e,t,n),e=e.sibling}var Rn=null,xi=!1;function no(e,t,n){for(n=n.child;n!==null;)uM(e,t,n),n=n.sibling}function uM(e,t,n){if(ea&&typeof ea.onCommitFiberUnmount=="function")try{ea.onCommitFiberUnmount(wv,n)}catch{}switch(n.tag){case 5:qn||tc(n,t);case 6:var r=Rn,i=xi;Rn=null,no(e,t,n),Rn=r,xi=i,Rn!==null&&(xi?(e=Rn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Rn.removeChild(n.stateNode));break;case 18:Rn!==null&&(xi?(e=Rn,n=n.stateNode,e.nodeType===8?Ux(e.parentNode,n):e.nodeType===1&&Ux(e,n),of(e)):Ux(Rn,n.stateNode));break;case 4:r=Rn,i=xi,Rn=n.stateNode.containerInfo,xi=!0,no(e,t,n),Rn=r,xi=i;break;case 0:case 11:case 14:case 15:if(!qn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&fw(n,t,o),i=i.next}while(i!==r)}no(e,t,n);break;case 1:if(!qn&&(tc(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){nn(n,t,s)}no(e,t,n);break;case 21:no(e,t,n);break;case 22:n.mode&1?(qn=(r=qn)||n.memoizedState!==null,no(e,t,n),qn=r):no(e,t,n);break;default:no(e,t,n)}}function RE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ZW),t.forEach(function(r){var i=c9.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ci(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:Rn=s.stateNode,xi=!1;break e;case 3:Rn=s.stateNode.containerInfo,xi=!0;break e;case 4:Rn=s.stateNode.containerInfo,xi=!0;break e}s=s.return}if(Rn===null)throw Error(me(160));uM(a,o,i),Rn=null,xi=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){nn(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)dM(t,e),t=t.sibling}function dM(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ci(t,e),Li(e),r&4){try{Bd(3,e,e.return),Nv(3,e)}catch(v){nn(e,e.return,v)}try{Bd(5,e,e.return)}catch(v){nn(e,e.return,v)}}break;case 1:ci(t,e),Li(e),r&512&&n!==null&&tc(n,n.return);break;case 5:if(ci(t,e),Li(e),r&512&&n!==null&&tc(n,n.return),e.flags&32){var i=e.stateNode;try{tf(i,"")}catch(v){nn(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,s=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&II(i,a),Fb(s,o);var u=Fb(s,a);for(o=0;o<c.length;o+=2){var f=c[o],d=c[o+1];f==="style"?LI(i,d):f==="dangerouslySetInnerHTML"?DI(i,d):f==="children"?tf(i,d):iS(i,f,d,u)}switch(s){case"input":Rb(i,a);break;case"textarea":RI(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?lc(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?lc(i,!!a.multiple,a.defaultValue,!0):lc(i,!!a.multiple,a.multiple?[]:"",!1))}i[df]=a}catch(v){nn(e,e.return,v)}}break;case 6:if(ci(t,e),Li(e),r&4){if(e.stateNode===null)throw Error(me(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){nn(e,e.return,v)}}break;case 3:if(ci(t,e),Li(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{of(t.containerInfo)}catch(v){nn(e,e.return,v)}break;case 4:ci(t,e),Li(e);break;case 13:ci(t,e),Li(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||($S=cn())),r&4&&RE(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(qn=(u=qn)||f,ci(t,e),qn=u):ci(t,e),Li(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(Oe=e,f=e.child;f!==null;){for(d=Oe=f;Oe!==null;){switch(h=Oe,p=h.child,h.tag){case 0:case 11:case 14:case 15:Bd(4,h,h.return);break;case 1:tc(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){nn(r,n,v)}}break;case 5:tc(h,h.return);break;case 22:if(h.memoizedState!==null){DE(d);continue}}p!==null?(p.return=h,Oe=p):DE(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{i=d.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,s.style.display=$I("display",o))}catch(v){nn(e,e.return,v)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){nn(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ci(t,e),Li(e),r&4&&RE(e);break;case 21:break;default:ci(t,e),Li(e)}}function Li(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(cM(n)){var r=n;break e}n=n.return}throw Error(me(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(tf(i,""),r.flags&=-33);var a=IE(e);mw(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=IE(e);pw(e,s,o);break;default:throw Error(me(161))}}catch(c){nn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function t9(e,t,n){Oe=e,fM(e)}function fM(e,t,n){for(var r=(e.mode&1)!==0;Oe!==null;){var i=Oe,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||pp;if(!o){var s=i.alternate,c=s!==null&&s.memoizedState!==null||qn;s=pp;var u=qn;if(pp=o,(qn=c)&&!u)for(Oe=i;Oe!==null;)o=Oe,c=o.child,o.tag===22&&o.memoizedState!==null?$E(i):c!==null?(c.return=o,Oe=c):$E(i);for(;a!==null;)Oe=a,fM(a),a=a.sibling;Oe=i,pp=s,qn=u}ME(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Oe=a):ME(e)}}function ME(e){for(;Oe!==null;){var t=Oe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:qn||Nv(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!qn)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:mi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&xE(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}xE(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&of(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(me(163))}qn||t.flags&512&&hw(t)}catch(h){nn(t,t.return,h)}}if(t===e){Oe=null;break}if(n=t.sibling,n!==null){n.return=t.return,Oe=n;break}Oe=t.return}}function DE(e){for(;Oe!==null;){var t=Oe;if(t===e){Oe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Oe=n;break}Oe=t.return}}function $E(e){for(;Oe!==null;){var t=Oe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Nv(4,t)}catch(c){nn(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){nn(t,i,c)}}var a=t.return;try{hw(t)}catch(c){nn(t,a,c)}break;case 5:var o=t.return;try{hw(t)}catch(c){nn(t,o,c)}}}catch(c){nn(t,t.return,c)}if(t===e){Oe=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Oe=s;break}Oe=t.return}}var n9=Math.ceil,Lm=Ga.ReactCurrentDispatcher,MS=Ga.ReactCurrentOwner,Zr=Ga.ReactCurrentBatchConfig,ft=0,Tn=null,fn=null,$n=0,Pr=0,nc=Yo(0),Sn=0,vf=null,Ks=0,Pv=0,DS=0,Ud=null,hr=null,$S=0,Uc=1/0,ba=null,Fm=!1,gw=null,Ro=null,mp=!1,ko=null,Bm=0,zd=0,vw=null,lm=-1,cm=0;function ir(){return ft&6?cn():lm!==-1?lm:lm=cn()}function Mo(e){return e.mode&1?ft&2&&$n!==0?$n&-$n:FW.transition!==null?(cm===0&&(cm=XI()),cm):(e=At,e!==0||(e=window.event,e=e===void 0?16:rR(e.type)),e):1}function Ei(e,t,n,r){if(50<zd)throw zd=0,vw=null,Error(me(185));bh(e,n,r),(!(ft&2)||e!==Tn)&&(e===Tn&&(!(ft&2)&&(Pv|=n),Sn===4&&vo(e,$n)),Sr(e,r),n===1&&ft===0&&!(t.mode&1)&&(Uc=cn()+500,Cv&&Xo()))}function Sr(e,t){var n=e.callbackNode;F8(e,t);var r=Sm(e,e===Tn?$n:0);if(r===0)n!==null&&VC(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&VC(n),t===1)e.tag===0?LW(LE.bind(null,e)):_R(LE.bind(null,e)),RW(function(){!(ft&6)&&Xo()}),n=null;else{switch(QI(r)){case 1:n=cS;break;case 4:n=GI;break;case 16:n=_m;break;case 536870912:n=YI;break;default:n=_m}n=bM(n,hM.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function hM(e,t){if(lm=-1,cm=0,ft&6)throw Error(me(327));var n=e.callbackNode;if(hc()&&e.callbackNode!==n)return null;var r=Sm(e,e===Tn?$n:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Um(e,r);else{t=r;var i=ft;ft|=2;var a=mM();(Tn!==e||$n!==t)&&(ba=null,Uc=cn()+500,Fs(e,t));do try{a9();break}catch(s){pM(e,s)}while(!0);_S(),Lm.current=a,ft=i,fn!==null?t=0:(Tn=null,$n=0,t=Sn)}if(t!==0){if(t===2&&(i=Hb(e),i!==0&&(r=i,t=yw(e,i))),t===1)throw n=vf,Fs(e,0),vo(e,r),Sr(e,cn()),n;if(t===6)vo(e,r);else{if(i=e.current.alternate,!(r&30)&&!r9(i)&&(t=Um(e,r),t===2&&(a=Hb(e),a!==0&&(r=a,t=yw(e,a))),t===1))throw n=vf,Fs(e,0),vo(e,r),Sr(e,cn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(me(345));case 2:gs(e,hr,ba);break;case 3:if(vo(e,r),(r&130023424)===r&&(t=$S+500-cn(),10<t)){if(Sm(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ir(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Jb(gs.bind(null,e,hr,ba),t);break}gs(e,hr,ba);break;case 4:if(vo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Ci(r);a=1<<o,o=t[o],o>i&&(i=o),r&=~a}if(r=i,r=cn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*n9(r/1960))-r,10<r){e.timeoutHandle=Jb(gs.bind(null,e,hr,ba),r);break}gs(e,hr,ba);break;case 5:gs(e,hr,ba);break;default:throw Error(me(329))}}}return Sr(e,cn()),e.callbackNode===n?hM.bind(null,e):null}function yw(e,t){var n=Ud;return e.current.memoizedState.isDehydrated&&(Fs(e,t).flags|=256),e=Um(e,t),e!==2&&(t=hr,hr=n,t!==null&&xw(t)),e}function xw(e){hr===null?hr=e:hr.push.apply(hr,e)}function r9(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Pi(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vo(e,t){for(t&=~DS,t&=~Pv,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ci(t),r=1<<n;e[n]=-1,t&=~r}}function LE(e){if(ft&6)throw Error(me(327));hc();var t=Sm(e,0);if(!(t&1))return Sr(e,cn()),null;var n=Um(e,t);if(e.tag!==0&&n===2){var r=Hb(e);r!==0&&(t=r,n=yw(e,r))}if(n===1)throw n=vf,Fs(e,0),vo(e,t),Sr(e,cn()),n;if(n===6)throw Error(me(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gs(e,hr,ba),Sr(e,cn()),null}function LS(e,t){var n=ft;ft|=1;try{return e(t)}finally{ft=n,ft===0&&(Uc=cn()+500,Cv&&Xo())}}function Gs(e){ko!==null&&ko.tag===0&&!(ft&6)&&hc();var t=ft;ft|=1;var n=Zr.transition,r=At;try{if(Zr.transition=null,At=1,e)return e()}finally{At=r,Zr.transition=n,ft=t,!(ft&6)&&Xo()}}function FS(){Pr=nc.current,Gt(nc)}function Fs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,IW(n)),fn!==null)for(n=fn.return;n!==null;){var r=n;switch(xS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Am();break;case 3:Fc(),Gt(wr),Gt(Gn),AS();break;case 5:ES(r);break;case 4:Fc();break;case 13:Gt(Qt);break;case 19:Gt(Qt);break;case 10:SS(r.type._context);break;case 22:case 23:FS()}n=n.return}if(Tn=e,fn=e=Do(e.current,null),$n=Pr=t,Sn=0,vf=null,DS=Pv=Ks=0,hr=Ud=null,Es!==null){for(t=0;t<Es.length;t++)if(n=Es[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}Es=null}return e}function pM(e,t){do{var n=fn;try{if(_S(),am.current=$m,Dm){for(var r=Jt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Dm=!1}if(Vs=0,Nn=_n=Jt=null,Fd=!1,pf=0,MS.current=null,n===null||n.return===null){Sn=1,vf=t,fn=null;break}e:{var a=e,o=n.return,s=n,c=t;if(t=$n,s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=s,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=kE(o);if(p!==null){p.flags&=-257,CE(p,o,s,a,t),p.mode&1&&jE(a,u,t),t=p,c=u;var m=t.updateQueue;if(m===null){var v=new Set;v.add(c),t.updateQueue=v}else m.add(c);break e}else{if(!(t&1)){jE(a,u,t),BS();break e}c=Error(me(426))}}else if(Yt&&s.mode&1){var y=kE(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),CE(y,o,s,a,t),bS(Bc(c,s));break e}}a=c=Bc(c,s),Sn!==4&&(Sn=2),Ud===null?Ud=[a]:Ud.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=QR(a,c,t);yE(a,x);break e;case 1:s=c;var w=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ro===null||!Ro.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=JR(a,s,t);yE(a,j);break e}}a=a.return}while(a!==null)}vM(n)}catch(_){t=_,fn===n&&n!==null&&(fn=n=n.return);continue}break}while(!0)}function mM(){var e=Lm.current;return Lm.current=$m,e===null?$m:e}function BS(){(Sn===0||Sn===3||Sn===2)&&(Sn=4),Tn===null||!(Ks&268435455)&&!(Pv&268435455)||vo(Tn,$n)}function Um(e,t){var n=ft;ft|=2;var r=mM();(Tn!==e||$n!==t)&&(ba=null,Fs(e,t));do try{i9();break}catch(i){pM(e,i)}while(!0);if(_S(),ft=n,Lm.current=r,fn!==null)throw Error(me(261));return Tn=null,$n=0,Sn}function i9(){for(;fn!==null;)gM(fn)}function a9(){for(;fn!==null&&!P8();)gM(fn)}function gM(e){var t=xM(e.alternate,e,Pr);e.memoizedProps=e.pendingProps,t===null?vM(e):fn=t,MS.current=null}function vM(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=JW(n,t),n!==null){n.flags&=32767,fn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Sn=6,fn=null;return}}else if(n=QW(n,t,Pr),n!==null){fn=n;return}if(t=t.sibling,t!==null){fn=t;return}fn=t=e}while(t!==null);Sn===0&&(Sn=5)}function gs(e,t,n){var r=At,i=Zr.transition;try{Zr.transition=null,At=1,o9(e,t,n,r)}finally{Zr.transition=i,At=r}return null}function o9(e,t,n,r){do hc();while(ko!==null);if(ft&6)throw Error(me(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(me(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(B8(e,a),e===Tn&&(fn=Tn=null,$n=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||mp||(mp=!0,bM(_m,function(){return hc(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Zr.transition,Zr.transition=null;var o=At;At=1;var s=ft;ft|=4,MS.current=null,e9(e,n),dM(n,e),CW(Xb),jm=!!Yb,Xb=Yb=null,e.current=n,t9(n),T8(),ft=s,At=o,Zr.transition=a}else e.current=n;if(mp&&(mp=!1,ko=e,Bm=i),a=e.pendingLanes,a===0&&(Ro=null),R8(n.stateNode),Sr(e,cn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Fm)throw Fm=!1,e=gw,gw=null,e;return Bm&1&&e.tag!==0&&hc(),a=e.pendingLanes,a&1?e===vw?zd++:(zd=0,vw=e):zd=0,Xo(),null}function hc(){if(ko!==null){var e=QI(Bm),t=Zr.transition,n=At;try{if(Zr.transition=null,At=16>e?16:e,ko===null)var r=!1;else{if(e=ko,ko=null,Bm=0,ft&6)throw Error(me(331));var i=ft;for(ft|=4,Oe=e.current;Oe!==null;){var a=Oe,o=a.child;if(Oe.flags&16){var s=a.deletions;if(s!==null){for(var c=0;c<s.length;c++){var u=s[c];for(Oe=u;Oe!==null;){var f=Oe;switch(f.tag){case 0:case 11:case 15:Bd(8,f,a)}var d=f.child;if(d!==null)d.return=f,Oe=d;else for(;Oe!==null;){f=Oe;var h=f.sibling,p=f.return;if(lM(f),f===u){Oe=null;break}if(h!==null){h.return=p,Oe=h;break}Oe=p}}}var m=a.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}Oe=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Oe=o;else e:for(;Oe!==null;){if(a=Oe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Bd(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,Oe=x;break e}Oe=a.return}}var w=e.current;for(Oe=w;Oe!==null;){o=Oe;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Oe=b;else e:for(o=w;Oe!==null;){if(s=Oe,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Nv(9,s)}}catch(_){nn(s,s.return,_)}if(s===o){Oe=null;break e}var j=s.sibling;if(j!==null){j.return=s.return,Oe=j;break e}Oe=s.return}}if(ft=i,Xo(),ea&&typeof ea.onPostCommitFiberRoot=="function")try{ea.onPostCommitFiberRoot(wv,e)}catch{}r=!0}return r}finally{At=n,Zr.transition=t}}return!1}function FE(e,t,n){t=Bc(n,t),t=QR(e,t,1),e=Io(e,t,1),t=ir(),e!==null&&(bh(e,1,t),Sr(e,t))}function nn(e,t,n){if(e.tag===3)FE(e,e,n);else for(;t!==null;){if(t.tag===3){FE(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ro===null||!Ro.has(r))){e=Bc(n,e),e=JR(t,e,1),t=Io(t,e,1),e=ir(),t!==null&&(bh(t,1,e),Sr(t,e));break}}t=t.return}}function s9(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ir(),e.pingedLanes|=e.suspendedLanes&n,Tn===e&&($n&n)===n&&(Sn===4||Sn===3&&($n&130023424)===$n&&500>cn()-$S?Fs(e,0):DS|=n),Sr(e,t)}function yM(e,t){t===0&&(e.mode&1?(t=ap,ap<<=1,!(ap&130023424)&&(ap=4194304)):t=1);var n=ir();e=La(e,t),e!==null&&(bh(e,t,n),Sr(e,n))}function l9(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),yM(e,n)}function c9(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(me(314))}r!==null&&r.delete(t),yM(e,n)}var xM;xM=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||wr.current)mr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return mr=!1,XW(e,t,n);mr=!!(e.flags&131072)}else mr=!1,Yt&&t.flags&1048576&&SR(t,Tm,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;sm(e,t),e=t.pendingProps;var i=Dc(t,Gn.current);fc(t,n),i=PS(null,t,r,e,i,n);var a=TS();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_r(r)?(a=!0,Nm(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,kS(t),i.updater=Av,t.stateNode=i,i._reactInternals=t,aw(t,r,e,n),t=lw(null,t,r,!0,a,n)):(t.tag=0,Yt&&a&&yS(t),Jn(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(sm(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=d9(r),e=mi(r,e),i){case 0:t=sw(null,t,r,e,n);break e;case 1:t=NE(null,t,r,e,n);break e;case 11:t=EE(null,t,r,e,n);break e;case 14:t=AE(null,t,r,mi(r.type,e),n);break e}throw Error(me(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mi(r,i),sw(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mi(r,i),NE(e,t,r,i,n);case 3:e:{if(nM(t),e===null)throw Error(me(387));r=t.pendingProps,a=t.memoizedState,i=a.element,NR(e,t),Rm(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Bc(Error(me(423)),t),t=PE(e,t,r,n,i);break e}else if(r!==i){i=Bc(Error(me(424)),t),t=PE(e,t,r,n,i);break e}else for(Mr=Oo(t.stateNode.containerInfo.firstChild),$r=t,Yt=!0,_i=null,n=ER(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($c(),r===i){t=Fa(e,t,n);break e}Jn(e,t,r,n)}t=t.child}return t;case 5:return PR(t),e===null&&nw(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,Qb(r,i)?o=null:a!==null&&Qb(r,a)&&(t.flags|=32),tM(e,t),Jn(e,t,o,n),t.child;case 6:return e===null&&nw(t),null;case 13:return rM(e,t,n);case 4:return CS(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Lc(t,null,r,n):Jn(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mi(r,i),EE(e,t,r,i,n);case 7:return Jn(e,t,t.pendingProps,n),t.child;case 8:return Jn(e,t,t.pendingProps.children,n),t.child;case 12:return Jn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,zt(Om,r._currentValue),r._currentValue=o,a!==null)if(Pi(a.value,o)){if(a.children===i.children&&!wr.current){t=Fa(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var c=s.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=Ia(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),rw(a.return,n,t),s.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(me(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),rw(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Jn(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,fc(t,n),i=ni(i),r=r(i),t.flags|=1,Jn(e,t,r,n),t.child;case 14:return r=t.type,i=mi(r,t.pendingProps),i=mi(r.type,i),AE(e,t,r,i,n);case 15:return ZR(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mi(r,i),sm(e,t),t.tag=1,_r(r)?(e=!0,Nm(t)):e=!1,fc(t,n),XR(t,r,i),aw(t,r,i,n),lw(null,t,r,!0,e,n);case 19:return iM(e,t,n);case 22:return eM(e,t,n)}throw Error(me(156,t.tag))};function bM(e,t){return KI(e,t)}function u9(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qr(e,t,n,r){return new u9(e,t,n,r)}function US(e){return e=e.prototype,!(!e||!e.isReactComponent)}function d9(e){if(typeof e=="function")return US(e)?1:0;if(e!=null){if(e=e.$$typeof,e===oS)return 11;if(e===sS)return 14}return 2}function Do(e,t){var n=e.alternate;return n===null?(n=Qr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function um(e,t,n,r,i,a){var o=2;if(r=e,typeof e=="function")US(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Vl:return Bs(n.children,i,a,t);case aS:o=8,i|=8;break;case Nb:return e=Qr(12,n,t,i|2),e.elementType=Nb,e.lanes=a,e;case Pb:return e=Qr(13,n,t,i),e.elementType=Pb,e.lanes=a,e;case Tb:return e=Qr(19,n,t,i),e.elementType=Tb,e.lanes=a,e;case PI:return Tv(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case AI:o=10;break e;case NI:o=9;break e;case oS:o=11;break e;case sS:o=14;break e;case ho:o=16,r=null;break e}throw Error(me(130,e==null?e:typeof e,""))}return t=Qr(o,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Bs(e,t,n,r){return e=Qr(7,e,r,t),e.lanes=n,e}function Tv(e,t,n,r){return e=Qr(22,e,r,t),e.elementType=PI,e.lanes=n,e.stateNode={isHidden:!1},e}function Yx(e,t,n){return e=Qr(6,e,null,t),e.lanes=n,e}function Xx(e,t,n){return t=Qr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function f9(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Px(0),this.expirationTimes=Px(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Px(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zS(e,t,n,r,i,a,o,s,c){return e=new f9(e,t,n,s,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Qr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},kS(a),e}function h9(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ql,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function wM(e){if(!e)return zo;e=e._reactInternals;e:{if(cl(e)!==e||e.tag!==1)throw Error(me(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_r(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(me(171))}if(e.tag===1){var n=e.type;if(_r(n))return wR(e,n,t)}return t}function _M(e,t,n,r,i,a,o,s,c){return e=zS(n,r,!0,e,i,a,o,s,c),e.context=wM(null),n=e.current,r=ir(),i=Mo(n),a=Ia(r,i),a.callback=t??null,Io(n,a,i),e.current.lanes=i,bh(e,i,r),Sr(e,r),e}function Ov(e,t,n,r){var i=t.current,a=ir(),o=Mo(i);return n=wM(n),t.context===null?t.context=n:t.pendingContext=n,t=Ia(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Io(i,t,o),e!==null&&(Ei(e,i,o,a),im(e,i,o)),o}function zm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function BE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function WS(e,t){BE(e,t),(e=e.alternate)&&BE(e,t)}function p9(){return null}var SM=typeof reportError=="function"?reportError:function(e){console.error(e)};function HS(e){this._internalRoot=e}Iv.prototype.render=HS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(me(409));Ov(e,t,null,null)};Iv.prototype.unmount=HS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gs(function(){Ov(null,e,null,null)}),t[$a]=null}};function Iv(e){this._internalRoot=e}Iv.prototype.unstable_scheduleHydration=function(e){if(e){var t=eR();e={blockedOn:null,target:e,priority:t};for(var n=0;n<go.length&&t!==0&&t<go[n].priority;n++);go.splice(n,0,e),n===0&&nR(e)}};function qS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Rv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function UE(){}function m9(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=zm(o);a.call(u)}}var o=_M(t,r,e,0,null,!1,!1,"",UE);return e._reactRootContainer=o,e[$a]=o.current,cf(e.nodeType===8?e.parentNode:e),Gs(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=zm(c);s.call(u)}}var c=zS(e,0,!1,null,null,!1,!1,"",UE);return e._reactRootContainer=c,e[$a]=c.current,cf(e.nodeType===8?e.parentNode:e),Gs(function(){Ov(t,c,n,r)}),c}function Mv(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var c=zm(o);s.call(c)}}Ov(t,o,e,i)}else o=m9(n,t,e,i,r);return zm(o)}JI=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ed(t.pendingLanes);n!==0&&(uS(t,n|1),Sr(t,cn()),!(ft&6)&&(Uc=cn()+500,Xo()))}break;case 13:Gs(function(){var r=La(e,1);if(r!==null){var i=ir();Ei(r,e,1,i)}}),WS(e,1)}};dS=function(e){if(e.tag===13){var t=La(e,134217728);if(t!==null){var n=ir();Ei(t,e,134217728,n)}WS(e,134217728)}};ZI=function(e){if(e.tag===13){var t=Mo(e),n=La(e,t);if(n!==null){var r=ir();Ei(n,e,t,r)}WS(e,t)}};eR=function(){return At};tR=function(e,t){var n=At;try{return At=e,t()}finally{At=n}};Ub=function(e,t,n){switch(t){case"input":if(Rb(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=kv(r);if(!i)throw Error(me(90));OI(r),Rb(r,i)}}}break;case"textarea":RI(e,n);break;case"select":t=n.value,t!=null&&lc(e,!!n.multiple,t,!1)}};UI=LS;zI=Gs;var g9={usingClientEntryPoint:!1,Events:[_h,Xl,kv,FI,BI,LS]},id={findFiberByHostInstance:Cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},v9={bundleType:id.bundleType,version:id.version,rendererPackageName:id.rendererPackageName,rendererConfig:id.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ga.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qI(e),e===null?null:e.stateNode},findFiberByHostInstance:id.findFiberByHostInstance||p9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gp.isDisabled&&gp.supportsFiber)try{wv=gp.inject(v9),ea=gp}catch{}}zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g9;zr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qS(t))throw Error(me(200));return h9(e,t,null,n)};zr.createRoot=function(e,t){if(!qS(e))throw Error(me(299));var n=!1,r="",i=SM;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=zS(e,1,!1,null,null,n,!1,r,i),e[$a]=t.current,cf(e.nodeType===8?e.parentNode:e),new HS(t)};zr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(me(188)):(e=Object.keys(e).join(","),Error(me(268,e)));return e=qI(t),e=e===null?null:e.stateNode,e};zr.flushSync=function(e){return Gs(e)};zr.hydrate=function(e,t,n){if(!Rv(t))throw Error(me(200));return Mv(null,e,t,!0,n)};zr.hydrateRoot=function(e,t,n){if(!qS(e))throw Error(me(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=SM;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=_M(t,null,e,1,n??null,i,!1,a,o),e[$a]=t.current,cf(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Iv(t)};zr.render=function(e,t,n){if(!Rv(t))throw Error(me(200));return Mv(null,e,t,!1,n)};zr.unmountComponentAtNode=function(e){if(!Rv(e))throw Error(me(40));return e._reactRootContainer?(Gs(function(){Mv(null,null,e,!1,function(){e._reactRootContainer=null,e[$a]=null})}),!0):!1};zr.unstable_batchedUpdates=LS;zr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Rv(n))throw Error(me(200));if(e==null||e._reactInternals===void 0)throw Error(me(38));return Mv(e,t,n,!1,r)};zr.version="18.3.1-next-f1338f8080-20240426";function jM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jM)}catch(e){console.error(e)}}jM(),jI.exports=zr;var ul=jI.exports;const kM=Nt(ul);var CM,zE=ul;CM=zE.createRoot,zE.hydrateRoot;const y9=1,x9=1e6;let Qx=0;function b9(){return Qx=(Qx+1)%Number.MAX_SAFE_INTEGER,Qx.toString()}const Jx=new Map,WE=e=>{if(Jx.has(e))return;const t=setTimeout(()=>{Jx.delete(e),Wd({type:"REMOVE_TOAST",toastId:e})},x9);Jx.set(e,t)},w9=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,y9)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?WE(n):e.toasts.forEach(r=>{WE(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},dm=[];let fm={toasts:[]};function Wd(e){fm=w9(fm,e),dm.forEach(t=>{t(fm)})}function _9({...e}){const t=b9(),n=i=>Wd({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>Wd({type:"DISMISS_TOAST",toastId:t});return Wd({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function dl(){const[e,t]=g.useState(fm);return g.useEffect(()=>(dm.push(t),()=>{const n=dm.indexOf(t);n>-1&&dm.splice(n,1)}),[e]),{...e,toast:_9,dismiss:n=>Wd({type:"DISMISS_TOAST",toastId:n})}}function ve(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function HE(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ba(...e){return t=>{let n=!1;const r=e.map(i=>{const a=HE(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():HE(e[i],null)}}}}function We(...e){return g.useCallback(Ba(...e),e)}function S9(e,t){const n=g.createContext(t),r=a=>{const{children:o,...s}=a,c=g.useMemo(()=>s,Object.values(s));return l.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function i(a){const o=g.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,i]}function Fn(e,t=[]){let n=[];function r(a,o){const s=g.createContext(o),c=n.length;n=[...n,o];const u=d=>{var x;const{scope:h,children:p,...m}=d,v=((x=h==null?void 0:h[e])==null?void 0:x[c])||s,y=g.useMemo(()=>m,Object.values(m));return l.jsx(v.Provider,{value:y,children:p})};u.displayName=a+"Provider";function f(d,h){var v;const p=((v=h==null?void 0:h[e])==null?void 0:v[c])||s,m=g.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${a}\``)}return[u,f]}const i=()=>{const a=n.map(o=>g.createContext(o));return function(s){const c=(s==null?void 0:s[e])||a;return g.useMemo(()=>({[`__scope${e}`]:{...s,[e]:c}}),[s,c])}};return i.scopeName=e,[r,j9(i,...t)]}function j9(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((s,{useScope:c,scopeName:u})=>{const d=c(a)[`__scope${u}`];return{...s,...d}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Wo(e){const t=C9(e),n=g.forwardRef((r,i)=>{const{children:a,...o}=r,s=g.Children.toArray(a),c=s.find(E9);if(c){const u=c.props.children,f=s.map(d=>d===c?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:d);return l.jsx(t,{...o,ref:i,children:g.isValidElement(u)?g.cloneElement(u,void 0,f):null})}return l.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}var k9=Wo("Slot");function C9(e){const t=g.forwardRef((n,r)=>{const{children:i,...a}=n;if(g.isValidElement(i)){const o=N9(i),s=A9(a,i.props);return i.type!==g.Fragment&&(s.ref=r?Ba(r,o):o),g.cloneElement(i,s)}return g.Children.count(i)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var EM=Symbol("radix.slottable");function AM(e){const t=({children:n})=>l.jsx(l.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=EM,t}function E9(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===EM}function A9(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...s)=>{const c=a(...s);return i(...s),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function N9(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Dv(e){const t=e+"CollectionProvider",[n,r]=Fn(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:y,children:x}=v,w=H.useRef(null),b=H.useRef(new Map).current;return l.jsx(i,{scope:y,itemMap:b,collectionRef:w,children:x})};o.displayName=t;const s=e+"CollectionSlot",c=Wo(s),u=H.forwardRef((v,y)=>{const{scope:x,children:w}=v,b=a(s,x),j=We(y,b.collectionRef);return l.jsx(c,{ref:j,children:w})});u.displayName=s;const f=e+"CollectionItemSlot",d="data-radix-collection-item",h=Wo(f),p=H.forwardRef((v,y)=>{const{scope:x,children:w,...b}=v,j=H.useRef(null),_=We(y,j),S=a(f,x);return H.useEffect(()=>(S.itemMap.set(j,{ref:j,...b}),()=>void S.itemMap.delete(j))),l.jsx(h,{[d]:"",ref:_,children:w})});p.displayName=f;function m(v){const y=a(e+"CollectionConsumer",v);return H.useCallback(()=>{const w=y.collectionRef.current;if(!w)return[];const b=Array.from(w.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((S,k)=>b.indexOf(S.ref.current)-b.indexOf(k.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},m,r]}var P9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ae=P9.reduce((e,t)=>{const n=Wo(`Primitive.${t}`),r=g.forwardRef((i,a)=>{const{asChild:o,...s}=i,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...s,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function VS(e,t){e&&ul.flushSync(()=>e.dispatchEvent(t))}function an(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function T9(e,t=globalThis==null?void 0:globalThis.document){const n=an(e);g.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var O9="DismissableLayer",bw="dismissableLayer.update",I9="dismissableLayer.pointerDownOutside",R9="dismissableLayer.focusOutside",qE,NM=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fl=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...c}=e,u=g.useContext(NM),[f,d]=g.useState(null),h=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=g.useState({}),m=We(t,k=>d(k)),v=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(y),w=f?v.indexOf(f):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,j=w>=x,_=D9(k=>{const E=k.target,O=[...u.branches].some(N=>N.contains(E));!j||O||(i==null||i(k),o==null||o(k),k.defaultPrevented||s==null||s())},h),S=$9(k=>{const E=k.target;[...u.branches].some(N=>N.contains(E))||(a==null||a(k),o==null||o(k),k.defaultPrevented||s==null||s())},h);return T9(k=>{w===u.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&s&&(k.preventDefault(),s()))},h),g.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(qE=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),VE(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=qE)}},[f,h,n,u]),g.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),VE())},[f,u]),g.useEffect(()=>{const k=()=>p({});return document.addEventListener(bw,k),()=>document.removeEventListener(bw,k)},[]),l.jsx(Ae.div,{...c,ref:m,style:{pointerEvents:b?j?"auto":"none":void 0,...e.style},onFocusCapture:ve(e.onFocusCapture,S.onFocusCapture),onBlurCapture:ve(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:ve(e.onPointerDownCapture,_.onPointerDownCapture)})});fl.displayName=O9;var M9="DismissableLayerBranch",PM=g.forwardRef((e,t)=>{const n=g.useContext(NM),r=g.useRef(null),i=We(t,r);return g.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),l.jsx(Ae.div,{...e,ref:i})});PM.displayName=M9;function D9(e,t=globalThis==null?void 0:globalThis.document){const n=an(e),r=g.useRef(!1),i=g.useRef(()=>{});return g.useEffect(()=>{const a=s=>{if(s.target&&!r.current){let c=function(){TM(I9,n,u,{discrete:!0})};const u={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function $9(e,t=globalThis==null?void 0:globalThis.document){const n=an(e),r=g.useRef(!1);return g.useEffect(()=>{const i=a=>{a.target&&!r.current&&TM(R9,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function VE(){const e=new CustomEvent(bw);document.dispatchEvent(e)}function TM(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?VS(i,a):i.dispatchEvent(a)}var L9=fl,F9=PM,on=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},B9="Portal",Cu=g.forwardRef((e,t)=>{var s;const{container:n,...r}=e,[i,a]=g.useState(!1);on(()=>a(!0),[]);const o=n||i&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return o?kM.createPortal(l.jsx(Ae.div,{...r,ref:t}),o):null});Cu.displayName=B9;function U9(e,t){return g.useReducer((n,r)=>t[n][r]??n,e)}var Cn=e=>{const{present:t,children:n}=e,r=z9(t),i=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),a=We(r.ref,W9(i));return typeof n=="function"||r.isPresent?g.cloneElement(i,{ref:a}):null};Cn.displayName="Presence";function z9(e){const[t,n]=g.useState(),r=g.useRef(null),i=g.useRef(e),a=g.useRef("none"),o=e?"mounted":"unmounted",[s,c]=U9(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=vp(r.current);a.current=s==="mounted"?u:"none"},[s]),on(()=>{const u=r.current,f=i.current;if(f!==e){const h=a.current,p=vp(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),on(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,d=p=>{const v=vp(r.current).includes(p.animationName);if(p.target===t&&v&&(c("ANIMATION_END"),!i.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=p=>{p.target===t&&(a.current=vp(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:g.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function vp(e){return(e==null?void 0:e.animationName)||"none"}function W9(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var H9=tS[" useInsertionEffect ".trim().toString()]||on;function ii({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,o]=q9({defaultProp:t,onChange:n}),s=e!==void 0,c=s?e:i;{const f=g.useRef(e!==void 0);g.useEffect(()=>{const d=f.current;d!==s&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=s},[s,r])}const u=g.useCallback(f=>{var d;if(s){const h=V9(f)?f(e):f;h!==e&&((d=o.current)==null||d.call(o,h))}else a(f)},[s,e,a,o]);return[c,u]}function q9({defaultProp:e,onChange:t}){const[n,r]=g.useState(e),i=g.useRef(n),a=g.useRef(t);return H9(()=>{a.current=t},[t]),g.useEffect(()=>{var o;i.current!==n&&((o=a.current)==null||o.call(a,n),i.current=n)},[n,i]),[n,r,a]}function V9(e){return typeof e=="function"}var OM=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),K9="VisuallyHidden",$v=g.forwardRef((e,t)=>l.jsx(Ae.span,{...e,ref:t,style:{...OM,...e.style}}));$v.displayName=K9;var G9=$v,KS="ToastProvider",[GS,Y9,X9]=Dv("Toast"),[IM,xDe]=Fn("Toast",[X9]),[Q9,Lv]=IM(KS),RM=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[s,c]=g.useState(null),[u,f]=g.useState(0),d=g.useRef(!1),h=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${KS}\`. Expected non-empty \`string\`.`),l.jsx(GS.Provider,{scope:t,children:l.jsx(Q9,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:u,viewport:s,onViewportChange:c,onToastAdd:g.useCallback(()=>f(p=>p+1),[]),onToastRemove:g.useCallback(()=>f(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:o})})};RM.displayName=KS;var MM="ToastViewport",J9=["F8"],ww="toast.viewportPause",_w="toast.viewportResume",DM=g.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=J9,label:i="Notifications ({hotkey})",...a}=e,o=Lv(MM,n),s=Y9(n),c=g.useRef(null),u=g.useRef(null),f=g.useRef(null),d=g.useRef(null),h=We(t,d,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=o.toastCount>0;g.useEffect(()=>{const y=x=>{var b;r.length!==0&&r.every(j=>x[j]||x.code===j)&&((b=d.current)==null||b.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),g.useEffect(()=>{const y=c.current,x=d.current;if(m&&y&&x){const w=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(ww);x.dispatchEvent(S),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(_w);x.dispatchEvent(S),o.isClosePausedRef.current=!1}},j=S=>{!y.contains(S.relatedTarget)&&b()},_=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",w),y.addEventListener("focusout",j),y.addEventListener("pointermove",w),y.addEventListener("pointerleave",_),window.addEventListener("blur",w),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",w),y.removeEventListener("focusout",j),y.removeEventListener("pointermove",w),y.removeEventListener("pointerleave",_),window.removeEventListener("blur",w),window.removeEventListener("focus",b)}}},[m,o.isClosePausedRef]);const v=g.useCallback(({tabbingDirection:y})=>{const w=s().map(b=>{const j=b.ref.current,_=[j,...dH(j)];return y==="forwards"?_:_.reverse()});return(y==="forwards"?w.reverse():w).flat()},[s]);return g.useEffect(()=>{const y=d.current;if(y){const x=w=>{var _,S,k;const b=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!b){const E=document.activeElement,O=w.shiftKey;if(w.target===y&&O){(_=u.current)==null||_.focus();return}const I=v({tabbingDirection:O?"backwards":"forwards"}),M=I.findIndex(L=>L===E);Zx(I.slice(M+1))?w.preventDefault():O?(S=u.current)==null||S.focus():(k=f.current)==null||k.focus()}};return y.addEventListener("keydown",x),()=>y.removeEventListener("keydown",x)}},[s,v]),l.jsxs(F9,{ref:c,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&l.jsx(Sw,{ref:u,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"forwards"});Zx(y)}}),l.jsx(GS.Slot,{scope:n,children:l.jsx(Ae.ol,{tabIndex:-1,...a,ref:h})}),m&&l.jsx(Sw,{ref:f,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"backwards"});Zx(y)}})]})});DM.displayName=MM;var $M="ToastFocusProxy",Sw=g.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,a=Lv($M,n);return l.jsx($v,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const s=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(s))&&r()}})});Sw.displayName=$M;var jh="Toast",Z9="toast.swipeStart",eH="toast.swipeMove",tH="toast.swipeCancel",nH="toast.swipeEnd",LM=g.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...o}=e,[s,c]=ii({prop:r,defaultProp:i??!0,onChange:a,caller:jh});return l.jsx(Cn,{present:n||s,children:l.jsx(aH,{open:s,...o,ref:t,onClose:()=>c(!1),onPause:an(e.onPause),onResume:an(e.onResume),onSwipeStart:ve(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ve(e.onSwipeMove,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:ve(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ve(e.onSwipeEnd,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),c(!1)})})})});LM.displayName=jh;var[rH,iH]=IM(jh,{onClose(){}}),aH=g.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:s,onPause:c,onResume:u,onSwipeStart:f,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:p,...m}=e,v=Lv(jh,n),[y,x]=g.useState(null),w=We(t,L=>x(L)),b=g.useRef(null),j=g.useRef(null),_=i||v.duration,S=g.useRef(0),k=g.useRef(_),E=g.useRef(0),{onToastAdd:O,onToastRemove:N}=v,A=an(()=>{var z;(y==null?void 0:y.contains(document.activeElement))&&((z=v.viewport)==null||z.focus()),o()}),I=g.useCallback(L=>{!L||L===1/0||(window.clearTimeout(E.current),S.current=new Date().getTime(),E.current=window.setTimeout(A,L))},[A]);g.useEffect(()=>{const L=v.viewport;if(L){const z=()=>{I(k.current),u==null||u()},F=()=>{const B=new Date().getTime()-S.current;k.current=k.current-B,window.clearTimeout(E.current),c==null||c()};return L.addEventListener(ww,F),L.addEventListener(_w,z),()=>{L.removeEventListener(ww,F),L.removeEventListener(_w,z)}}},[v.viewport,_,c,u,I]),g.useEffect(()=>{a&&!v.isClosePausedRef.current&&I(_)},[a,_,v.isClosePausedRef,I]),g.useEffect(()=>(O(),()=>N()),[O,N]);const M=g.useMemo(()=>y?qM(y):null,[y]);return v.viewport?l.jsxs(l.Fragment,{children:[M&&l.jsx(oH,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:M}),l.jsx(rH,{scope:n,onClose:A,children:ul.createPortal(l.jsx(GS.ItemSlot,{scope:n,children:l.jsx(L9,{asChild:!0,onEscapeKeyDown:ve(s,()=>{v.isFocusedToastEscapeKeyDownRef.current||A(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(Ae.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":v.swipeDirection,...m,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ve(e.onKeyDown,L=>{L.key==="Escape"&&(s==null||s(L.nativeEvent),L.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:ve(e.onPointerDown,L=>{L.button===0&&(b.current={x:L.clientX,y:L.clientY})}),onPointerMove:ve(e.onPointerMove,L=>{if(!b.current)return;const z=L.clientX-b.current.x,F=L.clientY-b.current.y,B=!!j.current,D=["left","right"].includes(v.swipeDirection),$=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,P=D?$(0,z):0,R=D?0:$(0,F),T=L.pointerType==="touch"?10:2,C={x:P,y:R},U={originalEvent:L,delta:C};B?(j.current=C,yp(eH,d,U,{discrete:!1})):KE(C,v.swipeDirection,T)?(j.current=C,yp(Z9,f,U,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(z)>T||Math.abs(F)>T)&&(b.current=null)}),onPointerUp:ve(e.onPointerUp,L=>{const z=j.current,F=L.target;if(F.hasPointerCapture(L.pointerId)&&F.releasePointerCapture(L.pointerId),j.current=null,b.current=null,z){const B=L.currentTarget,D={originalEvent:L,delta:z};KE(z,v.swipeDirection,v.swipeThreshold)?yp(nH,p,D,{discrete:!0}):yp(tH,h,D,{discrete:!0}),B.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),oH=e=>{const{__scopeToast:t,children:n,...r}=e,i=Lv(jh,t),[a,o]=g.useState(!1),[s,c]=g.useState(!1);return cH(()=>o(!0)),g.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),s?null:l.jsx(Cu,{asChild:!0,children:l.jsx($v,{...r,children:a&&l.jsxs(l.Fragment,{children:[i.label," ",n]})})})},sH="ToastTitle",FM=g.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(Ae.div,{...r,ref:t})});FM.displayName=sH;var lH="ToastDescription",BM=g.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(Ae.div,{...r,ref:t})});BM.displayName=lH;var UM="ToastAction",zM=g.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?l.jsx(HM,{altText:n,asChild:!0,children:l.jsx(YS,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${UM}\`. Expected non-empty \`string\`.`),null)});zM.displayName=UM;var WM="ToastClose",YS=g.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=iH(WM,n);return l.jsx(HM,{asChild:!0,children:l.jsx(Ae.button,{type:"button",...r,ref:t,onClick:ve(e.onClick,i.onClose)})})});YS.displayName=WM;var HM=g.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return l.jsx(Ae.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function qM(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),uH(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...qM(r))}}),t}function yp(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?VS(i,a):i.dispatchEvent(a)}var KE=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),a=r>i;return t==="left"||t==="right"?a&&r>n:!a&&i>n};function cH(e=()=>{}){const t=an(e);on(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function uH(e){return e.nodeType===e.ELEMENT_NODE}function dH(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Zx(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var fH=RM,VM=DM,KM=LM,GM=FM,YM=BM,XM=zM,QM=YS;function JM(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=JM(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function pt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=JM(e))&&(r&&(r+=" "),r+=t);return r}const GE=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,YE=pt,kh=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return YE(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(u=>{const f=n==null?void 0:n[u],d=a==null?void 0:a[u];if(f===null)return null;const h=GE(f)||GE(d);return i[u][h]}),s=n&&Object.entries(n).reduce((u,f)=>{let[d,h]=f;return h===void 0||(u[d]=h),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,f)=>{let{class:d,className:h,...p}=f;return Object.entries(p).every(m=>{let[v,y]=m;return Array.isArray(y)?y.includes({...a,...s}[v]):{...a,...s}[v]===y})?[...u,d,h]:u},[]);return YE(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ZM=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...s},c)=>g.createElement("svg",{ref:c,...pH,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:ZM("lucide",i),...s},[...o.map(([u,f])=>g.createElement(u,f)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(e,t)=>{const n=g.forwardRef(({className:r,...i},a)=>g.createElement(mH,{ref:a,iconNode:t,className:ZM(`lucide-${hH(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=De("AlignCenter",[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=De("AlignJustify",[["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M3 6h18",key:"d0wm0j"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=De("AlignLeft",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=De("AlignRight",[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=De("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=De("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=De("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=De("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=De("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=De("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=De("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=De("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=De("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=De("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=De("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=De("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=De("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=De("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=De("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=De("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=De("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=De("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=De("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=De("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=De("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=De("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=De("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=De("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=De("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=De("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=De("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=De("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=De("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=De("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=De("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=De("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=De("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=De("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=De("PlugZap",[["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z",key:"goz73y"}],["path",{d:"m2 22 3-3",key:"19mgm9"}],["path",{d:"M7.5 13.5 10 11",key:"7xgeeb"}],["path",{d:"M10.5 16.5 13 14",key:"10btkg"}],["path",{d:"m18 3-4 4h6l-4 4",key:"16psg9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=De("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=De("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=De("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=De("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=De("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=De("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=De("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=De("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=De("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=De("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=De("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=De("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=De("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=De("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=De("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=De("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=De("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ej="-",UH=e=>{const t=WH(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const s=o.split(ej);return s[0]===""&&s.length!==1&&s.shift(),lD(s,t)||zH(o)},getConflictingClassGroupIds:(o,s)=>{const c=n[o]||[];return s&&r[o]?[...c,...r[o]]:c}}},lD=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?lD(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(ej);return(o=t.validators.find(({validator:s})=>s(a)))==null?void 0:o.classGroupId},JE=/^\[(.+)\]$/,zH=e=>{if(JE.test(e)){const t=JE.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},WH=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return qH(Object.entries(e.classGroups),n).forEach(([a,o])=>{Ew(o,r,a,t)}),r},Ew=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:ZE(t,i);a.classGroupId=n;return}if(typeof i=="function"){if(HH(i)){Ew(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{Ew(o,ZE(t,a),n,r)})})},ZE=(e,t)=>{let n=e;return t.split(ej).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},HH=e=>e.isThemeGetter,qH=(e,t)=>t?e.map(([n,r])=>{const i=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,s])=>[t+o,s])):a);return[n,i]}):e,VH=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(a,o)=>{n.set(a,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}},cD="!",KH=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],a=t.length,o=s=>{const c=[];let u=0,f=0,d;for(let y=0;y<s.length;y++){let x=s[y];if(u===0){if(x===i&&(r||s.slice(y,y+a)===t)){c.push(s.slice(f,y)),f=y+a;continue}if(x==="/"){d=y;continue}}x==="["?u++:x==="]"&&u--}const h=c.length===0?s:s.substring(f),p=h.startsWith(cD),m=p?h.substring(1):h,v=d&&d>f?d-f:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:v}};return n?s=>n({className:s,parseClassName:o}):o},GH=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},YH=e=>({cache:VH(e.cacheSize),parseClassName:KH(e),...UH(e)}),XH=/\s+/,QH=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,a=[],o=e.trim().split(XH);let s="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:f,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:p}=n(u);let m=!!p,v=r(m?h.substring(0,p):h);if(!v){if(!m){s=u+(s.length>0?" "+s:s);continue}if(v=r(h),!v){s=u+(s.length>0?" "+s:s);continue}m=!1}const y=GH(f).join(":"),x=d?y+cD:y,w=x+v;if(a.includes(w))continue;a.push(w);const b=i(v,m);for(let j=0;j<b.length;++j){const _=b[j];a.push(x+_)}s=u+(s.length>0?" "+s:s)}return s};function JH(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=uD(t))&&(r&&(r+=" "),r+=n);return r}const uD=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=uD(e[r]))&&(n&&(n+=" "),n+=t);return n};function ZH(e,...t){let n,r,i,a=o;function o(c){const u=t.reduce((f,d)=>d(f),e());return n=YH(u),r=n.cache.get,i=n.cache.set,a=s,s(c)}function s(c){const u=r(c);if(u)return u;const f=QH(c,n);return i(c,f),f}return function(){return a(JH.apply(null,arguments))}}const Ht=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},dD=/^\[(?:([a-z-]+):)?(.+)\]$/i,eq=/^\d+\/\d+$/,tq=new Set(["px","full","screen"]),nq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,rq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,iq=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,aq=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,oq=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ma=e=>gc(e)||tq.has(e)||eq.test(e),ro=e=>Eu(e,"length",pq),gc=e=>!!e&&!Number.isNaN(Number(e)),n0=e=>Eu(e,"number",gc),ad=e=>!!e&&Number.isInteger(Number(e)),sq=e=>e.endsWith("%")&&gc(e.slice(0,-1)),Ke=e=>dD.test(e),io=e=>nq.test(e),lq=new Set(["length","size","percentage"]),cq=e=>Eu(e,lq,fD),uq=e=>Eu(e,"position",fD),dq=new Set(["image","url"]),fq=e=>Eu(e,dq,gq),hq=e=>Eu(e,"",mq),od=()=>!0,Eu=(e,t,n)=>{const r=dD.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},pq=e=>rq.test(e)&&!iq.test(e),fD=()=>!1,mq=e=>aq.test(e),gq=e=>oq.test(e),vq=()=>{const e=Ht("colors"),t=Ht("spacing"),n=Ht("blur"),r=Ht("brightness"),i=Ht("borderColor"),a=Ht("borderRadius"),o=Ht("borderSpacing"),s=Ht("borderWidth"),c=Ht("contrast"),u=Ht("grayscale"),f=Ht("hueRotate"),d=Ht("invert"),h=Ht("gap"),p=Ht("gradientColorStops"),m=Ht("gradientColorStopPositions"),v=Ht("inset"),y=Ht("margin"),x=Ht("opacity"),w=Ht("padding"),b=Ht("saturate"),j=Ht("scale"),_=Ht("sepia"),S=Ht("skew"),k=Ht("space"),E=Ht("translate"),O=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",Ke,t],I=()=>[Ke,t],M=()=>["",ma,ro],L=()=>["auto",gc,Ke],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",Ke],P=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>[gc,Ke];return{cacheSize:500,separator:":",theme:{colors:[od],spacing:[ma,ro],blur:["none","",io,Ke],brightness:R(),borderColor:[e],borderRadius:["none","","full",io,Ke],borderSpacing:I(),borderWidth:M(),contrast:R(),grayscale:$(),hueRotate:R(),invert:$(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[sq,ro],inset:A(),margin:A(),opacity:R(),padding:I(),saturate:R(),scale:R(),sepia:$(),skew:R(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",Ke]}],container:["container"],columns:[{columns:[io]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),Ke]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ad,Ke]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ke]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",ad,Ke]}],"grid-cols":[{"grid-cols":[od]}],"col-start-end":[{col:["auto",{span:["full",ad,Ke]},Ke]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[od]}],"row-start-end":[{row:["auto",{span:[ad,Ke]},Ke]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ke]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ke]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ke,t]}],"min-w":[{"min-w":[Ke,t,"min","max","fit"]}],"max-w":[{"max-w":[Ke,t,"none","full","min","max","fit","prose",{screen:[io]},io]}],h:[{h:[Ke,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ke,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ke,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ke,t,"auto","min","max","fit"]}],"font-size":[{text:["base",io,ro]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",n0]}],"font-family":[{font:[od]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ke]}],"line-clamp":[{"line-clamp":["none",gc,n0]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ma,Ke]}],"list-image":[{"list-image":["none",Ke]}],"list-style-type":[{list:["none","disc","decimal",Ke]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ma,ro]}],"underline-offset":[{"underline-offset":["auto",ma,Ke]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),uq]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",cq]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},fq]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:F()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[ma,Ke]}],"outline-w":[{outline:[ma,ro]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[ma,ro]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",io,hq]}],"shadow-color":[{shadow:[od]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",io,Ke]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ke]}],duration:[{duration:R()}],ease:[{ease:["linear","in","out","in-out",Ke]}],delay:[{delay:R()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ke]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[ad,Ke]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ke]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ke]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ke]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ma,ro,n0]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},yq=ZH(vq);function ge(...e){return yq(pt(e))}function xq(e,t){if(!t||t.length===0)return;const n=Object.keys(t[0]),r=[n.join(","),...t.map(s=>n.map(c=>{const u=s[c],f=u==null?"":String(u),d='"'+f.replace(/"/g,'""')+'"';return/[",\n]/.test(f)?d:f}).join(","))].join(`
`),i=new Blob([r],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),o=URL.createObjectURL(i);a.setAttribute("href",o),a.setAttribute("download",e),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)}function hD(e){if(typeof e=="string"){let t=e.replace(/([A-Z0-9._%+-]+)@([A-Z0-9.-]+)\.[A-Z]{2,}/gi,"***@***");return t=t.replace(/\b\+?\d[\d\s-]{6,}\b/g,n=>n.slice(0,Math.max(0,n.length-4)).replace(/\d/g,"*")+n.slice(-4)),t=t.replace(/(\d+\.\d+\.\d+)\.\d+/g,"$1.*"),t}if(e&&typeof e=="object"){const t=Array.isArray(e)?[]:{};for(const n of Object.keys(e))t[n]=hD(e[n]);return t}return e}const bq=fH,pD=g.forwardRef(({className:e,...t},n)=>l.jsx(VM,{ref:n,className:ge("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));pD.displayName=VM.displayName;const wq=kh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),mD=g.forwardRef(({className:e,variant:t,...n},r)=>l.jsx(KM,{ref:r,className:ge(wq({variant:t}),e),...n}));mD.displayName=KM.displayName;const _q=g.forwardRef(({className:e,...t},n)=>l.jsx(XM,{ref:n,className:ge("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));_q.displayName=XM.displayName;const gD=g.forwardRef(({className:e,...t},n)=>l.jsx(QM,{ref:n,className:ge("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(Bv,{className:"h-4 w-4"})}));gD.displayName=QM.displayName;const vD=g.forwardRef(({className:e,...t},n)=>l.jsx(GM,{ref:n,className:ge("text-sm font-semibold",e),...t}));vD.displayName=GM.displayName;const yD=g.forwardRef(({className:e,...t},n)=>l.jsx(YM,{ref:n,className:ge("text-sm opacity-90",e),...t}));yD.displayName=YM.displayName;function Sq(){const{toasts:e}=dl();return l.jsxs(bq,{children:[e.map(function({id:t,title:n,description:r,action:i,...a}){return l.jsxs(mD,{...a,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(vD,{children:n}),r&&l.jsx(yD,{children:r})]}),i,l.jsx(gD,{})]},t)}),l.jsx(pD,{})]})}var eA=["light","dark"],jq="(prefers-color-scheme: dark)",kq=g.createContext(void 0),Cq={setTheme:e=>{},themes:[]},Eq=()=>{var e;return(e=g.useContext(kq))!=null?e:Cq};g.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:a,value:o,attrs:s,nonce:c})=>{let u=a==="system",f=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${s.map(m=>`'${m}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,d=i?eA.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(m,v=!1,y=!0)=>{let x=o?o[m]:m,w=v?m+"|| ''":`'${x}'`,b="";return i&&y&&!v&&eA.includes(m)&&(b+=`d.style.colorScheme = '${m}';`),n==="class"?v||x?b+=`c.add(${w})`:b+="null":x&&(b+=`d[s](n,${w})`),b},p=e?`!function(){${f}${h(e)}}()`:r?`!function(){try{${f}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${jq}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(a,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${d}}catch(t){}}();`;return g.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var Aq=e=>{switch(e){case"success":return Tq;case"info":return Iq;case"warning":return Oq;case"error":return Rq;default:return null}},Nq=Array(12).fill(0),Pq=({visible:e,className:t})=>H.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},H.createElement("div",{className:"sonner-spinner"},Nq.map((n,r)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Tq=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Oq=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Iq=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Rq=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Mq=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Dq=()=>{let[e,t]=H.useState(document.hidden);return H.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Aw=1,$q=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Aw++,a=this.toasts.find(s=>s.id===i),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(s=>s.id===i?(this.publish({...s,...e,id:i,title:n}),{...s,...e,id:i,dismissible:o,title:n}):s):this.addToast({title:n,...r,dismissible:o,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),i=n!==void 0,a,o=r.then(async c=>{if(a=["resolve",c],H.isValidElement(c))i=!1,this.create({id:n,type:"default",message:c});else if(Fq(c)&&!c.ok){i=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,f=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:f})}else if(t.success!==void 0){i=!1;let u=typeof t.success=="function"?await t.success(c):t.success,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:f})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){i=!1;let u=typeof t.error=="function"?await t.error(c):t.error,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:f})}}).finally(()=>{var c;i&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),s=()=>new Promise((c,u)=>o.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:s}:Object.assign(n,{unwrap:s})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Aw++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},dr=new $q,Lq=(e,t)=>{let n=(t==null?void 0:t.id)||Aw++;return dr.addToast({title:e,...t,id:n}),n},Fq=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Bq=Lq,Uq=()=>dr.toasts,zq=()=>dr.getActiveToasts(),Me=Object.assign(Bq,{success:dr.success,info:dr.info,warning:dr.warning,error:dr.error,custom:dr.custom,message:dr.message,promise:dr.promise,dismiss:dr.dismiss,loading:dr.loading},{getHistory:Uq,getToasts:zq});function Wq(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}Wq(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function xp(e){return e.label!==void 0}var Hq=3,qq="32px",Vq="16px",tA=4e3,Kq=356,Gq=14,Yq=20,Xq=200;function ui(...e){return e.filter(Boolean).join(" ")}function Qq(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var Jq=e=>{var t,n,r,i,a,o,s,c,u,f,d;let{invert:h,toast:p,unstyled:m,interacting:v,setHeights:y,visibleToasts:x,heights:w,index:b,toasts:j,expanded:_,removeToast:S,defaultRichColors:k,closeButton:E,style:O,cancelButtonStyle:N,actionButtonStyle:A,className:I="",descriptionClassName:M="",duration:L,position:z,gap:F,loadingIcon:B,expandByDefault:D,classNames:$,icons:P,closeButtonAriaLabel:R="Close toast",pauseWhenPageIsHidden:T}=e,[C,U]=H.useState(null),[G,ne]=H.useState(null),[q,J]=H.useState(!1),[K,re]=H.useState(!1),[Z,Y]=H.useState(!1),[he,W]=H.useState(!1),[ee,fe]=H.useState(!1),[xe,Pe]=H.useState(0),[de,Te]=H.useState(0),Ye=H.useRef(p.duration||L||tA),Xe=H.useRef(null),Je=H.useRef(null),ot=b===0,gt=b+1<=x,V=p.type,ce=p.dismissible!==!1,X=p.className||"",pe=p.descriptionClassName||"",ke=H.useMemo(()=>w.findIndex(we=>we.toastId===p.id)||0,[w,p.id]),te=H.useMemo(()=>{var we;return(we=p.closeButton)!=null?we:E},[p.closeButton,E]),oe=H.useMemo(()=>p.duration||L||tA,[p.duration,L]),ue=H.useRef(0),Se=H.useRef(0),_e=H.useRef(0),Ne=H.useRef(null),[ct,Qe]=z.split("-"),xt=H.useMemo(()=>w.reduce((we,Ce,He)=>He>=ke?we:we+Ce.height,0),[w,ke]),Ue=Dq(),ie=p.invert||h,be=V==="loading";Se.current=H.useMemo(()=>ke*F+xt,[ke,xt]),H.useEffect(()=>{Ye.current=oe},[oe]),H.useEffect(()=>{J(!0)},[]),H.useEffect(()=>{let we=Je.current;if(we){let Ce=we.getBoundingClientRect().height;return Te(Ce),y(He=>[{toastId:p.id,height:Ce,position:p.position},...He]),()=>y(He=>He.filter(sn=>sn.toastId!==p.id))}},[y,p.id]),H.useLayoutEffect(()=>{if(!q)return;let we=Je.current,Ce=we.style.height;we.style.height="auto";let He=we.getBoundingClientRect().height;we.style.height=Ce,Te(He),y(sn=>sn.find(tt=>tt.toastId===p.id)?sn.map(tt=>tt.toastId===p.id?{...tt,height:He}:tt):[{toastId:p.id,height:He,position:p.position},...sn])},[q,p.title,p.description,y,p.id]);let je=H.useCallback(()=>{re(!0),Pe(Se.current),y(we=>we.filter(Ce=>Ce.toastId!==p.id)),setTimeout(()=>{S(p)},Xq)},[p,S,y,Se]);H.useEffect(()=>{if(p.promise&&V==="loading"||p.duration===1/0||p.type==="loading")return;let we;return _||v||T&&Ue?(()=>{if(_e.current<ue.current){let Ce=new Date().getTime()-ue.current;Ye.current=Ye.current-Ce}_e.current=new Date().getTime()})():Ye.current!==1/0&&(ue.current=new Date().getTime(),we=setTimeout(()=>{var Ce;(Ce=p.onAutoClose)==null||Ce.call(p,p),je()},Ye.current)),()=>clearTimeout(we)},[_,v,p,V,T,Ue,je]),H.useEffect(()=>{p.delete&&je()},[je,p.delete]);function ze(){var we,Ce,He;return P!=null&&P.loading?H.createElement("div",{className:ui($==null?void 0:$.loader,(we=p==null?void 0:p.classNames)==null?void 0:we.loader,"sonner-loader"),"data-visible":V==="loading"},P.loading):B?H.createElement("div",{className:ui($==null?void 0:$.loader,(Ce=p==null?void 0:p.classNames)==null?void 0:Ce.loader,"sonner-loader"),"data-visible":V==="loading"},B):H.createElement(Pq,{className:ui($==null?void 0:$.loader,(He=p==null?void 0:p.classNames)==null?void 0:He.loader),visible:V==="loading"})}return H.createElement("li",{tabIndex:0,ref:Je,className:ui(I,X,$==null?void 0:$.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,$==null?void 0:$.default,$==null?void 0:$[V],(n=p==null?void 0:p.classNames)==null?void 0:n[V]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:k,"data-styled":!(p.jsx||p.unstyled||m),"data-mounted":q,"data-promise":!!p.promise,"data-swiped":ee,"data-removed":K,"data-visible":gt,"data-y-position":ct,"data-x-position":Qe,"data-index":b,"data-front":ot,"data-swiping":Z,"data-dismissible":ce,"data-type":V,"data-invert":ie,"data-swipe-out":he,"data-swipe-direction":G,"data-expanded":!!(_||D&&q),style:{"--index":b,"--toasts-before":b,"--z-index":j.length-b,"--offset":`${K?xe:Se.current}px`,"--initial-height":D?"auto":`${de}px`,...O,...p.style},onDragEnd:()=>{Y(!1),U(null),Ne.current=null},onPointerDown:we=>{be||!ce||(Xe.current=new Date,Pe(Se.current),we.target.setPointerCapture(we.pointerId),we.target.tagName!=="BUTTON"&&(Y(!0),Ne.current={x:we.clientX,y:we.clientY}))},onPointerUp:()=>{var we,Ce,He,sn;if(he||!ce)return;Ne.current=null;let tt=Number(((we=Je.current)==null?void 0:we.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ln=Number(((Ce=Je.current)==null?void 0:Ce.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),gn=new Date().getTime()-((He=Xe.current)==null?void 0:He.getTime()),en=C==="x"?tt:ln,lr=Math.abs(en)/gn;if(Math.abs(en)>=Yq||lr>.11){Pe(Se.current),(sn=p.onDismiss)==null||sn.call(p,p),ne(C==="x"?tt>0?"right":"left":ln>0?"down":"up"),je(),W(!0),fe(!1);return}Y(!1),U(null)},onPointerMove:we=>{var Ce,He,sn,tt;if(!Ne.current||!ce||((Ce=window.getSelection())==null?void 0:Ce.toString().length)>0)return;let ln=we.clientY-Ne.current.y,gn=we.clientX-Ne.current.x,en=(He=e.swipeDirections)!=null?He:Qq(z);!C&&(Math.abs(gn)>1||Math.abs(ln)>1)&&U(Math.abs(gn)>Math.abs(ln)?"x":"y");let lr={x:0,y:0};C==="y"?(en.includes("top")||en.includes("bottom"))&&(en.includes("top")&&ln<0||en.includes("bottom")&&ln>0)&&(lr.y=ln):C==="x"&&(en.includes("left")||en.includes("right"))&&(en.includes("left")&&gn<0||en.includes("right")&&gn>0)&&(lr.x=gn),(Math.abs(lr.x)>0||Math.abs(lr.y)>0)&&fe(!0),(sn=Je.current)==null||sn.style.setProperty("--swipe-amount-x",`${lr.x}px`),(tt=Je.current)==null||tt.style.setProperty("--swipe-amount-y",`${lr.y}px`)}},te&&!p.jsx?H.createElement("button",{"aria-label":R,"data-disabled":be,"data-close-button":!0,onClick:be||!ce?()=>{}:()=>{var we;je(),(we=p.onDismiss)==null||we.call(p,p)},className:ui($==null?void 0:$.closeButton,(i=p==null?void 0:p.classNames)==null?void 0:i.closeButton)},(a=P==null?void 0:P.close)!=null?a:Mq):null,p.jsx||g.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:H.createElement(H.Fragment,null,V||p.icon||p.promise?H.createElement("div",{"data-icon":"",className:ui($==null?void 0:$.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||ze():null,p.type!=="loading"?p.icon||(P==null?void 0:P[V])||Aq(V):null):null,H.createElement("div",{"data-content":"",className:ui($==null?void 0:$.content,(s=p==null?void 0:p.classNames)==null?void 0:s.content)},H.createElement("div",{"data-title":"",className:ui($==null?void 0:$.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?H.createElement("div",{"data-description":"",className:ui(M,pe,$==null?void 0:$.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),g.isValidElement(p.cancel)?p.cancel:p.cancel&&xp(p.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||N,onClick:we=>{var Ce,He;xp(p.cancel)&&ce&&((He=(Ce=p.cancel).onClick)==null||He.call(Ce,we),je())},className:ui($==null?void 0:$.cancelButton,(f=p==null?void 0:p.classNames)==null?void 0:f.cancelButton)},p.cancel.label):null,g.isValidElement(p.action)?p.action:p.action&&xp(p.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||A,onClick:we=>{var Ce,He;xp(p.action)&&((He=(Ce=p.action).onClick)==null||He.call(Ce,we),!we.defaultPrevented&&je())},className:ui($==null?void 0:$.actionButton,(d=p==null?void 0:p.classNames)==null?void 0:d.actionButton)},p.action.label):null))};function nA(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Zq(e,t){let n={};return[e,t].forEach((r,i)=>{let a=i===1,o=a?"--mobile-offset":"--offset",s=a?Vq:qq;function c(u){["top","right","bottom","left"].forEach(f=>{n[`${o}-${f}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=s:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(s)}),n}var e7=g.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:o,className:s,offset:c,mobileOffset:u,theme:f="light",richColors:d,duration:h,style:p,visibleToasts:m=Hq,toastOptions:v,dir:y=nA(),gap:x=Gq,loadingIcon:w,icons:b,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:_}=e,[S,k]=H.useState([]),E=H.useMemo(()=>Array.from(new Set([r].concat(S.filter(T=>T.position).map(T=>T.position)))),[S,r]),[O,N]=H.useState([]),[A,I]=H.useState(!1),[M,L]=H.useState(!1),[z,F]=H.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=H.useRef(null),D=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=H.useRef(null),P=H.useRef(!1),R=H.useCallback(T=>{k(C=>{var U;return(U=C.find(G=>G.id===T.id))!=null&&U.delete||dr.dismiss(T.id),C.filter(({id:G})=>G!==T.id)})},[]);return H.useEffect(()=>dr.subscribe(T=>{if(T.dismiss){k(C=>C.map(U=>U.id===T.id?{...U,delete:!0}:U));return}setTimeout(()=>{kM.flushSync(()=>{k(C=>{let U=C.findIndex(G=>G.id===T.id);return U!==-1?[...C.slice(0,U),{...C[U],...T},...C.slice(U+1)]:[T,...C]})})})}),[]),H.useEffect(()=>{if(f!=="system"){F(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light")),typeof window>"u")return;let T=window.matchMedia("(prefers-color-scheme: dark)");try{T.addEventListener("change",({matches:C})=>{F(C?"dark":"light")})}catch{T.addListener(({matches:U})=>{try{F(U?"dark":"light")}catch(G){console.error(G)}})}},[f]),H.useEffect(()=>{S.length<=1&&I(!1)},[S]),H.useEffect(()=>{let T=C=>{var U,G;i.every(ne=>C[ne]||C.code===ne)&&(I(!0),(U=B.current)==null||U.focus()),C.code==="Escape"&&(document.activeElement===B.current||(G=B.current)!=null&&G.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[i]),H.useEffect(()=>{if(B.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,P.current=!1)}},[B.current]),H.createElement("section",{ref:t,"aria-label":`${j} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((T,C)=>{var U;let[G,ne]=T.split("-");return S.length?H.createElement("ol",{key:T,dir:y==="auto"?nA():y,tabIndex:-1,ref:B,className:s,"data-sonner-toaster":!0,"data-theme":z,"data-y-position":G,"data-lifted":A&&S.length>1&&!a,"data-x-position":ne,style:{"--front-toast-height":`${((U=O[0])==null?void 0:U.height)||0}px`,"--width":`${Kq}px`,"--gap":`${x}px`,...p,...Zq(c,u)},onBlur:q=>{P.current&&!q.currentTarget.contains(q.relatedTarget)&&(P.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||P.current||(P.current=!0,$.current=q.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{M||I(!1)},onDragEnd:()=>I(!1),onPointerDown:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},S.filter(q=>!q.position&&C===0||q.position===T).map((q,J)=>{var K,re;return H.createElement(Jq,{key:q.id,icons:b,index:J,toast:q,defaultRichColors:d,duration:(K=v==null?void 0:v.duration)!=null?K:h,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:m,closeButton:(re=v==null?void 0:v.closeButton)!=null?re:o,interacting:M,position:T,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:R,toasts:S.filter(Z=>Z.position==q.position),heights:O.filter(Z=>Z.position==q.position),setHeights:N,expandByDefault:a,gap:x,loadingIcon:w,expanded:A,pauseWhenPageIsHidden:_,swipeDirections:e.swipeDirections})})):null}))});const t7=({...e})=>{const{theme:t="system"}=Eq();return l.jsx(e7,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var n7=tS[" useId ".trim().toString()]||(()=>{}),r7=0;function kn(e){const[t,n]=g.useState(n7());return on(()=>{e||n(r=>r??String(r7++))},[e]),e||(t?`radix-${t}`:"")}const i7=["top","right","bottom","left"],Ho=Math.min,Or=Math.max,Km=Math.round,bp=Math.floor,na=e=>({x:e,y:e}),a7={left:"right",right:"left",bottom:"top",top:"bottom"},o7={start:"end",end:"start"};function Nw(e,t,n){return Or(e,Ho(t,n))}function za(e,t){return typeof e=="function"?e(t):e}function Wa(e){return e.split("-")[0]}function Au(e){return e.split("-")[1]}function tj(e){return e==="x"?"y":"x"}function nj(e){return e==="y"?"height":"width"}const s7=new Set(["top","bottom"]);function Yi(e){return s7.has(Wa(e))?"y":"x"}function rj(e){return tj(Yi(e))}function l7(e,t,n){n===void 0&&(n=!1);const r=Au(e),i=rj(e),a=nj(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Gm(o)),[o,Gm(o)]}function c7(e){const t=Gm(e);return[Pw(e),t,Pw(t)]}function Pw(e){return e.replace(/start|end/g,t=>o7[t])}const rA=["left","right"],iA=["right","left"],u7=["top","bottom"],d7=["bottom","top"];function f7(e,t,n){switch(e){case"top":case"bottom":return n?t?iA:rA:t?rA:iA;case"left":case"right":return t?u7:d7;default:return[]}}function h7(e,t,n,r){const i=Au(e);let a=f7(Wa(e),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(Pw)))),a}function Gm(e){return e.replace(/left|right|bottom|top/g,t=>a7[t])}function p7(e){return{top:0,right:0,bottom:0,left:0,...e}}function xD(e){return typeof e!="number"?p7(e):{top:e,right:e,bottom:e,left:e}}function Ym(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function aA(e,t,n){let{reference:r,floating:i}=e;const a=Yi(t),o=rj(t),s=nj(o),c=Wa(t),u=a==="y",f=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[s]/2-i[s]/2;let p;switch(c){case"top":p={x:f,y:r.y-i.height};break;case"bottom":p={x:f,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(Au(t)){case"start":p[o]-=h*(n&&u?-1:1);break;case"end":p[o]+=h*(n&&u?-1:1);break}return p}const m7=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,s=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:d}=aA(u,r,c),h=r,p={},m=0;for(let v=0;v<s.length;v++){const{name:y,fn:x}=s[v],{x:w,y:b,data:j,reset:_}=await x({x:f,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});f=w??f,d=b??d,p={...p,[y]:{...p[y],...j}},_&&m<=50&&(m++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):_.rects),{x:f,y:d}=aA(u,h,c)),v=-1)}return{x:f,y:d,placement:h,strategy:i,middlewareData:p}};async function xf(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:o,elements:s,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=za(t,e),m=xD(p),y=s[h?d==="floating"?"reference":"floating":d],x=Ym(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(y)))==null||n?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:u,rootBoundary:f,strategy:c})),w=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),j=await(a.isElement==null?void 0:a.isElement(b))?await(a.getScale==null?void 0:a.getScale(b))||{x:1,y:1}:{x:1,y:1},_=Ym(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:w,offsetParent:b,strategy:c}):w);return{top:(x.top-_.top+m.top)/j.y,bottom:(_.bottom-x.bottom+m.bottom)/j.y,left:(x.left-_.left+m.left)/j.x,right:(_.right-x.right+m.right)/j.x}}const g7=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:o,elements:s,middlewareData:c}=t,{element:u,padding:f=0}=za(e,t)||{};if(u==null)return{};const d=xD(f),h={x:n,y:r},p=rj(i),m=nj(p),v=await o.getDimensions(u),y=p==="y",x=y?"top":"left",w=y?"bottom":"right",b=y?"clientHeight":"clientWidth",j=a.reference[m]+a.reference[p]-h[p]-a.floating[m],_=h[p]-a.reference[p],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let k=S?S[b]:0;(!k||!await(o.isElement==null?void 0:o.isElement(S)))&&(k=s.floating[b]||a.floating[m]);const E=j/2-_/2,O=k/2-v[m]/2-1,N=Ho(d[x],O),A=Ho(d[w],O),I=N,M=k-v[m]-A,L=k/2-v[m]/2+E,z=Nw(I,L,M),F=!c.arrow&&Au(i)!=null&&L!==z&&a.reference[m]/2-(L<I?N:A)-v[m]/2<0,B=F?L<I?L-I:L-M:0;return{[p]:h[p]+B,data:{[p]:z,centerOffset:L-z-B,...F&&{alignmentOffset:B}},reset:F}}}),v7=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:v=!0,...y}=za(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const x=Wa(i),w=Yi(s),b=Wa(s)===s,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=h||(b||!v?[Gm(s)]:c7(s)),S=m!=="none";!h&&S&&_.push(...h7(s,v,m,j));const k=[s,..._],E=await xf(t,y),O=[];let N=((r=a.flip)==null?void 0:r.overflows)||[];if(f&&O.push(E[x]),d){const L=l7(i,o,j);O.push(E[L[0]],E[L[1]])}if(N=[...N,{placement:i,overflows:O}],!O.every(L=>L<=0)){var A,I;const L=(((A=a.flip)==null?void 0:A.index)||0)+1,z=k[L];if(z&&(!(d==="alignment"?w!==Yi(z):!1)||N.every(D=>D.overflows[0]>0&&Yi(D.placement)===w)))return{data:{index:L,overflows:N},reset:{placement:z}};let F=(I=N.filter(B=>B.overflows[0]<=0).sort((B,D)=>B.overflows[1]-D.overflows[1])[0])==null?void 0:I.placement;if(!F)switch(p){case"bestFit":{var M;const B=(M=N.filter(D=>{if(S){const $=Yi(D.placement);return $===w||$==="y"}return!0}).map(D=>[D.placement,D.overflows.filter($=>$>0).reduce(($,P)=>$+P,0)]).sort((D,$)=>D[1]-$[1])[0])==null?void 0:M[0];B&&(F=B);break}case"initialPlacement":F=s;break}if(i!==F)return{reset:{placement:F}}}return{}}}};function oA(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function sA(e){return i7.some(t=>e[t]>=0)}const y7=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=za(e,t);switch(r){case"referenceHidden":{const a=await xf(t,{...i,elementContext:"reference"}),o=oA(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:sA(o)}}}case"escaped":{const a=await xf(t,{...i,altBoundary:!0}),o=oA(a,n.floating);return{data:{escapedOffsets:o,escaped:sA(o)}}}default:return{}}}}},bD=new Set(["left","top"]);async function x7(e,t){const{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Wa(n),s=Au(n),c=Yi(n)==="y",u=bD.has(o)?-1:1,f=a&&c?-1:1,d=za(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&typeof m=="number"&&(p=s==="end"?m*-1:m),c?{x:p*f,y:h*u}:{x:h*u,y:p*f}}const b7=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:o,middlewareData:s}=t,c=await x7(t,e);return o===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},w7=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:y=>{let{x,y:w}=y;return{x,y:w}}},...c}=za(e,t),u={x:n,y:r},f=await xf(t,c),d=Yi(Wa(i)),h=tj(d);let p=u[h],m=u[d];if(a){const y=h==="y"?"top":"left",x=h==="y"?"bottom":"right",w=p+f[y],b=p-f[x];p=Nw(w,p,b)}if(o){const y=d==="y"?"top":"left",x=d==="y"?"bottom":"right",w=m+f[y],b=m-f[x];m=Nw(w,m,b)}const v=s.fn({...t,[h]:p,[d]:m});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[h]:a,[d]:o}}}}}},_7=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:a,middlewareData:o}=t,{offset:s=0,mainAxis:c=!0,crossAxis:u=!0}=za(e,t),f={x:n,y:r},d=Yi(i),h=tj(d);let p=f[h],m=f[d];const v=za(s,t),y=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const b=h==="y"?"height":"width",j=a.reference[h]-a.floating[b]+y.mainAxis,_=a.reference[h]+a.reference[b]-y.mainAxis;p<j?p=j:p>_&&(p=_)}if(u){var x,w;const b=h==="y"?"width":"height",j=bD.has(Wa(i)),_=a.reference[d]-a.floating[b]+(j&&((x=o.offset)==null?void 0:x[d])||0)+(j?0:y.crossAxis),S=a.reference[d]+a.reference[b]+(j?0:((w=o.offset)==null?void 0:w[d])||0)-(j?y.crossAxis:0);m<_?m=_:m>S&&(m=S)}return{[h]:p,[d]:m}}}},S7=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:a,platform:o,elements:s}=t,{apply:c=()=>{},...u}=za(e,t),f=await xf(t,u),d=Wa(i),h=Au(i),p=Yi(i)==="y",{width:m,height:v}=a.floating;let y,x;d==="top"||d==="bottom"?(y=d,x=h===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(x=d,y=h==="end"?"top":"bottom");const w=v-f.top-f.bottom,b=m-f.left-f.right,j=Ho(v-f[y],w),_=Ho(m-f[x],b),S=!t.middlewareData.shift;let k=j,E=_;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(E=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=w),S&&!h){const N=Or(f.left,0),A=Or(f.right,0),I=Or(f.top,0),M=Or(f.bottom,0);p?E=m-2*(N!==0||A!==0?N+A:Or(f.left,f.right)):k=v-2*(I!==0||M!==0?I+M:Or(f.top,f.bottom))}await c({...t,availableWidth:E,availableHeight:k});const O=await o.getDimensions(s.floating);return m!==O.width||v!==O.height?{reset:{rects:!0}}:{}}}};function Uv(){return typeof window<"u"}function Nu(e){return wD(e)?(e.nodeName||"").toLowerCase():"#document"}function Lr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ua(e){var t;return(t=(wD(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function wD(e){return Uv()?e instanceof Node||e instanceof Lr(e).Node:!1}function Ti(e){return Uv()?e instanceof Element||e instanceof Lr(e).Element:!1}function oa(e){return Uv()?e instanceof HTMLElement||e instanceof Lr(e).HTMLElement:!1}function lA(e){return!Uv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Lr(e).ShadowRoot}const j7=new Set(["inline","contents"]);function Ch(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Oi(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!j7.has(i)}const k7=new Set(["table","td","th"]);function C7(e){return k7.has(Nu(e))}const E7=[":popover-open",":modal"];function zv(e){return E7.some(t=>{try{return e.matches(t)}catch{return!1}})}const A7=["transform","translate","scale","rotate","perspective"],N7=["transform","translate","scale","rotate","perspective","filter"],P7=["paint","layout","strict","content"];function ij(e){const t=aj(),n=Ti(e)?Oi(e):e;return A7.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||N7.some(r=>(n.willChange||"").includes(r))||P7.some(r=>(n.contain||"").includes(r))}function T7(e){let t=qo(e);for(;oa(t)&&!zc(t);){if(ij(t))return t;if(zv(t))return null;t=qo(t)}return null}function aj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const O7=new Set(["html","body","#document"]);function zc(e){return O7.has(Nu(e))}function Oi(e){return Lr(e).getComputedStyle(e)}function Wv(e){return Ti(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function qo(e){if(Nu(e)==="html")return e;const t=e.assignedSlot||e.parentNode||lA(e)&&e.host||ua(e);return lA(t)?t.host:t}function _D(e){const t=qo(e);return zc(t)?e.ownerDocument?e.ownerDocument.body:e.body:oa(t)&&Ch(t)?t:_D(t)}function bf(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=_D(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),o=Lr(i);if(a){const s=Tw(o);return t.concat(o,o.visualViewport||[],Ch(i)?i:[],s&&n?bf(s):[])}return t.concat(i,bf(i,[],n))}function Tw(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function SD(e){const t=Oi(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=oa(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,s=Km(n)!==a||Km(r)!==o;return s&&(n=a,r=o),{width:n,height:r,$:s}}function oj(e){return Ti(e)?e:e.contextElement}function vc(e){const t=oj(e);if(!oa(t))return na(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=SD(t);let o=(a?Km(n.width):n.width)/r,s=(a?Km(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const I7=na(0);function jD(e){const t=Lr(e);return!aj()||!t.visualViewport?I7:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function R7(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Lr(e)?!1:t}function Ys(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=oj(e);let o=na(1);t&&(r?Ti(r)&&(o=vc(r)):o=vc(e));const s=R7(a,n,r)?jD(a):na(0);let c=(i.left+s.x)/o.x,u=(i.top+s.y)/o.y,f=i.width/o.x,d=i.height/o.y;if(a){const h=Lr(a),p=r&&Ti(r)?Lr(r):r;let m=h,v=Tw(m);for(;v&&r&&p!==m;){const y=vc(v),x=v.getBoundingClientRect(),w=Oi(v),b=x.left+(v.clientLeft+parseFloat(w.paddingLeft))*y.x,j=x.top+(v.clientTop+parseFloat(w.paddingTop))*y.y;c*=y.x,u*=y.y,f*=y.x,d*=y.y,c+=b,u+=j,m=Lr(v),v=Tw(m)}}return Ym({width:f,height:d,x:c,y:u})}function sj(e,t){const n=Wv(e).scrollLeft;return t?t.left+n:Ys(ua(e)).left+n}function kD(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:sj(e,r)),a=r.top+t.scrollTop;return{x:i,y:a}}function M7(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a=i==="fixed",o=ua(r),s=t?zv(t.floating):!1;if(r===o||s&&a)return n;let c={scrollLeft:0,scrollTop:0},u=na(1);const f=na(0),d=oa(r);if((d||!d&&!a)&&((Nu(r)!=="body"||Ch(o))&&(c=Wv(r)),oa(r))){const p=Ys(r);u=vc(r),f.x=p.x+r.clientLeft,f.y=p.y+r.clientTop}const h=o&&!d&&!a?kD(o,c,!0):na(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+f.x+h.x,y:n.y*u.y-c.scrollTop*u.y+f.y+h.y}}function D7(e){return Array.from(e.getClientRects())}function $7(e){const t=ua(e),n=Wv(e),r=e.ownerDocument.body,i=Or(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Or(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+sj(e);const s=-n.scrollTop;return Oi(r).direction==="rtl"&&(o+=Or(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:s}}function L7(e,t){const n=Lr(e),r=ua(e),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,s=0,c=0;if(i){a=i.width,o=i.height;const u=aj();(!u||u&&t==="fixed")&&(s=i.offsetLeft,c=i.offsetTop)}return{width:a,height:o,x:s,y:c}}const F7=new Set(["absolute","fixed"]);function B7(e,t){const n=Ys(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=oa(e)?vc(e):na(1),o=e.clientWidth*a.x,s=e.clientHeight*a.y,c=i*a.x,u=r*a.y;return{width:o,height:s,x:c,y:u}}function cA(e,t,n){let r;if(t==="viewport")r=L7(e,n);else if(t==="document")r=$7(ua(e));else if(Ti(t))r=B7(t,n);else{const i=jD(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Ym(r)}function CD(e,t){const n=qo(e);return n===t||!Ti(n)||zc(n)?!1:Oi(n).position==="fixed"||CD(n,t)}function U7(e,t){const n=t.get(e);if(n)return n;let r=bf(e,[],!1).filter(s=>Ti(s)&&Nu(s)!=="body"),i=null;const a=Oi(e).position==="fixed";let o=a?qo(e):e;for(;Ti(o)&&!zc(o);){const s=Oi(o),c=ij(o);!c&&s.position==="fixed"&&(i=null),(a?!c&&!i:!c&&s.position==="static"&&!!i&&F7.has(i.position)||Ch(o)&&!c&&CD(e,o))?r=r.filter(f=>f!==o):i=s,o=qo(o)}return t.set(e,r),r}function z7(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?zv(t)?[]:U7(t,this._c):[].concat(n),r],s=o[0],c=o.reduce((u,f)=>{const d=cA(t,f,i);return u.top=Or(d.top,u.top),u.right=Ho(d.right,u.right),u.bottom=Ho(d.bottom,u.bottom),u.left=Or(d.left,u.left),u},cA(t,s,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function W7(e){const{width:t,height:n}=SD(e);return{width:t,height:n}}function H7(e,t,n){const r=oa(t),i=ua(t),a=n==="fixed",o=Ys(e,!0,a,t);let s={scrollLeft:0,scrollTop:0};const c=na(0);function u(){c.x=sj(i)}if(r||!r&&!a)if((Nu(t)!=="body"||Ch(i))&&(s=Wv(t)),r){const p=Ys(t,!0,a,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else i&&u();a&&!r&&i&&u();const f=i&&!r&&!a?kD(i,s):na(0),d=o.left+s.scrollLeft-c.x-f.x,h=o.top+s.scrollTop-c.y-f.y;return{x:d,y:h,width:o.width,height:o.height}}function r0(e){return Oi(e).position==="static"}function uA(e,t){if(!oa(e)||Oi(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ua(e)===n&&(n=n.ownerDocument.body),n}function ED(e,t){const n=Lr(e);if(zv(e))return n;if(!oa(e)){let i=qo(e);for(;i&&!zc(i);){if(Ti(i)&&!r0(i))return i;i=qo(i)}return n}let r=uA(e,t);for(;r&&C7(r)&&r0(r);)r=uA(r,t);return r&&zc(r)&&r0(r)&&!ij(r)?n:r||T7(e)||n}const q7=async function(e){const t=this.getOffsetParent||ED,n=this.getDimensions,r=await n(e.floating);return{reference:H7(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function V7(e){return Oi(e).direction==="rtl"}const K7={convertOffsetParentRelativeRectToViewportRelativeRect:M7,getDocumentElement:ua,getClippingRect:z7,getOffsetParent:ED,getElementRects:q7,getClientRects:D7,getDimensions:W7,getScale:vc,isElement:Ti,isRTL:V7};function AD(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function G7(e,t){let n=null,r;const i=ua(e);function a(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function o(s,c){s===void 0&&(s=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:f,top:d,width:h,height:p}=u;if(s||t(),!h||!p)return;const m=bp(d),v=bp(i.clientWidth-(f+h)),y=bp(i.clientHeight-(d+p)),x=bp(f),b={rootMargin:-m+"px "+-v+"px "+-y+"px "+-x+"px",threshold:Or(0,Ho(1,c))||1};let j=!0;function _(S){const k=S[0].intersectionRatio;if(k!==c){if(!j)return o();k?o(!1,k):r=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!AD(u,e.getBoundingClientRect())&&o(),j=!1}try{n=new IntersectionObserver(_,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(_,b)}n.observe(e)}return o(!0),a}function Y7(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=oj(e),f=i||a?[...u?bf(u):[],...bf(t)]:[];f.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),a&&x.addEventListener("resize",n)});const d=u&&s?G7(u,n):null;let h=-1,p=null;o&&(p=new ResizeObserver(x=>{let[w]=x;w&&w.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let m,v=c?Ys(e):null;c&&y();function y(){const x=Ys(e);v&&!AD(v,x)&&n(),v=x,m=requestAnimationFrame(y)}return n(),()=>{var x;f.forEach(w=>{i&&w.removeEventListener("scroll",n),a&&w.removeEventListener("resize",n)}),d==null||d(),(x=p)==null||x.disconnect(),p=null,c&&cancelAnimationFrame(m)}}const X7=b7,Q7=w7,J7=v7,Z7=S7,eV=y7,dA=g7,tV=_7,nV=(e,t,n)=>{const r=new Map,i={platform:K7,...n},a={...i.platform,_c:r};return m7(e,t,{...i,platform:a})};var rV=typeof document<"u",iV=function(){},hm=rV?g.useLayoutEffect:iV;function Xm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Xm(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!Xm(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function ND(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function fA(e,t){const n=ND(e);return Math.round(t*n)/n}function i0(e){const t=g.useRef(e);return hm(()=>{t.current=e}),t}function aV(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:c,open:u}=e,[f,d]=g.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=g.useState(r);Xm(h,r)||p(r);const[m,v]=g.useState(null),[y,x]=g.useState(null),w=g.useCallback(D=>{D!==S.current&&(S.current=D,v(D))},[]),b=g.useCallback(D=>{D!==k.current&&(k.current=D,x(D))},[]),j=a||m,_=o||y,S=g.useRef(null),k=g.useRef(null),E=g.useRef(f),O=c!=null,N=i0(c),A=i0(i),I=i0(u),M=g.useCallback(()=>{if(!S.current||!k.current)return;const D={placement:t,strategy:n,middleware:h};A.current&&(D.platform=A.current),nV(S.current,k.current,D).then($=>{const P={...$,isPositioned:I.current!==!1};L.current&&!Xm(E.current,P)&&(E.current=P,ul.flushSync(()=>{d(P)}))})},[h,t,n,A,I]);hm(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,d(D=>({...D,isPositioned:!1})))},[u]);const L=g.useRef(!1);hm(()=>(L.current=!0,()=>{L.current=!1}),[]),hm(()=>{if(j&&(S.current=j),_&&(k.current=_),j&&_){if(N.current)return N.current(j,_,M);M()}},[j,_,M,N,O]);const z=g.useMemo(()=>({reference:S,floating:k,setReference:w,setFloating:b}),[w,b]),F=g.useMemo(()=>({reference:j,floating:_}),[j,_]),B=g.useMemo(()=>{const D={position:n,left:0,top:0};if(!F.floating)return D;const $=fA(F.floating,f.x),P=fA(F.floating,f.y);return s?{...D,transform:"translate("+$+"px, "+P+"px)",...ND(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:P}},[n,s,F.floating,f.x,f.y]);return g.useMemo(()=>({...f,update:M,refs:z,elements:F,floatingStyles:B}),[f,M,z,F,B])}const oV=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?dA({element:r.current,padding:i}).fn(n):{}:r?dA({element:r,padding:i}).fn(n):{}}}},sV=(e,t)=>({...X7(e),options:[e,t]}),lV=(e,t)=>({...Q7(e),options:[e,t]}),cV=(e,t)=>({...tV(e),options:[e,t]}),uV=(e,t)=>({...J7(e),options:[e,t]}),dV=(e,t)=>({...Z7(e),options:[e,t]}),fV=(e,t)=>({...eV(e),options:[e,t]}),hV=(e,t)=>({...oV(e),options:[e,t]});var pV="Arrow",PD=g.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...a}=e;return l.jsx(Ae.svg,{...a,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});PD.displayName=pV;var mV=PD;function lj(e){const[t,n]=g.useState(void 0);return on(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,s;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,s=u.blockSize}else o=e.offsetWidth,s=e.offsetHeight;n({width:o,height:s})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var cj="Popper",[TD,Qo]=Fn(cj),[gV,OD]=TD(cj),ID=e=>{const{__scopePopper:t,children:n}=e,[r,i]=g.useState(null);return l.jsx(gV,{scope:t,anchor:r,onAnchorChange:i,children:n})};ID.displayName=cj;var RD="PopperAnchor",MD=g.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,a=OD(RD,n),o=g.useRef(null),s=We(t,o);return g.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:l.jsx(Ae.div,{...i,ref:s})});MD.displayName=RD;var uj="PopperContent",[vV,yV]=TD(uj),DD=g.forwardRef((e,t)=>{var q,J,K,re,Z,Y;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:s=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:m,...v}=e,y=OD(uj,n),[x,w]=g.useState(null),b=We(t,he=>w(he)),[j,_]=g.useState(null),S=lj(j),k=(S==null?void 0:S.width)??0,E=(S==null?void 0:S.height)??0,O=r+(a!=="center"?"-"+a:""),N=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},A=Array.isArray(u)?u:[u],I=A.length>0,M={padding:N,boundary:A.filter(bV),altBoundary:I},{refs:L,floatingStyles:z,placement:F,isPositioned:B,middlewareData:D}=aV({strategy:"fixed",placement:O,whileElementsMounted:(...he)=>Y7(...he,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[sV({mainAxis:i+E,alignmentAxis:o}),c&&lV({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?cV():void 0,...M}),c&&uV({...M}),dV({...M,apply:({elements:he,rects:W,availableWidth:ee,availableHeight:fe})=>{const{width:xe,height:Pe}=W.reference,de=he.floating.style;de.setProperty("--radix-popper-available-width",`${ee}px`),de.setProperty("--radix-popper-available-height",`${fe}px`),de.setProperty("--radix-popper-anchor-width",`${xe}px`),de.setProperty("--radix-popper-anchor-height",`${Pe}px`)}}),j&&hV({element:j,padding:s}),wV({arrowWidth:k,arrowHeight:E}),h&&fV({strategy:"referenceHidden",...M})]}),[$,P]=FD(F),R=an(m);on(()=>{B&&(R==null||R())},[B,R]);const T=(q=D.arrow)==null?void 0:q.x,C=(J=D.arrow)==null?void 0:J.y,U=((K=D.arrow)==null?void 0:K.centerOffset)!==0,[G,ne]=g.useState();return on(()=>{x&&ne(window.getComputedStyle(x).zIndex)},[x]),l.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:B?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G,"--radix-popper-transform-origin":[(re=D.transformOrigin)==null?void 0:re.x,(Z=D.transformOrigin)==null?void 0:Z.y].join(" "),...((Y=D.hide)==null?void 0:Y.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(vV,{scope:n,placedSide:$,onArrowChange:_,arrowX:T,arrowY:C,shouldHideArrow:U,children:l.jsx(Ae.div,{"data-side":$,"data-align":P,...v,ref:b,style:{...v.style,animation:B?void 0:"none"}})})})});DD.displayName=uj;var $D="PopperArrow",xV={top:"bottom",right:"left",bottom:"top",left:"right"},LD=g.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,a=yV($D,r),o=xV[a.placedSide];return l.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:l.jsx(mV,{...i,ref:n,style:{...i.style,display:"block"}})})});LD.displayName=$D;function bV(e){return e!==null}var wV=e=>({name:"transformOrigin",options:e,fn(t){var y,x,w;const{placement:n,rects:r,middlewareData:i}=t,o=((y=i.arrow)==null?void 0:y.centerOffset)!==0,s=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,f]=FD(n),d={start:"0%",center:"50%",end:"100%"}[f],h=(((x=i.arrow)==null?void 0:x.x)??0)+s/2,p=(((w=i.arrow)==null?void 0:w.y)??0)+c/2;let m="",v="";return u==="bottom"?(m=o?d:`${h}px`,v=`${-c}px`):u==="top"?(m=o?d:`${h}px`,v=`${r.floating.height+c}px`):u==="right"?(m=`${-c}px`,v=o?d:`${p}px`):u==="left"&&(m=`${r.floating.width+c}px`,v=o?d:`${p}px`),{data:{x:m,y:v}}}});function FD(e){const[t,n="center"]=e.split("-");return[t,n]}var Hv=ID,Eh=MD,qv=DD,Vv=LD,[Kv,bDe]=Fn("Tooltip",[Qo]),Gv=Qo(),BD="TooltipProvider",_V=700,Ow="tooltip.open",[SV,dj]=Kv(BD),UD=e=>{const{__scopeTooltip:t,delayDuration:n=_V,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=e,o=g.useRef(!0),s=g.useRef(!1),c=g.useRef(0);return g.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(SV,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:s,onPointerInTransitChange:g.useCallback(u=>{s.current=u},[]),disableHoverableContent:i,children:a})};UD.displayName=BD;var wf="Tooltip",[jV,Yv]=Kv(wf),zD=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i,onOpenChange:a,disableHoverableContent:o,delayDuration:s}=e,c=dj(wf,e.__scopeTooltip),u=Gv(t),[f,d]=g.useState(null),h=kn(),p=g.useRef(0),m=o??c.disableHoverableContent,v=s??c.delayDuration,y=g.useRef(!1),[x,w]=ii({prop:r,defaultProp:i??!1,onChange:k=>{k?(c.onOpen(),document.dispatchEvent(new CustomEvent(Ow))):c.onClose(),a==null||a(k)},caller:wf}),b=g.useMemo(()=>x?y.current?"delayed-open":"instant-open":"closed",[x]),j=g.useCallback(()=>{window.clearTimeout(p.current),p.current=0,y.current=!1,w(!0)},[w]),_=g.useCallback(()=>{window.clearTimeout(p.current),p.current=0,w(!1)},[w]),S=g.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{y.current=!0,w(!0),p.current=0},v)},[v,w]);return g.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),l.jsx(Hv,{...u,children:l.jsx(jV,{scope:t,contentId:h,open:x,stateAttribute:b,trigger:f,onTriggerChange:d,onTriggerEnter:g.useCallback(()=>{c.isOpenDelayedRef.current?S():j()},[c.isOpenDelayedRef,S,j]),onTriggerLeave:g.useCallback(()=>{m?_():(window.clearTimeout(p.current),p.current=0)},[_,m]),onOpen:j,onClose:_,disableHoverableContent:m,children:n})})};zD.displayName=wf;var Iw="TooltipTrigger",WD=g.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Yv(Iw,n),a=dj(Iw,n),o=Gv(n),s=g.useRef(null),c=We(t,s,i.onTriggerChange),u=g.useRef(!1),f=g.useRef(!1),d=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),l.jsx(Eh,{asChild:!0,...o,children:l.jsx(Ae.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:ve(e.onPointerMove,h=>{h.pointerType!=="touch"&&!f.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:ve(e.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:ve(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:ve(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:ve(e.onBlur,i.onClose),onClick:ve(e.onClick,i.onClose)})})});WD.displayName=Iw;var kV="TooltipPortal",[wDe,CV]=Kv(kV,{forceMount:void 0}),Wc="TooltipContent",HD=g.forwardRef((e,t)=>{const n=CV(Wc,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=e,o=Yv(Wc,e.__scopeTooltip);return l.jsx(Cn,{present:r||o.open,children:o.disableHoverableContent?l.jsx(qD,{side:i,...a,ref:t}):l.jsx(EV,{side:i,...a,ref:t})})}),EV=g.forwardRef((e,t)=>{const n=Yv(Wc,e.__scopeTooltip),r=dj(Wc,e.__scopeTooltip),i=g.useRef(null),a=We(t,i),[o,s]=g.useState(null),{trigger:c,onClose:u}=n,f=i.current,{onPointerInTransitChange:d}=r,h=g.useCallback(()=>{s(null),d(!1)},[d]),p=g.useCallback((m,v)=>{const y=m.currentTarget,x={x:m.clientX,y:m.clientY},w=OV(x,y.getBoundingClientRect()),b=IV(x,w),j=RV(v.getBoundingClientRect()),_=DV([...b,...j]);s(_),d(!0)},[d]);return g.useEffect(()=>()=>h(),[h]),g.useEffect(()=>{if(c&&f){const m=y=>p(y,f),v=y=>p(y,c);return c.addEventListener("pointerleave",m),f.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",m),f.removeEventListener("pointerleave",v)}}},[c,f,p,h]),g.useEffect(()=>{if(o){const m=v=>{const y=v.target,x={x:v.clientX,y:v.clientY},w=(c==null?void 0:c.contains(y))||(f==null?void 0:f.contains(y)),b=!MV(x,o);w?h():b&&(h(),u())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[c,f,o,u,h]),l.jsx(qD,{...e,ref:a})}),[AV,NV]=Kv(wf,{isInside:!1}),PV=AM("TooltipContent"),qD=g.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...s}=e,c=Yv(Wc,n),u=Gv(n),{onClose:f}=c;return g.useEffect(()=>(document.addEventListener(Ow,f),()=>document.removeEventListener(Ow,f)),[f]),g.useEffect(()=>{if(c.trigger){const d=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&f()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,f]),l.jsx(fl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:f,children:l.jsxs(qv,{"data-state":c.stateAttribute,...u,...s,ref:t,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(PV,{children:r}),l.jsx(AV,{scope:n,isInside:!0,children:l.jsx(G9,{id:c.contentId,role:"tooltip",children:i||r})})]})})});HD.displayName=Wc;var VD="TooltipArrow",TV=g.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Gv(n);return NV(VD,n).isInside?null:l.jsx(Vv,{...i,...r,ref:t})});TV.displayName=VD;function OV(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function IV(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function RV(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function MV(e,t){const{x:n,y:r}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const s=t[a],c=t[o],u=s.x,f=s.y,d=c.x,h=c.y;f>r!=h>r&&n<(d-u)*(r-f)/(h-f)+u&&(i=!i)}return i}function DV(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),$V(t)}function $V(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var LV=UD,FV=zD,BV=WD,KD=HD;const UV=LV,wp=FV,_p=BV,Nd=g.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(KD,{ref:r,sideOffset:t,className:ge("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Nd.displayName=KD.displayName;var Xv=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Qv=typeof window>"u"||"Deno"in globalThis;function gi(){}function zV(e,t){return typeof e=="function"?e(t):e}function WV(e){return typeof e=="number"&&e>=0&&e!==1/0}function HV(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Rw(e,t){return typeof e=="function"?e(t):e}function qV(e,t){return typeof e=="function"?e(t):e}function hA(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:s}=e;if(o){if(r){if(t.queryHash!==fj(o,t.options))return!1}else if(!Sf(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof s=="boolean"&&t.isStale()!==s||i&&i!==t.state.fetchStatus||a&&!a(t))}function pA(e,t){const{exact:n,status:r,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(_f(t.options.mutationKey)!==_f(a))return!1}else if(!Sf(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function fj(e,t){return((t==null?void 0:t.queryKeyHashFn)||_f)(e)}function _f(e){return JSON.stringify(e,(t,n)=>Mw(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Sf(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Sf(e[n],t[n])):!1}function GD(e,t){if(e===t)return e;const n=mA(e)&&mA(t);if(n||Mw(e)&&Mw(t)){const r=n?e:Object.keys(e),i=r.length,a=n?t:Object.keys(t),o=a.length,s=n?[]:{},c=new Set(r);let u=0;for(let f=0;f<o;f++){const d=n?f:a[f];(!n&&c.has(d)||n)&&e[d]===void 0&&t[d]===void 0?(s[d]=void 0,u++):(s[d]=GD(e[d],t[d]),s[d]===e[d]&&e[d]!==void 0&&u++)}return i===o&&u===i?e:s}return t}function mA(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Mw(e){if(!gA(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!gA(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function gA(e){return Object.prototype.toString.call(e)==="[object Object]"}function VV(e){return new Promise(t=>{setTimeout(t,e)})}function KV(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?GD(e,t):t}function GV(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function YV(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var hj=Symbol();function YD(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===hj?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Is,xo,Ec,aI,XV=(aI=class extends Xv{constructor(){super();vt(this,Is);vt(this,xo);vt(this,Ec);qe(this,Ec,t=>{if(!Qv&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){le(this,xo)||this.setEventListener(le(this,Ec))}onUnsubscribe(){var t;this.hasListeners()||((t=le(this,xo))==null||t.call(this),qe(this,xo,void 0))}setEventListener(t){var n;qe(this,Ec,t),(n=le(this,xo))==null||n.call(this),qe(this,xo,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){le(this,Is)!==t&&(qe(this,Is,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof le(this,Is)=="boolean"?le(this,Is):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Is=new WeakMap,xo=new WeakMap,Ec=new WeakMap,aI),XD=new XV,Ac,bo,Nc,oI,QV=(oI=class extends Xv{constructor(){super();vt(this,Ac,!0);vt(this,bo);vt(this,Nc);qe(this,Nc,t=>{if(!Qv&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){le(this,bo)||this.setEventListener(le(this,Nc))}onUnsubscribe(){var t;this.hasListeners()||((t=le(this,bo))==null||t.call(this),qe(this,bo,void 0))}setEventListener(t){var n;qe(this,Nc,t),(n=le(this,bo))==null||n.call(this),qe(this,bo,t(this.setOnline.bind(this)))}setOnline(t){le(this,Ac)!==t&&(qe(this,Ac,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return le(this,Ac)}},Ac=new WeakMap,bo=new WeakMap,Nc=new WeakMap,oI),Qm=new QV;function JV(){let e,t;const n=new Promise((i,a)=>{e=i,t=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function ZV(e){return Math.min(1e3*2**e,3e4)}function QD(e){return(e??"online")==="online"?Qm.isOnline():!0}var JD=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function a0(e){return e instanceof JD}function ZD(e){let t=!1,n=0,r=!1,i;const a=JV(),o=v=>{var y;r||(h(new JD(v)),(y=e.abort)==null||y.call(e))},s=()=>{t=!0},c=()=>{t=!1},u=()=>XD.isFocused()&&(e.networkMode==="always"||Qm.isOnline())&&e.canRun(),f=()=>QD(e.networkMode)&&e.canRun(),d=v=>{var y;r||(r=!0,(y=e.onSuccess)==null||y.call(e,v),i==null||i(),a.resolve(v))},h=v=>{var y;r||(r=!0,(y=e.onError)==null||y.call(e,v),i==null||i(),a.reject(v))},p=()=>new Promise(v=>{var y;i=x=>{(r||u())&&v(x)},(y=e.onPause)==null||y.call(e)}).then(()=>{var v;i=void 0,r||(v=e.onContinue)==null||v.call(e)}),m=()=>{if(r)return;let v;const y=n===0?e.initialPromise:void 0;try{v=y??e.fn()}catch(x){v=Promise.reject(x)}Promise.resolve(v).then(d).catch(x=>{var S;if(r)return;const w=e.retry??(Qv?0:3),b=e.retryDelay??ZV,j=typeof b=="function"?b(n,x):b,_=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,x);if(t||!_){h(x);return}n++,(S=e.onFail)==null||S.call(e,n,x),VV(j).then(()=>u()?void 0:p()).then(()=>{t?h(x):m()})})};return{promise:a,cancel:o,continue:()=>(i==null||i(),a),cancelRetry:s,continueRetry:c,canStart:f,start:()=>(f()?m():p().then(m),a)}}var eK=e=>setTimeout(e,0);function tK(){let e=[],t=0,n=s=>{s()},r=s=>{s()},i=eK;const a=s=>{t?e.push(s):i(()=>{n(s)})},o=()=>{const s=e;e=[],s.length&&i(()=>{r(()=>{s.forEach(c=>{n(c)})})})};return{batch:s=>{let c;t++;try{c=s()}finally{t--,t||o()}return c},batchCalls:s=>(...c)=>{a(()=>{s(...c)})},schedule:a,setNotifyFunction:s=>{n=s},setBatchNotifyFunction:s=>{r=s},setScheduler:s=>{i=s}}}var tr=tK(),Rs,sI,e$=(sI=class{constructor(){vt(this,Rs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),WV(this.gcTime)&&qe(this,Rs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Qv?1/0:5*60*1e3))}clearGcTimeout(){le(this,Rs)&&(clearTimeout(le(this,Rs)),qe(this,Rs,void 0))}},Rs=new WeakMap,sI),Pc,Ms,Kr,Ds,Wn,vh,$s,vi,ya,lI,nK=(lI=class extends e${constructor(t){super();vt(this,vi);vt(this,Pc);vt(this,Ms);vt(this,Kr);vt(this,Ds);vt(this,Wn);vt(this,vh);vt(this,$s);qe(this,$s,!1),qe(this,vh,t.defaultOptions),this.setOptions(t.options),this.observers=[],qe(this,Ds,t.client),qe(this,Kr,le(this,Ds).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,qe(this,Pc,iK(this.options)),this.state=t.state??le(this,Pc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=le(this,Wn))==null?void 0:t.promise}setOptions(t){this.options={...le(this,vh),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&le(this,Kr).remove(this)}setData(t,n){const r=KV(this.state.data,t,this.options);return Bn(this,vi,ya).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Bn(this,vi,ya).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=le(this,Wn))==null?void 0:r.promise;return(i=le(this,Wn))==null||i.cancel(t),n?n.then(gi).catch(gi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(le(this,Pc))}isActive(){return this.observers.some(t=>qV(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===hj||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Rw(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!HV(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=le(this,Wn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=le(this,Wn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),le(this,Kr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(le(this,Wn)&&(le(this,$s)?le(this,Wn).cancel({revert:!0}):le(this,Wn).cancelRetry()),this.scheduleGc()),le(this,Kr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Bn(this,vi,ya).call(this,{type:"invalidate"})}fetch(t,n){var u,f,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(le(this,Wn))return le(this,Wn).continueRetry(),le(this,Wn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(qe(this,$s,!0),r.signal)})},a=()=>{const h=YD(this.options,n),m=(()=>{const v={client:le(this,Ds),queryKey:this.queryKey,meta:this.meta};return i(v),v})();return qe(this,$s,!1),this.options.persister?this.options.persister(h,m,this):h(m)},s=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:le(this,Ds),state:this.state,fetchFn:a};return i(h),h})();(u=this.options.behavior)==null||u.onFetch(s,this),qe(this,Ms,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=s.fetchOptions)==null?void 0:f.meta))&&Bn(this,vi,ya).call(this,{type:"fetch",meta:(d=s.fetchOptions)==null?void 0:d.meta});const c=h=>{var p,m,v,y;a0(h)&&h.silent||Bn(this,vi,ya).call(this,{type:"error",error:h}),a0(h)||((m=(p=le(this,Kr).config).onError)==null||m.call(p,h,this),(y=(v=le(this,Kr).config).onSettled)==null||y.call(v,this.state.data,h,this)),this.scheduleGc()};return qe(this,Wn,ZD({initialPromise:n==null?void 0:n.initialPromise,fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var p,m,v,y;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(x){c(x);return}(m=(p=le(this,Kr).config).onSuccess)==null||m.call(p,h,this),(y=(v=le(this,Kr).config).onSettled)==null||y.call(v,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,p)=>{Bn(this,vi,ya).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{Bn(this,vi,ya).call(this,{type:"pause"})},onContinue:()=>{Bn(this,vi,ya).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),le(this,Wn).start()}},Pc=new WeakMap,Ms=new WeakMap,Kr=new WeakMap,Ds=new WeakMap,Wn=new WeakMap,vh=new WeakMap,$s=new WeakMap,vi=new WeakSet,ya=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...rK(r.data,this.options),fetchMeta:t.meta??null};case"success":return qe(this,Ms,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return a0(i)&&i.revert&&le(this,Ms)?{...le(this,Ms),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),tr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),le(this,Kr).notify({query:this,type:"updated",action:t})})},lI);function rK(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:QD(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function iK(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Wi,cI,aK=(cI=class extends Xv{constructor(t={}){super();vt(this,Wi);this.config=t,qe(this,Wi,new Map)}build(t,n,r){const i=n.queryKey,a=n.queryHash??fj(i,n);let o=this.get(a);return o||(o=new nK({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){le(this,Wi).has(t.queryHash)||(le(this,Wi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=le(this,Wi).get(t.queryHash);n&&(t.destroy(),n===t&&le(this,Wi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){tr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return le(this,Wi).get(t)}getAll(){return[...le(this,Wi).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>hA(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>hA(t,r)):n}notify(t){tr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){tr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){tr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Wi=new WeakMap,cI),Hi,Qn,Ls,qi,co,uI,oK=(uI=class extends e${constructor(t){super();vt(this,qi);vt(this,Hi);vt(this,Qn);vt(this,Ls);this.mutationId=t.mutationId,qe(this,Qn,t.mutationCache),qe(this,Hi,[]),this.state=t.state||sK(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){le(this,Hi).includes(t)||(le(this,Hi).push(t),this.clearGcTimeout(),le(this,Qn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){qe(this,Hi,le(this,Hi).filter(n=>n!==t)),this.scheduleGc(),le(this,Qn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){le(this,Hi).length||(this.state.status==="pending"?this.scheduleGc():le(this,Qn).remove(this))}continue(){var t;return((t=le(this,Ls))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,o,s,c,u,f,d,h,p,m,v,y,x,w,b,j,_,S,k,E;const n=()=>{Bn(this,qi,co).call(this,{type:"continue"})};qe(this,Ls,ZD({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(O,N)=>{Bn(this,qi,co).call(this,{type:"failed",failureCount:O,error:N})},onPause:()=>{Bn(this,qi,co).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>le(this,Qn).canRun(this)}));const r=this.state.status==="pending",i=!le(this,Ls).canStart();try{if(r)n();else{Bn(this,qi,co).call(this,{type:"pending",variables:t,isPaused:i}),await((o=(a=le(this,Qn).config).onMutate)==null?void 0:o.call(a,t,this));const N=await((c=(s=this.options).onMutate)==null?void 0:c.call(s,t));N!==this.state.context&&Bn(this,qi,co).call(this,{type:"pending",context:N,variables:t,isPaused:i})}const O=await le(this,Ls).start();return await((f=(u=le(this,Qn).config).onSuccess)==null?void 0:f.call(u,O,t,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,O,t,this.state.context)),await((m=(p=le(this,Qn).config).onSettled)==null?void 0:m.call(p,O,null,this.state.variables,this.state.context,this)),await((y=(v=this.options).onSettled)==null?void 0:y.call(v,O,null,t,this.state.context)),Bn(this,qi,co).call(this,{type:"success",data:O}),O}catch(O){try{throw await((w=(x=le(this,Qn).config).onError)==null?void 0:w.call(x,O,t,this.state.context,this)),await((j=(b=this.options).onError)==null?void 0:j.call(b,O,t,this.state.context)),await((S=(_=le(this,Qn).config).onSettled)==null?void 0:S.call(_,void 0,O,this.state.variables,this.state.context,this)),await((E=(k=this.options).onSettled)==null?void 0:E.call(k,void 0,O,t,this.state.context)),O}finally{Bn(this,qi,co).call(this,{type:"error",error:O})}}finally{le(this,Qn).runNext(this)}}},Hi=new WeakMap,Qn=new WeakMap,Ls=new WeakMap,qi=new WeakSet,co=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),tr.batch(()=>{le(this,Hi).forEach(r=>{r.onMutationUpdate(t)}),le(this,Qn).notify({mutation:this,type:"updated",action:t})})},uI);function sK(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ka,yi,yh,dI,lK=(dI=class extends Xv{constructor(t={}){super();vt(this,ka);vt(this,yi);vt(this,yh);this.config=t,qe(this,ka,new Set),qe(this,yi,new Map),qe(this,yh,0)}build(t,n,r){const i=new oK({mutationCache:this,mutationId:++Zh(this,yh)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){le(this,ka).add(t);const n=Sp(t);if(typeof n=="string"){const r=le(this,yi).get(n);r?r.push(t):le(this,yi).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(le(this,ka).delete(t)){const n=Sp(t);if(typeof n=="string"){const r=le(this,yi).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&le(this,yi).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Sp(t);if(typeof n=="string"){const r=le(this,yi).get(n),i=r==null?void 0:r.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=Sp(t);if(typeof n=="string"){const i=(r=le(this,yi).get(n))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){tr.batch(()=>{le(this,ka).forEach(t=>{this.notify({type:"removed",mutation:t})}),le(this,ka).clear(),le(this,yi).clear()})}getAll(){return Array.from(le(this,ka))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>pA(n,r))}findAll(t={}){return this.getAll().filter(n=>pA(t,n))}notify(t){tr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return tr.batch(()=>Promise.all(t.map(n=>n.continue().catch(gi))))}},ka=new WeakMap,yi=new WeakMap,yh=new WeakMap,dI);function Sp(e){var t;return(t=e.options.scope)==null?void 0:t.id}function vA(e){return{onFetch:(t,n)=>{var f,d,h,p,m;const r=t.options,i=(h=(d=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,a=((p=t.state.data)==null?void 0:p.pages)||[],o=((m=t.state.data)==null?void 0:m.pageParams)||[];let s={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const y=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},x=YD(t.options,t.fetchOptions),w=async(b,j,_)=>{if(v)return Promise.reject();if(j==null&&b.pages.length)return Promise.resolve(b);const k=(()=>{const A={client:t.client,queryKey:t.queryKey,pageParam:j,direction:_?"backward":"forward",meta:t.options.meta};return y(A),A})(),E=await x(k),{maxPages:O}=t.options,N=_?YV:GV;return{pages:N(b.pages,E,O),pageParams:N(b.pageParams,j,O)}};if(i&&a.length){const b=i==="backward",j=b?cK:yA,_={pages:a,pageParams:o},S=j(r,_);s=await w(_,S,b)}else{const b=e??a.length;do{const j=c===0?o[0]??r.initialPageParam:yA(r,s);if(c>0&&j==null)break;s=await w(s,j),c++}while(c<b)}return s};t.options.persister?t.fetchFn=()=>{var v,y;return(y=(v=t.options).persister)==null?void 0:y.call(v,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function yA(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function cK(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var tn,wo,_o,Tc,Oc,So,Ic,Rc,fI,uK=(fI=class{constructor(e={}){vt(this,tn);vt(this,wo);vt(this,_o);vt(this,Tc);vt(this,Oc);vt(this,So);vt(this,Ic);vt(this,Rc);qe(this,tn,e.queryCache||new aK),qe(this,wo,e.mutationCache||new lK),qe(this,_o,e.defaultOptions||{}),qe(this,Tc,new Map),qe(this,Oc,new Map),qe(this,So,0)}mount(){Zh(this,So)._++,le(this,So)===1&&(qe(this,Ic,XD.subscribe(async e=>{e&&(await this.resumePausedMutations(),le(this,tn).onFocus())})),qe(this,Rc,Qm.subscribe(async e=>{e&&(await this.resumePausedMutations(),le(this,tn).onOnline())})))}unmount(){var e,t;Zh(this,So)._--,le(this,So)===0&&((e=le(this,Ic))==null||e.call(this),qe(this,Ic,void 0),(t=le(this,Rc))==null||t.call(this),qe(this,Rc,void 0))}isFetching(e){return le(this,tn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return le(this,wo).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=le(this,tn).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=le(this,tn).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Rw(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return le(this,tn).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=le(this,tn).get(r.queryHash),a=i==null?void 0:i.state.data,o=zV(t,a);if(o!==void 0)return le(this,tn).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return tr.batch(()=>le(this,tn).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=le(this,tn).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=le(this,tn);tr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=le(this,tn);return tr.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=tr.batch(()=>le(this,tn).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(gi).catch(gi)}invalidateQueries(e,t={}){return tr.batch(()=>(le(this,tn).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=tr.batch(()=>le(this,tn).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(gi)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(gi)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=le(this,tn).build(this,t);return n.isStaleByTime(Rw(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(gi).catch(gi)}fetchInfiniteQuery(e){return e.behavior=vA(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(gi).catch(gi)}ensureInfiniteQueryData(e){return e.behavior=vA(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Qm.isOnline()?le(this,wo).resumePausedMutations():Promise.resolve()}getQueryCache(){return le(this,tn)}getMutationCache(){return le(this,wo)}getDefaultOptions(){return le(this,_o)}setDefaultOptions(e){qe(this,_o,e)}setQueryDefaults(e,t){le(this,Tc).set(_f(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...le(this,Tc).values()],n={};return t.forEach(r=>{Sf(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){le(this,Oc).set(_f(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...le(this,Oc).values()],n={};return t.forEach(r=>{Sf(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...le(this,_o).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=fj(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===hj&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...le(this,_o).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){le(this,tn).clear(),le(this,wo).clear()}},tn=new WeakMap,wo=new WeakMap,_o=new WeakMap,Tc=new WeakMap,Oc=new WeakMap,So=new WeakMap,Ic=new WeakMap,Rc=new WeakMap,fI),dK=g.createContext(void 0),fK=({client:e,children:t})=>(g.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(dK.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jf(){return jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jf.apply(this,arguments)}var Eo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Eo||(Eo={}));const xA="popstate";function hK(e){e===void 0&&(e={});function t(r,i){let{pathname:a,search:o,hash:s}=r.location;return Dw("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Jm(i)}return mK(t,n,null,e)}function pn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function t$(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function pK(){return Math.random().toString(36).substr(2,8)}function bA(e,t){return{usr:e.state,key:e.key,idx:t}}function Dw(e,t,n,r){return n===void 0&&(n=null),jf({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Pu(t):t,{state:n,key:t&&t.key||r||pK()})}function Jm(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Pu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function mK(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=Eo.Pop,c=null,u=f();u==null&&(u=0,o.replaceState(jf({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function d(){s=Eo.Pop;let y=f(),x=y==null?null:y-u;u=y,c&&c({action:s,location:v.location,delta:x})}function h(y,x){s=Eo.Push;let w=Dw(v.location,y,x);u=f()+1;let b=bA(w,u),j=v.createHref(w);try{o.pushState(b,"",j)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(j)}a&&c&&c({action:s,location:v.location,delta:1})}function p(y,x){s=Eo.Replace;let w=Dw(v.location,y,x);u=f();let b=bA(w,u),j=v.createHref(w);o.replaceState(b,"",j),a&&c&&c({action:s,location:v.location,delta:0})}function m(y){let x=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof y=="string"?y:Jm(y);return w=w.replace(/ $/,"%20"),pn(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let v={get action(){return s},get location(){return e(i,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(xA,d),c=y,()=>{i.removeEventListener(xA,d),c=null}},createHref(y){return t(i,y)},createURL:m,encodeLocation(y){let x=m(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(y){return o.go(y)}};return v}var wA;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(wA||(wA={}));function gK(e,t,n){return n===void 0&&(n="/"),vK(e,t,n,!1)}function vK(e,t,n,r){let i=typeof t=="string"?Pu(t):t,a=pj(i.pathname||"/",n);if(a==null)return null;let o=n$(e);yK(o);let s=null;for(let c=0;s==null&&c<o.length;++c){let u=NK(a);s=EK(o[c],u,r)}return s}function n$(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,s)=>{let c={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(pn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=$o([r,c.relativePath]),f=n.concat(c);a.children&&a.children.length>0&&(pn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),n$(a.children,t,f,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:kK(u,a.index),routesMeta:f})};return e.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let c of r$(a.path))i(a,o,c)}),t}function r$(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=r$(r.join("/")),s=[];return s.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&s.push(...o),s.map(c=>e.startsWith("/")&&c===""?"/":c)}function yK(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:CK(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const xK=/^:[\w-]+$/,bK=3,wK=2,_K=1,SK=10,jK=-2,_A=e=>e==="*";function kK(e,t){let n=e.split("/"),r=n.length;return n.some(_A)&&(r+=jK),t&&(r+=wK),n.filter(i=>!_A(i)).reduce((i,a)=>i+(xK.test(a)?bK:a===""?_K:SK),r)}function CK(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function EK(e,t,n){let{routesMeta:r}=e,i={},a="/",o=[];for(let s=0;s<r.length;++s){let c=r[s],u=s===r.length-1,f=a==="/"?t:t.slice(a.length)||"/",d=SA({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),h=c.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=SA({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:$o([a,d.pathname]),pathnameBase:IK($o([a,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(a=$o([a,d.pathnameBase]))}return o}function SA(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=AK(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,f,d)=>{let{paramName:h,isOptional:p}=f;if(h==="*"){let v=s[d]||"";o=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const m=s[d];return p&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function AK(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),t$(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,c)=>(r.push({paramName:s,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function NK(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return t$(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function pj(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function PK(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Pu(e):e;return{pathname:n?n.startsWith("/")?n:TK(n,t):t,search:RK(r),hash:MK(i)}}function TK(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function o0(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function OK(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function i$(e,t){let n=OK(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function a$(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Pu(e):(i=jf({},e),pn(!i.pathname||!i.pathname.includes("?"),o0("?","pathname","search",i)),pn(!i.pathname||!i.pathname.includes("#"),o0("#","pathname","hash",i)),pn(!i.search||!i.search.includes("#"),o0("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}s=d>=0?t[d]:"/"}let c=PK(i,s),u=o&&o!=="/"&&o.endsWith("/"),f=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const $o=e=>e.join("/").replace(/\/\/+/g,"/"),IK=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),RK=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,MK=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function DK(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const o$=["post","put","patch","delete"];new Set(o$);const $K=["get",...o$];new Set($K);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kf(){return kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kf.apply(this,arguments)}const mj=g.createContext(null),LK=g.createContext(null),hl=g.createContext(null),Jv=g.createContext(null),Jo=g.createContext({outlet:null,matches:[],isDataRoute:!1}),s$=g.createContext(null);function FK(e,t){let{relative:n}=t===void 0?{}:t;Ah()||pn(!1);let{basename:r,navigator:i}=g.useContext(hl),{hash:a,pathname:o,search:s}=c$(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:$o([r,o])),i.createHref({pathname:c,search:s,hash:a})}function Ah(){return g.useContext(Jv)!=null}function Zo(){return Ah()||pn(!1),g.useContext(Jv).location}function l$(e){g.useContext(hl).static||g.useLayoutEffect(e)}function Ya(){let{isDataRoute:e}=g.useContext(Jo);return e?ZK():BK()}function BK(){Ah()||pn(!1);let e=g.useContext(mj),{basename:t,future:n,navigator:r}=g.useContext(hl),{matches:i}=g.useContext(Jo),{pathname:a}=Zo(),o=JSON.stringify(i$(i,n.v7_relativeSplatPath)),s=g.useRef(!1);return l$(()=>{s.current=!0}),g.useCallback(function(u,f){if(f===void 0&&(f={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let d=a$(u,JSON.parse(o),a,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:$o([t,d.pathname])),(f.replace?r.replace:r.push)(d,f.state,f)},[t,r,o,a,e])}function UK(){let{matches:e}=g.useContext(Jo),t=e[e.length-1];return t?t.params:{}}function c$(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=g.useContext(hl),{matches:i}=g.useContext(Jo),{pathname:a}=Zo(),o=JSON.stringify(i$(i,r.v7_relativeSplatPath));return g.useMemo(()=>a$(e,JSON.parse(o),a,n==="path"),[e,o,a,n])}function zK(e,t){return WK(e,t)}function WK(e,t,n,r){Ah()||pn(!1);let{navigator:i}=g.useContext(hl),{matches:a}=g.useContext(Jo),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Zo(),f;if(t){var d;let y=typeof t=="string"?Pu(t):t;c==="/"||(d=y.pathname)!=null&&d.startsWith(c)||pn(!1),f=y}else f=u;let h=f.pathname||"/",p=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=gK(e,{pathname:p}),v=GK(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},s,y.params),pathname:$o([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:$o([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,n,r);return t&&v?g.createElement(Jv.Provider,{value:{location:kf({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Eo.Pop}},v):v}function HK(){let e=JK(),t=DK(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),n?g.createElement("pre",{style:i},n):null,null)}const qK=g.createElement(HK,null);class VK extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?g.createElement(Jo.Provider,{value:this.props.routeContext},g.createElement(s$.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function KK(e){let{routeContext:t,match:n,children:r}=e,i=g.useContext(mj);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(Jo.Provider,{value:t},r)}function GK(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,s=(i=n)==null?void 0:i.errors;if(s!=null){let f=o.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);f>=0||pn(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let d=o[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:h,errors:p}=n,m=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,d,h)=>{let p,m=!1,v=null,y=null;n&&(p=s&&d.route.id?s[d.route.id]:void 0,v=d.route.errorElement||qK,c&&(u<0&&h===0?(m=!0,y=null):u===h&&(m=!0,y=d.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,h+1)),w=()=>{let b;return p?b=v:m?b=y:d.route.Component?b=g.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=f,g.createElement(KK,{match:d,routeContext:{outlet:f,matches:x,isDataRoute:n!=null},children:b})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?g.createElement(VK,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var u$=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(u$||{}),Zm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Zm||{});function YK(e){let t=g.useContext(mj);return t||pn(!1),t}function XK(e){let t=g.useContext(LK);return t||pn(!1),t}function QK(e){let t=g.useContext(Jo);return t||pn(!1),t}function d$(e){let t=QK(),n=t.matches[t.matches.length-1];return n.route.id||pn(!1),n.route.id}function JK(){var e;let t=g.useContext(s$),n=XK(Zm.UseRouteError),r=d$(Zm.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function ZK(){let{router:e}=YK(u$.UseNavigateStable),t=d$(Zm.UseNavigateStable),n=g.useRef(!1);return l$(()=>{n.current=!0}),g.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,kf({fromRouteId:t},a)))},[e,t])}function eG(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function fi(e){pn(!1)}function tG(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Eo.Pop,navigator:a,static:o=!1,future:s}=e;Ah()&&pn(!1);let c=t.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:c,navigator:a,static:o,future:kf({v7_relativeSplatPath:!1},s)}),[c,s,a,o]);typeof r=="string"&&(r=Pu(r));let{pathname:f="/",search:d="",hash:h="",state:p=null,key:m="default"}=r,v=g.useMemo(()=>{let y=pj(f,c);return y==null?null:{location:{pathname:y,search:d,hash:h,state:p,key:m},navigationType:i}},[c,f,d,h,p,m,i]);return v==null?null:g.createElement(hl.Provider,{value:u},g.createElement(Jv.Provider,{children:n,value:v}))}function nG(e){let{children:t,location:n}=e;return zK($w(t),n)}new Promise(()=>{});function $w(e,t){t===void 0&&(t=[]);let n=[];return g.Children.forEach(e,(r,i)=>{if(!g.isValidElement(r))return;let a=[...t,i];if(r.type===g.Fragment){n.push.apply(n,$w(r.props.children,a));return}r.type!==fi&&pn(!1),!r.props.index||!r.props.children||pn(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=$w(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lw(){return Lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lw.apply(this,arguments)}function rG(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function iG(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function aG(e,t){return e.button===0&&(!t||t==="_self")&&!iG(e)}function Fw(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function oG(e,t){let n=Fw(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(a=>{n.append(i,a)})}),n}const sG=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],lG="6";try{window.__reactRouterVersion=lG}catch{}const cG="startTransition",jA=tS[cG];function uG(e){let{basename:t,children:n,future:r,window:i}=e,a=g.useRef();a.current==null&&(a.current=hK({window:i,v5Compat:!0}));let o=a.current,[s,c]=g.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},f=g.useCallback(d=>{u&&jA?jA(()=>c(d)):c(d)},[c,u]);return g.useLayoutEffect(()=>o.listen(f),[o,f]),g.useEffect(()=>eG(r),[r]),g.createElement(tG,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o,future:r})}const dG=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fG=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kA=g.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:a,replace:o,state:s,target:c,to:u,preventScrollReset:f,viewTransition:d}=t,h=rG(t,sG),{basename:p}=g.useContext(hl),m,v=!1;if(typeof u=="string"&&fG.test(u)&&(m=u,dG))try{let b=new URL(window.location.href),j=u.startsWith("//")?new URL(b.protocol+u):new URL(u),_=pj(j.pathname,p);j.origin===b.origin&&_!=null?u=_+j.search+j.hash:v=!0}catch{}let y=FK(u,{relative:i}),x=hG(u,{replace:o,state:s,target:c,preventScrollReset:f,relative:i,viewTransition:d});function w(b){r&&r(b),b.defaultPrevented||x(b)}return g.createElement("a",Lw({},h,{href:m||y,onClick:v||a?r:w,ref:n,target:c}))});var CA;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(CA||(CA={}));var EA;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(EA||(EA={}));function hG(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o,viewTransition:s}=t===void 0?{}:t,c=Ya(),u=Zo(),f=c$(e,{relative:o});return g.useCallback(d=>{if(aG(d,n)){d.preventDefault();let h=r!==void 0?r:Jm(u)===Jm(f);c(e,{replace:h,state:i,preventScrollReset:a,relative:o,viewTransition:s})}},[u,c,f,r,i,n,e,a,o,s])}function pG(e){let t=g.useRef(Fw(e)),n=g.useRef(!1),r=Zo(),i=g.useMemo(()=>oG(r.search,n.current?null:t.current),[r.search]),a=Ya(),o=g.useCallback((s,c)=>{const u=Fw(typeof s=="function"?s(i):s);n.current=!0,a("?"+u,c)},[a,i]);return[i,o]}const mG="modulepreload",gG=function(e){return"/"+e},AA={},Nh=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=gG(c),c in AA)return;AA[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":mG,u||(d.as="script"),d.crossOrigin="",d.href=c,s&&d.setAttribute("nonce",s),document.head.appendChild(d),u)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return t().catch(a)})},vG=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Nh(async()=>{const{default:r}=await Promise.resolve().then(()=>Tu);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class gj extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class yG extends gj{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class NA extends gj{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class PA extends gj{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Bw;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Bw||(Bw={}));var xG=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(f){try{u(r.next(f))}catch(d){o(d)}}function c(f){try{u(r.throw(f))}catch(d){o(d)}}function u(f){f.done?a(f.value):i(f.value).then(s,c)}u((r=r.apply(e,t||[])).next())})};class bG{constructor(t,{headers:n={},customFetch:r,region:i=Bw.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=vG(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return xG(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o}=n;let s={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(s["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let f;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(s["Content-Type"]="application/octet-stream",f=o):typeof o=="string"?(s["Content-Type"]="text/plain",f=o):typeof FormData<"u"&&o instanceof FormData?f=o:(s["Content-Type"]="application/json",f=JSON.stringify(o)));const d=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},s),this.headers),i),body:f}).catch(v=>{throw new yG(v)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new NA(d);if(!d.ok)throw new PA(d);let p=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return p==="application/json"?m=yield d.json():p==="application/octet-stream"?m=yield d.blob():p==="text/event-stream"?m=d:p==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null,response:d}}catch(i){return{data:null,error:i,response:i instanceof PA||i instanceof NA?i.context:void 0}}})}}var pr={},vj={},Zv={},Ph={},ey={},ty={},wG=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Hc=wG();const _G=Hc.fetch,f$=Hc.fetch.bind(Hc),h$=Hc.Headers,SG=Hc.Request,jG=Hc.Response,Tu=Object.freeze(Object.defineProperty({__proto__:null,Headers:h$,Request:SG,Response:jG,default:f$,fetch:_G},Symbol.toStringTag,{value:"Module"})),kG=Vz(Tu);var ny={};Object.defineProperty(ny,"__esModule",{value:!0});let CG=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ny.default=CG;var p$=hn&&hn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ty,"__esModule",{value:!0});const EG=p$(kG),AG=p$(ny);let NG=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=EG.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,s,c;let u=null,f=null,d=null,h=a.status,p=a.statusText;if(a.ok){if(this.method!=="HEAD"){const x=await a.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?f=x:f=JSON.parse(x))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(s=a.headers.get("content-range"))===null||s===void 0?void 0:s.split("/");v&&y&&y.length>1&&(d=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,d=null,h=406,p="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const v=await a.text();try{u=JSON.parse(v),Array.isArray(u)&&a.status===404&&(f=[],u=null,h=200,p="OK")}catch{a.status===404&&v===""?(h=204,p="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new AG.default(u)}return{error:u,data:f,count:d,status:h,statusText:p}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,s,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(s=a==null?void 0:a.stack)!==null&&s!==void 0?s:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};ty.default=NG;var PG=hn&&hn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ey,"__esModule",{value:!0});const TG=PG(ty);let OG=class extends TG.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",s=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${s?`${s},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var s;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(s=this.headers.Accept)!==null&&s!==void 0?s:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ey.default=OG;var IG=hn&&hn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ph,"__esModule",{value:!0});const RG=IG(ey);let MG=class extends RG.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Ph.default=MG;var DG=hn&&hn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zv,"__esModule",{value:!0});const sd=DG(Ph);let $G=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=n,this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new sd.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),r||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const o=t.reduce((s,c)=>s.concat(Object.keys(c)),[]);if(o.length>0){const s=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",s.join(","))}}return new sd.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){const o="POST",s=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&s.push(this.headers.Prefer),i&&s.push(`count=${i}`),a||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const c=t.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new sd.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new sd.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new sd.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Zv.default=$G;var ry={},iy={};Object.defineProperty(iy,"__esModule",{value:!0});iy.version=void 0;iy.version="0.0.0-automated";Object.defineProperty(ry,"__esModule",{value:!0});ry.DEFAULT_HEADERS=void 0;const LG=iy;ry.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${LG.version}`};var m$=hn&&hn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vj,"__esModule",{value:!0});const FG=m$(Zv),BG=m$(Ph),UG=ry;let zG=class g${constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},UG.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new FG.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new g$(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:a}={}){let o;const s=new URL(`${this.url}/rpc/${t}`);let c;r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([f,d])=>d!==void 0).map(([f,d])=>[f,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([f,d])=>{s.searchParams.append(f,d)})):(o="POST",c=n);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new BG.default({method:o,url:s,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};vj.default=zG;var Ou=hn&&hn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pr,"__esModule",{value:!0});pr.PostgrestError=pr.PostgrestBuilder=pr.PostgrestTransformBuilder=pr.PostgrestFilterBuilder=pr.PostgrestQueryBuilder=pr.PostgrestClient=void 0;const v$=Ou(vj);pr.PostgrestClient=v$.default;const y$=Ou(Zv);pr.PostgrestQueryBuilder=y$.default;const x$=Ou(Ph);pr.PostgrestFilterBuilder=x$.default;const b$=Ou(ey);pr.PostgrestTransformBuilder=b$.default;const w$=Ou(ty);pr.PostgrestBuilder=w$.default;const _$=Ou(ny);pr.PostgrestError=_$.default;var WG=pr.default={PostgrestClient:v$.default,PostgrestQueryBuilder:y$.default,PostgrestFilterBuilder:x$.default,PostgrestTransformBuilder:b$.default,PostgrestBuilder:w$.default,PostgrestError:_$.default};const{PostgrestClient:HG,PostgrestQueryBuilder:EDe,PostgrestFilterBuilder:ADe,PostgrestTransformBuilder:NDe,PostgrestBuilder:PDe,PostgrestError:TDe}=WG;class qG{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const VG="2.15.1",KG=`realtime-js/${VG}`,GG="1.0.0",Uw=1e4,YG=1e3,XG=100;var Hd;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Hd||(Hd={}));var xn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(xn||(xn={}));var bi;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(bi||(bi={}));var zw;(function(e){e.websocket="websocket"})(zw||(zw={}));var Ss;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ss||(Ss={}));class QG{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const s=r.decode(t.slice(o,o+i));o=o+i;const c=r.decode(t.slice(o,o+a));o=o+a;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:s,event:c,payload:u}}}class S${constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Lt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Lt||(Lt={}));const TA=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((a,o)=>(a[o]=JG(o,e,t,i),a),{})},JG=(e,t,n,r)=>{const i=t.find(s=>s.name===e),a=i==null?void 0:i.type,o=n[e];return a&&!r.includes(a)?j$(a,o):Ww(o)},j$=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return nY(t,n)}switch(e){case Lt.bool:return ZG(t);case Lt.float4:case Lt.float8:case Lt.int2:case Lt.int4:case Lt.int8:case Lt.numeric:case Lt.oid:return eY(t);case Lt.json:case Lt.jsonb:return tY(t);case Lt.timestamp:return rY(t);case Lt.abstime:case Lt.date:case Lt.daterange:case Lt.int4range:case Lt.int8range:case Lt.money:case Lt.reltime:case Lt.text:case Lt.time:case Lt.timestamptz:case Lt.timetz:case Lt.tsrange:case Lt.tstzrange:return Ww(t);default:return Ww(t)}},Ww=e=>e,ZG=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},eY=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},tY=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},nY=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>j$(t,s))}return e},rY=e=>typeof e=="string"?e.replace(" ","T"):e,k$=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class s0{constructor(t,n,r={},i=Uw){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var OA;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(OA||(OA={}));class qd{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=qd.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=qd.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=qd.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),o=this.transformState(n),s={},c={};return this.map(a,(u,f)=>{o[u]||(c[u]=f)}),this.map(o,(u,f)=>{const d=a[u];if(d){const h=f.map(y=>y.presence_ref),p=d.map(y=>y.presence_ref),m=f.filter(y=>p.indexOf(y.presence_ref)<0),v=d.filter(y=>h.indexOf(y.presence_ref)<0);m.length>0&&(s[u]=m),v.length>0&&(c[u]=v)}else s[u]=f}),this.syncDiff(a,{joins:s,leaves:c},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(s,c)=>{var u;const f=(u=t[s])!==null&&u!==void 0?u:[];if(t[s]=this.cloneDeep(c),f.length>0){const d=t[s].map(p=>p.presence_ref),h=f.filter(p=>d.indexOf(p.presence_ref)<0);t[s].unshift(...h)}r(s,f,c)}),this.map(o,(s,c)=>{let u=t[s];if(!u)return;const f=c.map(d=>d.presence_ref);u=u.filter(d=>f.indexOf(d.presence_ref)<0),t[s]=u,i(s,u,c),u.length===0&&delete t[s]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var IA;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(IA||(IA={}));var Vd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Vd||(Vd={}));var wa;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(wa||(wa={}));class yj{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=xn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new s0(this,bi.join,this.params,this.timeout),this.rejoinTimer=new S$(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xn.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=xn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=xn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(bi.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new qd(this),this.broadcastEndpointURL=k$(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==xn.closed){const{config:{broadcast:a,presence:o,private:s}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Vd.PRESENCE]&&this.bindings[Vd.PRESENCE].length>0,f={},d={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:c,private:s};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(wa.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(wa.CLOSED)),this.updateJoinPayload(Object.assign({config:d},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var p;if(this.socket.setAuth(),h===void 0){t==null||t(wa.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,v=(p=m==null?void 0:m.length)!==null&&p!==void 0?p:0,y=[];for(let x=0;x<v;x++){const w=m[x],{filter:{event:b,schema:j,table:_,filter:S}}=w,k=h&&h[x];if(k&&k.event===b&&k.schema===j&&k.table===_&&k.filter===S)y.push(Object.assign(Object.assign({},w),{id:k.id}));else{this.unsubscribe(),this.state=xn.errored,t==null||t(wa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(wa.SUBSCRIBED);return}}).receive("error",h=>{this.state=xn.errored,t==null||t(wa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(wa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===xn.joined&&t===Vd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=xn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(bi.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new s0(this,bi.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=xn.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new s0(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>XG){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const o=t.toLocaleLowerCase(),{close:s,error:c,leave:u,join:f}=bi;if(r&&[s,c,u,f].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var m,v,y;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((y=(v=p.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(p=>p.callback(h,r)):(a=this.bindings[o])===null||a===void 0||a.filter(p=>{var m,v,y,x,w,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const j=p.id,_=(m=p.filter)===null||m===void 0?void 0:m.event;return j&&((v=n.ids)===null||v===void 0?void 0:v.includes(j))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const j=(w=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return j==="*"||j===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:v,table:y,commit_timestamp:x,type:w,errors:b}=m;h=Object.assign(Object.assign({},{schema:v,table:y,commit_timestamp:x,eventType:w,new:{},old:{},errors:b}),this._getPayloadRecords(m))}p.callback(h,r)})}_isClosed(){return this.state===xn.closed}_isJoined(){return this.state===xn.joined}_isJoining(){return this.state===xn.joining}_isLeaving(){return this.state===xn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&yj.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(bi.close,{},t)}_onError(t){this._on(bi.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=TA(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=TA(t.columns,t.old_record)),n}}const RA=()=>{},jp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},iY=[1e3,2e3,5e3,1e4],aY=1e4,oY=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class sY{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Uw,this.transport=null,this.heartbeatIntervalMs=jp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=RA,this.ref=0,this.reconnectTimer=null,this.logger=RA,this.conn=null,this.sendBuffer=[],this.serializer=new QG,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>Nh(async()=>{const{default:s}=await Promise.resolve().then(()=>Tu);return{default:s}},void 0).then(({default:s})=>s(...o)).catch(s=>{throw new Error(`Failed to load @supabase/node-fetch: ${s.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${zw.websocket}`,this.httpEndpoint=k$(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=qG.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:GG}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Hd.connecting:return Ss.Connecting;case Hd.open:return Ss.Open;case Hd.closing:return Ss.Closing;default:return Ss.Closed}}isConnected(){return this.connectionState()===Ss.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new yj(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,o=()=>{this.encode(t,s=>{var c;(c=this.conn)===null||c===void 0||c.send(s)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(YG,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},jp.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{n.topic==="phoenix"&&n.event==="phx_reply"&&this.heartbeatCallback(n.payload.status==="ok"?"ok":"error"),n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:o}=n,s=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${r} ${i} ${s}`.trim(),a),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(bi.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([oY],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:KG};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(bi.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new S$(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},jp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,o,s,c,u;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Uw,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:jp.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(s=t==null?void 0:t.reconnectAfterMs)!==null&&s!==void 0?s:f=>iY[f-1]||aY,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(f,d)=>d(JSON.stringify(f)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class xj extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function bn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class lY extends xj{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Hw extends xj{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var cY=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(f){try{u(r.next(f))}catch(d){o(d)}}function c(f){try{u(r.throw(f))}catch(d){o(d)}}function u(f){f.done?a(f.value):i(f.value).then(s,c)}u((r=r.apply(e,t||[])).next())})};const C$=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Nh(async()=>{const{default:r}=await Promise.resolve().then(()=>Tu);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},uY=()=>cY(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Nh(()=>Promise.resolve().then(()=>Tu),void 0)).Response:Response}),qw=e=>{if(Array.isArray(e))return e.map(n=>qw(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=qw(r)}),t},dY=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var pl=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(f){try{u(r.next(f))}catch(d){o(d)}}function c(f){try{u(r.throw(f))}catch(d){o(d)}}function u(f){f.done?a(f.value):i(f.value).then(s,c)}u((r=r.apply(e,t||[])).next())})};const l0=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),fY=(e,t,n)=>pl(void 0,void 0,void 0,function*(){const r=yield uY();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const a=e.status||500,o=(i==null?void 0:i.statusCode)||a+"";t(new lY(l0(i),a,o))}).catch(i=>{t(new Hw(l0(i),i))}):t(new Hw(l0(e),e))}),hY=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(dY(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function Th(e,t,n,r,i,a){return pl(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(n,hY(t,r,i,a)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>fY(c,s,r))})})}function eg(e,t,n,r){return pl(this,void 0,void 0,function*(){return Th(e,"GET",t,n,r)})}function Ui(e,t,n,r,i){return pl(this,void 0,void 0,function*(){return Th(e,"POST",t,r,i,n)})}function Vw(e,t,n,r,i){return pl(this,void 0,void 0,function*(){return Th(e,"PUT",t,r,i,n)})}function pY(e,t,n,r){return pl(this,void 0,void 0,function*(){return Th(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function E$(e,t,n,r,i){return pl(this,void 0,void 0,function*(){return Th(e,"DELETE",t,r,i,n)})}var Xn=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(f){try{u(r.next(f))}catch(d){o(d)}}function c(f){try{u(r.throw(f))}catch(d){o(d)}}function u(f){f.done?a(f.value):i(f.value).then(s,c)}u((r=r.apply(e,t||[])).next())})};const mY={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},MA={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class gY{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=C$(i)}uploadOrUpdate(t,n,r,i){return Xn(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},MA),i);let s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=r,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,c&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const u=this._removeEmptyFolders(n),f=this._getFinalPath(u),d=yield(t=="PUT"?Vw:Ui)(this.fetch,`${this.url}/object/${f}`,a,Object.assign({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(a){if(bn(a))return{data:null,error:a};throw a}})}upload(t,n,r){return Xn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Xn(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:MA.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const d=yield Vw(this.fetch,s.toString(),c,{headers:f});return{data:{path:a,fullPath:d.Key},error:null}}catch(c){if(bn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Xn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield Ui(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),s=o.searchParams.get("token");if(!s)throw new xj("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:s},error:null}}catch(r){if(bn(r))return{data:null,error:r};throw r}})}update(t,n,r){return Xn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Xn(this,void 0,void 0,function*(){try{return{data:yield Ui(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(bn(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Xn(this,void 0,void 0,function*(){try{return{data:{path:(yield Ui(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(bn(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Xn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Ui(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(bn(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Xn(this,void 0,void 0,function*(){try{const i=yield Ui(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(bn(i))return{data:null,error:i};throw i}})}download(t,n){return Xn(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"";try{const s=this._getFinalPath(t);return{data:yield(yield eg(this.fetch,`${this.url}/${i}/${s}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(s){if(bn(s))return{data:null,error:s};throw s}})}info(t){return Xn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield eg(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:qw(r),error:null}}catch(r){if(bn(r))return{data:null,error:r};throw r}})}exists(t){return Xn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield pY(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(bn(r)&&r instanceof Hw){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const s=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${u}`)}}}remove(t){return Xn(this,void 0,void 0,function*(){try{return{data:yield E$(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(bn(n))return{data:null,error:n};throw n}})}list(t,n,r){return Xn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},mY),n),{prefix:t||""});return{data:yield Ui(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(bn(i))return{data:null,error:i};throw i}})}listV2(t,n){return Xn(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Ui(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(bn(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const vY="2.11.0",yY={"X-Client-Info":`storage-js/${vY}`};var jl=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(f){try{u(r.next(f))}catch(d){o(d)}}function c(f){try{u(r.throw(f))}catch(d){o(d)}}function u(f){f.done?a(f.value):i(f.value).then(s,c)}u((r=r.apply(e,t||[])).next())})};class xY{constructor(t,n={},r,i){const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},yY),n),this.fetch=C$(r)}listBuckets(){return jl(this,void 0,void 0,function*(){try{return{data:yield eg(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(bn(t))return{data:null,error:t};throw t}})}getBucket(t){return jl(this,void 0,void 0,function*(){try{return{data:yield eg(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(bn(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return jl(this,void 0,void 0,function*(){try{return{data:yield Ui(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(bn(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return jl(this,void 0,void 0,function*(){try{return{data:yield Vw(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(bn(r))return{data:null,error:r};throw r}})}emptyBucket(t){return jl(this,void 0,void 0,function*(){try{return{data:yield Ui(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(bn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return jl(this,void 0,void 0,function*(){try{return{data:yield E$(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(bn(n))return{data:null,error:n};throw n}})}}class bY extends xY{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new gY(this.url,this.headers,t,this.fetch)}}const wY="2.55.0";let Pd="";typeof Deno<"u"?Pd="deno":typeof document<"u"?Pd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Pd="react-native":Pd="node";const _Y={"X-Client-Info":`supabase-js-${Pd}/${wY}`},SY={headers:_Y},jY={schema:"public"},kY={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},CY={};var EY=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(f){try{u(r.next(f))}catch(d){o(d)}}function c(f){try{u(r.throw(f))}catch(d){o(d)}}function u(f){f.done?a(f.value):i(f.value).then(s,c)}u((r=r.apply(e,t||[])).next())})};const AY=e=>{let t;return e?t=e:typeof fetch>"u"?t=f$:t=fetch,(...n)=>t(...n)},NY=()=>typeof Headers>"u"?h$:Headers,PY=(e,t,n)=>{const r=AY(n),i=NY();return(a,o)=>EY(void 0,void 0,void 0,function*(){var s;const c=(s=yield t())!==null&&s!==void 0?s:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(a,Object.assign(Object.assign({},o),{headers:u}))})};var TY=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(f){try{u(r.next(f))}catch(d){o(d)}}function c(f){try{u(r.throw(f))}catch(d){o(d)}}function u(f){f.done?a(f.value):i(f.value).then(s,c)}u((r=r.apply(e,t||[])).next())})};function OY(e){return e.endsWith("/")?e:e+"/"}function IY(e,t){var n,r;const{db:i,auth:a,realtime:o,global:s}=e,{db:c,auth:u,realtime:f,global:d}=t,h={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},f),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),s),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>TY(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const A$="2.71.1",Fl=30*1e3,Kw=3,c0=Kw*Fl,RY="http://localhost:9999",MY="supabase.auth.token",DY={"X-Client-Info":`gotrue-js/${A$}`},Gw="X-Supabase-Api-Version",N$={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$Y=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,LY=10*60*1e3;class bj extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ve(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class FY extends bj{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function BY(e){return Ve(e)&&e.name==="AuthApiError"}class P$ extends bj{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class es extends bj{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class uo extends es{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function UY(e){return Ve(e)&&e.name==="AuthSessionMissingError"}class kp extends es{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Cp extends es{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ep extends es{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function zY(e){return Ve(e)&&e.name==="AuthImplicitGrantRedirectError"}class DA extends es{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Yw extends es{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function u0(e){return Ve(e)&&e.name==="AuthRetryableFetchError"}class $A extends es{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Xw extends es{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const tg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),LA=` 	
\r=`.split(""),WY=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<LA.length;t+=1)e[LA[t].charCodeAt(0)]=-2;for(let t=0;t<tg.length;t+=1)e[tg[t].charCodeAt(0)]=t;return e})();function FA(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(tg[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(tg[r]),t.queuedBits-=6}}function T$(e,t,n){const r=WY[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function BA(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{VY(o,r,n)};for(let o=0;o<e.length;o+=1)T$(e.charCodeAt(o),i,a);return t.join("")}function HY(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function qY(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}HY(r,t)}}function VY(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function KY(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)T$(e.charCodeAt(i),n,r);return new Uint8Array(t)}function GY(e){const t=[];return qY(e,n=>t.push(n)),new Uint8Array(t)}function YY(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>FA(i,n,r)),FA(null,n,r),t.join("")}function XY(e){return Math.round(Date.now()/1e3)+e}function QY(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const hi=()=>typeof window<"u"&&typeof document<"u",ds={tested:!1,writable:!1},O$=()=>{if(!hi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ds.tested)return ds.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ds.tested=!0,ds.writable=!0}catch{ds.tested=!0,ds.writable=!1}return ds.writable};function JY(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const I$=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Nh(async()=>{const{default:r}=await Promise.resolve().then(()=>Tu);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},ZY=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Bl=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},fs=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ao=async(e,t)=>{await e.removeItem(t)};class ay{constructor(){this.promise=new ay.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}ay.promiseConstructor=Promise;function d0(e){const t=e.split(".");if(t.length!==3)throw new Xw("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!$Y.test(t[r]))throw new Xw("JWT not in base64url format");return{header:JSON.parse(BA(t[0])),payload:JSON.parse(BA(t[1])),signature:KY(t[2]),raw:{header:t[0],payload:t[1]}}}async function eX(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function tX(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function nX(e){return("0"+e.toString(16)).substr(-2)}function rX(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,nX).join("")}async function iX(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function aX(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await iX(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function kl(e,t,n=!1){const r=rX();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Bl(e,`${t}-code-verifier`,i);const a=await aX(r);return[a,r===a?"plain":"s256"]}const oX=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function sX(e){const t=e.headers.get(Gw);if(!t||!t.match(oX))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function lX(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function cX(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const uX=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Cl(e){if(!uX.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function f0(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function UA(e){return JSON.parse(JSON.stringify(e))}var dX=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const vs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),fX=[502,503,504];async function zA(e){var t;if(!ZY(e))throw new Yw(vs(e),0);if(fX.includes(e.status))throw new Yw(vs(e),e.status);let n;try{n=await e.json()}catch(a){throw new P$(vs(a),a)}let r;const i=sX(e);if(i&&i.getTime()>=N$["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new $A(vs(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new uo}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new $A(vs(n),e.status,n.weak_password.reasons);throw new FY(vs(n),e.status||500,r)}const hX=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function nt(e,t,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[Gw]||(a[Gw]=N$["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await pX(e,t,n+s,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function pX(e,t,n,r,i,a){const o=hX(t,r,i,a);let s;try{s=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new Yw(vs(c),0)}if(s.ok||await zA(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(c){await zA(c)}}function xa(e){var t;let n=null;yX(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=XY(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function WA(e){const t=xa(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function yo(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function mX(e){return{data:e,error:null}}function gX(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,o=dX(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:s,user:c},error:null}}function vX(e){return e}function yX(e){return e.access_token&&e.refresh_token&&e.expires_in}const h0=["global","local","others"];var xX=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class bX{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=I$(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=h0[0]){if(h0.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${h0.join(", ")}`);try{return await nt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await nt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:yo})}catch(r){if(Ve(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=xX(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await nt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:gX,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ve(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await nt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:yo})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,o,s,c;try{const u={nextPage:null,lastPage:0,total:0},f=await nt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:vX});if(f.error)throw f.error;const d=await f.json(),h=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(s=f.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(m=>{const v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(m.split(";")[1].split("=")[1]);u[`${y}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(Ve(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Cl(t);try{return await nt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:yo})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Cl(t);try{return await nt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:yo})}catch(r){if(Ve(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Cl(t);try{return await nt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:yo})}catch(r){if(Ve(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Cl(t.userId);try{const{data:n,error:r}=await nt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Cl(t.userId),Cl(t.id);try{return{data:await nt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}}}function HA(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function wX(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const El={debug:!!(globalThis&&O$()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class R$ extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class _X extends R${}async function SX(e,t,n){El.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),El.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){El.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{El.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw El.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new _X(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(El.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}wX();const jX={url:RY,storageKey:MY,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DY,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function qA(e,t,n){return await n()}const Al={};class Cf{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Cf.nextInstanceID,Cf.nextInstanceID+=1,this.instanceID>0&&hi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},jX),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new bX({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=I$(i.fetch),this.lock=i.lock||qA,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:hi()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=SX:this.lock=qA,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:O$()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=HA(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=HA(this.memoryStorage)),hi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Al[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Al[this.storageKey]=Object.assign(Object.assign({},Al[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Al[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Al[this.storageKey]=Object.assign(Object.assign({},Al[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${A$}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=JY(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),hi()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),zY(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ve(n)?{error:n}:{error:new P$("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:xa}),{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Ve(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:f,password:d,options:h}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await kl(this.storage,this.storageKey)),a=await nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:f,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:xa})}else if("phone"in t){const{phone:f,password:d,options:h}=t;a=await nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:xa})}else throw new Cp("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Ve(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:s}=t;n=await nt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:WA})}else if("phone"in t){const{phone:a,password:o,options:s}=t;n=await nt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:WA})}else throw new Cp("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new kp}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ve(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,i,a,o,s,c,u,f,d,h,p;let m,v;if("message"in t)m=t.message,v=t.signature;else{const{chain:y,wallet:x,statement:w,options:b}=t;let j;if(hi())if(typeof x=="object")j=x;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))j=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=x}const _=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in j&&j.signIn){const S=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),w?{statement:w}:null));let k;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")k=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)k=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)m=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),v=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${_.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(i=(r=b==null?void 0:b.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((d=(f=b==null?void 0:b.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||d===void 0)&&d.length?["Resources",...b.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const S=await j.signMessage(new TextEncoder().encode(m),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=S}}try{const{data:y,error:x}=await nt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:YY(v)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:xa});if(x)throw x;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new kp}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:x})}catch(y){if(Ve(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const n=await fs(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await nt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:xa});if(await ao(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new kp}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(Ve(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=t,s=await nt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:xa}),{data:c,error:u}=s;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new kp}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(Ve(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,a,o;try{if("email"in t){const{email:s,options:c}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await kl(this.storage,this.storageKey));const{error:d}=await nt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:s,options:c}=t,{data:u,error:f}=await nt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new Cp("You must provide either an email or phone number.")}catch(s){if(Ve(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:s}=await nt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:xa});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Ve(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await kl(this.storage,this.storageKey)),await nt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:mX})}catch(a){if(Ve(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new uo;const{error:i}=await nt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Ve(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:o}=await nt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:o,error:s}=await nt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s}}throw new Cp("You must provide either an email or phone number and a type")}catch(n){if(Ve(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await fs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<c0:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await fs(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=f0()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,f)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,f))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await nt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:yo}):await this._useSession(async n=>{var r,i,a;const{data:o,error:s}=n;if(s)throw s;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new uo}:await nt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:yo})})}catch(n){if(Ve(n))return UY(n)&&(await this._removeSession(),await ao(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new uo;const o=i.session;let s=null,c=null;this.flowType==="pkce"&&t.email!=null&&([s,c]=await kl(this.storage,this.storageKey));const{data:u,error:f}=await nt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:c}),jwt:o.access_token,xform:yo});if(f)throw f;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Ve(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new uo;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=d0(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:s,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Ve(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:s}=n;if(s)throw s;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new uo;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ve(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!hi())throw new Ep("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ep(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new DA("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ep("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new DA("No code detected.");const{data:w,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:c,token_type:u}=t;if(!a||!s||!o||!u)throw new Ep("No session defined in URL");const f=Math.round(Date.now()/1e3),d=parseInt(s);let h=f+d;c&&(h=parseInt(c));const p=h-f;p*1e3<=Fl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const m=h-d;f-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,f):f-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,f);const{data:v,error:y}=await this._getUser(a);if(y)throw y;const x={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(r){if(Ve(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await fs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{error:a};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:s}=await this.admin.signOut(o,t);if(s&&!(BY(s)&&(s.status===404||s.status===401||s.status===403)))return{error:s}}return t!=="others"&&(await this._removeSession(),await ao(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=QY(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await kl(this.storage,this.storageKey,!0));try{return await nt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Ve(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,s,c,u,f;const{data:d,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await nt(this.fetch,"GET",p,{headers:this.headers,jwt:(f=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return hi()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ve(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await nt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await tX(async i=>(i>0&&await eX(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await nt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:xa})),(i,a)=>{const o=200*Math.pow(2,i);return a&&u0(a)&&Date.now()+o-r<Fl})}catch(r){if(this._debug(n,"error",r),Ve(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),hi()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await fs(this.storage,this.storageKey);if(i&&this.userStorage){let o=await fs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Bl(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:f0()}else if(i&&!i.user&&!i.user){const o=await fs(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await ao(this.storage,this.storageKey+"-user"),await Bl(this.storage,this.storageKey,i)):i.user=f0()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<c0;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${c0}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),u0(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new uo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ay;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new uo;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={session:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),Ve(a)){const o={session:null,error:a};return u0(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,n)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Bl(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=UA(i);await Bl(this.storage,this.storageKey,a)}else{const i=UA(n);await Bl(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await ao(this.storage,this.storageKey),await ao(this.storage,this.storageKey+"-code-verifier"),await ao(this.storage,this.storageKey+"-user"),this.userStorage&&await ao(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&hi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Fl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Fl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Fl}ms, refresh threshold is ${Kw} ticks`),i<=Kw&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof R$)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!hi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await kl(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await nt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return{data:null,error:o};const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await nt(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const{data:o,error:s}=await nt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:s})})}catch(n){if(Ve(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await nt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ve(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=d0(i.access_token);let s=null;o.aal&&(s=o.aal);let c=s;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const f=o.amr||[];return{data:{currentLevel:s,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(s=>s.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===t),r&&this.jwks_cached_at+LY>i)return r;const{data:a,error:o}=await nt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(s=>s.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};r=p.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:c}}=d0(r);n!=null&&n.allowExpired||lX(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:a,header:i,signature:o},error:null}}const f=cX(i.alg),d=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,d,o,GY(`${s}.${c}`)))throw new Xw("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}}}Cf.nextInstanceID=0;const kX=Cf;class CX extends kX{constructor(t){super(t)}}var EX=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(f){try{u(r.next(f))}catch(d){o(d)}}function c(f){try{u(r.throw(f))}catch(d){o(d)}}function u(f){f.done?a(f.value):i(f.value).then(s,c)}u((r=r.apply(e,t||[])).next())})};class AX{constructor(t,n,r){var i,a,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const s=OY(t),c=new URL(s);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:jY,realtime:CY,auth:Object.assign(Object.assign({},kY),{storageKey:u}),global:SY},d=IY(r??{},f);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=PY(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new HG(new URL("rest/v1",c).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new bY(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new bG(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return EX(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:a,flowType:o,lock:s,debug:c},u,f){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new CX({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:s,debug:c,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new sY(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const M$=(e,t,n)=>new AX(e,t,n);function NX(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}NX()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const PX="https://tgrmxlbnutxpewfmofdx.supabase.co",TX="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRncm14bGJudXR4cGV3Zm1vZmR4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ5MDY0NzgsImV4cCI6MjA3MDQ4MjQ3OH0.ijDctaGPXK3Ce9uao72YaaYCX9fpPFZGpmrsWp9IfU8",Q=M$(PX,TX);async function Mt(e){var t;try{const{action:n,resource:r,resourceId:i=null,context:a={},ip:o=null,userAgent:s=null}=e,{data:c}=await Q.auth.getUser(),u=e.userId??((t=c==null?void 0:c.user)==null?void 0:t.id)??null;let f=e.orgId??null;if(!f&&u){const{data:h}=await Q.from("org_members").select("org_id").eq("user_id",u).limit(1).maybeSingle();f=(h==null?void 0:h.org_id)??null}if(!f)try{const{data:h}=await Q.from("orgs").select("id").limit(1).maybeSingle();f=(h==null?void 0:h.id)??null}catch{}try{const h=`logAction:${n}:${r}:${u||"anon"}`,p=Date.now(),m=typeof localStorage<"u"?localStorage.getItem(h):null;if(m){const v=Number(m)||0;if(p-v<3e3)return}typeof localStorage<"u"&&localStorage.setItem(h,String(p))}catch{}const{error:d}=await Q.rpc("log_action",{p_action:n,p_resource:r,p_resource_id:i,p_context:{...a,route:typeof window<"u"?window.location.pathname:null},p_ip:o,p_user_agent:s,p_org_id:f,p_user_id:u});d&&console.warn("logAction failed",d)}catch(n){console.warn("logAction threw",n)}}const D$=g.createContext(void 0);function OX({children:e}){var j;const[t,n]=g.useState(null),[r,i]=g.useState(null),[a,o]=g.useState(!0),s=g.useRef(null),[c,u]=g.useState(!1),[f,d]=g.useState(()=>{var _;try{if(localStorage.getItem("otpVerified")==="true")return!0;const k=localStorage.getItem("app.lastAuthEvent");if(k)try{const E=JSON.parse(k),O=(_=E==null?void 0:E.user)==null?void 0:_.id;if(O)return localStorage.getItem(`otpVerified:${O}`)==="true"}catch{}return!1}catch{return!1}}),[h,p]=g.useState(!1),m=g.useRef(null),v=g.useCallback(_=>{var S;d(_);try{const k=(S=r==null?void 0:r.user)!=null&&S.id?`otpVerified:${r.user.id}`:"otpVerified";_?(localStorage.setItem(k,"true"),localStorage.setItem("otpVerified","true")):(localStorage.removeItem(k),localStorage.removeItem("otpVerified"))}catch{}},[(j=r==null?void 0:r.user)==null?void 0:j.id]),y=async _=>{var k,E,O,N,A;const S=(k=_==null?void 0:_.user)==null?void 0:k.id;if(!S){u(!1);try{const I=(E=_==null?void 0:_.user)!=null&&E.id?`otpRequired:${_.user.id}`:"otpRequired";localStorage.removeItem(I)}catch{}return!1}try{const{data:I,error:M}=await Q.from("users_profile").select("*").eq("user_id",S).maybeSingle();if(M)throw M;if(!I){u(!0);try{const z=(O=_==null?void 0:_.user)!=null&&O.id?`otpRequired:${_.user.id}`:"otpRequired";localStorage.setItem(z,"true")}catch{}return!0}const L=(I==null?void 0:I.is_2fa_email_enabled)===!0||(I==null?void 0:I.is_f2a_email_enabled)===!0;u(!!L);try{const z=(N=_==null?void 0:_.user)!=null&&N.id?`otpRequired:${_.user.id}`:"otpRequired";L?localStorage.setItem(z,"true"):localStorage.removeItem(z)}catch{}return!!L}catch(I){console.warn("Failed to evaluate 2FA profile flag",I),u(!0);try{const M=(A=_==null?void 0:_.user)!=null&&A.id?`otpRequired:${_.user.id}`:"otpRequired";localStorage.setItem(M,"true")}catch{}return!0}};g.useEffect(()=>{(async()=>{o(!0),p(!1);try{try{localStorage.removeItem("otpRequired"),localStorage.removeItem("otpVerified")}catch{}try{const O=localStorage.getItem("sb-tgrmxlbnutxpewfmofdx-auth-token");if(O){const N=JSON.parse(O);N!=null&&N.access_token&&(N!=null&&N.user)&&(i(N),n(N.user))}}catch{}const{data:{session:k}}=await Q.auth.getSession();i(k),n((k==null?void 0:k.user)??null);const{data:{user:E}}=await Q.auth.getUser();if(!E){i(null),n(null),u(!1),v(!1),p(!0);return}if(k){o(!1),y(k).then(O=>{u(!!O)}).finally(()=>p(!0));return}else u(!1),v(!1),p(!0)}finally{o(!1)}})();const{data:{subscription:S}}=Q.auth.onAuthStateChange(async(k,E)=>{var O,N;i(E),n((E==null?void 0:E.user)??null);try{if(k==="SIGNED_IN"){const A=((O=E==null?void 0:E.user)==null?void 0:O.id)||null;A&&m.current!==A&&(Mt({action:"auth.login",resource:"auth",userId:A,context:{}}).catch(()=>{}),m.current=A);let I=!1;try{const M=A?`otpVerified:${A}`:"otpVerified";I=localStorage.getItem(M)==="true"||localStorage.getItem("otpVerified")==="true"}catch{}v(!!I);try{const M=(N=E==null?void 0:E.user)!=null&&N.id?`otpRequired:${E.user.id}`:"otpRequired";localStorage.removeItem(M)}catch{}p(!1),o(!1),y(E).then(M=>{var L;if(M&&!I){const z=((L=E==null?void 0:E.user)==null?void 0:L.id)||null;z&&s.current!==z&&Q.functions.invoke("send-2fa-email",{headers:E!=null&&E.access_token?{Authorization:`Bearer ${E.access_token}`}:void 0}).then(()=>{s.current=z}).catch(F=>{console.warn("2FA send function failed",F)})}u(!!M)}).finally(()=>p(!0));try{localStorage.setItem("app.lastAuthEvent",JSON.stringify({event:k,at:Date.now(),user:(E==null?void 0:E.user)||null}))}catch{}return}if(k==="PASSWORD_RECOVERY"){try{localStorage.setItem("auth.intent","recovery")}catch{}p(!1);try{const A=await y(E);u(!!A),A&&v(!1)}catch{u(!1)}finally{p(!0)}return}if(k==="TOKEN_REFRESHED"||k==="USER_UPDATED")return;if(k==="SIGNED_OUT"){Mt({action:"auth.logout",resource:"auth",userId:(t==null?void 0:t.id)||null,context:{}}).catch(()=>{}),u(!1),v(!1);try{const A=t!=null&&t.id?`otpVerified:${t.id}`:"otpVerified",I=t!=null&&t.id?`otpRequired:${t.id}`:"otpRequired";localStorage.removeItem(A),localStorage.removeItem(I),localStorage.removeItem("app.lastAuthEvent")}catch{}}}catch{}p(!0),o(!1)});return()=>S.unsubscribe()},[]);const x=g.useCallback(async()=>{try{await Q.auth.signOut()}catch(_){console.error("Error signing out:",_)}},[]),w=g.useCallback(async()=>{try{const{data:{user:_}}=await Q.auth.getUser();n(_)}catch(_){console.error("Error refreshing user:",_)}},[]),b=g.useMemo(()=>({user:t,session:r,loading:a,signOut:x,refreshUser:w,otpRequired:c,otpVerified:f,setOtpVerified:v,otpEvaluated:h}),[t,r,a,x,w,c,f,v,h]);return l.jsx(D$.Provider,{value:b,children:e})}function Mi(){const e=g.useContext(D$);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const $$=g.createContext(void 0);function IX({children:e}){const{user:t}=Mi(),[n,r]=g.useState([]),[i,a]=g.useState([]),[o,s]=g.useState(null),[c,u]=g.useState(!0),[f,d]=g.useState(null),h=async(_,S)=>{try{S!=null&&S.background||u(!0),d(null);const{data:k,error:E}=await Q.from("v_current_user_permissions").select("*");if(E)throw E;const O=k||[];a(O);const{data:N,error:A}=await Q.from("user_roles").select("role_id").eq("user_id",_);if(A)throw A;if(!N||N.length===0){r([]),s({user_id:_,roles:[],permissions:O});return}const I=N.map(B=>B.role_id),{data:M,error:L}=await Q.from("roles").select("*").in("id",I);if(L)throw L;const z=M||[];r(z);const F=z.map(B=>({...B,permissions:O}));s({user_id:_,roles:F,permissions:O})}catch(k){console.error("Error fetching user RBAC:",k),d(k instanceof Error?k.message:"Failed to fetch user permissions")}finally{S!=null&&S.background||u(!1)}},p=async()=>{t!=null&&t.id&&await h(t.id,{background:!0})};g.useEffect(()=>{t!=null&&t.id?h(t.id):(r([]),a([]),s(null),u(!1))},[t==null?void 0:t.id]);const m=_=>{if(!_)return!1;const S=String(_).trim().toLowerCase();if(i.some(N=>(N.name||"").trim().toLowerCase()===S)||i.some(N=>`${N.resource}.${N.action}`.toLowerCase()===S))return!0;const O=S.indexOf(".");if(O>0){const N=S.slice(0,O),A=S.slice(O+1),I=A==="edit"?"update":A==="update"?"edit":"";if(I&&i.some(L=>`${L.resource}.${L.action}`.toLowerCase()===`${N}.${I}`))return!0}return!1},v=_=>_.some(S=>m(S)),y=_=>_.every(S=>m(S)),x=_=>n.some(S=>S.name===_),j={userRoles:n,userPermissions:i,userWithRoles:o,hasPermission:m,hasAnyPermission:v,hasAllPermissions:y,hasRole:x,hasAnyRole:_=>_.some(S=>x(S)),hasPermissionDB:async(_,S)=>{try{const{data:k,error:E}=await Q.rpc("has_perm",{p_resource:_,p_action:S});return E?(console.error("Error checking permission:",E),!1):k===!0}catch(k){return console.error("Error in hasPermissionDB:",k),!1}},loading:c,error:f,refreshRBAC:p};return l.jsx($$.Provider,{value:j,children:e})}function Xa(){const e=g.useContext($$);if(e===void 0)throw new Error("useRBAC must be used within an RBACProvider");return e}const Ef=kh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ae=g.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},a)=>{const o=r?k9:"button";return l.jsx(o,{className:ge(Ef({variant:t,size:n,className:e})),ref:a,...i})});ae.displayName="Button";const $e=g.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:ge("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));$e.displayName="Card";const ut=g.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:ge("flex flex-col space-y-1.5 p-6",e),...t}));ut.displayName="CardHeader";const dt=g.forwardRef(({className:e,...t},n)=>l.jsx("h3",{ref:n,className:ge("text-2xl font-semibold leading-none tracking-tight",e),...t}));dt.displayName="CardTitle";const Si=g.forwardRef(({className:e,...t},n)=>l.jsx("p",{ref:n,className:ge("text-sm text-muted-foreground",e),...t}));Si.displayName="CardDescription";const et=g.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:ge("p-6 pt-0",e),...t}));et.displayName="CardContent";const RX=g.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:ge("flex items-center p-6 pt-0",e),...t}));RX.displayName="CardFooter";const ht=g.forwardRef(({className:e,type:t,...n},r)=>l.jsx("input",{type:t,className:ge("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));ht.displayName="Input";var MX="Label",L$=g.forwardRef((e,t)=>l.jsx(Ae.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));L$.displayName=MX;var F$=L$;const DX=kh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ze=g.forwardRef(({className:e,...t},n)=>l.jsx(F$,{ref:n,className:ge(DX(),e),...t}));Ze.displayName=F$.displayName;var $X=g.createContext(void 0);function Oh(e){const t=g.useContext($X);return e||t||"ltr"}var p0="rovingFocusGroup.onEntryFocus",LX={bubbles:!1,cancelable:!0},Ih="RovingFocusGroup",[Qw,B$,FX]=Dv(Ih),[BX,oy]=Fn(Ih,[FX]),[UX,zX]=BX(Ih),U$=g.forwardRef((e,t)=>l.jsx(Qw.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(Qw.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(WX,{...e,ref:t})})}));U$.displayName=Ih;var WX=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...d}=e,h=g.useRef(null),p=We(t,h),m=Oh(a),[v,y]=ii({prop:o,defaultProp:s??null,onChange:c,caller:Ih}),[x,w]=g.useState(!1),b=an(u),j=B$(n),_=g.useRef(!1),[S,k]=g.useState(0);return g.useEffect(()=>{const E=h.current;if(E)return E.addEventListener(p0,b),()=>E.removeEventListener(p0,b)},[b]),l.jsx(UX,{scope:n,orientation:r,dir:m,loop:i,currentTabStopId:v,onItemFocus:g.useCallback(E=>y(E),[y]),onItemShiftTab:g.useCallback(()=>w(!0),[]),onFocusableItemAdd:g.useCallback(()=>k(E=>E+1),[]),onFocusableItemRemove:g.useCallback(()=>k(E=>E-1),[]),children:l.jsx(Ae.div,{tabIndex:x||S===0?-1:0,"data-orientation":r,...d,ref:p,style:{outline:"none",...e.style},onMouseDown:ve(e.onMouseDown,()=>{_.current=!0}),onFocus:ve(e.onFocus,E=>{const O=!_.current;if(E.target===E.currentTarget&&O&&!x){const N=new CustomEvent(p0,LX);if(E.currentTarget.dispatchEvent(N),!N.defaultPrevented){const A=j().filter(F=>F.focusable),I=A.find(F=>F.active),M=A.find(F=>F.id===v),z=[I,M,...A].filter(Boolean).map(F=>F.ref.current);H$(z,f)}}_.current=!1}),onBlur:ve(e.onBlur,()=>w(!1))})})}),z$="RovingFocusGroupItem",W$=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,children:o,...s}=e,c=kn(),u=a||c,f=zX(z$,n),d=f.currentTabStopId===u,h=B$(n),{onFocusableItemAdd:p,onFocusableItemRemove:m,currentTabStopId:v}=f;return g.useEffect(()=>{if(r)return p(),()=>m()},[r,p,m]),l.jsx(Qw.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:l.jsx(Ae.span,{tabIndex:d?0:-1,"data-orientation":f.orientation,...s,ref:t,onMouseDown:ve(e.onMouseDown,y=>{r?f.onItemFocus(u):y.preventDefault()}),onFocus:ve(e.onFocus,()=>f.onItemFocus(u)),onKeyDown:ve(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){f.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const x=VX(y,f.orientation,f.dir);if(x!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let b=h().filter(j=>j.focusable).map(j=>j.ref.current);if(x==="last")b.reverse();else if(x==="prev"||x==="next"){x==="prev"&&b.reverse();const j=b.indexOf(y.currentTarget);b=f.loop?KX(b,j+1):b.slice(j+1)}setTimeout(()=>H$(b))}}),children:typeof o=="function"?o({isCurrentTabStop:d,hasTabStop:v!=null}):o})})});W$.displayName=z$;var HX={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function qX(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function VX(e,t,n){const r=qX(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return HX[r]}function H$(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function KX(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var q$=U$,V$=W$,sy="Tabs",[GX,ODe]=Fn(sy,[oy]),K$=oy(),[YX,wj]=GX(sy),G$=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:s,activationMode:c="automatic",...u}=e,f=Oh(s),[d,h]=ii({prop:r,onChange:i,defaultProp:a??"",caller:sy});return l.jsx(YX,{scope:n,baseId:kn(),value:d,onValueChange:h,orientation:o,dir:f,activationMode:c,children:l.jsx(Ae.div,{dir:f,"data-orientation":o,...u,ref:t})})});G$.displayName=sy;var Y$="TabsList",X$=g.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,a=wj(Y$,n),o=K$(n);return l.jsx(q$,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:l.jsx(Ae.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});X$.displayName=Y$;var Q$="TabsTrigger",J$=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=e,o=wj(Q$,n),s=K$(n),c=tL(o.baseId,r),u=nL(o.baseId,r),f=r===o.value;return l.jsx(V$,{asChild:!0,...s,focusable:!i,active:f,children:l.jsx(Ae.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:t,onMouseDown:ve(e.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?o.onValueChange(r):d.preventDefault()}),onKeyDown:ve(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(r)}),onFocus:ve(e.onFocus,()=>{const d=o.activationMode!=="manual";!f&&!i&&d&&o.onValueChange(r)})})})});J$.displayName=Q$;var Z$="TabsContent",eL=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...o}=e,s=wj(Z$,n),c=tL(s.baseId,r),u=nL(s.baseId,r),f=r===s.value,d=g.useRef(f);return g.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),l.jsx(Cn,{present:i||f,children:({present:h})=>l.jsx(Ae.div,{"data-state":f?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:h&&a})})});eL.displayName=Z$;function tL(e,t){return`${e}-trigger-${t}`}function nL(e,t){return`${e}-content-${t}`}var XX=G$,rL=X$,iL=J$,aL=eL;const qc=XX,Xs=g.forwardRef(({className:e,...t},n)=>l.jsx(rL,{ref:n,className:ge("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Xs.displayName=rL.displayName;const Mn=g.forwardRef(({className:e,...t},n)=>l.jsx(iL,{ref:n,className:ge("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Mn.displayName=iL.displayName;const wn=g.forwardRef(({className:e,...t},n)=>l.jsx(aL,{ref:n,className:ge("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));wn.displayName=aL.displayName;const QX=kh("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Af=g.forwardRef(({className:e,variant:t,...n},r)=>l.jsx("div",{ref:r,role:"alert",className:ge(QX({variant:t}),e),...n}));Af.displayName="Alert";const JX=g.forwardRef(({className:e,...t},n)=>l.jsx("h5",{ref:n,className:ge("mb-1 font-medium leading-none tracking-tight",e),...t}));JX.displayName="AlertTitle";const Nf=g.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:ge("text-sm [&_p]:leading-relaxed",e),...t}));Nf.displayName="AlertDescription";const ZX="vite_react_shadcn_ts",eQ="0.0.32",tQ="module",nQ={predev:"echo skip changelog copy",dev:"vite",prebuild:"echo skip changelog copy",build:"vite build","build:dev":"vite build --mode development",lint:"eslint .",preview:"vite preview",test:"vitest"},rQ={"@hookform/resolvers":"^3.10.0","@radix-ui/react-accordion":"^1.2.11","@radix-ui/react-alert-dialog":"^1.1.14","@radix-ui/react-aspect-ratio":"^1.1.7","@radix-ui/react-avatar":"^1.1.10","@radix-ui/react-checkbox":"^1.3.2","@radix-ui/react-collapsible":"^1.1.11","@radix-ui/react-context-menu":"^2.2.15","@radix-ui/react-dialog":"^1.1.14","@radix-ui/react-dropdown-menu":"^2.1.15","@radix-ui/react-hover-card":"^1.1.14","@radix-ui/react-label":"^2.1.7","@radix-ui/react-menubar":"^1.1.15","@radix-ui/react-navigation-menu":"^1.2.13","@radix-ui/react-popover":"^1.1.14","@radix-ui/react-progress":"^1.1.7","@radix-ui/react-radio-group":"^1.3.7","@radix-ui/react-scroll-area":"^1.2.9","@radix-ui/react-select":"^2.2.5","@radix-ui/react-separator":"^1.1.7","@radix-ui/react-slider":"^1.3.5","@radix-ui/react-slot":"^1.2.3","@radix-ui/react-switch":"^1.2.5","@radix-ui/react-tabs":"^1.1.12","@radix-ui/react-toast":"^1.2.14","@radix-ui/react-toggle":"^1.1.9","@radix-ui/react-toggle-group":"^1.1.10","@radix-ui/react-tooltip":"^1.2.7","@supabase/supabase-js":"^2.55.0","@tanstack/react-query":"^5.83.0","class-variance-authority":"^0.7.1",clsx:"^2.1.1",cmdk:"^1.1.1","date-fns":"^3.6.0","embla-carousel-react":"^8.6.0","input-otp":"^1.4.2","lucide-react":"^0.462.0","next-themes":"^0.3.0",react:"^18.3.1","react-day-picker":"^8.10.1","react-dom":"^18.3.1","react-hook-form":"^7.61.1","react-markdown":"^9.1.0","react-resizable-panels":"^2.1.9","react-router-dom":"^6.30.1",recharts:"^2.15.4","remark-gfm":"^4.0.1",sonner:"^1.7.4","tailwind-merge":"^2.6.0","tailwindcss-animate":"^1.0.7",vaul:"^0.9.9",zod:"^3.25.76"},iQ={"@eslint/js":"^9.32.0","@tailwindcss/typography":"^0.5.16","@types/node":"^22.16.5","@types/react":"^18.3.23","@types/react-dom":"^18.3.7","@vitejs/plugin-react-swc":"^3.11.0",autoprefixer:"^10.4.21",eslint:"^9.32.0","eslint-plugin-react-hooks":"^5.2.0","eslint-plugin-react-refresh":"^0.4.20",globals:"^15.15.0",postcss:"^8.5.6",tailwindcss:"^3.4.17",typescript:"^5.8.3","typescript-eslint":"^8.38.0",vite:"^5.4.19",vitest:"^1.6.0"},m0={name:ZX,private:!0,version:eQ,type:tQ,scripts:nQ,dependencies:rQ,devDependencies:iQ};function aQ({onBack:e}){const t=Ya(),[n,r]=g.useState("login"),[i,a]=g.useState(!1),[o,s]=g.useState(!1),[c,u]=g.useState(null),[f,d]=g.useState(null),[h,p]=g.useState(""),[m,v]=g.useState("");g.useState(""),g.useState("");const y=async b=>{var j;b.preventDefault(),a(!0),u(null);try{const{data:_,error:S}=await Q.auth.signInWithPassword({email:h,password:m});if(S)throw S;const k=(j=_.user)==null?void 0:j.id;if(k)try{const{data:E,error:O}=await Q.from("users_profile").select("is_2fa_email_enabled, is_f2a_email_enabled").eq("user_id",k).maybeSingle();if(O)throw O;const N=(E==null?void 0:E.is_2fa_email_enabled)===!0||(E==null?void 0:E.is_f2a_email_enabled)===!0;Me.success("Login successful!"),t("/",{replace:!0});return}catch{Me.success("Login successful!")}else Me.success("Login successful!");t("/",{replace:!0})}catch(_){console.error("Login error:",_),u(_ instanceof Error?_.message:"Failed to login"),Me.error("Login failed")}finally{a(!1)}},x=async b=>{b.preventDefault(),a(!0),u(null);try{const{error:j}=await Q.auth.resetPasswordForEmail(h,{redirectTo:`${window.location.origin}/reset-password`});if(j)throw j;d("Password reset email sent! Please check your inbox."),Me.success("Password reset email sent!")}catch(j){console.error("Password reset error:",j),u(j instanceof Error?j.message:"Failed to send reset email"),Me.error("Failed to send reset email")}finally{a(!1)}},w=()=>{u(null),d(null)};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:l.jsxs($e,{className:"w-full max-w-md",children:[l.jsxs(ut,{className:"space-y-1",children:[e&&l.jsxs(ae,{variant:"ghost",size:"sm",onClick:e,className:"absolute top-4 left-4",children:[l.jsx(Fv,{className:"w-4 h-4 mr-2"}),"Back"]}),l.jsxs("div",{className:"text-center",children:[l.jsx(dt,{className:"text-2xl font-bold",children:"Welcome back"}),l.jsx(Si,{children:"Sign in to continue to Chatflow"})]})]}),l.jsx(et,{children:l.jsxs(qc,{value:n,onValueChange:b=>{r(b),w()},children:[l.jsxs(Xs,{className:"grid w-full grid-cols-2",children:[l.jsx(Mn,{value:"login",children:"Login"}),l.jsx(Mn,{value:"reset",children:"Reset"})]}),c&&l.jsx(Af,{className:"mt-4 border-red-200 bg-red-50",children:l.jsx(Nf,{className:"text-red-800",children:c})}),f&&l.jsx(Af,{className:"mt-4 border-green-200 bg-green-50",children:l.jsx(Nf,{className:"text-green-800",children:f})}),l.jsx(wn,{value:"login",className:"space-y-4 mt-4",children:l.jsxs("form",{onSubmit:y,className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ze,{htmlFor:"login-email",children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx(Cw,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(ht,{id:"login-email",type:"email",placeholder:"Enter your email",value:h,onChange:b=>p(b.target.value),className:"pl-10",required:!0})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"We’ll send a one-time code after login."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ze,{htmlFor:"login-password",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(Wm,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(ht,{id:"login-password",type:o?"text":"password",placeholder:"Enter your password",value:m,onChange:b=>v(b.target.value),className:"pl-10 pr-10",required:!0}),l.jsx(ae,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>s(!o),children:o?l.jsx(nD,{className:"h-4 w-4"}):l.jsx(rD,{className:"h-4 w-4"})})]}),l.jsx("div",{className:"flex items-center justify-end text-xs",children:l.jsx(kA,{to:"/reset-password",className:"hover:underline",children:"Forgot password?"})})]}),l.jsx(ae,{type:"submit",className:"w-full",disabled:i,children:i?l.jsxs(l.Fragment,{children:[l.jsx(kt,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"}),l.jsx("p",{className:"text-xs text-muted-foreground text-center mt-2",children:l.jsxs(kA,{to:"/changelog",className:"hover:underline",children:["v",m0==null?void 0:m0.version]})})]})}),l.jsx(wn,{value:"reset",className:"space-y-4 mt-4",children:l.jsxs("form",{onSubmit:x,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ze,{htmlFor:"reset-email",children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx(Cw,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(ht,{id:"reset-email",type:"email",placeholder:"Enter your email",value:h,onChange:b=>p(b.target.value),className:"pl-10",required:!0})]})]}),l.jsx(ae,{type:"submit",className:"w-full",disabled:i,children:i?l.jsxs(l.Fragment,{children:[l.jsx(kt,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending reset email..."]}):"Send Reset Email"})]})})]})})]})})}function g0({children:e}){const{user:t,loading:n,otpRequired:r,otpVerified:i,otpEvaluated:a}=Mi(),o=Ya(),s=Zo();if(g.useEffect(()=>{var u;if(!n&&a&&t){const f=s.pathname==="/otp",d=s.pathname==="/reset-password",h=s.pathname==="/invite";let p=!1;try{const m=new URL(window.location.href),v=m.searchParams.get("type"),y=m.searchParams.get("code"),x=window.location.hash||"";p=v==="invite"||y&&!x.includes("access_token=")||x.includes("type=invite")||window.location.pathname==="/invite",console.log("Invite flow detection:",{type:v,code:!!y,hash:x.substring(0,50),pathname:window.location.pathname,isInviteFlow:p,userId:t==null?void 0:t.id})}catch{}if(t&&Q.from("users_profile").select("password_set").eq("user_id",t.id).single().then(({data:m})=>{if(console.log("Password set check:",{userId:t.id,password_set:m==null?void 0:m.password_set}),m&&m.password_set===!1){console.log("User needs to set password - redirecting to password creation page"),setTimeout(()=>o("/reset-password",{replace:!0}),0);return}}).catch(m=>{console.log("Error checking password_set:",m)}),p&&!d&&!h){console.log("Redirecting to password creation page for invite flow"),setTimeout(()=>o("/reset-password",{replace:!0}),0);return}if(r&&!i&&!f){let m="2fa";try{new URL(window.location.href).searchParams.get("type")==="recovery"&&(m="recovery"),(u=window.location.hash)!=null&&u.includes("access_token=")&&(m="recovery"),localStorage.getItem("auth.intent")==="recovery"&&(m="recovery")}catch{}setTimeout(()=>o("/otp",{replace:!0,state:{from:s.pathname,intent:m}}),0)}}},[t,n,a,r,i,s.pathname,o]),n||!a)return l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),l.jsx("span",{children:"Loading..."})]})});if(!t)return l.jsx(aQ,{});const c=s.pathname==="/otp";return t&&r&&!i&&!c?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"}),l.jsx("span",{children:"Redirecting…"})]})}):l.jsx(l.Fragment,{children:e})}const oQ=kh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:opacity-90",secondary:"border-transparent bg-secondary text-secondary-foreground hover:opacity-90",destructive:"border-transparent bg-destructive text-destructive-foreground hover:opacity-90",outline:"text-foreground hover:opacity-90"}},defaultVariants:{variant:"default"}});function _t({className:e,variant:t,...n}){return l.jsx("div",{className:ge(oQ({variant:t}),e),...n})}var sQ="Separator",VA="horizontal",lQ=["horizontal","vertical"],oL=g.forwardRef((e,t)=>{const{decorative:n,orientation:r=VA,...i}=e,a=cQ(r)?r:VA,s=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return l.jsx(Ae.div,{"data-orientation":a,...s,...i,ref:t})});oL.displayName=sQ;function cQ(e){return lQ.includes(e)}var sL=oL;const Pf=g.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>l.jsx(sL,{ref:i,decorative:n,orientation:t,className:ge("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Pf.displayName=sL.displayName;var v0=0;function ly(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??KA()),document.body.insertAdjacentElement("beforeend",e[1]??KA()),v0++,()=>{v0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),v0--}},[])}function KA(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var y0="focusScope.autoFocusOnMount",x0="focusScope.autoFocusOnUnmount",GA={bubbles:!1,cancelable:!0},uQ="FocusScope",Rh=g.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[s,c]=g.useState(null),u=an(i),f=an(a),d=g.useRef(null),h=We(t,v=>c(v)),p=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let v=function(b){if(p.paused||!s)return;const j=b.target;s.contains(j)?d.current=j:fo(d.current,{select:!0})},y=function(b){if(p.paused||!s)return;const j=b.relatedTarget;j!==null&&(s.contains(j)||fo(d.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const _ of b)_.removedNodes.length>0&&fo(s)};document.addEventListener("focusin",v),document.addEventListener("focusout",y);const w=new MutationObserver(x);return s&&w.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",y),w.disconnect()}}},[r,s,p.paused]),g.useEffect(()=>{if(s){XA.add(p);const v=document.activeElement;if(!s.contains(v)){const x=new CustomEvent(y0,GA);s.addEventListener(y0,u),s.dispatchEvent(x),x.defaultPrevented||(dQ(gQ(lL(s)),{select:!0}),document.activeElement===v&&fo(s))}return()=>{s.removeEventListener(y0,u),setTimeout(()=>{const x=new CustomEvent(x0,GA);s.addEventListener(x0,f),s.dispatchEvent(x),x.defaultPrevented||fo(v??document.body,{select:!0}),s.removeEventListener(x0,f),XA.remove(p)},0)}}},[s,u,f,p]);const m=g.useCallback(v=>{if(!n&&!r||p.paused)return;const y=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(y&&x){const w=v.currentTarget,[b,j]=fQ(w);b&&j?!v.shiftKey&&x===j?(v.preventDefault(),n&&fo(b,{select:!0})):v.shiftKey&&x===b&&(v.preventDefault(),n&&fo(j,{select:!0})):x===w&&v.preventDefault()}},[n,r,p.paused]);return l.jsx(Ae.div,{tabIndex:-1,...o,ref:h,onKeyDown:m})});Rh.displayName=uQ;function dQ(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(fo(r,{select:t}),document.activeElement!==n)return}function fQ(e){const t=lL(e),n=YA(t,e),r=YA(t.reverse(),e);return[n,r]}function lL(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function YA(e,t){for(const n of e)if(!hQ(n,{upTo:t}))return n}function hQ(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function pQ(e){return e instanceof HTMLInputElement&&"select"in e}function fo(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&pQ(e)&&t&&e.select()}}var XA=mQ();function mQ(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=QA(e,t),e.unshift(t)},remove(t){var n;e=QA(e,t),(n=e[0])==null||n.resume()}}}function QA(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function gQ(e){return e.filter(t=>t.tagName!=="A")}var vQ=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Nl=new WeakMap,Ap=new WeakMap,Np={},b0=0,cL=function(e){return e&&(e.host||cL(e.parentNode))},yQ=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=cL(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},xQ=function(e,t,n,r){var i=yQ(t,Array.isArray(e)?e:[e]);Np[n]||(Np[n]=new WeakMap);var a=Np[n],o=[],s=new Set,c=new Set(i),u=function(d){!d||s.has(d)||(s.add(d),u(d.parentNode))};i.forEach(u);var f=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(h){if(s.has(h))f(h);else try{var p=h.getAttribute(r),m=p!==null&&p!=="false",v=(Nl.get(h)||0)+1,y=(a.get(h)||0)+1;Nl.set(h,v),a.set(h,y),o.push(h),v===1&&m&&Ap.set(h,!0),y===1&&h.setAttribute(n,"true"),m||h.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return f(t),s.clear(),b0++,function(){o.forEach(function(d){var h=Nl.get(d)-1,p=a.get(d)-1;Nl.set(d,h),a.set(d,p),h||(Ap.has(d)||d.removeAttribute(r),Ap.delete(d)),p||d.removeAttribute(n)}),b0--,b0||(Nl=new WeakMap,Nl=new WeakMap,Ap=new WeakMap,Np={})}},cy=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=vQ(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),xQ(r,i,n,"aria-hidden")):function(){return null}},Ki=function(){return Ki=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Ki.apply(this,arguments)};function uL(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function bQ(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var pm="right-scroll-bar-position",mm="width-before-scroll-bar",wQ="with-scroll-bars-hidden",_Q="--removed-body-scroll-bar-size";function w0(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function SQ(e,t){var n=g.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var jQ=typeof window<"u"?g.useLayoutEffect:g.useEffect,JA=new WeakMap;function kQ(e,t){var n=SQ(null,function(r){return e.forEach(function(i){return w0(i,r)})});return jQ(function(){var r=JA.get(n);if(r){var i=new Set(r),a=new Set(e),o=n.current;i.forEach(function(s){a.has(s)||w0(s,null)}),a.forEach(function(s){i.has(s)||w0(s,o)})}JA.set(n,e)},[e]),n}function CQ(e){return e}function EQ(e,t){t===void 0&&(t=CQ);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,r);return n.push(o),function(){n=n.filter(function(s){return s!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(s){return a(s)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var s=n;n=[],s.forEach(a),o=n}var c=function(){var f=o;o=[],f.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(f){o.push(f),u()},filter:function(f){return o=o.filter(f),n}}}};return i}function AQ(e){e===void 0&&(e={});var t=EQ(null);return t.options=Ki({async:!0,ssr:!1},e),t}var dL=function(e){var t=e.sideCar,n=uL(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,Ki({},n))};dL.isSideCarExport=!0;function NQ(e,t){return e.useMedium(t),dL}var fL=AQ(),_0=function(){},uy=g.forwardRef(function(e,t){var n=g.useRef(null),r=g.useState({onScrollCapture:_0,onWheelCapture:_0,onTouchMoveCapture:_0}),i=r[0],a=r[1],o=e.forwardProps,s=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,d=e.shards,h=e.sideCar,p=e.noRelative,m=e.noIsolation,v=e.inert,y=e.allowPinchZoom,x=e.as,w=x===void 0?"div":x,b=e.gapMode,j=uL(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,S=kQ([n,t]),k=Ki(Ki({},j),i);return g.createElement(g.Fragment,null,f&&g.createElement(_,{sideCar:fL,removeScrollBar:u,shards:d,noRelative:p,noIsolation:m,inert:v,setCallbacks:a,allowPinchZoom:!!y,lockRef:n,gapMode:b}),o?g.cloneElement(g.Children.only(s),Ki(Ki({},k),{ref:S})):g.createElement(w,Ki({},k,{className:c,ref:S}),s))});uy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};uy.classNames={fullWidth:mm,zeroRight:pm};var PQ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function TQ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=PQ();return t&&e.setAttribute("nonce",t),e}function OQ(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function IQ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var RQ=function(){var e=0,t=null;return{add:function(n){e==0&&(t=TQ())&&(OQ(t,n),IQ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},MQ=function(){var e=RQ();return function(t,n){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},hL=function(){var e=MQ(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},DQ={left:0,top:0,right:0,gap:0},S0=function(e){return parseInt(e||"",10)||0},$Q=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[S0(n),S0(r),S0(i)]},LQ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return DQ;var t=$Q(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},FQ=hL(),yc="data-scroll-locked",BQ=function(e,t,n,r){var i=e.left,a=e.top,o=e.right,s=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(wQ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body[`).concat(yc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(pm,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(mm,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(pm," .").concat(pm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(mm," .").concat(mm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(yc,`] {
    `).concat(_Q,": ").concat(s,`px;
  }
`)},ZA=function(){var e=parseInt(document.body.getAttribute(yc)||"0",10);return isFinite(e)?e:0},UQ=function(){g.useEffect(function(){return document.body.setAttribute(yc,(ZA()+1).toString()),function(){var e=ZA()-1;e<=0?document.body.removeAttribute(yc):document.body.setAttribute(yc,e.toString())}},[])},zQ=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;UQ();var a=g.useMemo(function(){return LQ(i)},[i]);return g.createElement(FQ,{styles:BQ(a,!t,i,n?"":"!important")})},Jw=!1;if(typeof window<"u")try{var Pp=Object.defineProperty({},"passive",{get:function(){return Jw=!0,!0}});window.addEventListener("test",Pp,Pp),window.removeEventListener("test",Pp,Pp)}catch{Jw=!1}var Pl=Jw?{passive:!1}:!1,WQ=function(e){return e.tagName==="TEXTAREA"},pL=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!WQ(e)&&n[t]==="visible")},HQ=function(e){return pL(e,"overflowY")},qQ=function(e){return pL(e,"overflowX")},eN=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=mL(e,r);if(i){var a=gL(e,r),o=a[1],s=a[2];if(o>s)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},VQ=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},KQ=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},mL=function(e,t){return e==="v"?HQ(t):qQ(t)},gL=function(e,t){return e==="v"?VQ(t):KQ(t)},GQ=function(e,t){return e==="h"&&t==="rtl"?-1:1},YQ=function(e,t,n,r,i){var a=GQ(e,window.getComputedStyle(t).direction),o=a*r,s=n.target,c=t.contains(s),u=!1,f=o>0,d=0,h=0;do{if(!s)break;var p=gL(e,s),m=p[0],v=p[1],y=p[2],x=v-y-a*m;(m||x)&&mL(e,s)&&(d+=x,h+=m);var w=s.parentNode;s=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&s!==document.body||c&&(t.contains(s)||t===s));return(f&&(Math.abs(d)<1||!i)||!f&&(Math.abs(h)<1||!i))&&(u=!0),u},Tp=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},tN=function(e){return[e.deltaX,e.deltaY]},nN=function(e){return e&&"current"in e?e.current:e},XQ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},QQ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},JQ=0,Tl=[];function ZQ(e){var t=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),i=g.useState(JQ++)[0],a=g.useState(hL)[0],o=g.useRef(e);g.useEffect(function(){o.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var v=bQ([e.lockRef.current],(e.shards||[]).map(nN),!0).filter(Boolean);return v.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var s=g.useCallback(function(v,y){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var x=Tp(v),w=n.current,b="deltaX"in v?v.deltaX:w[0]-x[0],j="deltaY"in v?v.deltaY:w[1]-x[1],_,S=v.target,k=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in v&&k==="h"&&S.type==="range")return!1;var E=eN(k,S);if(!E)return!0;if(E?_=k:(_=k==="v"?"h":"v",E=eN(k,S)),!E)return!1;if(!r.current&&"changedTouches"in v&&(b||j)&&(r.current=_),!_)return!0;var O=r.current||_;return YQ(O,y,v,O==="h"?b:j,!0)},[]),c=g.useCallback(function(v){var y=v;if(!(!Tl.length||Tl[Tl.length-1]!==a)){var x="deltaY"in y?tN(y):Tp(y),w=t.current.filter(function(_){return _.name===y.type&&(_.target===y.target||y.target===_.shadowParent)&&XQ(_.delta,x)})[0];if(w&&w.should){y.cancelable&&y.preventDefault();return}if(!w){var b=(o.current.shards||[]).map(nN).filter(Boolean).filter(function(_){return _.contains(y.target)}),j=b.length>0?s(y,b[0]):!o.current.noIsolation;j&&y.cancelable&&y.preventDefault()}}},[]),u=g.useCallback(function(v,y,x,w){var b={name:v,delta:y,target:x,should:w,shadowParent:eJ(x)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(j){return j!==b})},1)},[]),f=g.useCallback(function(v){n.current=Tp(v),r.current=void 0},[]),d=g.useCallback(function(v){u(v.type,tN(v),v.target,s(v,e.lockRef.current))},[]),h=g.useCallback(function(v){u(v.type,Tp(v),v.target,s(v,e.lockRef.current))},[]);g.useEffect(function(){return Tl.push(a),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Pl),document.addEventListener("touchmove",c,Pl),document.addEventListener("touchstart",f,Pl),function(){Tl=Tl.filter(function(v){return v!==a}),document.removeEventListener("wheel",c,Pl),document.removeEventListener("touchmove",c,Pl),document.removeEventListener("touchstart",f,Pl)}},[]);var p=e.removeScrollBar,m=e.inert;return g.createElement(g.Fragment,null,m?g.createElement(a,{styles:QQ(i)}):null,p?g.createElement(zQ,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function eJ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const tJ=NQ(fL,ZQ);var Mh=g.forwardRef(function(e,t){return g.createElement(uy,Ki({},e,{ref:t,sideCar:tJ}))});Mh.classNames=uy.classNames;var Zw=["Enter"," "],nJ=["ArrowDown","PageUp","Home"],vL=["ArrowUp","PageDown","End"],rJ=[...nJ,...vL],iJ={ltr:[...Zw,"ArrowRight"],rtl:[...Zw,"ArrowLeft"]},aJ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Dh="Menu",[Tf,oJ,sJ]=Dv(Dh),[ml,yL]=Fn(Dh,[sJ,Qo,oy]),dy=Qo(),xL=oy(),[lJ,gl]=ml(Dh),[cJ,$h]=ml(Dh),bL=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:a,modal:o=!0}=e,s=dy(t),[c,u]=g.useState(null),f=g.useRef(!1),d=an(a),h=Oh(i);return g.useEffect(()=>{const p=()=>{f.current=!0,document.addEventListener("pointerdown",m,{capture:!0,once:!0}),document.addEventListener("pointermove",m,{capture:!0,once:!0})},m=()=>f.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",m,{capture:!0}),document.removeEventListener("pointermove",m,{capture:!0})}},[]),l.jsx(Hv,{...s,children:l.jsx(lJ,{scope:t,open:n,onOpenChange:d,content:c,onContentChange:u,children:l.jsx(cJ,{scope:t,onClose:g.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:f,dir:h,modal:o,children:r})})})};bL.displayName=Dh;var uJ="MenuAnchor",_j=g.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=dy(n);return l.jsx(Eh,{...i,...r,ref:t})});_j.displayName=uJ;var Sj="MenuPortal",[dJ,wL]=ml(Sj,{forceMount:void 0}),_L=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,a=gl(Sj,t);return l.jsx(dJ,{scope:t,forceMount:n,children:l.jsx(Cn,{present:n||a.open,children:l.jsx(Cu,{asChild:!0,container:i,children:r})})})};_L.displayName=Sj;var ei="MenuContent",[fJ,jj]=ml(ei),SL=g.forwardRef((e,t)=>{const n=wL(ei,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,a=gl(ei,e.__scopeMenu),o=$h(ei,e.__scopeMenu);return l.jsx(Tf.Provider,{scope:e.__scopeMenu,children:l.jsx(Cn,{present:r||a.open,children:l.jsx(Tf.Slot,{scope:e.__scopeMenu,children:o.modal?l.jsx(hJ,{...i,ref:t}):l.jsx(pJ,{...i,ref:t})})})})}),hJ=g.forwardRef((e,t)=>{const n=gl(ei,e.__scopeMenu),r=g.useRef(null),i=We(t,r);return g.useEffect(()=>{const a=r.current;if(a)return cy(a)},[]),l.jsx(kj,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ve(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),pJ=g.forwardRef((e,t)=>{const n=gl(ei,e.__scopeMenu);return l.jsx(kj,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),mJ=Wo("MenuContent.ScrollLock"),kj=g.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:p,disableOutsideScroll:m,...v}=e,y=gl(ei,n),x=$h(ei,n),w=dy(n),b=xL(n),j=oJ(n),[_,S]=g.useState(null),k=g.useRef(null),E=We(t,k,y.onContentChange),O=g.useRef(0),N=g.useRef(""),A=g.useRef(0),I=g.useRef(null),M=g.useRef("right"),L=g.useRef(0),z=m?Mh:g.Fragment,F=m?{as:mJ,allowPinchZoom:!0}:void 0,B=$=>{var q,J;const P=N.current+$,R=j().filter(K=>!K.disabled),T=document.activeElement,C=(q=R.find(K=>K.ref.current===T))==null?void 0:q.textValue,U=R.map(K=>K.textValue),G=EJ(U,P,C),ne=(J=R.find(K=>K.textValue===G))==null?void 0:J.ref.current;(function K(re){N.current=re,window.clearTimeout(O.current),re!==""&&(O.current=window.setTimeout(()=>K(""),1e3))})(P),ne&&setTimeout(()=>ne.focus())};g.useEffect(()=>()=>window.clearTimeout(O.current),[]),ly();const D=g.useCallback($=>{var R,T;return M.current===((R=I.current)==null?void 0:R.side)&&NJ($,(T=I.current)==null?void 0:T.area)},[]);return l.jsx(fJ,{scope:n,searchRef:N,onItemEnter:g.useCallback($=>{D($)&&$.preventDefault()},[D]),onItemLeave:g.useCallback($=>{var P;D($)||((P=k.current)==null||P.focus(),S(null))},[D]),onTriggerLeave:g.useCallback($=>{D($)&&$.preventDefault()},[D]),pointerGraceTimerRef:A,onPointerGraceIntentChange:g.useCallback($=>{I.current=$},[]),children:l.jsx(z,{...F,children:l.jsx(Rh,{asChild:!0,trapped:i,onMountAutoFocus:ve(a,$=>{var P;$.preventDefault(),(P=k.current)==null||P.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:l.jsx(fl,{asChild:!0,disableOutsidePointerEvents:s,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:p,children:l.jsx(q$,{asChild:!0,...b,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:_,onCurrentTabStopIdChange:S,onEntryFocus:ve(c,$=>{x.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(qv,{role:"menu","aria-orientation":"vertical","data-state":FL(y.open),"data-radix-menu-content":"",dir:x.dir,...w,...v,ref:E,style:{outline:"none",...v.style},onKeyDown:ve(v.onKeyDown,$=>{const R=$.target.closest("[data-radix-menu-content]")===$.currentTarget,T=$.ctrlKey||$.altKey||$.metaKey,C=$.key.length===1;R&&($.key==="Tab"&&$.preventDefault(),!T&&C&&B($.key));const U=k.current;if($.target!==U||!rJ.includes($.key))return;$.preventDefault();const ne=j().filter(q=>!q.disabled).map(q=>q.ref.current);vL.includes($.key)&&ne.reverse(),kJ(ne)}),onBlur:ve(e.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(O.current),N.current="")}),onPointerMove:ve(e.onPointerMove,Of($=>{const P=$.target,R=L.current!==$.clientX;if($.currentTarget.contains(P)&&R){const T=$.clientX>L.current?"right":"left";M.current=T,L.current=$.clientX}}))})})})})})})});SL.displayName=ei;var gJ="MenuGroup",Cj=g.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(Ae.div,{role:"group",...r,ref:t})});Cj.displayName=gJ;var vJ="MenuLabel",jL=g.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(Ae.div,{...r,ref:t})});jL.displayName=vJ;var ng="MenuItem",rN="menu.itemSelect",fy=g.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,a=g.useRef(null),o=$h(ng,e.__scopeMenu),s=jj(ng,e.__scopeMenu),c=We(t,a),u=g.useRef(!1),f=()=>{const d=a.current;if(!n&&d){const h=new CustomEvent(rN,{bubbles:!0,cancelable:!0});d.addEventListener(rN,p=>r==null?void 0:r(p),{once:!0}),VS(d,h),h.defaultPrevented?u.current=!1:o.onClose()}};return l.jsx(kL,{...i,ref:c,disabled:n,onClick:ve(e.onClick,f),onPointerDown:d=>{var h;(h=e.onPointerDown)==null||h.call(e,d),u.current=!0},onPointerUp:ve(e.onPointerUp,d=>{var h;u.current||(h=d.currentTarget)==null||h.click()}),onKeyDown:ve(e.onKeyDown,d=>{const h=s.searchRef.current!=="";n||h&&d.key===" "||Zw.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});fy.displayName=ng;var kL=g.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...a}=e,o=jj(ng,n),s=xL(n),c=g.useRef(null),u=We(t,c),[f,d]=g.useState(!1),[h,p]=g.useState("");return g.useEffect(()=>{const m=c.current;m&&p((m.textContent??"").trim())},[a.children]),l.jsx(Tf.ItemSlot,{scope:n,disabled:r,textValue:i??h,children:l.jsx(V$,{asChild:!0,...s,focusable:!r,children:l.jsx(Ae.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:u,onPointerMove:ve(e.onPointerMove,Of(m=>{r?o.onItemLeave(m):(o.onItemEnter(m),m.defaultPrevented||m.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ve(e.onPointerLeave,Of(m=>o.onItemLeave(m))),onFocus:ve(e.onFocus,()=>d(!0)),onBlur:ve(e.onBlur,()=>d(!1))})})})}),yJ="MenuCheckboxItem",CL=g.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return l.jsx(TL,{scope:e.__scopeMenu,checked:n,children:l.jsx(fy,{role:"menuitemcheckbox","aria-checked":rg(n)?"mixed":n,...i,ref:t,"data-state":Aj(n),onSelect:ve(i.onSelect,()=>r==null?void 0:r(rg(n)?!0:!n),{checkForDefaultPrevented:!1})})})});CL.displayName=yJ;var EL="MenuRadioGroup",[xJ,bJ]=ml(EL,{value:void 0,onValueChange:()=>{}}),AL=g.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,a=an(r);return l.jsx(xJ,{scope:e.__scopeMenu,value:n,onValueChange:a,children:l.jsx(Cj,{...i,ref:t})})});AL.displayName=EL;var NL="MenuRadioItem",PL=g.forwardRef((e,t)=>{const{value:n,...r}=e,i=bJ(NL,e.__scopeMenu),a=n===i.value;return l.jsx(TL,{scope:e.__scopeMenu,checked:a,children:l.jsx(fy,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":Aj(a),onSelect:ve(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});PL.displayName=NL;var Ej="MenuItemIndicator",[TL,wJ]=ml(Ej,{checked:!1}),OL=g.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,a=wJ(Ej,n);return l.jsx(Cn,{present:r||rg(a.checked)||a.checked===!0,children:l.jsx(Ae.span,{...i,ref:t,"data-state":Aj(a.checked)})})});OL.displayName=Ej;var _J="MenuSeparator",IL=g.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(Ae.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});IL.displayName=_J;var SJ="MenuArrow",RL=g.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=dy(n);return l.jsx(Vv,{...i,...r,ref:t})});RL.displayName=SJ;var jJ="MenuSub",[IDe,ML]=ml(jJ),Td="MenuSubTrigger",DL=g.forwardRef((e,t)=>{const n=gl(Td,e.__scopeMenu),r=$h(Td,e.__scopeMenu),i=ML(Td,e.__scopeMenu),a=jj(Td,e.__scopeMenu),o=g.useRef(null),{pointerGraceTimerRef:s,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},f=g.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return g.useEffect(()=>f,[f]),g.useEffect(()=>{const d=s.current;return()=>{window.clearTimeout(d),c(null)}},[s,c]),l.jsx(_j,{asChild:!0,...u,children:l.jsx(kL,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":FL(n.open),...e,ref:Ba(t,i.onTriggerChange),onClick:d=>{var h;(h=e.onClick)==null||h.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ve(e.onPointerMove,Of(d=>{a.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:ve(e.onPointerLeave,Of(d=>{var p,m;f();const h=(p=n.content)==null?void 0:p.getBoundingClientRect();if(h){const v=(m=n.content)==null?void 0:m.dataset.side,y=v==="right",x=y?-5:5,w=h[y?"left":"right"],b=h[y?"right":"left"];a.onPointerGraceIntentChange({area:[{x:d.clientX+x,y:d.clientY},{x:w,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x:w,y:h.bottom}],side:v}),window.clearTimeout(s.current),s.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(d),d.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:ve(e.onKeyDown,d=>{var p;const h=a.searchRef.current!=="";e.disabled||h&&d.key===" "||iJ[r.dir].includes(d.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),d.preventDefault())})})})});DL.displayName=Td;var $L="MenuSubContent",LL=g.forwardRef((e,t)=>{const n=wL(ei,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,a=gl(ei,e.__scopeMenu),o=$h(ei,e.__scopeMenu),s=ML($L,e.__scopeMenu),c=g.useRef(null),u=We(t,c);return l.jsx(Tf.Provider,{scope:e.__scopeMenu,children:l.jsx(Cn,{present:r||a.open,children:l.jsx(Tf.Slot,{scope:e.__scopeMenu,children:l.jsx(kj,{id:s.contentId,"aria-labelledby":s.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var d;o.isUsingKeyboardRef.current&&((d=c.current)==null||d.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:ve(e.onFocusOutside,f=>{f.target!==s.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:ve(e.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:ve(e.onKeyDown,f=>{var p;const d=f.currentTarget.contains(f.target),h=aJ[o.dir].includes(f.key);d&&h&&(a.onOpenChange(!1),(p=s.trigger)==null||p.focus(),f.preventDefault())})})})})})});LL.displayName=$L;function FL(e){return e?"open":"closed"}function rg(e){return e==="indeterminate"}function Aj(e){return rg(e)?"indeterminate":e?"checked":"unchecked"}function kJ(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function CJ(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function EJ(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=CJ(e,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function AJ(e,t){const{x:n,y:r}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const s=t[a],c=t[o],u=s.x,f=s.y,d=c.x,h=c.y;f>r!=h>r&&n<(d-u)*(r-f)/(h-f)+u&&(i=!i)}return i}function NJ(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return AJ(n,t)}function Of(e){return t=>t.pointerType==="mouse"?e(t):void 0}var PJ=bL,TJ=_j,OJ=_L,IJ=SL,RJ=Cj,MJ=jL,DJ=fy,$J=CL,LJ=AL,FJ=PL,BJ=OL,UJ=IL,zJ=RL,WJ=DL,HJ=LL,hy="DropdownMenu",[qJ,RDe]=Fn(hy,[yL]),sr=yL(),[VJ,BL]=qJ(hy),UL=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:a,onOpenChange:o,modal:s=!0}=e,c=sr(t),u=g.useRef(null),[f,d]=ii({prop:i,defaultProp:a??!1,onChange:o,caller:hy});return l.jsx(VJ,{scope:t,triggerId:kn(),triggerRef:u,contentId:kn(),open:f,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(h=>!h),[d]),modal:s,children:l.jsx(PJ,{...c,open:f,onOpenChange:d,dir:r,modal:s,children:n})})};UL.displayName=hy;var zL="DropdownMenuTrigger",WL=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,a=BL(zL,n),o=sr(n);return l.jsx(TJ,{asChild:!0,...o,children:l.jsx(Ae.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Ba(t,a.triggerRef),onPointerDown:ve(e.onPointerDown,s=>{!r&&s.button===0&&s.ctrlKey===!1&&(a.onOpenToggle(),a.open||s.preventDefault())}),onKeyDown:ve(e.onKeyDown,s=>{r||(["Enter"," "].includes(s.key)&&a.onOpenToggle(),s.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(s.key)&&s.preventDefault())})})})});WL.displayName=zL;var KJ="DropdownMenuPortal",HL=e=>{const{__scopeDropdownMenu:t,...n}=e,r=sr(t);return l.jsx(OJ,{...r,...n})};HL.displayName=KJ;var qL="DropdownMenuContent",VL=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=BL(qL,n),a=sr(n),o=g.useRef(!1);return l.jsx(IJ,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:t,onCloseAutoFocus:ve(e.onCloseAutoFocus,s=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,s.preventDefault()}),onInteractOutside:ve(e.onInteractOutside,s=>{const c=s.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,f=c.button===2||u;(!i.modal||f)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});VL.displayName=qL;var GJ="DropdownMenuGroup",YJ=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=sr(n);return l.jsx(RJ,{...i,...r,ref:t})});YJ.displayName=GJ;var XJ="DropdownMenuLabel",KL=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=sr(n);return l.jsx(MJ,{...i,...r,ref:t})});KL.displayName=XJ;var QJ="DropdownMenuItem",GL=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=sr(n);return l.jsx(DJ,{...i,...r,ref:t})});GL.displayName=QJ;var JJ="DropdownMenuCheckboxItem",YL=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=sr(n);return l.jsx($J,{...i,...r,ref:t})});YL.displayName=JJ;var ZJ="DropdownMenuRadioGroup",eZ=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=sr(n);return l.jsx(LJ,{...i,...r,ref:t})});eZ.displayName=ZJ;var tZ="DropdownMenuRadioItem",XL=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=sr(n);return l.jsx(FJ,{...i,...r,ref:t})});XL.displayName=tZ;var nZ="DropdownMenuItemIndicator",QL=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=sr(n);return l.jsx(BJ,{...i,...r,ref:t})});QL.displayName=nZ;var rZ="DropdownMenuSeparator",JL=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=sr(n);return l.jsx(UJ,{...i,...r,ref:t})});JL.displayName=rZ;var iZ="DropdownMenuArrow",aZ=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=sr(n);return l.jsx(zJ,{...i,...r,ref:t})});aZ.displayName=iZ;var oZ="DropdownMenuSubTrigger",ZL=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=sr(n);return l.jsx(WJ,{...i,...r,ref:t})});ZL.displayName=oZ;var sZ="DropdownMenuSubContent",e4=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=sr(n);return l.jsx(HJ,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});e4.displayName=sZ;var lZ=UL,cZ=WL,uZ=HL,t4=VL,n4=KL,r4=GL,i4=YL,a4=XL,o4=QL,s4=JL,l4=ZL,c4=e4;const e1=lZ,t1=cZ,dZ=g.forwardRef(({className:e,inset:t,children:n,...r},i)=>l.jsxs(l4,{ref:i,className:ge("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,l.jsx(QS,{className:"ml-auto h-4 w-4"})]}));dZ.displayName=l4.displayName;const fZ=g.forwardRef(({className:e,...t},n)=>l.jsx(c4,{ref:n,className:ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));fZ.displayName=c4.displayName;const ig=g.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(uZ,{children:l.jsx(t4,{ref:r,sideOffset:t,className:ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));ig.displayName=t4.displayName;const rc=g.forwardRef(({className:e,inset:t,...n},r)=>l.jsx(r4,{ref:r,className:ge("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));rc.displayName=r4.displayName;const hZ=g.forwardRef(({className:e,children:t,checked:n,...r},i)=>l.jsxs(i4,{ref:i,className:ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(o4,{children:l.jsx(XS,{className:"h-4 w-4"})})}),t]}));hZ.displayName=i4.displayName;const pZ=g.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(a4,{ref:r,className:ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(o4,{children:l.jsx(EH,{className:"h-2 w-2 fill-current"})})}),t]}));pZ.displayName=a4.displayName;const u4=g.forwardRef(({className:e,inset:t,...n},r)=>l.jsx(n4,{ref:r,className:ge("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));u4.displayName=n4.displayName;const n1=g.forwardRef(({className:e,...t},n)=>l.jsx(s4,{ref:n,className:ge("-mx-1 my-1 h-px bg-muted",e),...t}));n1.displayName=s4.displayName;var d4={exports:{}},f4={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vc=g;function mZ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gZ=typeof Object.is=="function"?Object.is:mZ,vZ=Vc.useState,yZ=Vc.useEffect,xZ=Vc.useLayoutEffect,bZ=Vc.useDebugValue;function wZ(e,t){var n=t(),r=vZ({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return xZ(function(){i.value=n,i.getSnapshot=t,j0(i)&&a({inst:i})},[e,n,t]),yZ(function(){return j0(i)&&a({inst:i}),e(function(){j0(i)&&a({inst:i})})},[e]),bZ(n),n}function j0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gZ(e,n)}catch{return!0}}function _Z(e,t){return t()}var SZ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?_Z:wZ;f4.useSyncExternalStore=Vc.useSyncExternalStore!==void 0?Vc.useSyncExternalStore:SZ;d4.exports=f4;var jZ=d4.exports;function kZ(){return jZ.useSyncExternalStore(CZ,()=>!0,()=>!1)}function CZ(){return()=>{}}var Nj="Avatar",[EZ,MDe]=Fn(Nj),[AZ,h4]=EZ(Nj),p4=g.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,a]=g.useState("idle");return l.jsx(AZ,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:l.jsx(Ae.span,{...r,ref:t})})});p4.displayName=Nj;var m4="AvatarImage",g4=g.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=e,o=h4(m4,n),s=NZ(r,a),c=an(u=>{i(u),o.onImageLoadingStatusChange(u)});return on(()=>{s!=="idle"&&c(s)},[s,c]),s==="loaded"?l.jsx(Ae.img,{...a,ref:t,src:r}):null});g4.displayName=m4;var v4="AvatarFallback",y4=g.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,a=h4(v4,n),[o,s]=g.useState(r===void 0);return g.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>s(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&a.imageLoadingStatus!=="loaded"?l.jsx(Ae.span,{...i,ref:t}):null});y4.displayName=v4;function iN(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function NZ(e,{referrerPolicy:t,crossOrigin:n}){const r=kZ(),i=g.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[o,s]=g.useState(()=>iN(a,e));return on(()=>{s(iN(a,e))},[a,e]),on(()=>{const c=d=>()=>{s(d)};if(!a)return;const u=c("loaded"),f=c("error");return a.addEventListener("load",u),a.addEventListener("error",f),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",u),a.removeEventListener("error",f)}},[a,n,t]),o}var x4=p4,b4=g4,w4=y4;const ts=g.forwardRef(({className:e,...t},n)=>l.jsx(x4,{ref:n,className:ge("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));ts.displayName=x4.displayName;const Iu=g.forwardRef(({className:e,...t},n)=>l.jsx(b4,{ref:n,className:ge("aspect-square h-full w-full",e),...t}));Iu.displayName=b4.displayName;const ns=g.forwardRef(({className:e,...t},n)=>l.jsx(w4,{ref:n,className:ge("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));ns.displayName=w4.displayName;function r1(e,[t,n]){return Math.min(n,Math.max(t,e))}function PZ(e,t){return g.useReducer((n,r)=>t[n][r]??n,e)}var Pj="ScrollArea",[_4,DDe]=Fn(Pj),[TZ,oi]=_4(Pj),S4=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:a=600,...o}=e,[s,c]=g.useState(null),[u,f]=g.useState(null),[d,h]=g.useState(null),[p,m]=g.useState(null),[v,y]=g.useState(null),[x,w]=g.useState(0),[b,j]=g.useState(0),[_,S]=g.useState(!1),[k,E]=g.useState(!1),O=We(t,A=>c(A)),N=Oh(i);return l.jsx(TZ,{scope:n,type:r,dir:N,scrollHideDelay:a,scrollArea:s,viewport:u,onViewportChange:f,content:d,onContentChange:h,scrollbarX:p,onScrollbarXChange:m,scrollbarXEnabled:_,onScrollbarXEnabledChange:S,scrollbarY:v,onScrollbarYChange:y,scrollbarYEnabled:k,onScrollbarYEnabledChange:E,onCornerWidthChange:w,onCornerHeightChange:j,children:l.jsx(Ae.div,{dir:N,...o,ref:O,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});S4.displayName=Pj;var j4="ScrollAreaViewport",k4=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:i,...a}=e,o=oi(j4,n),s=g.useRef(null),c=We(t,s,o.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),l.jsx(Ae.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:l.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});k4.displayName=j4;var da="ScrollAreaScrollbar",Tj=g.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=oi(da,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,s=e.orientation==="horizontal";return g.useEffect(()=>(s?a(!0):o(!0),()=>{s?a(!1):o(!1)}),[s,a,o]),i.type==="hover"?l.jsx(OZ,{...r,ref:t,forceMount:n}):i.type==="scroll"?l.jsx(IZ,{...r,ref:t,forceMount:n}):i.type==="auto"?l.jsx(C4,{...r,ref:t,forceMount:n}):i.type==="always"?l.jsx(Oj,{...r,ref:t}):null});Tj.displayName=da;var OZ=g.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=oi(da,e.__scopeScrollArea),[a,o]=g.useState(!1);return g.useEffect(()=>{const s=i.scrollArea;let c=0;if(s){const u=()=>{window.clearTimeout(c),o(!0)},f=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return s.addEventListener("pointerenter",u),s.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),s.removeEventListener("pointerenter",u),s.removeEventListener("pointerleave",f)}}},[i.scrollArea,i.scrollHideDelay]),l.jsx(Cn,{present:n||a,children:l.jsx(C4,{"data-state":a?"visible":"hidden",...r,ref:t})})}),IZ=g.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=oi(da,e.__scopeScrollArea),a=e.orientation==="horizontal",o=my(()=>c("SCROLL_END"),100),[s,c]=PZ("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(s==="idle"){const u=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[s,i.scrollHideDelay,c]),g.useEffect(()=>{const u=i.viewport,f=a?"scrollLeft":"scrollTop";if(u){let d=u[f];const h=()=>{const p=u[f];d!==p&&(c("SCROLL"),o()),d=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[i.viewport,a,c,o]),l.jsx(Cn,{present:n||s!=="hidden",children:l.jsx(Oj,{"data-state":s==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:ve(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ve(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),C4=g.forwardRef((e,t)=>{const n=oi(da,e.__scopeScrollArea),{forceMount:r,...i}=e,[a,o]=g.useState(!1),s=e.orientation==="horizontal",c=my(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;o(s?u:f)}},10);return Kc(n.viewport,c),Kc(n.content,c),l.jsx(Cn,{present:r||a,children:l.jsx(Oj,{"data-state":a?"visible":"hidden",...i,ref:t})})}),Oj=g.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=oi(da,e.__scopeScrollArea),a=g.useRef(null),o=g.useRef(0),[s,c]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=T4(s.viewport,s.content),f={...r,sizes:s,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function d(h,p){return FZ(h,o.current,s,p)}return n==="horizontal"?l.jsx(RZ,{...f,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const h=i.viewport.scrollLeft,p=aN(h,s,i.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=d(h,i.dir))}}):n==="vertical"?l.jsx(MZ,{...f,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const h=i.viewport.scrollTop,p=aN(h,s);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=d(h))}}):null}),RZ=g.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,a=oi(da,e.__scopeScrollArea),[o,s]=g.useState(),c=g.useRef(null),u=We(t,c,a.onScrollbarXChange);return g.useEffect(()=>{c.current&&s(getComputedStyle(c.current))},[c]),l.jsx(A4,{"data-orientation":"horizontal",...i,ref:u,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":py(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,d)=>{if(a.viewport){const h=a.viewport.scrollLeft+f.deltaX;e.onWheelScroll(h),I4(h,d)&&f.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:og(o.paddingLeft),paddingEnd:og(o.paddingRight)}})}})}),MZ=g.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,a=oi(da,e.__scopeScrollArea),[o,s]=g.useState(),c=g.useRef(null),u=We(t,c,a.onScrollbarYChange);return g.useEffect(()=>{c.current&&s(getComputedStyle(c.current))},[c]),l.jsx(A4,{"data-orientation":"vertical",...i,ref:u,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":py(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,d)=>{if(a.viewport){const h=a.viewport.scrollTop+f.deltaY;e.onWheelScroll(h),I4(h,d)&&f.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:og(o.paddingTop),paddingEnd:og(o.paddingBottom)}})}})}),[DZ,E4]=_4(da),A4=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:s,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:f,onResize:d,...h}=e,p=oi(da,n),[m,v]=g.useState(null),y=We(t,O=>v(O)),x=g.useRef(null),w=g.useRef(""),b=p.viewport,j=r.content-r.viewport,_=an(f),S=an(c),k=my(d,10);function E(O){if(x.current){const N=O.clientX-x.current.left,A=O.clientY-x.current.top;u({x:N,y:A})}}return g.useEffect(()=>{const O=N=>{const A=N.target;(m==null?void 0:m.contains(A))&&_(N,j)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[b,m,j,_]),g.useEffect(S,[r,S]),Kc(m,k),Kc(p.content,k),l.jsx(DZ,{scope:n,scrollbar:m,hasThumb:i,onThumbChange:an(a),onThumbPointerUp:an(o),onThumbPositionChange:S,onThumbPointerDown:an(s),children:l.jsx(Ae.div,{...h,ref:y,style:{position:"absolute",...h.style},onPointerDown:ve(e.onPointerDown,O=>{O.button===0&&(O.target.setPointerCapture(O.pointerId),x.current=m.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),E(O))}),onPointerMove:ve(e.onPointerMove,E),onPointerUp:ve(e.onPointerUp,O=>{const N=O.target;N.hasPointerCapture(O.pointerId)&&N.releasePointerCapture(O.pointerId),document.body.style.webkitUserSelect=w.current,p.viewport&&(p.viewport.style.scrollBehavior=""),x.current=null})})})}),ag="ScrollAreaThumb",N4=g.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=E4(ag,e.__scopeScrollArea);return l.jsx(Cn,{present:n||i.hasThumb,children:l.jsx($Z,{ref:t,...r})})}),$Z=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,a=oi(ag,n),o=E4(ag,n),{onThumbPositionChange:s}=o,c=We(t,d=>o.onThumbChange(d)),u=g.useRef(void 0),f=my(()=>{u.current&&(u.current(),u.current=void 0)},100);return g.useEffect(()=>{const d=a.viewport;if(d){const h=()=>{if(f(),!u.current){const p=BZ(d,s);u.current=p,s()}};return s(),d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[a.viewport,f,s]),l.jsx(Ae.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ve(e.onPointerDownCapture,d=>{const p=d.target.getBoundingClientRect(),m=d.clientX-p.left,v=d.clientY-p.top;o.onThumbPointerDown({x:m,y:v})}),onPointerUp:ve(e.onPointerUp,o.onThumbPointerUp)})});N4.displayName=ag;var Ij="ScrollAreaCorner",P4=g.forwardRef((e,t)=>{const n=oi(Ij,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?l.jsx(LZ,{...e,ref:t}):null});P4.displayName=Ij;var LZ=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=oi(Ij,n),[a,o]=g.useState(0),[s,c]=g.useState(0),u=!!(a&&s);return Kc(i.scrollbarX,()=>{var d;const f=((d=i.scrollbarX)==null?void 0:d.offsetHeight)||0;i.onCornerHeightChange(f),c(f)}),Kc(i.scrollbarY,()=>{var d;const f=((d=i.scrollbarY)==null?void 0:d.offsetWidth)||0;i.onCornerWidthChange(f),o(f)}),u?l.jsx(Ae.div,{...r,ref:t,style:{width:a,height:s,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function og(e){return e?parseInt(e,10):0}function T4(e,t){const n=e/t;return isNaN(n)?0:n}function py(e){const t=T4(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function FZ(e,t,n,r="ltr"){const i=py(n),a=i/2,o=t||a,s=i-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-s,f=n.content-n.viewport,d=r==="ltr"?[0,f]:[f*-1,0];return O4([c,u],d)(e)}function aN(e,t,n="ltr"){const r=py(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,o=t.content-t.viewport,s=a-r,c=n==="ltr"?[0,o]:[o*-1,0],u=r1(e,c);return O4([0,o],[0,s])(u)}function O4(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function I4(e,t){return e>0&&e<t}var BZ=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const a={left:e.scrollLeft,top:e.scrollTop},o=n.left!==a.left,s=n.top!==a.top;(o||s)&&t(),n=a,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function my(e,t){const n=an(e),r=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),g.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Kc(e,t){const n=an(t);on(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}var R4=S4,UZ=k4,zZ=P4;const ic=g.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(R4,{ref:r,className:ge("relative overflow-hidden",e),...n,children:[l.jsx(UZ,{className:"h-full w-full rounded-[inherit]",children:t}),l.jsx(M4,{}),l.jsx(zZ,{})]}));ic.displayName=R4.displayName;const M4=g.forwardRef(({className:e,orientation:t="vertical",...n},r)=>l.jsx(Tj,{ref:r,orientation:t,className:ge("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:l.jsx(N4,{className:"relative flex-1 rounded-full bg-border"})}));M4.displayName=Tj.displayName;function mt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ur(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Zn(e,t){const n=mt(e);return isNaN(t)?Ur(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Ii(e,t){const n=mt(e);if(isNaN(t))return Ur(e,NaN);if(!t)return n;const r=n.getDate(),i=Ur(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const a=i.getDate();return r>=a?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const Rj=6048e5,WZ=864e5;let HZ={};function Lh(){return HZ}function sa(e,t){var s,c,u,f;const n=Lh(),r=(t==null?void 0:t.weekStartsOn)??((c=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,i=mt(e),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Qs(e){return sa(e,{weekStartsOn:1})}function D4(e){const t=mt(e),n=t.getFullYear(),r=Ur(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Qs(r),a=Ur(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=Qs(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function Gc(e){const t=mt(e);return t.setHours(0,0,0,0),t}function sg(e){const t=mt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Xi(e,t){const n=Gc(e),r=Gc(t),i=+n-sg(n),a=+r-sg(r);return Math.round((i-a)/WZ)}function qZ(e){const t=D4(e),n=Ur(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Qs(n)}function i1(e,t){const n=t*7;return Zn(e,n)}function VZ(e,t){return Ii(e,t*12)}function KZ(e){let t;return e.forEach(function(n){const r=mt(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function GZ(e){let t;return e.forEach(n=>{const r=mt(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function gr(e,t){const n=Gc(e),r=Gc(t);return+n==+r}function Mj(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function YZ(e){if(!Mj(e)&&typeof e!="number")return!1;const t=mt(e);return!isNaN(Number(t))}function If(e,t){const n=mt(e),r=mt(t),i=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return i*12+a}function XZ(e,t,n){const r=sa(e,n),i=sa(t,n),a=+r-sg(r),o=+i-sg(i);return Math.round((a-o)/Rj)}function Dj(e){const t=mt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function jr(e){const t=mt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function $4(e){const t=mt(e),n=Ur(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function $j(e,t){var s,c,u,f;const n=Lh(),r=(t==null?void 0:t.weekStartsOn)??((c=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,i=mt(e),a=i.getDay(),o=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function L4(e){return $j(e,{weekStartsOn:1})}const QZ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},JZ=(e,t,n)=>{let r;const i=QZ[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function k0(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const ZZ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},eee={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},tee={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},nee={date:k0({formats:ZZ,defaultWidth:"full"}),time:k0({formats:eee,defaultWidth:"full"}),dateTime:k0({formats:tee,defaultWidth:"full"})},ree={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},iee=(e,t,n,r)=>ree[e];function ld(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,s=n!=null&&n.width?String(n.width):o;i=e.formattingValues[s]||e.formattingValues[o]}else{const o=e.defaultWidth,s=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[s]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const aee={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},oee={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},see={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},lee={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},uee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dee=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},fee={ordinalNumber:dee,era:ld({values:aee,defaultWidth:"wide"}),quarter:ld({values:oee,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ld({values:see,defaultWidth:"wide"}),day:ld({values:lee,defaultWidth:"wide"}),dayPeriod:ld({values:cee,defaultWidth:"wide",formattingValues:uee,defaultFormattingWidth:"wide"})};function cd(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(s)?pee(s,d=>d.test(o)):hee(s,d=>d.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const f=t.slice(o.length);return{value:u,rest:f}}}function hee(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function pee(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function mee(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const s=t.slice(i.length);return{value:o,rest:s}}}const gee=/^(\d+)(th|st|nd|rd)?/i,vee=/\d+/i,yee={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},xee={any:[/^b/i,/^(a|c)/i]},bee={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wee={any:[/1/i,/2/i,/3/i,/4/i]},_ee={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},See={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},jee={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kee={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Cee={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Eee={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Aee={ordinalNumber:mee({matchPattern:gee,parsePattern:vee,valueCallback:e=>parseInt(e,10)}),era:cd({matchPatterns:yee,defaultMatchWidth:"wide",parsePatterns:xee,defaultParseWidth:"any"}),quarter:cd({matchPatterns:bee,defaultMatchWidth:"wide",parsePatterns:wee,defaultParseWidth:"any",valueCallback:e=>e+1}),month:cd({matchPatterns:_ee,defaultMatchWidth:"wide",parsePatterns:See,defaultParseWidth:"any"}),day:cd({matchPatterns:jee,defaultMatchWidth:"wide",parsePatterns:kee,defaultParseWidth:"any"}),dayPeriod:cd({matchPatterns:Cee,defaultMatchWidth:"any",parsePatterns:Eee,defaultParseWidth:"any"})},F4={code:"en-US",formatDistance:JZ,formatLong:nee,formatRelative:iee,localize:fee,match:Aee,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Nee(e){const t=mt(e);return Xi(t,$4(t))+1}function B4(e){const t=mt(e),n=+Qs(t)-+qZ(t);return Math.round(n/Rj)+1}function U4(e,t){var f,d,h,p;const n=mt(e),r=n.getFullYear(),i=Lh(),a=(t==null?void 0:t.firstWeekContainsDate)??((d=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=Ur(e,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const s=sa(o,t),c=Ur(e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const u=sa(c,t);return n.getTime()>=s.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function Pee(e,t){var s,c,u,f;const n=Lh(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,i=U4(e,t),a=Ur(e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),sa(a,t)}function z4(e,t){const n=mt(e),r=+sa(n,t)-+Pee(n,t);return Math.round(r/Rj)+1}function jt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const oo={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return jt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):jt(n+1,2)},d(e,t){return jt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return jt(e.getHours()%12||12,t.length)},H(e,t){return jt(e.getHours(),t.length)},m(e,t){return jt(e.getMinutes(),t.length)},s(e,t){return jt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return jt(i,t.length)}},Ol={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},oN={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return oo.y(e,t)},Y:function(e,t,n,r){const i=U4(e,r),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return jt(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):jt(a,t.length)},R:function(e,t){const n=D4(e);return jt(n,t.length)},u:function(e,t){const n=e.getFullYear();return jt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return jt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return jt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return oo.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return jt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=z4(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):jt(i,t.length)},I:function(e,t,n){const r=B4(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):jt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):oo.d(e,t)},D:function(e,t,n){const r=Nee(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):jt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return jt(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return jt(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return jt(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=Ol.noon:r===0?i=Ol.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=Ol.evening:r>=12?i=Ol.afternoon:r>=4?i=Ol.morning:i=Ol.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return oo.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):oo.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):jt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):jt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):oo.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):oo.s(e,t)},S:function(e,t){return oo.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return lN(r);case"XXXX":case"XX":return ys(r);case"XXXXX":case"XXX":default:return ys(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return lN(r);case"xxxx":case"xx":return ys(r);case"xxxxx":case"xxx":default:return ys(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+sN(r,":");case"OOOO":default:return"GMT"+ys(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+sN(r,":");case"zzzz":default:return"GMT"+ys(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return jt(r,t.length)},T:function(e,t,n){const r=e.getTime();return jt(r,t.length)}};function sN(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+t+jt(a,2)}function lN(e,t){return e%60===0?(e>0?"-":"+")+jt(Math.abs(e)/60,2):ys(e,t)}function ys(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=jt(Math.trunc(r/60),2),a=jt(r%60,2);return n+i+t+a}const cN=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},W4=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Tee=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return cN(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",cN(r,t)).replace("{{time}}",W4(i,t))},Oee={p:W4,P:Tee},Iee=/^D+$/,Ree=/^Y+$/,Mee=["D","DD","YY","YYYY"];function Dee(e){return Iee.test(e)}function $ee(e){return Ree.test(e)}function Lee(e,t,n){const r=Fee(e,t,n);if(console.warn(r),Mee.includes(e))throw new RangeError(r)}function Fee(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Bee=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Uee=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zee=/^'([^]*?)'?$/,Wee=/''/g,Hee=/[a-zA-Z]/;function Ha(e,t,n){var f,d,h,p,m,v,y,x;const r=Lh(),i=(n==null?void 0:n.locale)??r.locale??F4,a=(n==null?void 0:n.firstWeekContainsDate)??((d=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((v=(m=n==null?void 0:n.locale)==null?void 0:m.options)==null?void 0:v.weekStartsOn)??r.weekStartsOn??((x=(y=r.locale)==null?void 0:y.options)==null?void 0:x.weekStartsOn)??0,s=mt(e);if(!YZ(s))throw new RangeError("Invalid time value");let c=t.match(Uee).map(w=>{const b=w[0];if(b==="p"||b==="P"){const j=Oee[b];return j(w,i.formatLong)}return w}).join("").match(Bee).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const b=w[0];if(b==="'")return{isToken:!1,value:qee(w)};if(oN[b])return{isToken:!0,value:w};if(b.match(Hee))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:w}});i.localize.preprocessor&&(c=i.localize.preprocessor(s,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(w=>{if(!w.isToken)return w.value;const b=w.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&$ee(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Dee(b))&&Lee(b,t,String(e));const j=oN[b[0]];return j(s,b,i.localize,u)}).join("")}function qee(e){const t=e.match(zee);return t?t[1].replace(Wee,"'"):e}function Vee(e){const t=mt(e),n=t.getFullYear(),r=t.getMonth(),i=Ur(e,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function Kee(e){return Math.trunc(+mt(e)/1e3)}function Gee(e){const t=mt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function Yee(e,t){return XZ(Gee(e),jr(e),t)+1}function a1(e,t){const n=mt(e),r=mt(t);return n.getTime()>r.getTime()}function H4(e,t){const n=mt(e),r=mt(t);return+n<+r}function Lj(e,t){const n=mt(e),r=mt(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Xee(e,t){const n=mt(e),r=mt(t);return n.getFullYear()===r.getFullYear()}function C0(e,t){return Zn(e,-t)}function E0(e,t){const n=mt(e),r=n.getFullYear(),i=n.getDate(),a=Ur(e,0);a.setFullYear(r,t,15),a.setHours(0,0,0,0);const o=Vee(a);return n.setMonth(t,Math.min(i,o)),n}function uN(e,t){const n=mt(e);return isNaN(+n)?Ur(e,NaN):(n.setFullYear(t),n)}var Be=function(){return Be=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Be.apply(this,arguments)};function Qee(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function q4(e,t,n){for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function Fh(e){return e.mode==="multiple"}function Bh(e){return e.mode==="range"}function gy(e){return e.mode==="single"}var Jee={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Zee(e,t){return Ha(e,"LLLL y",t)}function ete(e,t){return Ha(e,"d",t)}function tte(e,t){return Ha(e,"LLLL",t)}function nte(e){return"".concat(e)}function rte(e,t){return Ha(e,"cccccc",t)}function ite(e,t){return Ha(e,"yyyy",t)}var ate=Object.freeze({__proto__:null,formatCaption:Zee,formatDay:ete,formatMonthCaption:tte,formatWeekNumber:nte,formatWeekdayName:rte,formatYearCaption:ite}),ote=function(e,t,n){return Ha(e,"do MMMM (EEEE)",n)},ste=function(){return"Month: "},lte=function(){return"Go to next month"},cte=function(){return"Go to previous month"},ute=function(e,t){return Ha(e,"cccc",t)},dte=function(e){return"Week n. ".concat(e)},fte=function(){return"Year: "},hte=Object.freeze({__proto__:null,labelDay:ote,labelMonthDropdown:ste,labelNext:lte,labelPrevious:cte,labelWeekNumber:dte,labelWeekday:ute,labelYearDropdown:fte});function pte(){var e="buttons",t=Jee,n=F4,r={},i={},a=1,o={},s=new Date;return{captionLayout:e,classNames:t,formatters:ate,labels:hte,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:a,styles:o,today:s,mode:"default"}}function mte(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,i=e.toMonth,a=e.fromDate,o=e.toDate;return r?a=jr(r):t&&(a=new Date(t,0,1)),i?o=Dj(i):n&&(o=new Date(n,11,31)),{fromDate:a?Gc(a):void 0,toDate:o?Gc(o):void 0}}var V4=g.createContext(void 0);function gte(e){var t,n=e.initialProps,r=pte(),i=mte(n),a=i.fromDate,o=i.toDate,s=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;s!=="buttons"&&(!a||!o)&&(s="buttons");var c;(gy(n)||Fh(n)||Bh(n))&&(c=n.onSelect);var u=Be(Be(Be({},r),n),{captionLayout:s,classNames:Be(Be({},r.classNames),n.classNames),components:Be({},n.components),formatters:Be(Be({},r.formatters),n.formatters),fromDate:a,labels:Be(Be({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Be(Be({},r.modifiers),n.modifiers),modifiersClassNames:Be(Be({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Be(Be({},r.styles),n.styles),toDate:o});return l.jsx(V4.Provider,{value:u,children:e.children})}function Wt(){var e=g.useContext(V4);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function K4(e){var t=Wt(),n=t.locale,r=t.classNames,i=t.styles,a=t.formatters.formatCaption;return l.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:a(e.displayMonth,{locale:n})})}function vte(e){return l.jsx("svg",Be({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:l.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function G4(e){var t,n,r=e.onChange,i=e.value,a=e.children,o=e.caption,s=e.className,c=e.style,u=Wt(),f=(n=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:vte;return l.jsxs("div",{className:s,style:c,children:[l.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),l.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:i,onChange:r,children:a}),l.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,l.jsx(f,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function yte(e){var t,n=Wt(),r=n.fromDate,i=n.toDate,a=n.styles,o=n.locale,s=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,f=n.labels.labelMonthDropdown;if(!r)return l.jsx(l.Fragment,{});if(!i)return l.jsx(l.Fragment,{});var d=[];if(Xee(r,i))for(var h=jr(r),p=r.getMonth();p<=i.getMonth();p++)d.push(E0(h,p));else for(var h=jr(new Date),p=0;p<=11;p++)d.push(E0(h,p));var m=function(y){var x=Number(y.target.value),w=E0(jr(e.displayMonth),x);e.onChange(w)},v=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:G4;return l.jsx(v,{name:"months","aria-label":f(),className:c.dropdown_month,style:a.dropdown_month,onChange:m,value:e.displayMonth.getMonth(),caption:s(e.displayMonth,{locale:o}),children:d.map(function(y){return l.jsx("option",{value:y.getMonth(),children:s(y,{locale:o})},y.getMonth())})})}function xte(e){var t,n=e.displayMonth,r=Wt(),i=r.fromDate,a=r.toDate,o=r.locale,s=r.styles,c=r.classNames,u=r.components,f=r.formatters.formatYearCaption,d=r.labels.labelYearDropdown,h=[];if(!i)return l.jsx(l.Fragment,{});if(!a)return l.jsx(l.Fragment,{});for(var p=i.getFullYear(),m=a.getFullYear(),v=p;v<=m;v++)h.push(uN($4(new Date),v));var y=function(w){var b=uN(jr(n),Number(w.target.value));e.onChange(b)},x=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:G4;return l.jsx(x,{name:"years","aria-label":d(),className:c.dropdown_year,style:s.dropdown_year,onChange:y,value:n.getFullYear(),caption:f(n,{locale:o}),children:h.map(function(w){return l.jsx("option",{value:w.getFullYear(),children:f(w,{locale:o})},w.getFullYear())})})}function bte(e,t){var n=g.useState(e),r=n[0],i=n[1],a=t===void 0?r:t;return[a,i]}function wte(e){var t=e.month,n=e.defaultMonth,r=e.today,i=t||n||r||new Date,a=e.toDate,o=e.fromDate,s=e.numberOfMonths,c=s===void 0?1:s;if(a&&If(a,i)<0){var u=-1*(c-1);i=Ii(a,u)}return o&&If(i,o)<0&&(i=o),jr(i)}function _te(){var e=Wt(),t=wte(e),n=bte(t,e.month),r=n[0],i=n[1],a=function(o){var s;if(!e.disableNavigation){var c=jr(o);i(c),(s=e.onMonthChange)===null||s===void 0||s.call(e,c)}};return[r,a]}function Ste(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,i=jr(e),a=jr(Ii(i,r)),o=If(a,i),s=[],c=0;c<o;c++){var u=Ii(i,c);s.push(u)}return n&&(s=s.reverse()),s}function jte(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,i=t.numberOfMonths,a=i===void 0?1:i,o=r?a:1,s=jr(e);if(!n)return Ii(s,o);var c=If(n,e);if(!(c<a))return Ii(s,o)}}function kte(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,i=t.numberOfMonths,a=i===void 0?1:i,o=r?a:1,s=jr(e);if(!n)return Ii(s,-o);var c=If(s,n);if(!(c<=0))return Ii(s,-o)}}var Y4=g.createContext(void 0);function Cte(e){var t=Wt(),n=_te(),r=n[0],i=n[1],a=Ste(r,t),o=jte(r,t),s=kte(r,t),c=function(d){return a.some(function(h){return Lj(d,h)})},u=function(d,h){c(d)||(h&&H4(d,h)?i(Ii(d,1+t.numberOfMonths*-1)):i(d))},f={currentMonth:r,displayMonths:a,goToMonth:i,goToDate:u,previousMonth:s,nextMonth:o,isDateDisplayed:c};return l.jsx(Y4.Provider,{value:f,children:e.children})}function Uh(){var e=g.useContext(Y4);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function dN(e){var t,n=Wt(),r=n.classNames,i=n.styles,a=n.components,o=Uh().goToMonth,s=function(f){o(Ii(f,e.displayIndex?-e.displayIndex:0))},c=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:K4,u=l.jsx(c,{id:e.id,displayMonth:e.displayMonth});return l.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[l.jsx("div",{className:r.vhidden,children:u}),l.jsx(yte,{onChange:s,displayMonth:e.displayMonth}),l.jsx(xte,{onChange:s,displayMonth:e.displayMonth})]})}function Ete(e){return l.jsx("svg",Be({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Ate(e){return l.jsx("svg",Be({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var lg=g.forwardRef(function(e,t){var n=Wt(),r=n.classNames,i=n.styles,a=[r.button_reset,r.button];e.className&&a.push(e.className);var o=a.join(" "),s=Be(Be({},i.button_reset),i.button);return e.style&&Object.assign(s,e.style),l.jsx("button",Be({},e,{ref:t,type:"button",className:o,style:s}))});function Nte(e){var t,n,r=Wt(),i=r.dir,a=r.locale,o=r.classNames,s=r.styles,c=r.labels,u=c.labelPrevious,f=c.labelNext,d=r.components;if(!e.nextMonth&&!e.previousMonth)return l.jsx(l.Fragment,{});var h=u(e.previousMonth,{locale:a}),p=[o.nav_button,o.nav_button_previous].join(" "),m=f(e.nextMonth,{locale:a}),v=[o.nav_button,o.nav_button_next].join(" "),y=(t=d==null?void 0:d.IconRight)!==null&&t!==void 0?t:Ate,x=(n=d==null?void 0:d.IconLeft)!==null&&n!==void 0?n:Ete;return l.jsxs("div",{className:o.nav,style:s.nav,children:[!e.hidePrevious&&l.jsx(lg,{name:"previous-month","aria-label":h,className:p,style:s.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:i==="rtl"?l.jsx(y,{className:o.nav_icon,style:s.nav_icon}):l.jsx(x,{className:o.nav_icon,style:s.nav_icon})}),!e.hideNext&&l.jsx(lg,{name:"next-month","aria-label":m,className:v,style:s.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:i==="rtl"?l.jsx(x,{className:o.nav_icon,style:s.nav_icon}):l.jsx(y,{className:o.nav_icon,style:s.nav_icon})})]})}function fN(e){var t=Wt().numberOfMonths,n=Uh(),r=n.previousMonth,i=n.nextMonth,a=n.goToMonth,o=n.displayMonths,s=o.findIndex(function(m){return Lj(e.displayMonth,m)}),c=s===0,u=s===o.length-1,f=t>1&&(c||!u),d=t>1&&(u||!c),h=function(){r&&a(r)},p=function(){i&&a(i)};return l.jsx(Nte,{displayMonth:e.displayMonth,hideNext:f,hidePrevious:d,nextMonth:i,previousMonth:r,onPreviousClick:h,onNextClick:p})}function Pte(e){var t,n=Wt(),r=n.classNames,i=n.disableNavigation,a=n.styles,o=n.captionLayout,s=n.components,c=(t=s==null?void 0:s.CaptionLabel)!==null&&t!==void 0?t:K4,u;return i?u=l.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=l.jsx(dN,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=l.jsxs(l.Fragment,{children:[l.jsx(dN,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),l.jsx(fN,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=l.jsxs(l.Fragment,{children:[l.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(fN,{displayMonth:e.displayMonth,id:e.id})]}),l.jsx("div",{className:r.caption,style:a.caption,children:u})}function Tte(e){var t=Wt(),n=t.footer,r=t.styles,i=t.classNames.tfoot;return n?l.jsx("tfoot",{className:i,style:r.tfoot,children:l.jsx("tr",{children:l.jsx("td",{colSpan:8,children:n})})}):l.jsx(l.Fragment,{})}function Ote(e,t,n){for(var r=n?Qs(new Date):sa(new Date,{locale:e,weekStartsOn:t}),i=[],a=0;a<7;a++){var o=Zn(r,a);i.push(o)}return i}function Ite(){var e=Wt(),t=e.classNames,n=e.styles,r=e.showWeekNumber,i=e.locale,a=e.weekStartsOn,o=e.ISOWeek,s=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=Ote(i,a,o);return l.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&l.jsx("td",{style:n.head_cell,className:t.head_cell}),u.map(function(f,d){return l.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(f,{locale:i}),children:s(f,{locale:i})},d)})]})}function Rte(){var e,t=Wt(),n=t.classNames,r=t.styles,i=t.components,a=(e=i==null?void 0:i.HeadRow)!==null&&e!==void 0?e:Ite;return l.jsx("thead",{style:r.head,className:n.head,children:l.jsx(a,{})})}function Mte(e){var t=Wt(),n=t.locale,r=t.formatters.formatDay;return l.jsx(l.Fragment,{children:r(e.date,{locale:n})})}var Fj=g.createContext(void 0);function Dte(e){if(!Fh(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return l.jsx(Fj.Provider,{value:t,children:e.children})}return l.jsx($te,{initialProps:e.initialProps,children:e.children})}function $te(e){var t=e.initialProps,n=e.children,r=t.selected,i=t.min,a=t.max,o=function(u,f,d){var h,p;(h=t.onDayClick)===null||h===void 0||h.call(t,u,f,d);var m=!!(f.selected&&i&&(r==null?void 0:r.length)===i);if(!m){var v=!!(!f.selected&&a&&(r==null?void 0:r.length)===a);if(!v){var y=r?q4([],r):[];if(f.selected){var x=y.findIndex(function(w){return gr(u,w)});y.splice(x,1)}else y.push(u);(p=t.onSelect)===null||p===void 0||p.call(t,y,u,f,d)}}},s={disabled:[]};r&&s.disabled.push(function(u){var f=a&&r.length>a-1,d=r.some(function(h){return gr(h,u)});return!!(f&&!d)});var c={selected:r,onDayClick:o,modifiers:s};return l.jsx(Fj.Provider,{value:c,children:n})}function Bj(){var e=g.useContext(Fj);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Lte(e,t){var n=t||{},r=n.from,i=n.to;return r&&i?gr(i,e)&&gr(r,e)?void 0:gr(i,e)?{from:i,to:void 0}:gr(r,e)?void 0:a1(r,e)?{from:e,to:i}:{from:r,to:e}:i?a1(e,i)?{from:i,to:e}:{from:e,to:i}:r?H4(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var Uj=g.createContext(void 0);function Fte(e){if(!Bh(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return l.jsx(Uj.Provider,{value:t,children:e.children})}return l.jsx(Bte,{initialProps:e.initialProps,children:e.children})}function Bte(e){var t=e.initialProps,n=e.children,r=t.selected,i=r||{},a=i.from,o=i.to,s=t.min,c=t.max,u=function(p,m,v){var y,x;(y=t.onDayClick)===null||y===void 0||y.call(t,p,m,v);var w=Lte(p,r);(x=t.onSelect)===null||x===void 0||x.call(t,w,p,m,v)},f={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(f.range_start=[a],o?(f.range_end=[o],gr(a,o)||(f.range_middle=[{after:a,before:o}])):f.range_end=[a]):o&&(f.range_start=[o],f.range_end=[o]),s&&(a&&!o&&f.disabled.push({after:C0(a,s-1),before:Zn(a,s-1)}),a&&o&&f.disabled.push({after:a,before:Zn(a,s-1)}),!a&&o&&f.disabled.push({after:C0(o,s-1),before:Zn(o,s-1)})),c){if(a&&!o&&(f.disabled.push({before:Zn(a,-c+1)}),f.disabled.push({after:Zn(a,c-1)})),a&&o){var d=Xi(o,a)+1,h=c-d;f.disabled.push({before:C0(a,h)}),f.disabled.push({after:Zn(o,h)})}!a&&o&&(f.disabled.push({before:Zn(o,-c+1)}),f.disabled.push({after:Zn(o,c-1)}))}return l.jsx(Uj.Provider,{value:{selected:r,onDayClick:u,modifiers:f},children:n})}function zj(){var e=g.useContext(Uj);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function gm(e){return Array.isArray(e)?q4([],e):e!==void 0?[e]:[]}function Ute(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],i=n[1];t[r]=gm(i)}),t}var Ri;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Ri||(Ri={}));var zte=Ri.Selected,ga=Ri.Disabled,Wte=Ri.Hidden,Hte=Ri.Today,A0=Ri.RangeEnd,N0=Ri.RangeMiddle,P0=Ri.RangeStart,qte=Ri.Outside;function Vte(e,t,n){var r,i=(r={},r[zte]=gm(e.selected),r[ga]=gm(e.disabled),r[Wte]=gm(e.hidden),r[Hte]=[e.today],r[A0]=[],r[N0]=[],r[P0]=[],r[qte]=[],r);return e.fromDate&&i[ga].push({before:e.fromDate}),e.toDate&&i[ga].push({after:e.toDate}),Fh(e)?i[ga]=i[ga].concat(t.modifiers[ga]):Bh(e)&&(i[ga]=i[ga].concat(n.modifiers[ga]),i[P0]=n.modifiers[P0],i[N0]=n.modifiers[N0],i[A0]=n.modifiers[A0]),i}var X4=g.createContext(void 0);function Kte(e){var t=Wt(),n=Bj(),r=zj(),i=Vte(t,n,r),a=Ute(t.modifiers),o=Be(Be({},i),a);return l.jsx(X4.Provider,{value:o,children:e.children})}function Q4(){var e=g.useContext(X4);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Gte(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Yte(e){return!!(e&&typeof e=="object"&&"from"in e)}function Xte(e){return!!(e&&typeof e=="object"&&"after"in e)}function Qte(e){return!!(e&&typeof e=="object"&&"before"in e)}function Jte(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Zte(e,t){var n,r=t.from,i=t.to;if(r&&i){var a=Xi(i,r)<0;a&&(n=[i,r],r=n[0],i=n[1]);var o=Xi(e,r)>=0&&Xi(i,e)>=0;return o}return i?gr(i,e):r?gr(r,e):!1}function ene(e){return Mj(e)}function tne(e){return Array.isArray(e)&&e.every(Mj)}function nne(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(ene(n))return gr(e,n);if(tne(n))return n.includes(e);if(Yte(n))return Zte(e,n);if(Jte(n))return n.dayOfWeek.includes(e.getDay());if(Gte(n)){var r=Xi(n.before,e),i=Xi(n.after,e),a=r>0,o=i<0,s=a1(n.before,n.after);return s?o&&a:a||o}return Xte(n)?Xi(e,n.after)>0:Qte(n)?Xi(n.before,e)>0:typeof n=="function"?n(e):!1})}function Wj(e,t,n){var r=Object.keys(t).reduce(function(a,o){var s=t[o];return nne(e,s)&&a.push(o),a},[]),i={};return r.forEach(function(a){return i[a]=!0}),n&&!Lj(e,n)&&(i.outside=!0),i}function rne(e,t){for(var n=jr(e[0]),r=Dj(e[e.length-1]),i,a,o=n;o<=r;){var s=Wj(o,t),c=!s.disabled&&!s.hidden;if(!c){o=Zn(o,1);continue}if(s.selected)return o;s.today&&!a&&(a=o),i||(i=o),o=Zn(o,1)}return a||i}var ine=365;function J4(e,t){var n=t.moveBy,r=t.direction,i=t.context,a=t.modifiers,o=t.retry,s=o===void 0?{count:0,lastFocused:e}:o,c=i.weekStartsOn,u=i.fromDate,f=i.toDate,d=i.locale,h={day:Zn,week:i1,month:Ii,year:VZ,startOfWeek:function(y){return i.ISOWeek?Qs(y):sa(y,{locale:d,weekStartsOn:c})},endOfWeek:function(y){return i.ISOWeek?L4(y):$j(y,{locale:d,weekStartsOn:c})}},p=h[n](e,r==="after"?1:-1);r==="before"&&u?p=KZ([u,p]):r==="after"&&f&&(p=GZ([f,p]));var m=!0;if(a){var v=Wj(p,a);m=!v.disabled&&!v.hidden}return m?p:s.count>ine?s.lastFocused:J4(p,{moveBy:n,direction:r,context:i,modifiers:a,retry:Be(Be({},s),{count:s.count+1})})}var Z4=g.createContext(void 0);function ane(e){var t=Uh(),n=Q4(),r=g.useState(),i=r[0],a=r[1],o=g.useState(),s=o[0],c=o[1],u=rne(t.displayMonths,n),f=i??(s&&t.isDateDisplayed(s))?s:u,d=function(){c(i),a(void 0)},h=function(y){a(y)},p=Wt(),m=function(y,x){if(i){var w=J4(i,{moveBy:y,direction:x,context:p,modifiers:n});gr(i,w)||(t.goToDate(w,i),h(w))}},v={focusedDay:i,focusTarget:f,blur:d,focus:h,focusDayAfter:function(){return m("day","after")},focusDayBefore:function(){return m("day","before")},focusWeekAfter:function(){return m("week","after")},focusWeekBefore:function(){return m("week","before")},focusMonthBefore:function(){return m("month","before")},focusMonthAfter:function(){return m("month","after")},focusYearBefore:function(){return m("year","before")},focusYearAfter:function(){return m("year","after")},focusStartOfWeek:function(){return m("startOfWeek","before")},focusEndOfWeek:function(){return m("endOfWeek","after")}};return l.jsx(Z4.Provider,{value:v,children:e.children})}function Hj(){var e=g.useContext(Z4);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function one(e,t){var n=Q4(),r=Wj(e,n,t);return r}var qj=g.createContext(void 0);function sne(e){if(!gy(e.initialProps)){var t={selected:void 0};return l.jsx(qj.Provider,{value:t,children:e.children})}return l.jsx(lne,{initialProps:e.initialProps,children:e.children})}function lne(e){var t=e.initialProps,n=e.children,r=function(a,o,s){var c,u,f;if((c=t.onDayClick)===null||c===void 0||c.call(t,a,o,s),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,a,o,s);return}(f=t.onSelect)===null||f===void 0||f.call(t,a,a,o,s)},i={selected:t.selected,onDayClick:r};return l.jsx(qj.Provider,{value:i,children:n})}function eF(){var e=g.useContext(qj);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function cne(e,t){var n=Wt(),r=eF(),i=Bj(),a=zj(),o=Hj(),s=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,f=o.focusWeekBefore,d=o.blur,h=o.focus,p=o.focusMonthBefore,m=o.focusMonthAfter,v=o.focusYearBefore,y=o.focusYearAfter,x=o.focusStartOfWeek,w=o.focusEndOfWeek,b=function(B){var D,$,P,R;gy(n)?(D=r.onDayClick)===null||D===void 0||D.call(r,e,t,B):Fh(n)?($=i.onDayClick)===null||$===void 0||$.call(i,e,t,B):Bh(n)?(P=a.onDayClick)===null||P===void 0||P.call(a,e,t,B):(R=n.onDayClick)===null||R===void 0||R.call(n,e,t,B)},j=function(B){var D;h(e),(D=n.onDayFocus)===null||D===void 0||D.call(n,e,t,B)},_=function(B){var D;d(),(D=n.onDayBlur)===null||D===void 0||D.call(n,e,t,B)},S=function(B){var D;(D=n.onDayMouseEnter)===null||D===void 0||D.call(n,e,t,B)},k=function(B){var D;(D=n.onDayMouseLeave)===null||D===void 0||D.call(n,e,t,B)},E=function(B){var D;(D=n.onDayPointerEnter)===null||D===void 0||D.call(n,e,t,B)},O=function(B){var D;(D=n.onDayPointerLeave)===null||D===void 0||D.call(n,e,t,B)},N=function(B){var D;(D=n.onDayTouchCancel)===null||D===void 0||D.call(n,e,t,B)},A=function(B){var D;(D=n.onDayTouchEnd)===null||D===void 0||D.call(n,e,t,B)},I=function(B){var D;(D=n.onDayTouchMove)===null||D===void 0||D.call(n,e,t,B)},M=function(B){var D;(D=n.onDayTouchStart)===null||D===void 0||D.call(n,e,t,B)},L=function(B){var D;(D=n.onDayKeyUp)===null||D===void 0||D.call(n,e,t,B)},z=function(B){var D;switch(B.key){case"ArrowLeft":B.preventDefault(),B.stopPropagation(),n.dir==="rtl"?s():c();break;case"ArrowRight":B.preventDefault(),B.stopPropagation(),n.dir==="rtl"?c():s();break;case"ArrowDown":B.preventDefault(),B.stopPropagation(),u();break;case"ArrowUp":B.preventDefault(),B.stopPropagation(),f();break;case"PageUp":B.preventDefault(),B.stopPropagation(),B.shiftKey?v():p();break;case"PageDown":B.preventDefault(),B.stopPropagation(),B.shiftKey?y():m();break;case"Home":B.preventDefault(),B.stopPropagation(),x();break;case"End":B.preventDefault(),B.stopPropagation(),w();break}(D=n.onDayKeyDown)===null||D===void 0||D.call(n,e,t,B)},F={onClick:b,onFocus:j,onBlur:_,onKeyDown:z,onKeyUp:L,onMouseEnter:S,onMouseLeave:k,onPointerEnter:E,onPointerLeave:O,onTouchCancel:N,onTouchEnd:A,onTouchMove:I,onTouchStart:M};return F}function une(){var e=Wt(),t=eF(),n=Bj(),r=zj(),i=gy(e)?t.selected:Fh(e)?n.selected:Bh(e)?r.selected:void 0;return i}function dne(e){return Object.values(Ri).includes(e)}function fne(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var i=e.modifiersClassNames[r];if(i)n.push(i);else if(dne(r)){var a=e.classNames["day_".concat(r)];a&&n.push(a)}}),n}function hne(e,t){var n=Be({},e.styles.day);return Object.keys(t).forEach(function(r){var i;n=Be(Be({},n),(i=e.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function pne(e,t,n){var r,i,a,o=Wt(),s=Hj(),c=one(e,t),u=cne(e,c),f=une(),d=!!(o.onDayClick||o.mode!=="default");g.useEffect(function(){var S;c.outside||s.focusedDay&&d&&gr(s.focusedDay,e)&&((S=n.current)===null||S===void 0||S.focus())},[s.focusedDay,e,n,d,c.outside]);var h=fne(o,c).join(" "),p=hne(o,c),m=!!(c.outside&&!o.showOutsideDays||c.hidden),v=(a=(i=o.components)===null||i===void 0?void 0:i.DayContent)!==null&&a!==void 0?a:Mte,y=l.jsx(v,{date:e,displayMonth:t,activeModifiers:c}),x={style:p,className:h,children:y,role:"gridcell"},w=s.focusTarget&&gr(s.focusTarget,e)&&!c.outside,b=s.focusedDay&&gr(s.focusedDay,e),j=Be(Be(Be({},x),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=b||w?0:-1,r)),u),_={isButton:d,isHidden:m,activeModifiers:c,selectedDays:f,buttonProps:j,divProps:x};return _}function mne(e){var t=g.useRef(null),n=pne(e.date,e.displayMonth,t);return n.isHidden?l.jsx("div",{role:"gridcell"}):n.isButton?l.jsx(lg,Be({name:"day",ref:t},n.buttonProps)):l.jsx("div",Be({},n.divProps))}function gne(e){var t=e.number,n=e.dates,r=Wt(),i=r.onWeekNumberClick,a=r.styles,o=r.classNames,s=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,f=u(Number(t),{locale:s});if(!i)return l.jsx("span",{className:o.weeknumber,style:a.weeknumber,children:f});var d=c(Number(t),{locale:s}),h=function(p){i(t,n,p)};return l.jsx(lg,{name:"week-number","aria-label":d,className:o.weeknumber,style:a.weeknumber,onClick:h,children:f})}function vne(e){var t,n,r=Wt(),i=r.styles,a=r.classNames,o=r.showWeekNumber,s=r.components,c=(t=s==null?void 0:s.Day)!==null&&t!==void 0?t:mne,u=(n=s==null?void 0:s.WeekNumber)!==null&&n!==void 0?n:gne,f;return o&&(f=l.jsx("td",{className:a.cell,style:i.cell,children:l.jsx(u,{number:e.weekNumber,dates:e.dates})})),l.jsxs("tr",{className:a.row,style:i.row,children:[f,e.dates.map(function(d){return l.jsx("td",{className:a.cell,style:i.cell,role:"presentation",children:l.jsx(c,{displayMonth:e.displayMonth,date:d})},Kee(d))})]})}function hN(e,t,n){for(var r=n!=null&&n.ISOWeek?L4(t):$j(t,n),i=n!=null&&n.ISOWeek?Qs(e):sa(e,n),a=Xi(r,i),o=[],s=0;s<=a;s++)o.push(Zn(i,s));var c=o.reduce(function(u,f){var d=n!=null&&n.ISOWeek?B4(f):z4(f,n),h=u.find(function(p){return p.weekNumber===d});return h?(h.dates.push(f),u):(u.push({weekNumber:d,dates:[f]}),u)},[]);return c}function yne(e,t){var n=hN(jr(e),Dj(e),t);if(t!=null&&t.useFixedWeeks){var r=Yee(e,t);if(r<6){var i=n[n.length-1],a=i.dates[i.dates.length-1],o=i1(a,6-r),s=hN(i1(a,1),o,t);n.push.apply(n,s)}}return n}function xne(e){var t,n,r,i=Wt(),a=i.locale,o=i.classNames,s=i.styles,c=i.hideHead,u=i.fixedWeeks,f=i.components,d=i.weekStartsOn,h=i.firstWeekContainsDate,p=i.ISOWeek,m=yne(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:a,weekStartsOn:d,firstWeekContainsDate:h}),v=(t=f==null?void 0:f.Head)!==null&&t!==void 0?t:Rte,y=(n=f==null?void 0:f.Row)!==null&&n!==void 0?n:vne,x=(r=f==null?void 0:f.Footer)!==null&&r!==void 0?r:Tte;return l.jsxs("table",{id:e.id,className:o.table,style:s.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&l.jsx(v,{}),l.jsx("tbody",{className:o.tbody,style:s.tbody,children:m.map(function(w){return l.jsx(y,{displayMonth:e.displayMonth,dates:w.dates,weekNumber:w.weekNumber},w.weekNumber)})}),l.jsx(x,{displayMonth:e.displayMonth})]})}function bne(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var wne=bne()?g.useLayoutEffect:g.useEffect,T0=!1,_ne=0;function pN(){return"react-day-picker-".concat(++_ne)}function Sne(e){var t,n=e??(T0?pN():null),r=g.useState(n),i=r[0],a=r[1];return wne(function(){i===null&&a(pN())},[]),g.useEffect(function(){T0===!1&&(T0=!0)},[]),(t=e??i)!==null&&t!==void 0?t:void 0}function jne(e){var t,n,r=Wt(),i=r.dir,a=r.classNames,o=r.styles,s=r.components,c=Uh().displayMonths,u=Sne(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),f=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,d=[a.month],h=o.month,p=e.displayIndex===0,m=e.displayIndex===c.length-1,v=!p&&!m;i==="rtl"&&(t=[p,m],m=t[0],p=t[1]),p&&(d.push(a.caption_start),h=Be(Be({},h),o.caption_start)),m&&(d.push(a.caption_end),h=Be(Be({},h),o.caption_end)),v&&(d.push(a.caption_between),h=Be(Be({},h),o.caption_between));var y=(n=s==null?void 0:s.Caption)!==null&&n!==void 0?n:Pte;return l.jsxs("div",{className:d.join(" "),style:h,children:[l.jsx(y,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(xne,{id:f,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function kne(e){var t=Wt(),n=t.classNames,r=t.styles;return l.jsx("div",{className:n.months,style:r.months,children:e.children})}function Cne(e){var t,n,r=e.initialProps,i=Wt(),a=Hj(),o=Uh(),s=g.useState(!1),c=s[0],u=s[1];g.useEffect(function(){i.initialFocus&&a.focusTarget&&(c||(a.focus(a.focusTarget),u(!0)))},[i.initialFocus,c,a.focus,a.focusTarget,a]);var f=[i.classNames.root,i.className];i.numberOfMonths>1&&f.push(i.classNames.multiple_months),i.showWeekNumber&&f.push(i.classNames.with_weeknumber);var d=Be(Be({},i.styles.root),i.style),h=Object.keys(r).filter(function(m){return m.startsWith("data-")}).reduce(function(m,v){var y;return Be(Be({},m),(y={},y[v]=r[v],y))},{}),p=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:kne;return l.jsx("div",Be({className:f.join(" "),style:d,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},h,{children:l.jsx(p,{children:o.displayMonths.map(function(m,v){return l.jsx(jne,{displayIndex:v,displayMonth:m},v)})})}))}function Ene(e){var t=e.children,n=Qee(e,["children"]);return l.jsx(gte,{initialProps:n,children:l.jsx(Cte,{children:l.jsx(sne,{initialProps:n,children:l.jsx(Dte,{initialProps:n,children:l.jsx(Fte,{initialProps:n,children:l.jsx(Kte,{children:l.jsx(ane,{children:t})})})})})})})}function Ane(e){return l.jsx(Ene,Be({},e,{children:l.jsx(Cne,{initialProps:e})}))}function o1({className:e,classNames:t,showOutsideDays:n=!0,...r}){return l.jsx(Ane,{showOutsideDays:n,className:ge("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ge(Ef({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ge(Ef({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...i})=>l.jsx(tD,{className:"h-4 w-4"}),IconRight:({...i})=>l.jsx(QS,{className:"h-4 w-4"})},...r})}o1.displayName="Calendar";var vy="Dialog",[tF,nF]=Fn(vy),[Nne,Di]=tF(vy),rF=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,s=g.useRef(null),c=g.useRef(null),[u,f]=ii({prop:r,defaultProp:i??!1,onChange:a,caller:vy});return l.jsx(Nne,{scope:t,triggerRef:s,contentRef:c,contentId:kn(),titleId:kn(),descriptionId:kn(),open:u,onOpenChange:f,onOpenToggle:g.useCallback(()=>f(d=>!d),[f]),modal:o,children:n})};rF.displayName=vy;var iF="DialogTrigger",aF=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Di(iF,n),a=We(t,i.triggerRef);return l.jsx(Ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Gj(i.open),...r,ref:a,onClick:ve(e.onClick,i.onOpenToggle)})});aF.displayName=iF;var Vj="DialogPortal",[Pne,oF]=tF(Vj,{forceMount:void 0}),sF=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,a=Di(Vj,t);return l.jsx(Pne,{scope:t,forceMount:n,children:g.Children.map(r,o=>l.jsx(Cn,{present:n||a.open,children:l.jsx(Cu,{asChild:!0,container:i,children:o})}))})};sF.displayName=Vj;var cg="DialogOverlay",lF=g.forwardRef((e,t)=>{const n=oF(cg,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=Di(cg,e.__scopeDialog);return a.modal?l.jsx(Cn,{present:r||a.open,children:l.jsx(One,{...i,ref:t})}):null});lF.displayName=cg;var Tne=Wo("DialogOverlay.RemoveScroll"),One=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Di(cg,n);return l.jsx(Mh,{as:Tne,allowPinchZoom:!0,shards:[i.contentRef],children:l.jsx(Ae.div,{"data-state":Gj(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Js="DialogContent",cF=g.forwardRef((e,t)=>{const n=oF(Js,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=Di(Js,e.__scopeDialog);return l.jsx(Cn,{present:r||a.open,children:a.modal?l.jsx(Ine,{...i,ref:t}):l.jsx(Rne,{...i,ref:t})})});cF.displayName=Js;var Ine=g.forwardRef((e,t)=>{const n=Di(Js,e.__scopeDialog),r=g.useRef(null),i=We(t,n.contentRef,r);return g.useEffect(()=>{const a=r.current;if(a)return cy(a)},[]),l.jsx(uF,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ve(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ve(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,s=o.button===0&&o.ctrlKey===!0;(o.button===2||s)&&a.preventDefault()}),onFocusOutside:ve(e.onFocusOutside,a=>a.preventDefault())})}),Rne=g.forwardRef((e,t)=>{const n=Di(Js,e.__scopeDialog),r=g.useRef(!1),i=g.useRef(!1);return l.jsx(uF,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,s;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(s=n.triggerRef.current)==null||s.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),uF=g.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,s=Di(Js,n),c=g.useRef(null),u=We(t,c);return ly(),l.jsxs(l.Fragment,{children:[l.jsx(Rh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:l.jsx(fl,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":Gj(s.open),...o,ref:u,onDismiss:()=>s.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(Dne,{titleId:s.titleId}),l.jsx(Lne,{contentRef:c,descriptionId:s.descriptionId})]})]})}),Kj="DialogTitle",dF=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Di(Kj,n);return l.jsx(Ae.h2,{id:i.titleId,...r,ref:t})});dF.displayName=Kj;var fF="DialogDescription",hF=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Di(fF,n);return l.jsx(Ae.p,{id:i.descriptionId,...r,ref:t})});hF.displayName=fF;var pF="DialogClose",mF=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Di(pF,n);return l.jsx(Ae.button,{type:"button",...r,ref:t,onClick:ve(e.onClick,()=>i.onOpenChange(!1))})});mF.displayName=pF;function Gj(e){return e?"open":"closed"}var gF="DialogTitleWarning",[Mne,vF]=S9(gF,{contentName:Js,titleName:Kj,docsSlug:"dialog"}),Dne=({titleId:e})=>{const t=vF(gF),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},$ne="DialogDescriptionWarning",Lne=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${vF($ne).contentName}}.`;return g.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Yj=rF,yF=aF,Xj=sF,yy=lF,xy=cF,Qj=dF,Jj=hF,Zj=mF;const Dr=Yj,ek=yF,Fne=Xj,xF=g.forwardRef(({className:e,...t},n)=>l.jsx(yy,{ref:n,className:ge("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));xF.displayName=yy.displayName;const vr=g.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(Fne,{children:[l.jsx(xF,{}),l.jsxs(xy,{ref:r,className:ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,l.jsxs(Zj,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(Bv,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));vr.displayName=xy.displayName;const yr=({className:e,...t})=>l.jsx("div",{className:ge("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});yr.displayName="DialogHeader";const bF=({className:e,...t})=>l.jsx("div",{className:ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});bF.displayName="DialogFooter";const xr=g.forwardRef(({className:e,...t},n)=>l.jsx(Qj,{ref:n,className:ge("text-lg font-semibold leading-none tracking-tight",e),...t}));xr.displayName=Qj.displayName;const Ru=g.forwardRef(({className:e,...t},n)=>l.jsx(Jj,{ref:n,className:ge("text-sm text-muted-foreground",e),...t}));Ru.displayName=Jj.displayName;var by="Popover",[wF,$De]=Fn(by,[Qo]),zh=Qo(),[Bne,rs]=wF(by),_F=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!1}=e,s=zh(t),c=g.useRef(null),[u,f]=g.useState(!1),[d,h]=ii({prop:r,defaultProp:i??!1,onChange:a,caller:by});return l.jsx(Hv,{...s,children:l.jsx(Bne,{scope:t,contentId:kn(),triggerRef:c,open:d,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:g.useCallback(()=>f(!0),[]),onCustomAnchorRemove:g.useCallback(()=>f(!1),[]),modal:o,children:n})})};_F.displayName=by;var SF="PopoverAnchor",Une=g.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=rs(SF,n),a=zh(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:s}=i;return g.useEffect(()=>(o(),()=>s()),[o,s]),l.jsx(Eh,{...a,...r,ref:t})});Une.displayName=SF;var jF="PopoverTrigger",kF=g.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=rs(jF,n),a=zh(n),o=We(t,i.triggerRef),s=l.jsx(Ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":PF(i.open),...r,ref:o,onClick:ve(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?s:l.jsx(Eh,{asChild:!0,...a,children:s})});kF.displayName=jF;var tk="PopoverPortal",[zne,Wne]=wF(tk,{forceMount:void 0}),CF=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,a=rs(tk,t);return l.jsx(zne,{scope:t,forceMount:n,children:l.jsx(Cn,{present:n||a.open,children:l.jsx(Cu,{asChild:!0,container:i,children:r})})})};CF.displayName=tk;var Yc="PopoverContent",EF=g.forwardRef((e,t)=>{const n=Wne(Yc,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,a=rs(Yc,e.__scopePopover);return l.jsx(Cn,{present:r||a.open,children:a.modal?l.jsx(qne,{...i,ref:t}):l.jsx(Vne,{...i,ref:t})})});EF.displayName=Yc;var Hne=Wo("PopoverContent.RemoveScroll"),qne=g.forwardRef((e,t)=>{const n=rs(Yc,e.__scopePopover),r=g.useRef(null),i=We(t,r),a=g.useRef(!1);return g.useEffect(()=>{const o=r.current;if(o)return cy(o)},[]),l.jsx(Mh,{as:Hne,allowPinchZoom:!0,children:l.jsx(AF,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ve(e.onCloseAutoFocus,o=>{var s;o.preventDefault(),a.current||(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:ve(e.onPointerDownOutside,o=>{const s=o.detail.originalEvent,c=s.button===0&&s.ctrlKey===!0,u=s.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ve(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Vne=g.forwardRef((e,t)=>{const n=rs(Yc,e.__scopePopover),r=g.useRef(!1),i=g.useRef(!1);return l.jsx(AF,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,s;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(s=n.triggerRef.current)==null||s.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),AF=g.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:s,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:f,...d}=e,h=rs(Yc,n),p=zh(n);return ly(),l.jsx(Rh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:l.jsx(fl,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:s,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:l.jsx(qv,{"data-state":PF(h.open),role:"dialog",id:h.contentId,...p,...d,ref:t,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),NF="PopoverClose",Kne=g.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=rs(NF,n);return l.jsx(Ae.button,{type:"button",...r,ref:t,onClick:ve(e.onClick,()=>i.onOpenChange(!1))})});Kne.displayName=NF;var Gne="PopoverArrow",Yne=g.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=zh(n);return l.jsx(Vv,{...i,...r,ref:t})});Yne.displayName=Gne;function PF(e){return e?"open":"closed"}var Xne=_F,Qne=kF,Jne=CF,TF=EF;const Aa=Xne,Na=Qne,Qi=g.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},i)=>l.jsx(Jne,{children:l.jsx(TF,{ref:i,align:t,sideOffset:n,className:ge("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Qi.displayName=TF.displayName;function nk(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Zne=[" ","Enter","ArrowUp","ArrowDown"],ere=[" ","Enter"],Zs="Select",[wy,_y,tre]=Dv(Zs),[Mu,LDe]=Fn(Zs,[tre,Qo]),Sy=Qo(),[nre,is]=Mu(Zs),[rre,ire]=Mu(Zs),OF=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:a,value:o,defaultValue:s,onValueChange:c,dir:u,name:f,autoComplete:d,disabled:h,required:p,form:m}=e,v=Sy(t),[y,x]=g.useState(null),[w,b]=g.useState(null),[j,_]=g.useState(!1),S=Oh(u),[k,E]=ii({prop:r,defaultProp:i??!1,onChange:a,caller:Zs}),[O,N]=ii({prop:o,defaultProp:s,onChange:c,caller:Zs}),A=g.useRef(null),I=y?m||!!y.closest("form"):!0,[M,L]=g.useState(new Set),z=Array.from(M).map(F=>F.props.value).join(";");return l.jsx(Hv,{...v,children:l.jsxs(nre,{required:p,scope:t,trigger:y,onTriggerChange:x,valueNode:w,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:_,contentId:kn(),value:O,onValueChange:N,open:k,onOpenChange:E,dir:S,triggerPointerDownPosRef:A,disabled:h,children:[l.jsx(wy.Provider,{scope:t,children:l.jsx(rre,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(F=>{L(B=>new Set(B).add(F))},[]),onNativeOptionRemove:g.useCallback(F=>{L(B=>{const D=new Set(B);return D.delete(F),D})},[]),children:n})}),I?l.jsxs(n3,{"aria-hidden":!0,required:p,tabIndex:-1,name:f,autoComplete:d,value:O,onChange:F=>N(F.target.value),disabled:h,form:m,children:[O===void 0?l.jsx("option",{value:""}):null,Array.from(M)]},z):null]})})};OF.displayName=Zs;var IF="SelectTrigger",RF=g.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,a=Sy(n),o=is(IF,n),s=o.disabled||r,c=We(t,o.onTriggerChange),u=_y(n),f=g.useRef("touch"),[d,h,p]=i3(v=>{const y=u().filter(b=>!b.disabled),x=y.find(b=>b.value===o.value),w=a3(y,v,x);w!==void 0&&o.onValueChange(w.value)}),m=v=>{s||(o.onOpenChange(!0),p()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return l.jsx(Eh,{asChild:!0,...a,children:l.jsx(Ae.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":r3(o.value)?"":void 0,...i,ref:c,onClick:ve(i.onClick,v=>{v.currentTarget.focus(),f.current!=="mouse"&&m(v)}),onPointerDown:ve(i.onPointerDown,v=>{f.current=v.pointerType;const y=v.target;y.hasPointerCapture(v.pointerId)&&y.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(m(v),v.preventDefault())}),onKeyDown:ve(i.onKeyDown,v=>{const y=d.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&h(v.key),!(y&&v.key===" ")&&Zne.includes(v.key)&&(m(),v.preventDefault())})})})});RF.displayName=IF;var MF="SelectValue",DF=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:o="",...s}=e,c=is(MF,n),{onValueNodeHasChildrenChange:u}=c,f=a!==void 0,d=We(t,c.onValueNodeChange);return on(()=>{u(f)},[u,f]),l.jsx(Ae.span,{...s,ref:d,style:{pointerEvents:"none"},children:r3(c.value)?l.jsx(l.Fragment,{children:o}):a})});DF.displayName=MF;var are="SelectIcon",$F=g.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return l.jsx(Ae.span,{"aria-hidden":!0,...i,ref:t,children:r||"▼"})});$F.displayName=are;var ore="SelectPortal",LF=e=>l.jsx(Cu,{asChild:!0,...e});LF.displayName=ore;var el="SelectContent",FF=g.forwardRef((e,t)=>{const n=is(el,e.__scopeSelect),[r,i]=g.useState();if(on(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?ul.createPortal(l.jsx(BF,{scope:e.__scopeSelect,children:l.jsx(wy.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),a):null}return l.jsx(UF,{...e,ref:t})});FF.displayName=el;var pi=10,[BF,as]=Mu(el),sre="SelectContentImpl",lre=Wo("SelectContent.RemoveScroll"),UF=g.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:s,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:v,avoidCollisions:y,...x}=e,w=is(el,n),[b,j]=g.useState(null),[_,S]=g.useState(null),k=We(t,q=>j(q)),[E,O]=g.useState(null),[N,A]=g.useState(null),I=_y(n),[M,L]=g.useState(!1),z=g.useRef(!1);g.useEffect(()=>{if(b)return cy(b)},[b]),ly();const F=g.useCallback(q=>{const[J,...K]=I().map(Y=>Y.ref.current),[re]=K.slice(-1),Z=document.activeElement;for(const Y of q)if(Y===Z||(Y==null||Y.scrollIntoView({block:"nearest"}),Y===J&&_&&(_.scrollTop=0),Y===re&&_&&(_.scrollTop=_.scrollHeight),Y==null||Y.focus(),document.activeElement!==Z))return},[I,_]),B=g.useCallback(()=>F([E,b]),[F,E,b]);g.useEffect(()=>{M&&B()},[M,B]);const{onOpenChange:D,triggerPointerDownPosRef:$}=w;g.useEffect(()=>{if(b){let q={x:0,y:0};const J=re=>{var Z,Y;q={x:Math.abs(Math.round(re.pageX)-(((Z=$.current)==null?void 0:Z.x)??0)),y:Math.abs(Math.round(re.pageY)-(((Y=$.current)==null?void 0:Y.y)??0))}},K=re=>{q.x<=10&&q.y<=10?re.preventDefault():b.contains(re.target)||D(!1),document.removeEventListener("pointermove",J),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",J),document.addEventListener("pointerup",K,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",J),document.removeEventListener("pointerup",K,{capture:!0})}}},[b,D,$]),g.useEffect(()=>{const q=()=>D(!1);return window.addEventListener("blur",q),window.addEventListener("resize",q),()=>{window.removeEventListener("blur",q),window.removeEventListener("resize",q)}},[D]);const[P,R]=i3(q=>{const J=I().filter(Z=>!Z.disabled),K=J.find(Z=>Z.ref.current===document.activeElement),re=a3(J,q,K);re&&setTimeout(()=>re.ref.current.focus())}),T=g.useCallback((q,J,K)=>{const re=!z.current&&!K;(w.value!==void 0&&w.value===J||re)&&(O(q),re&&(z.current=!0))},[w.value]),C=g.useCallback(()=>b==null?void 0:b.focus(),[b]),U=g.useCallback((q,J,K)=>{const re=!z.current&&!K;(w.value!==void 0&&w.value===J||re)&&A(q)},[w.value]),G=r==="popper"?s1:zF,ne=G===s1?{side:s,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:v,avoidCollisions:y}:{};return l.jsx(BF,{scope:n,content:b,viewport:_,onViewportChange:S,itemRefCallback:T,selectedItem:E,onItemLeave:C,itemTextRefCallback:U,focusSelectedItem:B,selectedItemText:N,position:r,isPositioned:M,searchRef:P,children:l.jsx(Mh,{as:lre,allowPinchZoom:!0,children:l.jsx(Rh,{asChild:!0,trapped:w.open,onMountAutoFocus:q=>{q.preventDefault()},onUnmountAutoFocus:ve(i,q=>{var J;(J=w.trigger)==null||J.focus({preventScroll:!0}),q.preventDefault()}),children:l.jsx(fl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:q=>q.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:l.jsx(G,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:q=>q.preventDefault(),...x,...ne,onPlaced:()=>L(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:ve(x.onKeyDown,q=>{const J=q.ctrlKey||q.altKey||q.metaKey;if(q.key==="Tab"&&q.preventDefault(),!J&&q.key.length===1&&R(q.key),["ArrowUp","ArrowDown","Home","End"].includes(q.key)){let re=I().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);if(["ArrowUp","End"].includes(q.key)&&(re=re.slice().reverse()),["ArrowUp","ArrowDown"].includes(q.key)){const Z=q.target,Y=re.indexOf(Z);re=re.slice(Y+1)}setTimeout(()=>F(re)),q.preventDefault()}})})})})})})});UF.displayName=sre;var cre="SelectItemAlignedPosition",zF=g.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,a=is(el,n),o=as(el,n),[s,c]=g.useState(null),[u,f]=g.useState(null),d=We(t,k=>f(k)),h=_y(n),p=g.useRef(!1),m=g.useRef(!0),{viewport:v,selectedItem:y,selectedItemText:x,focusSelectedItem:w}=o,b=g.useCallback(()=>{if(a.trigger&&a.valueNode&&s&&u&&v&&y&&x){const k=a.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),O=a.valueNode.getBoundingClientRect(),N=x.getBoundingClientRect();if(a.dir!=="rtl"){const Z=N.left-E.left,Y=O.left-Z,he=k.left-Y,W=k.width+he,ee=Math.max(W,E.width),fe=window.innerWidth-pi,xe=r1(Y,[pi,Math.max(pi,fe-ee)]);s.style.minWidth=W+"px",s.style.left=xe+"px"}else{const Z=E.right-N.right,Y=window.innerWidth-O.right-Z,he=window.innerWidth-k.right-Y,W=k.width+he,ee=Math.max(W,E.width),fe=window.innerWidth-pi,xe=r1(Y,[pi,Math.max(pi,fe-ee)]);s.style.minWidth=W+"px",s.style.right=xe+"px"}const A=h(),I=window.innerHeight-pi*2,M=v.scrollHeight,L=window.getComputedStyle(u),z=parseInt(L.borderTopWidth,10),F=parseInt(L.paddingTop,10),B=parseInt(L.borderBottomWidth,10),D=parseInt(L.paddingBottom,10),$=z+F+M+D+B,P=Math.min(y.offsetHeight*5,$),R=window.getComputedStyle(v),T=parseInt(R.paddingTop,10),C=parseInt(R.paddingBottom,10),U=k.top+k.height/2-pi,G=I-U,ne=y.offsetHeight/2,q=y.offsetTop+ne,J=z+F+q,K=$-J;if(J<=U){const Z=A.length>0&&y===A[A.length-1].ref.current;s.style.bottom="0px";const Y=u.clientHeight-v.offsetTop-v.offsetHeight,he=Math.max(G,ne+(Z?C:0)+Y+B),W=J+he;s.style.height=W+"px"}else{const Z=A.length>0&&y===A[0].ref.current;s.style.top="0px";const he=Math.max(U,z+v.offsetTop+(Z?T:0)+ne)+K;s.style.height=he+"px",v.scrollTop=J-U+v.offsetTop}s.style.margin=`${pi}px 0`,s.style.minHeight=P+"px",s.style.maxHeight=I+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,a.trigger,a.valueNode,s,u,v,y,x,a.dir,r]);on(()=>b(),[b]);const[j,_]=g.useState();on(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const S=g.useCallback(k=>{k&&m.current===!0&&(b(),w==null||w(),m.current=!1)},[b,w]);return l.jsx(dre,{scope:n,contentWrapper:s,shouldExpandOnScrollRef:p,onScrollButtonChange:S,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:l.jsx(Ae.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});zF.displayName=cre;var ure="SelectPopperPosition",s1=g.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=pi,...a}=e,o=Sy(n);return l.jsx(qv,{...o,...a,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});s1.displayName=ure;var[dre,rk]=Mu(el,{}),l1="SelectViewport",WF=g.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,a=as(l1,n),o=rk(l1,n),s=We(t,a.onViewportChange),c=g.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(wy.Slot,{scope:n,children:l.jsx(Ae.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ve(i.onScroll,u=>{const f=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&d){const p=Math.abs(c.current-f.scrollTop);if(p>0){const m=window.innerHeight-pi*2,v=parseFloat(d.style.minHeight),y=parseFloat(d.style.height),x=Math.max(v,y);if(x<m){const w=x+p,b=Math.min(m,w),j=w-b;d.style.height=b+"px",d.style.bottom==="0px"&&(f.scrollTop=j>0?j:0,d.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});WF.displayName=l1;var HF="SelectGroup",[fre,hre]=Mu(HF),pre=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=kn();return l.jsx(fre,{scope:n,id:i,children:l.jsx(Ae.div,{role:"group","aria-labelledby":i,...r,ref:t})})});pre.displayName=HF;var qF="SelectLabel",VF=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=hre(qF,n);return l.jsx(Ae.div,{id:i.id,...r,ref:t})});VF.displayName=qF;var ug="SelectItem",[mre,KF]=Mu(ug),GF=g.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...o}=e,s=is(ug,n),c=as(ug,n),u=s.value===r,[f,d]=g.useState(a??""),[h,p]=g.useState(!1),m=We(t,w=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,w,r,i)}),v=kn(),y=g.useRef("touch"),x=()=>{i||(s.onValueChange(r),s.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(mre,{scope:n,value:r,disabled:i,textId:v,isSelected:u,onItemTextChange:g.useCallback(w=>{d(b=>b||((w==null?void 0:w.textContent)??"").trim())},[]),children:l.jsx(wy.ItemSlot,{scope:n,value:r,disabled:i,textValue:f,children:l.jsx(Ae.div,{role:"option","aria-labelledby":v,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:m,onFocus:ve(o.onFocus,()=>p(!0)),onBlur:ve(o.onBlur,()=>p(!1)),onClick:ve(o.onClick,()=>{y.current!=="mouse"&&x()}),onPointerUp:ve(o.onPointerUp,()=>{y.current==="mouse"&&x()}),onPointerDown:ve(o.onPointerDown,w=>{y.current=w.pointerType}),onPointerMove:ve(o.onPointerMove,w=>{var b;y.current=w.pointerType,i?(b=c.onItemLeave)==null||b.call(c):y.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ve(o.onPointerLeave,w=>{var b;w.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:ve(o.onKeyDown,w=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&w.key===" "||(ere.includes(w.key)&&x(),w.key===" "&&w.preventDefault())})})})})});GF.displayName=ug;var Od="SelectItemText",YF=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...a}=e,o=is(Od,n),s=as(Od,n),c=KF(Od,n),u=ire(Od,n),[f,d]=g.useState(null),h=We(t,x=>d(x),c.onItemTextChange,x=>{var w;return(w=s.itemTextRefCallback)==null?void 0:w.call(s,x,c.value,c.disabled)}),p=f==null?void 0:f.textContent,m=g.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:y}=u;return on(()=>(v(m),()=>y(m)),[v,y,m]),l.jsxs(l.Fragment,{children:[l.jsx(Ae.span,{id:c.textId,...a,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ul.createPortal(a.children,o.valueNode):null]})});YF.displayName=Od;var XF="SelectItemIndicator",QF=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return KF(XF,n).isSelected?l.jsx(Ae.span,{"aria-hidden":!0,...r,ref:t}):null});QF.displayName=XF;var c1="SelectScrollUpButton",JF=g.forwardRef((e,t)=>{const n=as(c1,e.__scopeSelect),r=rk(c1,e.__scopeSelect),[i,a]=g.useState(!1),o=We(t,r.onScrollButtonChange);return on(()=>{if(n.viewport&&n.isPositioned){let s=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return s(),c.addEventListener("scroll",s),()=>c.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),i?l.jsx(e3,{...e,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:c}=n;s&&c&&(s.scrollTop=s.scrollTop-c.offsetHeight)}}):null});JF.displayName=c1;var u1="SelectScrollDownButton",ZF=g.forwardRef((e,t)=>{const n=as(u1,e.__scopeSelect),r=rk(u1,e.__scopeSelect),[i,a]=g.useState(!1),o=We(t,r.onScrollButtonChange);return on(()=>{if(n.viewport&&n.isPositioned){let s=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;a(f)};const c=n.viewport;return s(),c.addEventListener("scroll",s),()=>c.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),i?l.jsx(e3,{...e,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:c}=n;s&&c&&(s.scrollTop=s.scrollTop+c.offsetHeight)}}):null});ZF.displayName=u1;var e3=g.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,a=as("SelectScrollButton",n),o=g.useRef(null),s=_y(n),c=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),on(()=>{var f;const u=s().find(d=>d.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[s]),l.jsx(Ae.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:ve(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ve(i.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ve(i.onPointerLeave,()=>{c()})})}),gre="SelectSeparator",t3=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return l.jsx(Ae.div,{"aria-hidden":!0,...r,ref:t})});t3.displayName=gre;var d1="SelectArrow",vre=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Sy(n),a=is(d1,n),o=as(d1,n);return a.open&&o.position==="popper"?l.jsx(Vv,{...i,...r,ref:t}):null});vre.displayName=d1;var yre="SelectBubbleInput",n3=g.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=g.useRef(null),a=We(r,i),o=nk(t);return g.useEffect(()=>{const s=i.current;if(!s)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&f){const d=new Event("change",{bubbles:!0});f.call(s,t),s.dispatchEvent(d)}},[o,t]),l.jsx(Ae.select,{...n,style:{...OM,...n.style},ref:a,defaultValue:t})});n3.displayName=yre;function r3(e){return e===""||e===void 0}function i3(e){const t=an(e),n=g.useRef(""),r=g.useRef(0),i=g.useCallback(o=>{const s=n.current+o;t(s),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(s)},[t]),a=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function a3(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=xre(e,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function xre(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var bre=OF,o3=RF,wre=DF,_re=$F,Sre=LF,s3=FF,jre=WF,l3=VF,c3=GF,kre=YF,Cre=QF,u3=JF,d3=ZF,f3=t3;const It=bre,Rt=wre,Ct=g.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(o3,{ref:r,className:ge("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,l.jsx(_re,{asChild:!0,children:l.jsx(Co,{className:"h-4 w-4 opacity-50"})})]}));Ct.displayName=o3.displayName;const h3=g.forwardRef(({className:e,...t},n)=>l.jsx(u3,{ref:n,className:ge("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(kH,{className:"h-4 w-4"})}));h3.displayName=u3.displayName;const p3=g.forwardRef(({className:e,...t},n)=>l.jsx(d3,{ref:n,className:ge("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(Co,{className:"h-4 w-4"})}));p3.displayName=d3.displayName;const Et=g.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>l.jsx(Sre,{children:l.jsxs(s3,{ref:i,className:ge("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[l.jsx(h3,{}),l.jsx(jre,{className:ge("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(p3,{})]})}));Et.displayName=s3.displayName;const Ere=g.forwardRef(({className:e,...t},n)=>l.jsx(l3,{ref:n,className:ge("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Ere.displayName=l3.displayName;const Ie=g.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(c3,{ref:r,className:ge("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Cre,{children:l.jsx(XS,{className:"h-4 w-4"})})}),l.jsx(kre,{children:t})]}));Ie.displayName=c3.displayName;const Are=g.forwardRef(({className:e,...t},n)=>l.jsx(f3,{ref:n,className:ge("-mx-1 my-1 h-px bg-muted",e),...t}));Are.displayName=f3.displayName;var mN=1,Nre=.9,Pre=.8,Tre=.17,O0=.1,I0=.999,Ore=.9999,Ire=.99,Rre=/[\\\/_+.#"@\[\(\{&]/,Mre=/[\\\/_+.#"@\[\(\{&]/g,Dre=/[\s-]/,m3=/[\s-]/g;function f1(e,t,n,r,i,a,o){if(a===t.length)return i===e.length?mN:Ire;var s=`${i},${a}`;if(o[s]!==void 0)return o[s];for(var c=r.charAt(a),u=n.indexOf(c,i),f=0,d,h,p,m;u>=0;)d=f1(e,t,n,r,u+1,a+1,o),d>f&&(u===i?d*=mN:Rre.test(e.charAt(u-1))?(d*=Pre,p=e.slice(i,u-1).match(Mre),p&&i>0&&(d*=Math.pow(I0,p.length))):Dre.test(e.charAt(u-1))?(d*=Nre,m=e.slice(i,u-1).match(m3),m&&i>0&&(d*=Math.pow(I0,m.length))):(d*=Tre,i>0&&(d*=Math.pow(I0,u-i))),e.charAt(u)!==t.charAt(a)&&(d*=Ore)),(d<O0&&n.charAt(u-1)===r.charAt(a+1)||r.charAt(a+1)===r.charAt(a)&&n.charAt(u-1)!==r.charAt(a))&&(h=f1(e,t,n,r,u+1,a+2,o),h*O0>d&&(d=h*O0)),d>f&&(f=d),u=n.indexOf(c,u+1);return o[s]=f,f}function gN(e){return e.toLowerCase().replace(m3," ")}function $re(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,f1(e,t,gN(e),gN(t),0,0,{})}var ud='[cmdk-group=""]',R0='[cmdk-group-items=""]',Lre='[cmdk-group-heading=""]',g3='[cmdk-item=""]',vN=`${g3}:not([aria-disabled="true"])`,h1="cmdk-item-select",Ul="data-value",Fre=(e,t,n)=>$re(e,t,n),v3=g.createContext(void 0),Wh=()=>g.useContext(v3),y3=g.createContext(void 0),ik=()=>g.useContext(y3),x3=g.createContext(void 0),b3=g.forwardRef((e,t)=>{let n=zl(()=>{var T,C;return{search:"",value:(C=(T=e.value)!=null?T:e.defaultValue)!=null?C:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=zl(()=>new Set),i=zl(()=>new Map),a=zl(()=>new Map),o=zl(()=>new Set),s=w3(e),{label:c,children:u,value:f,onValueChange:d,filter:h,shouldFilter:p,loop:m,disablePointerSelection:v=!1,vimBindings:y=!0,...x}=e,w=kn(),b=kn(),j=kn(),_=g.useRef(null),S=Xre();tl(()=>{if(f!==void 0){let T=f.trim();n.current.value=T,k.emit()}},[f]),tl(()=>{S(6,M)},[]);let k=g.useMemo(()=>({subscribe:T=>(o.current.add(T),()=>o.current.delete(T)),snapshot:()=>n.current,setState:(T,C,U)=>{var G,ne,q,J;if(!Object.is(n.current[T],C)){if(n.current[T]=C,T==="search")I(),N(),S(1,A);else if(T==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let K=document.getElementById(j);K?K.focus():(G=document.getElementById(w))==null||G.focus()}if(S(7,()=>{var K;n.current.selectedItemId=(K=L())==null?void 0:K.id,k.emit()}),U||S(5,M),((ne=s.current)==null?void 0:ne.value)!==void 0){let K=C??"";(J=(q=s.current).onValueChange)==null||J.call(q,K);return}}k.emit()}},emit:()=>{o.current.forEach(T=>T())}}),[]),E=g.useMemo(()=>({value:(T,C,U)=>{var G;C!==((G=a.current.get(T))==null?void 0:G.value)&&(a.current.set(T,{value:C,keywords:U}),n.current.filtered.items.set(T,O(C,U)),S(2,()=>{N(),k.emit()}))},item:(T,C)=>(r.current.add(T),C&&(i.current.has(C)?i.current.get(C).add(T):i.current.set(C,new Set([T]))),S(3,()=>{I(),N(),n.current.value||A(),k.emit()}),()=>{a.current.delete(T),r.current.delete(T),n.current.filtered.items.delete(T);let U=L();S(4,()=>{I(),(U==null?void 0:U.getAttribute("id"))===T&&A(),k.emit()})}),group:T=>(i.current.has(T)||i.current.set(T,new Set),()=>{a.current.delete(T),i.current.delete(T)}),filter:()=>s.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>s.current.disablePointerSelection,listId:w,inputId:j,labelId:b,listInnerRef:_}),[]);function O(T,C){var U,G;let ne=(G=(U=s.current)==null?void 0:U.filter)!=null?G:Fre;return T?ne(T,n.current.search,C):0}function N(){if(!n.current.search||s.current.shouldFilter===!1)return;let T=n.current.filtered.items,C=[];n.current.filtered.groups.forEach(G=>{let ne=i.current.get(G),q=0;ne.forEach(J=>{let K=T.get(J);q=Math.max(K,q)}),C.push([G,q])});let U=_.current;z().sort((G,ne)=>{var q,J;let K=G.getAttribute("id"),re=ne.getAttribute("id");return((q=T.get(re))!=null?q:0)-((J=T.get(K))!=null?J:0)}).forEach(G=>{let ne=G.closest(R0);ne?ne.appendChild(G.parentElement===ne?G:G.closest(`${R0} > *`)):U.appendChild(G.parentElement===U?G:G.closest(`${R0} > *`))}),C.sort((G,ne)=>ne[1]-G[1]).forEach(G=>{var ne;let q=(ne=_.current)==null?void 0:ne.querySelector(`${ud}[${Ul}="${encodeURIComponent(G[0])}"]`);q==null||q.parentElement.appendChild(q)})}function A(){let T=z().find(U=>U.getAttribute("aria-disabled")!=="true"),C=T==null?void 0:T.getAttribute(Ul);k.setState("value",C||void 0)}function I(){var T,C,U,G;if(!n.current.search||s.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let ne=0;for(let q of r.current){let J=(C=(T=a.current.get(q))==null?void 0:T.value)!=null?C:"",K=(G=(U=a.current.get(q))==null?void 0:U.keywords)!=null?G:[],re=O(J,K);n.current.filtered.items.set(q,re),re>0&&ne++}for(let[q,J]of i.current)for(let K of J)if(n.current.filtered.items.get(K)>0){n.current.filtered.groups.add(q);break}n.current.filtered.count=ne}function M(){var T,C,U;let G=L();G&&(((T=G.parentElement)==null?void 0:T.firstChild)===G&&((U=(C=G.closest(ud))==null?void 0:C.querySelector(Lre))==null||U.scrollIntoView({block:"nearest"})),G.scrollIntoView({block:"nearest"}))}function L(){var T;return(T=_.current)==null?void 0:T.querySelector(`${g3}[aria-selected="true"]`)}function z(){var T;return Array.from(((T=_.current)==null?void 0:T.querySelectorAll(vN))||[])}function F(T){let C=z()[T];C&&k.setState("value",C.getAttribute(Ul))}function B(T){var C;let U=L(),G=z(),ne=G.findIndex(J=>J===U),q=G[ne+T];(C=s.current)!=null&&C.loop&&(q=ne+T<0?G[G.length-1]:ne+T===G.length?G[0]:G[ne+T]),q&&k.setState("value",q.getAttribute(Ul))}function D(T){let C=L(),U=C==null?void 0:C.closest(ud),G;for(;U&&!G;)U=T>0?Gre(U,ud):Yre(U,ud),G=U==null?void 0:U.querySelector(vN);G?k.setState("value",G.getAttribute(Ul)):B(T)}let $=()=>F(z().length-1),P=T=>{T.preventDefault(),T.metaKey?$():T.altKey?D(1):B(1)},R=T=>{T.preventDefault(),T.metaKey?F(0):T.altKey?D(-1):B(-1)};return g.createElement(Ae.div,{ref:t,tabIndex:-1,...x,"cmdk-root":"",onKeyDown:T=>{var C;(C=x.onKeyDown)==null||C.call(x,T);let U=T.nativeEvent.isComposing||T.keyCode===229;if(!(T.defaultPrevented||U))switch(T.key){case"n":case"j":{y&&T.ctrlKey&&P(T);break}case"ArrowDown":{P(T);break}case"p":case"k":{y&&T.ctrlKey&&R(T);break}case"ArrowUp":{R(T);break}case"Home":{T.preventDefault(),F(0);break}case"End":{T.preventDefault(),$();break}case"Enter":{T.preventDefault();let G=L();if(G){let ne=new Event(h1);G.dispatchEvent(ne)}}}}},g.createElement("label",{"cmdk-label":"",htmlFor:E.inputId,id:E.labelId,style:Jre},c),jy(e,T=>g.createElement(y3.Provider,{value:k},g.createElement(v3.Provider,{value:E},T))))}),Bre=g.forwardRef((e,t)=>{var n,r;let i=kn(),a=g.useRef(null),o=g.useContext(x3),s=Wh(),c=w3(e),u=(r=(n=c.current)==null?void 0:n.forceMount)!=null?r:o==null?void 0:o.forceMount;tl(()=>{if(!u)return s.item(i,o==null?void 0:o.id)},[u]);let f=_3(i,a,[e.value,e.children,a],e.keywords),d=ik(),h=Vo(S=>S.value&&S.value===f.current),p=Vo(S=>u||s.filter()===!1?!0:S.search?S.filtered.items.get(i)>0:!0);g.useEffect(()=>{let S=a.current;if(!(!S||e.disabled))return S.addEventListener(h1,m),()=>S.removeEventListener(h1,m)},[p,e.onSelect,e.disabled]);function m(){var S,k;v(),(k=(S=c.current).onSelect)==null||k.call(S,f.current)}function v(){d.setState("value",f.current,!0)}if(!p)return null;let{disabled:y,value:x,onSelect:w,forceMount:b,keywords:j,..._}=e;return g.createElement(Ae.div,{ref:Ba(a,t),..._,id:i,"cmdk-item":"",role:"option","aria-disabled":!!y,"aria-selected":!!h,"data-disabled":!!y,"data-selected":!!h,onPointerMove:y||s.getDisablePointerSelection()?void 0:v,onClick:y?void 0:m},e.children)}),Ure=g.forwardRef((e,t)=>{let{heading:n,children:r,forceMount:i,...a}=e,o=kn(),s=g.useRef(null),c=g.useRef(null),u=kn(),f=Wh(),d=Vo(p=>i||f.filter()===!1?!0:p.search?p.filtered.groups.has(o):!0);tl(()=>f.group(o),[]),_3(o,s,[e.value,e.heading,c]);let h=g.useMemo(()=>({id:o,forceMount:i}),[i]);return g.createElement(Ae.div,{ref:Ba(s,t),...a,"cmdk-group":"",role:"presentation",hidden:d?void 0:!0},n&&g.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},n),jy(e,p=>g.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?u:void 0},g.createElement(x3.Provider,{value:h},p))))}),zre=g.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,i=g.useRef(null),a=Vo(o=>!o.search);return!n&&!a?null:g.createElement(Ae.div,{ref:Ba(i,t),...r,"cmdk-separator":"",role:"separator"})}),Wre=g.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,i=e.value!=null,a=ik(),o=Vo(u=>u.search),s=Vo(u=>u.selectedItemId),c=Wh();return g.useEffect(()=>{e.value!=null&&a.setState("search",e.value)},[e.value]),g.createElement(Ae.input,{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":s,id:c.inputId,type:"text",value:i?e.value:o,onChange:u=>{i||a.setState("search",u.target.value),n==null||n(u.target.value)}})}),Hre=g.forwardRef((e,t)=>{let{children:n,label:r="Suggestions",...i}=e,a=g.useRef(null),o=g.useRef(null),s=Vo(u=>u.selectedItemId),c=Wh();return g.useEffect(()=>{if(o.current&&a.current){let u=o.current,f=a.current,d,h=new ResizeObserver(()=>{d=requestAnimationFrame(()=>{let p=u.offsetHeight;f.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return h.observe(u),()=>{cancelAnimationFrame(d),h.unobserve(u)}}},[]),g.createElement(Ae.div,{ref:Ba(a,t),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":s,"aria-label":r,id:c.listId},jy(e,u=>g.createElement("div",{ref:Ba(o,c.listInnerRef),"cmdk-list-sizer":""},u)))}),qre=g.forwardRef((e,t)=>{let{open:n,onOpenChange:r,overlayClassName:i,contentClassName:a,container:o,...s}=e;return g.createElement(Yj,{open:n,onOpenChange:r},g.createElement(Xj,{container:o},g.createElement(yy,{"cmdk-overlay":"",className:i}),g.createElement(xy,{"aria-label":e.label,"cmdk-dialog":"",className:a},g.createElement(b3,{ref:t,...s}))))}),Vre=g.forwardRef((e,t)=>Vo(n=>n.filtered.count===0)?g.createElement(Ae.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Kre=g.forwardRef((e,t)=>{let{progress:n,children:r,label:i="Loading...",...a}=e;return g.createElement(Ae.div,{ref:t,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},jy(e,o=>g.createElement("div",{"aria-hidden":!0},o)))}),kr=Object.assign(b3,{List:Hre,Item:Bre,Input:Wre,Group:Ure,Separator:zre,Dialog:qre,Empty:Vre,Loading:Kre});function Gre(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function Yre(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function w3(e){let t=g.useRef(e);return tl(()=>{t.current=e}),t}var tl=typeof window>"u"?g.useEffect:g.useLayoutEffect;function zl(e){let t=g.useRef();return t.current===void 0&&(t.current=e()),t}function Vo(e){let t=ik(),n=()=>e(t.snapshot());return g.useSyncExternalStore(t.subscribe,n,n)}function _3(e,t,n,r=[]){let i=g.useRef(),a=Wh();return tl(()=>{var o;let s=(()=>{var u;for(let f of n){if(typeof f=="string")return f.trim();if(typeof f=="object"&&"current"in f)return f.current?(u=f.current.textContent)==null?void 0:u.trim():i.current}})(),c=r.map(u=>u.trim());a.value(e,s,c),(o=t.current)==null||o.setAttribute(Ul,s),i.current=s}),i}var Xre=()=>{let[e,t]=g.useState(),n=zl(()=>new Map);return tl(()=>{n.current.forEach(r=>r()),n.current=new Map},[e]),(r,i)=>{n.current.set(r,i),t({})}};function Qre(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function jy({asChild:e,children:t},n){return e&&g.isValidElement(t)?g.cloneElement(Qre(t),{ref:t.ref},n(t.props.children)):n(t)}var Jre={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Xc=g.forwardRef(({className:e,...t},n)=>l.jsx(kr,{ref:n,className:ge("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));Xc.displayName=kr.displayName;const Qc=g.forwardRef(({className:e,...t},n)=>l.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[l.jsx(qm,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),l.jsx(kr.Input,{ref:n,className:ge("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));Qc.displayName=kr.Input.displayName;const S3=g.forwardRef(({className:e,...t},n)=>l.jsx(kr.List,{ref:n,className:ge("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));S3.displayName=kr.List.displayName;const Jc=g.forwardRef((e,t)=>l.jsx(kr.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));Jc.displayName=kr.Empty.displayName;const Zc=g.forwardRef(({className:e,...t},n)=>l.jsx(kr.Group,{ref:n,className:ge("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));Zc.displayName=kr.Group.displayName;const Zre=g.forwardRef(({className:e,...t},n)=>l.jsx(kr.Separator,{ref:n,className:ge("-mx-1 h-px bg-border",e),...t}));Zre.displayName=kr.Separator.displayName;const eu=g.forwardRef(({className:e,...t},n)=>l.jsx(kr.Item,{ref:n,className:ge("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));eu.displayName=kr.Item.displayName;let M0=!1,D0=null;function ak(){return M0?Promise.resolve():(D0||(D0=Q.auth.getSession().then(()=>{M0=!0}).catch(()=>{M0=!0})),D0)}const Du=()=>{const[e,t]=g.useState([]),[n,r]=g.useState(!0),[i,a]=g.useState(null),[o,s]=g.useState(null),c=g.useState({current:null})[0],u=async()=>{try{const f=String(o||"__ALL__");if(c.current===f)return;c.current=f,r(!0),a(null),console.log("Fetching AI agents..."),await ak();let d=Q.from("ai_profiles").select("id, org_id, name, description, system_prompt, welcome_message, transfer_conditions, stop_ai_after_handoff, temperature, created_at, auto_resolve_after_minutes, enable_resolve").order("created_at",{ascending:!1});const{data:h,error:p}=await d;if(console.log("AI agents data:",h),console.log("AI agents error:",p),p){console.error("Error fetching AI agents:",p),a(p.message),t([]);return}console.log("Successfully fetched AI agents:",h),t(h||[]);try{localStorage.setItem("app.cachedAIAgents",JSON.stringify(h||[]))}catch{}}catch(f){console.error("Error fetching AI agents:",f),a("Failed to fetch AI agents"),t([])}finally{c.current=null,r(!1)}};return g.useEffect(()=>{try{const h=localStorage.getItem("app.cachedAIAgents");if(h){const p=JSON.parse(h);Array.isArray(p)&&t(p)}}catch{}const d=setTimeout(()=>u(),50);return()=>clearTimeout(d)},[o]),{aiAgents:e,loading:n,error:i,fetchAIAgents:u,setFilterBySuper:s}},vl=()=>{const[e,t]=g.useState([]),[n,r]=g.useState(!0),[i,a]=g.useState(null);let o=!1;const s=b=>{o=b},c=()=>{try{const b=localStorage.getItem("app.cachedAgents");if(!b)return!1;const j=JSON.parse(b);if(Array.isArray(j))return t(j),!0}catch{}return!1},u=b=>{const j=(b==null?void 0:b.filter(_=>_!=null))||[];return j.includes("master_agent")?"master_agent":j.includes("super_agent")?"super_agent":j.includes("agent")?"agent":null},f=6e4;globalThis.__agentsCache||(globalThis.__agentsCache={data:null,ts:0,inFlight:null});const d=globalThis.__agentsCache,h=b=>(b||[]).map(j=>{var k;const _=((k=j.roles)==null?void 0:k.filter(E=>E!=null))||[],S=u(j.roles||[]);return{user_id:j.id,email:j.email,display_name:j.display_name,avatar_url:j.avatar_url,timezone:j.timezone,created_at:j.created_at,roles:_,primaryRole:S,status:"Active",super_agent_id:null}}),p=async()=>(d.inFlight||(d.inFlight=(async()=>{await ak();const{data:b,error:j}=await Q.from("v_users").select("*").order("created_at",{ascending:!1});if(j)throw j;let _=h(b||[]);try{const{data:S}=await Q.from("super_agent_members").select("agent_user_id, super_agent_id");if(S&&Array.isArray(S)){const k={};S.forEach(E=>{k[E.agent_user_id]=E.super_agent_id}),_=_.map(E=>E.primaryRole==="agent"?{...E,super_agent_id:k[E.user_id]||null}:E)}}catch{}d.data=_,d.ts=Date.now(),d.inFlight=null;try{localStorage.setItem("app.cachedAgents",JSON.stringify(_))}catch{}return _})().catch(b=>{throw d.inFlight=null,b})),d.inFlight),m=async()=>d.data&&Date.now()-d.ts<f?d.data:await p(),v=async b=>{try{r(!0),a(null),b!=null&&b.force&&(d.ts=0);const j=await m();t(j)}catch(j){console.error("Error fetching human agents:",j),a("Failed to fetch human agents"),t([])}finally{r(!1)}},y=async b=>{try{a(null);const{data:j,error:_}=await Q.functions.invoke("admin-create-user",{headers:{"x-client-origin":typeof window<"u"?window.location.origin:""},body:{email:b.email,full_name:b.full_name,role:b.role}});if(_)throw _;try{await Q.from("users_profile").update({is_2fa_email_enabled:o}).eq("user_id",j==null?void 0:j.id)}catch{}await v({force:!0});try{await Mt({action:"user.create",resource:"user",resourceId:(j==null?void 0:j.id)||null,context:b})}catch{}return{id:j==null?void 0:j.id}}catch(j){throw console.error("Error creating agent:",j),a(j instanceof Error?j.message:"Failed to create agent"),j}},x=async(b,j)=>{try{a(null);const{data:_,error:S}=await Q.from("roles").select("id").eq("name",j).single();if(S)throw S;const{error:k}=await Q.from("user_roles").delete().eq("user_id",b);if(k)throw k;const{error:E}=await Q.from("user_roles").insert([{user_id:b,role_id:_.id}]);if(E)throw E;await v({force:!0});try{await Mt({action:"user.update_role",resource:"user",resourceId:b,context:{role:j}})}catch{}}catch(_){throw console.error("Error updating agent role:",_),a(_ instanceof Error?_.message:"Failed to update agent role"),_}},w=async b=>{try{a(null);const{error:j}=await Q.functions.invoke("admin-delete-user",{body:{user_id:b}});if(j)throw j;await v({force:!0});try{await Mt({action:"user.delete",resource:"user",resourceId:b})}catch{}}catch(j){throw console.error("Error deleting agent:",j),a(j instanceof Error?j.message:"Failed to delete agent"),j}};return g.useEffect(()=>{c()&&r(!1),v()},[]),{agents:e,teams:[],loading:n,error:i,fetchAgents:v,fetchTeams:()=>Promise.resolve(),createAgent:y,updateAgentStatus:()=>Promise.resolve(),updateAgentRole:x,deleteAgent:w,createTeam:()=>Promise.resolve(),addAgentToTeam:()=>Promise.resolve(),removeAgentFromTeam:()=>Promise.resolve(),setEnable2FAFlagForCreate:s}},eie=({onFilterChange:e})=>{var w,b;const[t,n]=g.useState(!1),[r,i]=g.useState(),[a,o]=g.useState(),[s,c]=g.useState(!1),[u,f]=g.useState(!1),[d,h]=g.useState({dateRange:{},inbox:"",label:[],agent:"",status:"",resolvedBy:"",aiAgent:"",pipelineStatus:"",channelType:"all"}),{aiAgents:p}=Du(),{agents:m}=vl(),v=(j,_)=>{const S={...d,[j]:_};h(S)},y=()=>{const j={...d,dateRange:{from:r,to:a}};e(j),n(!1)},x=()=>{const j={dateRange:{},inbox:"",label:[],agent:"",status:"",resolvedBy:"",aiAgent:"",pipelineStatus:""};h(j),i(void 0),o(void 0),e(j)};return l.jsxs(Dr,{open:t,onOpenChange:n,children:[l.jsx(ek,{asChild:!0,children:l.jsx(ae,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:l.jsx(iD,{className:"h-4 w-4"})})}),l.jsxs(vr,{className:"sm:max-w-[800px] max-h-[80vh] overflow-y-auto",children:[l.jsx(yr,{children:l.jsx(xr,{children:"Filter"})}),l.jsxs("div",{className:"grid gap-6 py-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Date Range"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(Aa,{children:[l.jsx(Na,{asChild:!0,children:l.jsxs(ae,{variant:"outline",className:ge("w-full justify-start text-left font-normal",!r&&"text-muted-foreground"),children:[l.jsx(jw,{className:"mr-2 h-4 w-4"}),r?Ha(r,"dd-MM-yyyy"):"DD-MM-YYYY"]})}),l.jsx(Qi,{className:"w-auto p-0",align:"start",children:l.jsx(o1,{mode:"single",selected:r,onSelect:i,initialFocus:!0,className:"pointer-events-auto"})})]}),l.jsx("span",{className:"self-center text-muted-foreground",children:"-"}),l.jsxs(Aa,{children:[l.jsx(Na,{asChild:!0,children:l.jsxs(ae,{variant:"outline",className:ge("w-full justify-start text-left font-normal",!a&&"text-muted-foreground"),children:[l.jsx(jw,{className:"mr-2 h-4 w-4"}),a?Ha(a,"dd-MM-yyyy"):"DD-MM-YYYY"]})}),l.jsx(Qi,{className:"w-auto p-0",align:"start",children:l.jsx(o1,{mode:"single",selected:a,onSelect:o,initialFocus:!0,className:"pointer-events-auto"})})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Inbox"}),l.jsxs(It,{value:d.inbox,onValueChange:j=>v("inbox",j),children:[l.jsx(Ct,{children:l.jsx(Rt,{placeholder:"All Inbox"})}),l.jsxs(Et,{children:[l.jsx(Ie,{value:"all",children:"All Inbox"}),l.jsx(Ie,{value:"whatsapp",children:"WhatsApp"}),l.jsx(Ie,{value:"telegram",children:"Telegram"}),l.jsx(Ie,{value:"email",children:"Email"})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Label"}),l.jsxs(It,{value:d.label.join(","),onValueChange:j=>v("label",j.split(",").filter(Boolean)),children:[l.jsx(Ct,{children:l.jsx(Rt,{placeholder:"Choose Labels"})}),l.jsxs(Et,{children:[l.jsx(Ie,{value:"urgent",children:"Urgent"}),l.jsx(Ie,{value:"important",children:"Important"}),l.jsx(Ie,{value:"follow-up",children:"Follow Up"}),l.jsx(Ie,{value:"resolved",children:"Resolved"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Resolved By"}),l.jsxs(Aa,{open:u,onOpenChange:f,children:[l.jsx(Na,{asChild:!0,children:l.jsx(ae,{variant:"outline",role:"combobox",className:"w-full justify-between",children:((w=m.find(j=>j.user_id===d.resolvedBy))==null?void 0:w.display_name)||"Choose Agent"})}),l.jsx(Qi,{className:"w-[320px] p-0",children:l.jsxs(Xc,{children:[l.jsx(Qc,{placeholder:"Search Resolved By Agent"}),l.jsx(Jc,{children:"No agent found."}),l.jsx(Zc,{children:m.map(j=>l.jsx(eu,{onSelect:()=>{v("resolvedBy",j.user_id),f(!1)},children:l.jsx("span",{className:"ml-2",children:j.display_name||"Unknown"})},j.user_id))})]})})]})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Agent"}),l.jsxs(Aa,{open:s,onOpenChange:c,children:[l.jsx(Na,{asChild:!0,children:l.jsx(ae,{variant:"outline",role:"combobox",className:"w-full justify-between",children:((b=m.find(j=>j.user_id===d.agent))==null?void 0:b.display_name)||"Choose Agent"})}),l.jsx(Qi,{className:"w-[320px] p-0",children:l.jsxs(Xc,{children:[l.jsx(Qc,{placeholder:"Search Handled By Agent"}),l.jsx(Jc,{children:"No agent found."}),l.jsx(Zc,{children:m.map(j=>l.jsx(eu,{onSelect:()=>{v("agent",j.user_id),c(!1)},children:l.jsx("span",{className:"ml-2",children:j.display_name||"Unknown"})},j.user_id))})]})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"AI Agent"}),l.jsxs(It,{value:d.aiAgent,onValueChange:j=>v("aiAgent",j),children:[l.jsx(Ct,{children:l.jsx(Rt,{placeholder:"Choose AI Agent"})}),l.jsxs(Et,{children:[l.jsx(Ie,{value:"all",children:"All AI Agents"}),p.map(j=>l.jsx(Ie,{value:j.id,children:j.name},j.id))]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Channel Type"}),l.jsxs(It,{value:d.channelType,onValueChange:j=>v("channelType",j),children:[l.jsx(Ct,{children:l.jsx(Rt,{placeholder:"All Channels"})}),l.jsxs(Et,{children:[l.jsx(Ie,{value:"all",children:"All Channels"}),l.jsx(Ie,{value:"whatsapp",children:"WhatsApp"}),l.jsx(Ie,{value:"telegram",children:"Telegram"}),l.jsx(Ie,{value:"web",children:"Live Chat"})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),l.jsxs(It,{value:d.status,onValueChange:j=>v("status",j),children:[l.jsx(Ct,{children:l.jsx(Rt,{placeholder:"All Statuses"})}),l.jsxs(Et,{children:[l.jsx(Ie,{value:"all",children:"All Statuses"}),l.jsx(Ie,{value:"open",children:"Open"}),l.jsx(Ie,{value:"pending",children:"Pending"}),l.jsx(Ie,{value:"resolved",children:"Resolved"}),l.jsx(Ie,{value:"closed",children:"Closed"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Pipeline Status"}),l.jsxs(It,{value:d.pipelineStatus,onValueChange:j=>v("pipelineStatus",j),children:[l.jsx(Ct,{children:l.jsx(Rt,{placeholder:"All Statuses"})}),l.jsxs(Et,{children:[l.jsx(Ie,{value:"all",children:"All Statuses"}),l.jsx(Ie,{value:"new",children:"New"}),l.jsx(Ie,{value:"qualified",children:"Qualified"}),l.jsx(Ie,{value:"proposal",children:"Proposal"}),l.jsx(Ie,{value:"negotiation",children:"Negotiation"}),l.jsx(Ie,{value:"closed-won",children:"Closed Won"}),l.jsx(Ie,{value:"closed-lost",children:"Closed Lost"})]})]})]})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[l.jsx(ae,{variant:"outline",onClick:x,children:"Reset"}),l.jsx(ae,{onClick:y,children:"Apply"})]})]})]})},$0={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_PROJECT_ID:"tgrmxlbnutxpewfmofdx",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRncm14bGJudXR4cGV3Zm1vZmR4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ5MDY0NzgsImV4cCI6MjA3MDQ4MjQ3OH0.ijDctaGPXK3Ce9uao72YaaYCX9fpPFZGpmrsWp9IfU8",VITE_SUPABASE_URL:"https://tgrmxlbnutxpewfmofdx.supabase.co"},at={BASE_URL:($0==null?void 0:$0.VITE_WEBHOOK_BASE_URL)||"https://primary-production-376c.up.railway.app/webhook",ENDPOINTS:{WHATSAPP:{GET_LOGIN_QR:"/get_login_qr",GET_SESSIONS:"/get_sessions",LOGOUT_SESSION:"/logout_session",CREATE_PLATFORM:"/whatsapp/create-platform",CREATE_SESSION:"/create_session",DISCONNECT_SESSION:"/disconnect_session",DELETE_SESSION:"/delete_session"},TELEGRAM:{CREATE_PLATFORM:"/telegram/create-platform",SEND_MESSAGE:"/telegram/send-message",DELETE_WEBHOOK:"/telegram/delete-webhook"},AI_AGENT:{CHAT_SETTINGS:"/chat-ai-agent-settings",CHAT_TEST:"/chat-ai-agent-test"},KNOWLEDGE:{FILE_UPLOAD:"/knowledge/file-upload",FILE_DELETE:"/knowledge/file-delete"},MESSAGE:{SEND_MESSAGE:"/send-message",WHATSAPP_SEND_MESSAGE:"/whatsapp/send-message"}},buildUrl:e=>`${at.BASE_URL}${e}`,buildTestUrl:e=>`${at.BASE_URL.replace("/webhook","/webhook-test")}${e}`},tie={telegram:at.ENDPOINTS.TELEGRAM.SEND_MESSAGE,whatsapp:at.ENDPOINTS.MESSAGE.WHATSAPP_SEND_MESSAGE},yN=e=>{const t=(e||"").toLowerCase(),n=tie[t]||at.ENDPOINTS.MESSAGE.SEND_MESSAGE;at.ENDPOINTS.MESSAGE.SEND_MESSAGE=n};let xN=0;const nie=1e3,Op=(e="incoming")=>{try{if(!(localStorage.getItem("audioNotifications")!=="false"))return;if(document.visibilityState!=="visible"){console.log("Skipping audio notification - tab not visible");return}const n=Date.now();if(n-xN<nie){console.log("Skipping duplicate audio notification");return}xN=n;const r=new Audio;e==="incoming"?r.src="/tones/mixkit-message-pop-alert-2354.mp3":r.src="/tones/mixkit-long-pop-2358.wav",r.volume=.7,r.play().catch(i=>{console.log("Audio notification failed:",i)})}catch(t){console.log("Audio notification error:",t)}},rie=()=>{const[e,t]=g.useState([]),[n,r]=g.useState([]),[i,a]=g.useState(!1),[o,s]=g.useState(null),[c,u]=g.useState(null),[f,d]=g.useState(!1),h=g.useRef(null),p=(A=400)=>{try{h.current&&(clearTimeout(h.current),h.current=null)}catch{}h.current=window.setTimeout(()=>{document.visibilityState==="visible"&&y()},A)},m=(A,I)=>{t(M=>{const z=M.map(F=>F.id===A?{...F,last_message_preview:((I==null?void 0:I.body)||"").toString().replace(/\s+/g," ").trim()||"—",last_message_direction:(I==null?void 0:I.direction)??null,last_message_role:(I==null?void 0:I.role)??null,last_msg_at:(I==null?void 0:I.created_at)||F.last_msg_at,unreplied:(I==null?void 0:I.direction)==="in"||(I==null?void 0:I.role)==="user"}:F).sort((F,B)=>{if(F.unreplied&&!B.unreplied)return-1;if(!F.unreplied&&B.unreplied)return 1;const D=new Date(F.last_msg_at).getTime();return new Date(B.last_msg_at).getTime()-D});return console.log("Re-sorted conversations after message update"),z})},v=()=>{try{const A=localStorage.getItem("app.cachedConversations");if(!A)return!1;const I=JSON.parse(A);if(Array.isArray(I)&&I.length>=0)return t(I),d(!0),a(!1),!0}catch{}return!1},y=async()=>{try{f||a(!0),s(null),await ak();const A=Q.from("threads").select(`
          *,
          contacts(name, phone, email),
          channels(display_name, type, provider, external_id),
          messages(id, body, role, direction, created_at, seq)
        `).order("last_msg_at",{ascending:!1}).order("created_at",{foreignTable:"messages",ascending:!1}).limit(1,{foreignTable:"messages"}),I=new Promise(($,P)=>{const R=setTimeout(()=>{clearTimeout(R),P(new Error("timeout"))},8e3)}),{data:M,error:L}=await Promise.race([A,I]);if(L)throw L;const z=Array.from(new Set((M||[]).flatMap($=>[$.assigned_by_user_id,$.assignee_user_id,$.resolved_by_user_id]).filter(Boolean)));let F={};if(z.length>0){const{data:$,error:P}=await Q.from("users_profile").select("user_id, display_name").in("user_id",z);if(P)throw P;F=Object.fromEntries(($||[]).map(R=>[R.user_id,R.display_name||"—"]))}const D=(M||[]).map($=>{var G,ne,q,J,K,re,Z,Y,he,W;const P=Array.isArray($.messages)&&$.messages.length>0?$.messages[0]:null,R=((P==null?void 0:P.body)||"").toString().replace(/\s+/g," ").trim(),T=(P==null?void 0:P.direction)??null,C=(P==null?void 0:P.role)??null,U=T==="in"||C==="user";return P&&console.log(`Thread ${$.id}: Latest message at ${P.created_at}, DB last_msg_at: ${$.last_msg_at}`),{...$,contact_name:((G=$.contacts)==null?void 0:G.name)||"Unknown Contact",contact_phone:((ne=$.contacts)==null?void 0:ne.phone)||"",contact_email:((q=$.contacts)==null?void 0:q.email)||"",channel_name:((J=$.channels)==null?void 0:J.display_name)||"Unknown Channel",channel_type:((K=$.channels)==null?void 0:K.type)||"web",channel_provider:((re=$.channels)==null?void 0:re.provider)||void 0,channel:{provider:(Z=$.channels)==null?void 0:Z.provider,type:(Y=$.channels)==null?void 0:Y.type,display_name:(he=$.channels)==null?void 0:he.display_name,external_id:(W=$.channels)==null?void 0:W.external_id},last_message_preview:R||"—",last_message_direction:T,last_message_role:C,last_msg_at:(P==null?void 0:P.created_at)||$.last_msg_at,message_count:0,assigned:!!$.assignee_user_id,assigned_by_name:$.assigned_by_user_id&&F[$.assigned_by_user_id]||"—",assignee_name:$.assignee_user_id&&F[$.assignee_user_id]||"—",resolved_by_name:$.resolved_by_user_id&&F[$.resolved_by_user_id]||"—",unreplied:U}}).sort(($,P)=>{if($.unreplied&&!P.unreplied)return-1;if(!$.unreplied&&P.unreplied)return 1;const R=new Date($.last_msg_at).getTime();return new Date(P.last_msg_at).getTime()-R});console.log("Sorted conversations:",D.length,"conversations"),t(D);try{localStorage.setItem("app.cachedConversations",JSON.stringify(D))}catch{}}catch(A){console.error("Error fetching conversations:",A),s(A instanceof Error?A.message:"Failed to fetch conversations")}finally{a(!1)}},x=async A=>{var I;try{console.log("Fetching messages for thread:",A),s(null);const{data:M,error:L}=await Q.from("messages").select(`
          id,
          thread_id,
          direction,
          role,
          type,
          body,
          payload,
          actor_kind,
          actor_id,
          seq,
          in_reply_to,
          edited_at,
          edit_reason,
          created_at
        `).eq("thread_id",A).order("seq",{ascending:!0});if(L)throw L;const{data:z}=await Q.from("threads").select(`
          contacts(name, phone, email)
        `).eq("id",A).maybeSingle(),F=((I=z==null?void 0:z.contacts)==null?void 0:I.name)||"Unknown Contact",B=(M||[]).map(D=>{var $;return{...D,contact_name:F,contact_avatar:(($=F[0])==null?void 0:$.toUpperCase())||"U"}});console.log("Setting messages:",B.length,"messages for thread:",A),r(B),u(A)}catch(M){console.error("Error fetching messages:",M),s(M instanceof Error?M.message:"Failed to fetch messages")}},w=async(A,I,M="assistant")=>{try{s(null);const{data:L,error:z}=await Q.from("threads").select("channel_id, contact_id").eq("id",A).single();if(z)throw z;const F={thread_id:A,direction:"out",role:M,type:"text",body:I,payload:{},actor_kind:"agent",actor_id:null},D={id:`tmp_${Math.random().toString(36).slice(2)}`,thread_id:A,direction:"out",role:M,type:"text",body:I,payload:{},actor_kind:"agent",actor_id:null,seq:0,in_reply_to:null,edited_at:null,edit_reason:null,created_at:new Date().toISOString(),contact_name:"",contact_avatar:"A",_status:"pending"};r(C=>[...C,D]);const{data:$,error:P}=await Q.from("messages").insert([F]).select().single();if(P)throw P;const{data:R,error:T}=await Q.from("contacts").select("phone, external_id").eq("id",L.contact_id).single();T&&console.warn("Error fetching contact details:",T);try{const C={channel_id:L.channel_id,contact_id:L.contact_id,contact_phone:(R==null?void 0:R.phone)||null,external_id:(R==null?void 0:R.external_id)||null,text:I,type:"text",direction:"out",role:M},U=await fetch(at.buildUrl(at.ENDPOINTS.MESSAGE.SEND_MESSAGE),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)});U.ok||console.warn("Webhook call failed:",U.status,U.statusText)}catch(C){console.error("Error calling webhook:",C)}await x(A),m(A,{body:I,direction:"out",role:M,created_at:new Date().toISOString()});try{await Mt({action:"message.send",resource:"message",resourceId:($==null?void 0:$.id)??null,context:{thread_id:A,role:M}})}catch{}return $}catch(L){throw console.error("Error sending message:",L),s(L instanceof Error?L.message:"Failed to send message"),r(z=>{const F=[...z];for(let B=F.length-1;B>=0;B--)if(F[B]._status==="pending"){F[B]._status="error";break}return F}),L}},b=async(A,I)=>{var M;try{s(null);const L={org_id:((M=(await Q.auth.getUser()).data.user)==null?void 0:M.id)||"00000000-0000-0000-0000-000000000001",contact_id:A,channel_id:I,status:"open",assignee_user_id:null},{data:z,error:F}=await Q.from("threads").insert([L]).select().single();if(F)throw F;await y();try{await Mt({action:"thread.create",resource:"thread",resourceId:(z==null?void 0:z.id)??null,context:{contact_id:A,channel_id:I}})}catch{}return z}catch(L){throw console.error("Error creating conversation:",L),s(L instanceof Error?L.message:"Failed to create conversation"),L}},j=async(A,I)=>{try{s(null);const{error:M}=await Q.from("threads").update({status:I}).eq("id",A);if(M)throw M;await y();try{await Mt({action:"thread.update_status",resource:"thread",resourceId:A,context:{status:I}})}catch{}}catch(M){throw console.error("Error updating thread status:",M),s(M instanceof Error?M.message:"Failed to update thread status"),M}},_=async(A,I)=>{var M,L,z;try{s(null);const{error:F}=await Q.rpc("takeover_thread",{p_thread_id:A});F&&console.warn("takeover_thread RPC failed; will attempt direct update",F);const{data:B}=await Q.auth.getUser(),D=((M=B==null?void 0:B.user)==null?void 0:M.id)||null;try{const{data:$}=await Q.from("threads").select("assignee_user_id").eq("id",A).single();if(!!!($!=null&&$.assignee_user_id)&&D){const{error:R}=await Q.from("threads").update({assignee_user_id:D,assigned_by_user_id:D,assigned_at:new Date().toISOString(),handover_reason:"other:manual_takeover",ai_access_enabled:!1}).eq("id",A);R&&console.warn("Fallback assignment update failed",R)}}catch($){console.warn("Failed verifying assignment state",$)}try{await Q.from("threads").update({ai_access_enabled:!1}).eq("id",A)}catch{}try{const{data:$}=await Q.auth.getUser(),P=((L=$==null?void 0:$.user)==null?void 0:L.id)||null;let R=null;if(P){const{data:T}=await Q.from("users_profile").select("display_name").eq("user_id",P).single();R=(T==null?void 0:T.display_name)||null}await Q.from("messages").insert([{thread_id:A,direction:null,role:"system",type:"event",body:`Conversation taken over by ${R||((z=$==null?void 0:$.user)==null?void 0:z.email)||"agent"}.`,payload:{event:"takeover",user_id:P}}])}catch($){console.warn("Failed to insert takeover event message",$)}await y(),await x(A);try{await Mt({action:"thread.assign",resource:"thread",resourceId:A,context:{assignee_user_id:I}})}catch{}}catch(F){throw console.error("Error assigning thread:",F),s(F instanceof Error?F.message:"Failed to assign thread"),F}},S=async(A,I)=>{try{s(null);const{error:M}=await Q.from("thread_collaborators").insert([{thread_id:A,user_id:I}]);if(M)throw M;try{await Mt({action:"thread.add_participant",resource:"thread",resourceId:A,context:{user_id:I}})}catch{}}catch(M){throw console.error("Error adding thread participant:",M),s(M instanceof Error?M.message:"Failed to add thread participant"),M}},k=async(A,I)=>{try{s(null);const{error:M}=await Q.from("thread_collaborators").delete().eq("thread_id",A).eq("user_id",I);if(M)throw M;try{await Mt({action:"thread.remove_participant",resource:"thread",resourceId:A,context:{user_id:I}})}catch{}}catch(M){throw console.error("Error removing thread participant:",M),s(M instanceof Error?M.message:"Failed to remove thread participant"),M}},E=async(A,I)=>{try{s(null);const{error:M}=await Q.from("thread_labels").insert([{thread_id:A,label_id:I}]);if(M)throw M;try{await Mt({action:"thread.add_label",resource:"thread",resourceId:A,context:{label_id:I}})}catch{}}catch(M){throw console.error("Error adding thread label:",M),s(M instanceof Error?M.message:"Failed to add thread label"),M}},O=async(A,I)=>{try{s(null);const{error:M}=await Q.from("thread_labels").delete().eq("thread_id",A).eq("label_id",I);if(M)throw M;try{await Mt({action:"thread.remove_label",resource:"thread",resourceId:A,context:{label_id:I}})}catch{}}catch(M){throw console.error("Error removing thread label:",M),s(M instanceof Error?M.message:"Failed to remove thread label"),M}};g.useEffect(()=>{v(),y()},[]);const N=async()=>{try{const{data:A,error:I}=await Q.rpc("check_and_auto_resolve_threads");if(I){console.error("Auto-resolve check failed:",I);return}A&&A.length>0&&(console.log("Auto-resolved threads:",A),y())}catch(A){console.error("Auto-resolve check error:",A)}};return g.useEffect(()=>{const A=setInterval(()=>{document.visibilityState==="visible"&&N()},3e4);return()=>clearInterval(A)},[]),g.useEffect(()=>{const A=Q.channel("threads-realtime").on("postgres_changes",{event:"*",schema:"public",table:"threads"},()=>{document.visibilityState==="visible"&&p(200)}).subscribe();return()=>{try{Q.removeChannel(A)}catch{}}},[]),g.useEffect(()=>{const A=Q.channel("messages-realtime-for-convlist").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},I=>{const M=I.new;console.log("New message for conversation list:",I),M&&M.direction==="in"&&document.visibilityState==="visible"?(console.log("Refreshing conversations for incoming message"),console.log("Playing notification sound for incoming message in conversation list"),Op("incoming"),m(M.thread_id,M),p(100),N()):M&&(M.role==="system"||M.type==="event")&&document.visibilityState==="visible"?(console.log("Refreshing conversations for system/event message"),console.log("Playing notification sound for system/event message"),Op("incoming"),m(M.thread_id,M),p(200)):M&&M.role==="agent"&&M.direction==="out"&&document.visibilityState==="visible"&&(console.log("AI agent responded - checking auto-resolve"),N())}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"messages"},()=>{document.visibilityState==="visible"&&p(500)}).on("postgres_changes",{event:"DELETE",schema:"public",table:"messages"},()=>{document.visibilityState==="visible"&&p(300)}).subscribe(I=>{console.log("Conversations subscription status:",I)});return()=>{try{Q.removeChannel(A)}catch{}try{h.current&&(clearTimeout(h.current),h.current=null)}catch{}}},[]),g.useEffect(()=>{if(!c)return;console.log("Setting up realtime subscription for thread:",c);const A=setInterval(()=>{console.log("Periodic refresh of messages for thread:",c),x(c)},3e4),I=Q.channel(`messages-${c}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`thread_id=eq.${c}`},M=>{console.log("New message received:",M);const L=M.new;L&&L.direction==="in"&&(console.log("Playing notification sound for incoming message"),Op("incoming")),x(c)}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"messages",filter:`thread_id=eq.${c}`},M=>{console.log("Message updated:",M),x(c)}).on("postgres_changes",{event:"DELETE",schema:"public",table:"messages",filter:`thread_id=eq.${c}`},M=>{console.log("Message deleted:",M),x(c)}).subscribe(M=>{console.log("Messages subscription status:",M),M==="SUBSCRIBED"?console.log("Successfully subscribed to messages for thread:",c):M==="CHANNEL_ERROR"&&(console.error("Error subscribing to messages for thread:",c),setTimeout(()=>{console.log("Retrying messages subscription..."),x(c)},1e3))});return()=>{console.log("Cleaning up messages subscription for thread:",c),clearInterval(A);try{Q.removeChannel(I)}catch{}}},[c]),{conversations:e,messages:n,loading:i,error:o,selectedThreadId:c,fetchConversations:y,fetchMessages:x,sendMessage:w,refreshMessages:()=>{c&&(console.log("Manual refresh of messages for thread:",c),x(c))},enableAudioNotifications:()=>{localStorage.setItem("audioNotifications","true"),console.log("Audio notifications enabled")},disableAudioNotifications:()=>{localStorage.setItem("audioNotifications","false"),console.log("Audio notifications disabled")},testAudioNotification:()=>{console.log("Testing audio notification"),Op("incoming")},createConversation:b,updateThreadStatus:j,assignThread:_,addThreadParticipant:S,removeThreadParticipant:k,addThreadLabel:E,removeThreadLabel:O,checkAutoResolve:N}},j3=()=>{const[e,t]=g.useState([]),[n,r]=g.useState(!0),[i,a]=g.useState(null),[o,s]=g.useState(0),c=async(p=1,m=100,v,y)=>{var x,w,b,j;try{r(!0),a(null);const _=!!(y!=null&&y.chatStatus||y!=null&&y.handledBy||(x=y==null?void 0:y.dateRange)!=null&&x.from||(w=y==null?void 0:y.dateRange)!=null&&w.to);let S=Q.from("contacts").select(`
          id, org_id, name, email, phone, locale, notes, created_at,
          threads${_?"!inner":""}(
            status, created_at, assignee_user_id,
            channels(display_name, provider, type)
          )
          `,{count:"exact"}).eq("org_id","00000000-0000-0000-0000-000000000001").order("created_at",{ascending:!1});if(v&&(S=S.or(`name.ilike.%${v}%,phone.ilike.%${v}%,email.ilike.%${v}%`)),y&&(y.chatStatus&&(S=S.eq("threads.status",y.chatStatus)),y.handledBy==="unassigned"?S=S.is("threads.assignee_user_id",null):y.handledBy==="assigned"&&(S=S.not("threads.assignee_user_id","is",null)),(b=y.dateRange)!=null&&b.from&&(S=S.gte("threads.created_at",y.dateRange.from)),(j=y.dateRange)!=null&&j.to)){const M=y.dateRange.to.length>10?y.dateRange.to:`${y.dateRange.to}T23:59:59.999Z`;S=S.lte("threads.created_at",M)}const k=(p-1)*m,E=k+m-1;S=S.range(k,E),S=S.order("created_at",{foreignTable:"threads",ascending:!1}).limit(1,{foreignTable:"threads"});const{data:O,error:N,count:A}=await S;if(N)throw N;let I=(O||[]).map(M=>{var B;const L=(M.threads||[])[0]||null,z=((B=L==null?void 0:L.channels)==null?void 0:B.display_name)||"—",F=L!=null&&L.created_at?new Date(L.created_at).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(",",""):"—";return{id:M.id,org_id:M.org_id,name:M.name,email:M.email,phone:M.phone,locale:M.locale,notes:M.notes,created_at:M.created_at,labelNames:"",inbox:z,chatStatus:(L==null?void 0:L.status)||"—",chatCreatedAt:F,handledBy:L!=null&&L.assignee_user_id?"Assigned":"—"}});y&&(I=I.filter(M=>{var L,z;if(y.chatStatus&&M.chatStatus!==y.chatStatus||y.handledBy&&(y.handledBy==="unassigned"&&M.handledBy!==""||y.handledBy!=="unassigned"&&M.handledBy!==y.handledBy))return!1;if((L=y.dateRange)!=null&&L.from||(z=y.dateRange)!=null&&z.to){const F=new Date(M.created_at),B=y.dateRange.from?new Date(y.dateRange.from):null,D=y.dateRange.to?new Date(y.dateRange.to):null;if(B&&F<B||D&&F>D)return!1}return!0})),t(I),s(A||0)}catch(_){console.error("Error fetching contacts:",_),a(_ instanceof Error?_.message:"Failed to fetch contacts")}finally{r(!1)}},u=async p=>{try{a(null);const{data:m,error:v}=await Q.from("contacts").insert([{...p,org_id:"00000000-0000-0000-0000-000000000001"}]).select().single();if(v)throw v;await c();try{await Mt({action:"contact.create",resource:"contact",resourceId:(m==null?void 0:m.id)??null,context:p})}catch{}return m}catch(m){throw console.error("Error creating contact:",m),a(m instanceof Error?m.message:"Failed to create contact"),m}},f=async(p,m)=>{try{a(null);const{error:v}=await Q.from("contacts").update(m).eq("id",p);if(v)throw v;await c();try{await Mt({action:"contact.update",resource:"contact",resourceId:p,context:m})}catch{}}catch(v){throw console.error("Error updating contact:",v),a(v instanceof Error?v.message:"Failed to update contact"),v}},d=async p=>{try{a(null);const{error:m}=await Q.from("contacts").delete().eq("id",p);if(m)throw m;await c();try{await Mt({action:"contact.delete",resource:"contact",resourceId:p})}catch{}}catch(m){throw console.error("Error deleting contact:",m),a(m instanceof Error?m.message:"Failed to delete contact"),m}},h=async p=>{try{a(null);const{error:m}=await Q.from("contacts").delete().in("id",p);if(m)throw m;await c();try{await Mt({action:"contact.bulk_delete",resource:"contact",context:{ids:p}})}catch{}}catch(m){throw console.error("Error deleting contacts:",m),a(m instanceof Error?m.message:"Failed to delete contacts"),m}};return g.useEffect(()=>{c()},[]),{contacts:e,loading:n,error:i,totalCount:o,fetchContacts:c,createContact:u,updateContact:f,deleteContact:d,deleteMultipleContacts:h}},p1={MASTER_AGENT:"master_agent",SUPER_AGENT:"super_agent",AGENT:"agent"},iie=({message:e,isLastMessage:t,highlighted:n=!1})=>{const r=e.role==="assistant"||e.role==="agent"||e.direction==="out",i=e.role==="system"||e.type==="event"||e.type==="note",a=e.role==="assistant",o=e.role==="agent";return i?l.jsx("div",{className:"flex justify-center my-4",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:e.body||"System event"}),l.jsxs("div",{className:"flex items-center justify-center gap-2 mt-1 text-xs text-muted-foreground",children:[l.jsx("span",{children:new Date(e.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),l.jsx("span",{children:"•"}),l.jsx("span",{children:"system"})]})]})}):l.jsx("div",{className:`flex ${r?"justify-end":"justify-start"} mb-3`,children:l.jsxs("div",{className:`flex ${r?"flex-row-reverse":"flex-row"} items-end gap-2 max-w-[75%]`,children:[l.jsxs(ts,{className:"h-8 w-8",children:[l.jsx(Iu,{src:""}),l.jsx(ns,{className:"text-xs",children:r?"A":e.contact_avatar})]}),l.jsxs("div",{className:`rounded-lg px-3 py-2 text-sm shadow-sm ${o?"bg-blue-600 text-white":a?"bg-blue-100 text-blue-900":"bg-muted text-foreground"} ${n?"ring-2 ring-yellow-300":""}`,children:[l.jsx("p",{className:"whitespace-pre-wrap",children:e.body}),l.jsxs("div",{className:`mt-1 flex items-center gap-1 text-[10px] ${o?"text-blue-100":a?"text-blue-700":"text-muted-foreground"}`,children:[l.jsx("span",{children:new Date(e.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),r&&(e._status==="pending"?l.jsx(kt,{className:"h-3 w-3 animate-spin","aria-label":"pending"}):t?l.jsx(jH,{className:"h-3 w-3","aria-label":"sent"}):null)]})]})]})})};function aie(){var re,Z,Y,he;const[e,t]=g.useState(""),[n,r]=g.useState(""),[i,a]=g.useState(null),[o,s]=g.useState("assigned");g.useState(!1),g.useState(!1);const[c,u]=g.useState(""),[f,d]=g.useState(null),h=g.useRef(null),p=g.useRef(null),m=g.useRef({}),{conversations:v,messages:y,loading:x,error:w,fetchConversations:b,fetchMessages:j,sendMessage:_,createConversation:S,addThreadParticipant:k,removeThreadParticipant:E,addThreadLabel:O,removeThreadLabel:N,assignThread:A}=rie();j3();const{agents:I}=vl(),{user:M}=Mi(),{hasRole:L}=Xa(),[z,F]=g.useState(!1),[B,D]=g.useState(!1),[$,P]=g.useState(!1),[R,T]=g.useState({}),C=g.useMemo(()=>{var ee,fe;let W=v.filter(xe=>`${xe.contact_name} ${xe.last_message_preview}`.toLowerCase().includes(e.toLowerCase()));if(R.status&&R.status!=="all"&&(R.status==="resolved"?W=W.filter(xe=>xe.status==="closed"):W=W.filter(xe=>xe.status===R.status)),R.agent&&R.agent!=="all"&&(W=W.filter(xe=>xe.assignee_user_id===R.agent)),R.resolvedBy&&R.resolvedBy!=="all"&&(W=W.filter(xe=>xe.resolved_by_user_id===R.resolvedBy)),R.inbox&&R.inbox!=="all"&&(W=W.filter(xe=>xe.channel_type===R.inbox)),R.channelType&&R.channelType!=="all"){const Pe={whatsapp:"whatsapp",telegram:"telegram",web:"web"}[R.channelType];Pe&&(W=W.filter(de=>{var Te;return(((Te=de.channel)==null?void 0:Te.provider)||de.channel_type)===Pe}))}if((ee=R.dateRange)!=null&&ee.from||(fe=R.dateRange)!=null&&fe.to){const xe=R.dateRange.from?new Date(R.dateRange.from).getTime():-1/0,Pe=R.dateRange.to?new Date(R.dateRange.to).getTime():1/0;W=W.filter(de=>{const Te=new Date(de.created_at).getTime();return Te>=xe&&Te<=Pe})}return W=[...W].sort((xe,Pe)=>{const de=xe.unreplied?1:0,Te=Pe.unreplied?1:0;return de!==Te?Te-de:new Date(Pe.last_msg_at).getTime()-new Date(xe.last_msg_at).getTime()}),W},[v,e,R]);g.useEffect(()=>{const W=C.some(fe=>fe.status!=="closed"),ee=C.some(fe=>fe.status==="closed");!W&&ee&&o!=="resolved"&&s("resolved")},[C,o]);const U=g.useMemo(()=>i&&C.find(W=>W.id===i)||null,[i,C]);g.useEffect(()=>{(async()=>{try{if(!(U!=null&&U.id)||!(M!=null&&M.id)){P(!1);return}const{data:ee,error:fe}=await Q.from("thread_collaborators").select("user_id").eq("thread_id",U.id).eq("user_id",M.id).limit(1);if(fe)throw fe;P(!!ee&&ee.length>0)}catch(ee){console.warn("Failed to check collaborator status",ee),P(!1)}})()},[U==null?void 0:U.id,M==null?void 0:M.id]);const G=async()=>{if(U){if(!(M!=null&&M.id)){Me.error("You must be signed in to take over");return}try{const W=L(p1.MASTER_AGENT)||L(p1.SUPER_AGENT);if(!$)if(W)try{const{data:ee}=await Q.from("thread_collaborators").select("user_id").eq("thread_id",U.id).eq("user_id",M.id).limit(1);(!ee||ee.length===0)&&await k(U.id,M.id),P(!0)}catch(ee){console.warn("Failed to ensure collaborator before takeover",ee),Me.error("Please join as collaborator before taking over");return}else{Me.error("Please join as collaborator before taking over");return}await A(U.id,M.id),Me.success("You are now assigned to this chat"),s("assigned"),await b()}catch{Me.error("Failed to take over chat")}}};g.useEffect(()=>{var W;(W=p.current)==null||W.scrollIntoView({behavior:"smooth"})},[y]);const ne=async W=>{var fe;const ee=C.find(xe=>xe.id===W);(fe=ee==null?void 0:ee.channel)!=null&&fe.provider&&yN(ee.channel.provider),a(W),await j(W)},q=async()=>{const W=n.trim();if(!(!W||!i))try{if(M!=null&&M.id){const{data:ee}=await Q.from("users_profile").select("token_limit_enabled, max_tokens_per_day, max_tokens_per_month").eq("user_id",M.id).maybeSingle();if(ee!=null&&ee.token_limit_enabled){const fe=new Date,xe=new Date(Date.UTC(fe.getUTCFullYear(),fe.getUTCMonth(),fe.getUTCDate(),0,0,0)).toISOString(),Pe=new Date(Date.UTC(fe.getUTCFullYear(),fe.getUTCMonth(),1,0,0,0)).toISOString(),[{data:de},{data:Te}]=await Promise.all([Q.from("token_usage_logs").select("total_tokens").eq("user_id",M.id).gte("made_at",xe),Q.from("token_usage_logs").select("total_tokens").eq("user_id",M.id).gte("made_at",Pe)]),Ye=(de||[]).reduce((Je,ot)=>Je+Number(ot.total_tokens||0),0),Xe=(Te||[]).reduce((Je,ot)=>Je+Number(ot.total_tokens||0),0);if(ee.max_tokens_per_day&&Ye>=ee.max_tokens_per_day){Me.error("Daily token limit reached");return}if(ee.max_tokens_per_month&&Xe>=ee.max_tokens_per_month){Me.error("Monthly token limit reached");return}}}r(""),_(i,W,"assistant"),Me.success("Message sent successfully")}catch{Me.error("Failed to send message")}},J=W=>{W.key==="Enter"&&!W.shiftKey&&(W.preventDefault(),q())};g.useEffect(()=>{if(h.current&&window.clearTimeout(h.current),!c.trim()){d(null);return}return h.current=window.setTimeout(()=>{const W=c.toLowerCase(),ee=y.find(fe=>(fe.body||"").toLowerCase().includes(W));if(ee){d(ee.id);const fe=m.current[ee.id];fe&&fe.scrollIntoView({behavior:"smooth",block:"center"})}else d(null)},500),()=>{h.current&&window.clearTimeout(h.current)}},[c,y]),g.useEffect(()=>{var W;(W=U==null?void 0:U.channel)!=null&&W.provider&&yN(U.channel.provider)},[(re=U==null?void 0:U.channel)==null?void 0:re.provider]);const K=async W=>{if(i)try{await k(i,W),Me.success("Participant added successfully")}catch{Me.error("Failed to add participant")}};return x?l.jsxs("div",{className:"flex items-center justify-center h-64",children:[l.jsx(kt,{className:"h-8 w-8 animate-spin"}),l.jsx("span",{className:"ml-2",children:"Loading conversations..."})]}):w?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-red-600 mb-2",children:["Error: ",w]}),l.jsxs(ae,{onClick:b,variant:"outline",children:[l.jsx(ZS,{className:"h-4 w-4 mr-2"}),"Retry"]})]})}):l.jsxs("div",{className:"grid w-full grid-cols-[300px_1fr_320px] h-[calc(100vh-120px)] gap-4",children:[l.jsxs("aside",{className:"rounded-lg border bg-card p-3",children:[l.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[l.jsx("h2",{className:"text-sm font-medium",children:"Conversations"}),l.jsx("div",{className:"flex items-center gap-1",children:l.jsx(eie,{onFilterChange:T})})]}),l.jsxs("div",{className:"relative mb-3",children:[l.jsx(qm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(ht,{placeholder:"Search...",value:e,onChange:W=>t(W.target.value),className:"pl-10 h-8 text-sm"})]}),l.jsxs(qc,{value:o,onValueChange:W=>s(W),className:"w-full",children:[l.jsxs(Xs,{className:"grid w-full grid-cols-[1fr_1fr_auto] mb-3 bg-white",children:[l.jsxs(Mn,{value:"assigned",className:"text-xs border-b-2 border-transparent data-[state=active]:bg-blue-50 data-[state=active]:text-blue-600 data-[state=active]:border-blue-500",children:["Assigned",l.jsx(_t,{variant:"secondary",className:"ml-2 h-5 text-xs","aria-live":"polite","aria-atomic":"true",children:C.filter(W=>W.status!=="closed"&&W.assigned).length})]}),l.jsxs(Mn,{value:"unassigned",className:"text-xs border-b-2 border-transparent data-[state=active]:bg-red-50 data-[state=active]:text-red-600 data-[state=active]:border-red-500",children:["Unassigned",l.jsx(_t,{variant:"secondary",className:"ml-2 h-5 text-xs","aria-live":"polite","aria-atomic":"true",children:C.filter(W=>W.status!=="closed"&&!W.assigned).length})]}),l.jsx(Mn,{value:"resolved",className:"justify-self-end h-8 px-2 rounded-full border-b-2 border-transparent data-[state=active]:bg-green-50 data-[state=active]:text-green-600 data-[state=active]:border-green-500","aria-label":"Resolved",children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(CH,{className:"h-4 w-4"}),l.jsx(_t,{variant:"secondary",className:"h-5 text-xs","aria-live":"polite","aria-atomic":"true",children:C.filter(W=>W.status==="closed").length})]})})]}),l.jsx(wn,{value:"assigned",className:"mt-0",children:l.jsx(ic,{className:"h-[calc(100vh-280px)]",children:l.jsx("div",{className:"space-y-1",children:C.filter(W=>W.status!=="closed"&&W.assigned).map(W=>{var ee;return l.jsx("button",{type:"button",onClick:()=>ne(W.id),className:`w-full p-3 text-left transition-colors rounded-lg ${i===W.id?"bg-blue-50 border border-blue-200":"hover:bg-gray-50"}`,children:l.jsx("div",{className:"flex items-start justify-between",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-sm font-medium truncate",children:W.contact_name}),l.jsx("span",{className:"text-xs text-gray-500 ml-2",children:new Date(W.last_msg_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-1",children:W.last_message_preview||"—"}),l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[l.jsx(_t,{className:"bg-blue-100 text-blue-600 text-xs",children:"Assigned"}),W.unreplied&&l.jsx(_t,{className:"bg-red-100 text-red-600 text-xs",children:"Unreplied"}),l.jsx(_t,{variant:"outline",className:"text-xs",children:(ee=W.channel)==null?void 0:ee.provider})]})]})})},W.id)})})})}),l.jsx(wn,{value:"unassigned",className:"mt-0",children:l.jsx(ic,{className:"h-[calc(100vh-280px)]",children:l.jsx("div",{className:"space-y-1",children:C.filter(W=>W.status!=="closed"&&!W.assigned).map(W=>{var ee;return l.jsx("button",{type:"button",onClick:()=>ne(W.id),className:`w-full p-3 text-left transition-colors rounded-lg ${i===W.id?"bg-blue-50 border border-blue-200":"hover:bg-gray-50"}`,children:l.jsx("div",{className:"flex items-start justify-between",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-sm font-medium truncate",children:W.contact_name}),l.jsx("span",{className:"text-xs text-gray-500 ml-2",children:new Date(W.last_msg_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-1",children:W.last_message_preview}),l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[l.jsx(_t,{variant:"secondary",className:"text-xs",children:"Unassigned"}),W.unreplied&&l.jsx(_t,{className:"bg-red-100 text-red-600 text-xs",children:"Unreplied"}),l.jsx(_t,{variant:"outline",className:"text-xs",children:(ee=W.channel)==null?void 0:ee.provider})]})]})})},W.id)})})})}),l.jsx(wn,{value:"resolved",className:"mt-0",children:l.jsx(ic,{className:"h-[calc(100vh-280px)]",children:l.jsx("div",{className:"space-y-1",children:C.filter(W=>W.status==="closed").map(W=>{var ee;return l.jsx("button",{type:"button",onClick:()=>ne(W.id),className:`w-full p-3 text-left transition-colors rounded-lg ${i===W.id?"bg-blue-50 border border-blue-200":"hover:bg-gray-50"}`,children:l.jsx("div",{className:"flex items-start justify-between",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-sm font-medium truncate",children:W.contact_name}),l.jsx("span",{className:"text-xs text-gray-500 ml-2",children:new Date(W.last_msg_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-1",children:W.last_message_preview}),l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[l.jsx(_t,{className:"bg-green-100 text-green-700 text-xs",children:"Resolved"}),l.jsx(_t,{variant:"outline",className:"text-xs",children:(ee=W.channel)==null?void 0:ee.provider})]})]})})},W.id)})})})})]})]}),l.jsx("article",{className:"flex min-h-[70vh] flex-col rounded-lg border bg-card",children:U?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between gap-2 border-b px-4 py-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs(ts,{className:"h-10 w-10",children:[l.jsx(Iu,{src:""}),l.jsx(ns,{className:"text-sm",children:U.contact_name.charAt(0)})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-base font-semibold leading-tight",children:U.contact_name}),U.contact_phone&&l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:U.contact_phone})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"relative",children:[l.jsx(qm,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"}),l.jsx(ht,{value:c,onChange:W=>u(W.target.value),placeholder:"Search messages",className:"pl-7 h-8 w-44 text-xs"})]}),U.status!=="closed"&&l.jsx(ae,{size:"sm",className:"h-8 bg-green-600 hover:bg-green-700 text-white disabled:opacity-60",onClick:async()=>{if(U.status==="closed")return;const{error:W}=await Q.from("threads").update({status:"closed",resolved_at:new Date().toISOString(),resolved_by_user_id:(M==null?void 0:M.id)??null}).eq("id",U.id);W?Me.error("Failed to resolve"):(Me.success("Conversation resolved"),await b(),s("resolved"))},children:"Resolve"}),l.jsx(_t,{className:U.assigned?"bg-success text-success-foreground hover:bg-success":"bg-secondary text-secondary-foreground hover:bg-secondary",children:U.assigned?"Assigned":"Unassigned"})]})]}),l.jsx(ic,{className:"flex-1 p-4",children:l.jsxs("div",{className:"space-y-2",children:[y.length===0?l.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No messages yet. Start the conversation!"}):y.map((W,ee)=>l.jsx("div",{ref:fe=>{m.current[W.id]=fe},children:l.jsx(iie,{message:W,isLastMessage:ee===y.length-1,highlighted:f===W.id})},W.id)),l.jsx("div",{ref:p})]})}),l.jsx("div",{className:"border-t p-3",children:U.assigned?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ht,{placeholder:`Message ${U.contact_name}...`,value:n,onChange:W=>r(W.target.value),onKeyDown:J,className:"flex-1"}),l.jsx(ae,{type:"button",onClick:q,disabled:!n.trim(),children:l.jsx(yf,{className:"h-4 w-4"})})]}):l.jsx(ae,{type:"button",className:"w-full bg-blue-600 hover:bg-blue-700 text-white",onClick:G,disabled:!(M!=null&&M.id),children:"Takeover Chat"})})]}):l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsxs("div",{className:"text-center text-muted-foreground",children:[l.jsx(Hm,{className:"h-12 w-12 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No conversation selected"}),l.jsx("p",{children:"Select a conversation from the sidebar to start chatting"})]})})}),l.jsx("aside",{className:"rounded-lg border bg-card p-4",children:U?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold",children:U.contact_name||"Unknown Contact"}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx(Hm,{className:"h-4 w-4 text-blue-500"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_t,{variant:"outline",className:"text-xs",children:((Z=U.channel)==null?void 0:Z.display_name)||((Y=U.channel)==null?void 0:Y.provider)||"Unknown"}),((he=U.channel)==null?void 0:he.type)&&l.jsx(_t,{variant:"secondary",className:"text-xs",children:U.channel.type})]})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-sm font-medium",children:"Handled By"}),l.jsxs(Aa,{open:z,onOpenChange:F,children:[l.jsx(Na,{asChild:!0,children:l.jsxs(ae,{variant:"outline",size:"sm",className:"h-8",children:[l.jsx(QE,{className:"h-4 w-4 mr-2"})," Assign Agent"]})}),l.jsx(Qi,{className:"w-72 p-0",children:l.jsxs(Xc,{children:[l.jsx(Qc,{placeholder:"Search agent"}),l.jsx(Jc,{children:"No agent found."}),l.jsx(Zc,{children:I.map(W=>l.jsx(eu,{onSelect:async()=>{U&&(await A(U.id,W.user_id),F(!1))},children:W.display_name||"Agent"},W.user_id))})]})})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-sm font-medium",children:"Collaborators"}),l.jsxs(Aa,{open:B,onOpenChange:D,children:[l.jsx(Na,{asChild:!0,children:l.jsxs(ae,{variant:"outline",size:"sm",className:"h-8",children:[l.jsx(QE,{className:"h-4 w-4 mr-2"})," Add Collaborator"]})}),l.jsx(Qi,{className:"w-72 p-0",children:l.jsxs(Xc,{children:[l.jsx(Qc,{placeholder:"Search agent"}),l.jsx(Jc,{children:"No agent found."}),l.jsx(Zc,{children:I.map(W=>l.jsx(eu,{onSelect:async()=>{U&&(await K(W.user_id),D(!1))},children:W.display_name||"Agent"},W.user_id))})]})})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium mb-2",children:"Notes"}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(ht,{placeholder:"Add a note..."})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium mb-3",children:"Conversation Details"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Assigned By"}),l.jsx("span",{children:U.assigned_by_name||"—"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Handled By"}),l.jsx("span",{children:U.assignee_name||"—"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Resolved By"}),l.jsx("span",{children:U.resolved_by_name||"—"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"AI Handoff At"}),l.jsx("span",{children:U.ai_handoff_at?new Date(U.ai_handoff_at).toLocaleString():"—"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Assigned At"}),l.jsx("span",{children:U.assigned_at?new Date(U.assigned_at).toLocaleString():"—"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Created At"}),l.jsx("span",{children:U.created_at?new Date(U.created_at).toLocaleString():"—"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Resolved At"}),l.jsx("span",{children:U.resolved_at?new Date(U.resolved_at).toLocaleString():"—"})]})]})]})]}):l.jsx("div",{className:"text-sm text-muted-foreground",children:"No conversation selected"})})]})}var ky="Checkbox",[oie,FDe]=Fn(ky),[sie,ok]=oie(ky);function lie(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:i,disabled:a,form:o,name:s,onCheckedChange:c,required:u,value:f="on",internal_do_not_use_render:d}=e,[h,p]=ii({prop:n,defaultProp:i??!1,onChange:c,caller:ky}),[m,v]=g.useState(null),[y,x]=g.useState(null),w=g.useRef(!1),b=m?!!o||!!m.closest("form"):!0,j={checked:h,disabled:a,setChecked:p,control:m,setControl:v,name:s,form:o,value:f,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:Lo(i)?!1:i,isFormControl:b,bubbleInput:y,setBubbleInput:x};return l.jsx(sie,{scope:t,...j,children:cie(d)?d(j):r})}var k3="CheckboxTrigger",C3=g.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},i)=>{const{control:a,value:o,disabled:s,checked:c,required:u,setControl:f,setChecked:d,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:m}=ok(k3,e),v=We(i,f),y=g.useRef(c);return g.useEffect(()=>{const x=a==null?void 0:a.form;if(x){const w=()=>d(y.current);return x.addEventListener("reset",w),()=>x.removeEventListener("reset",w)}},[a,d]),l.jsx(Ae.button,{type:"button",role:"checkbox","aria-checked":Lo(c)?"mixed":c,"aria-required":u,"data-state":T3(c),"data-disabled":s?"":void 0,disabled:s,value:o,...r,ref:v,onKeyDown:ve(t,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:ve(n,x=>{d(w=>Lo(w)?!0:!w),m&&p&&(h.current=x.isPropagationStopped(),h.current||x.stopPropagation())})})});C3.displayName=k3;var sk=g.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:a,required:o,disabled:s,value:c,onCheckedChange:u,form:f,...d}=e;return l.jsx(lie,{__scopeCheckbox:n,checked:i,defaultChecked:a,disabled:s,required:o,onCheckedChange:u,name:r,form:f,value:c,internal_do_not_use_render:({isFormControl:h})=>l.jsxs(l.Fragment,{children:[l.jsx(C3,{...d,ref:t,__scopeCheckbox:n}),h&&l.jsx(P3,{__scopeCheckbox:n})]})})});sk.displayName=ky;var E3="CheckboxIndicator",A3=g.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,a=ok(E3,n);return l.jsx(Cn,{present:r||Lo(a.checked)||a.checked===!0,children:l.jsx(Ae.span,{"data-state":T3(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});A3.displayName=E3;var N3="CheckboxBubbleInput",P3=g.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:s,disabled:c,name:u,value:f,form:d,bubbleInput:h,setBubbleInput:p}=ok(N3,e),m=We(n,p),v=nk(a),y=lj(r);g.useEffect(()=>{const w=h;if(!w)return;const b=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(b,"checked").set,S=!i.current;if(v!==a&&_){const k=new Event("click",{bubbles:S});w.indeterminate=Lo(a),_.call(w,Lo(a)?!1:a),w.dispatchEvent(k)}},[h,v,a,i]);const x=g.useRef(Lo(a)?!1:a);return l.jsx(Ae.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??x.current,required:s,disabled:c,name:u,value:f,form:d,...t,tabIndex:-1,ref:m,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});P3.displayName=N3;function cie(e){return typeof e=="function"}function Lo(e){return e==="indeterminate"}function T3(e){return Lo(e)?"indeterminate":e?"checked":"unchecked"}const Pa=g.forwardRef(({className:e,...t},n)=>l.jsx(sk,{ref:n,className:ge("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:l.jsx(A3,{className:ge("flex items-center justify-center text-current"),children:l.jsx(XS,{className:"h-4 w-4"})})}));Pa.displayName=sk.displayName;const xc=g.forwardRef(({className:e,...t},n)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:n,className:ge("w-full caption-bottom text-sm",e),...t})}));xc.displayName="Table";const bc=g.forwardRef(({className:e,...t},n)=>l.jsx("thead",{ref:n,className:ge("[&_tr]:border-b",e),...t}));bc.displayName="TableHeader";const wc=g.forwardRef(({className:e,...t},n)=>l.jsx("tbody",{ref:n,className:ge("[&_tr:last-child]:border-0",e),...t}));wc.displayName="TableBody";const uie=g.forwardRef(({className:e,...t},n)=>l.jsx("tfoot",{ref:n,className:ge("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));uie.displayName="TableFooter";const Ir=g.forwardRef(({className:e,...t},n)=>l.jsx("tr",{ref:n,className:ge("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Ir.displayName="TableRow";const Ut=g.forwardRef(({className:e,...t},n)=>l.jsx("th",{ref:n,className:ge("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ut.displayName="TableHead";const Tt=g.forwardRef(({className:e,...t},n)=>l.jsx("td",{ref:n,className:ge("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Tt.displayName="TableCell";const die=g.forwardRef(({className:e,...t},n)=>l.jsx("caption",{ref:n,className:ge("mt-4 text-sm text-muted-foreground",e),...t}));die.displayName="TableCaption";var O3="AlertDialog",[fie,BDe]=Fn(O3,[nF]),Qa=nF(),I3=e=>{const{__scopeAlertDialog:t,...n}=e,r=Qa(t);return l.jsx(Yj,{...r,...n,modal:!0})};I3.displayName=O3;var hie="AlertDialogTrigger",R3=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Qa(n);return l.jsx(yF,{...i,...r,ref:t})});R3.displayName=hie;var pie="AlertDialogPortal",M3=e=>{const{__scopeAlertDialog:t,...n}=e,r=Qa(t);return l.jsx(Xj,{...r,...n})};M3.displayName=pie;var mie="AlertDialogOverlay",D3=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Qa(n);return l.jsx(yy,{...i,...r,ref:t})});D3.displayName=mie;var _c="AlertDialogContent",[gie,vie]=fie(_c),yie=AM("AlertDialogContent"),$3=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,a=Qa(n),o=g.useRef(null),s=We(t,o),c=g.useRef(null);return l.jsx(Mne,{contentName:_c,titleName:L3,docsSlug:"alert-dialog",children:l.jsx(gie,{scope:n,cancelRef:c,children:l.jsxs(xy,{role:"alertdialog",...a,...i,ref:s,onOpenAutoFocus:ve(i.onOpenAutoFocus,u=>{var f;u.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[l.jsx(yie,{children:r}),l.jsx(bie,{contentRef:o})]})})})});$3.displayName=_c;var L3="AlertDialogTitle",F3=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Qa(n);return l.jsx(Qj,{...i,...r,ref:t})});F3.displayName=L3;var B3="AlertDialogDescription",U3=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Qa(n);return l.jsx(Jj,{...i,...r,ref:t})});U3.displayName=B3;var xie="AlertDialogAction",z3=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Qa(n);return l.jsx(Zj,{...i,...r,ref:t})});z3.displayName=xie;var W3="AlertDialogCancel",H3=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=vie(W3,n),a=Qa(n),o=We(t,i);return l.jsx(Zj,{...a,...r,ref:o})});H3.displayName=W3;var bie=({contentRef:e})=>{const t=`\`${_c}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${_c}\` by passing a \`${B3}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${_c}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return g.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},wie=I3,_ie=R3,Sie=M3,q3=D3,V3=$3,K3=z3,G3=H3,Y3=F3,X3=U3;const m1=wie,jie=_ie,kie=Sie,Q3=g.forwardRef(({className:e,...t},n)=>l.jsx(q3,{className:ge("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));Q3.displayName=q3.displayName;const dg=g.forwardRef(({className:e,...t},n)=>l.jsxs(kie,{children:[l.jsx(Q3,{}),l.jsx(V3,{ref:n,className:ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));dg.displayName=V3.displayName;const fg=({className:e,...t})=>l.jsx("div",{className:ge("flex flex-col space-y-2 text-center sm:text-left",e),...t});fg.displayName="AlertDialogHeader";const hg=({className:e,...t})=>l.jsx("div",{className:ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});hg.displayName="AlertDialogFooter";const pg=g.forwardRef(({className:e,...t},n)=>l.jsx(Y3,{ref:n,className:ge("text-lg font-semibold",e),...t}));pg.displayName=Y3.displayName;const mg=g.forwardRef(({className:e,...t},n)=>l.jsx(X3,{ref:n,className:ge("text-sm text-muted-foreground",e),...t}));mg.displayName=X3.displayName;const gg=g.forwardRef(({className:e,...t},n)=>l.jsx(K3,{ref:n,className:ge(Ef(),e),...t}));gg.displayName=K3.displayName;const vg=g.forwardRef(({className:e,...t},n)=>l.jsx(G3,{ref:n,className:ge(Ef({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));vg.displayName=G3.displayName;function Cie(){const[e,t]=g.useState([]),[n,r]=g.useState(1),[i,a]=g.useState(""),[o,s]=g.useState(100),[c,u]=g.useState(!1),[f,d]=g.useState({chatStatus:"",handledBy:"",dateRange:{}}),[h,p]=g.useState(!1),[m,v]=g.useState(!1),{contacts:y,loading:x,error:w,totalCount:b,fetchContacts:j,deleteContact:_,deleteMultipleContacts:S}=j3();g.useEffect(()=>{const R=setTimeout(()=>{j(n,o,i,f)},300);return()=>clearTimeout(R)},[i,n,o,f]);const k=R=>{t(R?y.map(T=>T.id):[])},E=(R,T)=>{t(T?[...e,R]:e.filter(C=>C!==R))},O=()=>{e.length!==0&&v(!0)},N=()=>{e.length!==0&&p(!0)},A=async()=>{try{await S(e),t([]),p(!1),Me.success(`Successfully deleted ${e.length} contact(s)`)}catch{Me.error("Failed to delete contacts")}},I=()=>{Me.info(`Edit feature for ${e.length} contact(s) will be implemented`),v(!1)},M=()=>{j(n,o,i,f),Me.info("Contacts refreshed")},L=(R,T)=>{d(C=>({...C,[R]:T}))},z=(R,T)=>{d(C=>({...C,dateRange:{...C.dateRange,[R]:T}}))},F=()=>{d({chatStatus:"",handledBy:"",dateRange:{}})},B=Object.values(f).some(R=>typeof R=="string"?R!=="":Object.values(R).some(T=>T!=="")),D=e.length===y.length&&y.length>0,$=e.length>0&&e.length<y.length,P=R=>{if(!R||R==="—")return l.jsx("span",{className:"text-muted-foreground",children:"—"});const T=R==="open"?"bg-blue-100 text-blue-700":R==="pending"?"bg-amber-100 text-amber-700":"bg-green-100 text-green-700";return l.jsx(_t,{className:`${T} border-0`,children:R})};return l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-semibold",children:"Contacts"}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Total Contacts: ",x?"...":b.toLocaleString()]})]}),l.jsxs("div",{className:"flex gap-4 items-center justify-between",children:[l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsxs(Aa,{open:c,onOpenChange:u,children:[l.jsx(Na,{asChild:!0,children:l.jsxs(ae,{variant:"outline",className:"gap-2",children:[l.jsx(iD,{className:"w-4 h-4"}),"Filter",B&&l.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"})]})}),l.jsx(Qi,{className:"w-80 p-4",align:"start",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"font-medium",children:"Filter Contacts"}),B&&l.jsx(ae,{variant:"ghost",size:"sm",onClick:F,className:"h-8 px-2 text-xs",children:"Clear All"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Chat Status"}),l.jsxs(It,{value:f.chatStatus,onValueChange:R=>L("chatStatus",R==="all"?"":R),children:[l.jsx(Ct,{className:"h-8",children:l.jsx(Rt,{placeholder:"All statuses"})}),l.jsxs(Et,{children:[l.jsx(Ie,{value:"all",children:"All statuses"}),l.jsx(Ie,{value:"open",children:"Open"}),l.jsx(Ie,{value:"pending",children:"Pending"}),l.jsx(Ie,{value:"closed",children:"Closed"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Handled By"}),l.jsxs(It,{value:f.handledBy||"",onValueChange:R=>L("handledBy",R==="all"?"":R),children:[l.jsx(Ct,{className:"h-8",children:l.jsx(Rt,{placeholder:"All agents"})}),l.jsxs(Et,{children:[l.jsx(Ie,{value:"all",children:"All"}),l.jsx(Ie,{value:"assigned",children:"Assigned"}),l.jsx(Ie,{value:"unassigned",children:"Unassigned"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Date Range"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx("div",{children:l.jsx(ht,{type:"date",placeholder:"From",value:f.dateRange.from,onChange:R=>z("from",R.target.value),className:"h-8 text-xs"})}),l.jsx("div",{children:l.jsx(ht,{type:"date",placeholder:"To",value:f.dateRange.to,onChange:R=>z("to",R.target.value),className:"h-8 text-xs"})})]})]})]})]})})]}),l.jsxs("div",{className:"relative",children:[l.jsx(qm,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"}),l.jsx(ht,{placeholder:"Search by Name or Phone",className:"pl-10 pr-8 w-80",value:i,onChange:R=>a(R.target.value)}),i&&l.jsx("button",{type:"button",onClick:()=>a(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground","aria-label":"Clear search",children:l.jsx(Bv,{className:"h-4 w-4"})})]}),l.jsx(ae,{variant:"outline",size:"sm",onClick:M,disabled:x,children:l.jsx(ZS,{className:`w-4 h-4 ${x?"animate-spin":""}`})})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ae,{variant:"outline",children:"Recipient/Campaign"}),l.jsxs(ae,{variant:e.length>0?"default":"outline",className:e.length>0?"bg-blue-600 hover:bg-blue-700 text-white":"",disabled:e.length===0,onClick:O,children:["Edit Selected (",e.length,")"]}),l.jsxs(ae,{variant:e.length>0?"destructive":"outline",className:e.length>0?"bg-red-600 hover:bg-red-700 text-white":"",onClick:N,disabled:e.length===0,children:["Delete Selected (",e.length,")"]}),l.jsx(ae,{variant:"outline",children:"Export"}),l.jsx(ae,{variant:"outline",children:"Customize Columns"})]})]})]}),w&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:l.jsxs("p",{className:"text-red-800 text-sm",children:["Error: ",w]})}),l.jsx($e,{children:l.jsx(et,{className:"p-0",children:l.jsxs(xc,{children:[l.jsx(bc,{children:l.jsxs(Ir,{children:[l.jsx(Ut,{className:"w-12",children:l.jsx(Pa,{checked:D,onCheckedChange:k,"aria-label":"Select all contacts",className:$?"data-[state=checked]:bg-blue-600":""})}),l.jsx(Ut,{children:"ACTION"}),l.jsx(Ut,{children:"NAME"}),l.jsx(Ut,{children:"PHONE"}),l.jsx(Ut,{children:"NOTE"}),l.jsx(Ut,{children:"LABEL NAMES"}),l.jsx(Ut,{children:"INBOX"}),l.jsx(Ut,{children:"CHAT STATUS"}),l.jsx(Ut,{children:"CHAT CREATED AT"}),l.jsx(Ut,{children:"HANDLED BY"})]})}),l.jsx(wc,{children:x?l.jsx(Ir,{children:l.jsx(Tt,{colSpan:11,className:"text-center py-8",children:l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx(kt,{className:"w-4 h-4 animate-spin"}),l.jsx("span",{children:"Loading contacts..."})]})})}):y.length===0?l.jsx(Ir,{children:l.jsx(Tt,{colSpan:11,className:"text-center py-8",children:l.jsx("div",{className:"text-muted-foreground",children:i?"No contacts found matching your search.":"No contacts found."})})}):y.map(R=>{var T;return l.jsxs(Ir,{className:`hover:bg-muted/50 ${e.includes(R.id)?"bg-blue-50":""}`,children:[l.jsx(Tt,{children:l.jsx(Pa,{checked:e.includes(R.id),onCheckedChange:C=>E(R.id,C),"aria-label":`Select ${R.name}`})}),l.jsx(Tt,{children:l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(wp,{children:[l.jsx(_p,{asChild:!0,children:l.jsx(ae,{size:"sm",className:"h-8 w-8 p-0 bg-blue-600 hover:bg-blue-700","aria-label":"Open conversation",children:l.jsx(Hm,{className:"h-4 w-4"})})}),l.jsx(Nd,{children:"Open conversation"})]}),l.jsxs(wp,{children:[l.jsx(_p,{asChild:!0,children:l.jsx(ae,{size:"sm",className:"h-8 w-8 p-0 bg-yellow-500 hover:bg-yellow-600","aria-label":"Edit contact",children:l.jsx(aD,{className:"h-4 w-4"})})}),l.jsx(Nd,{children:"Edit contact"})]})]})}),l.jsx(Tt,{className:"font-medium",children:l.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[l.jsx(ts,{className:"h-8 w-8",children:l.jsx(ns,{className:"text-xs",children:(T=(R.name||R.phone||"?")[0])==null?void 0:T.toUpperCase()})}),l.jsx("div",{className:"min-w-0",children:l.jsx("div",{className:"truncate",children:R.name||"Unnamed Contact"})})]})}),l.jsx(Tt,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:R.phone||"-"}),R.phone&&l.jsxs(wp,{children:[l.jsx(_p,{asChild:!0,children:l.jsx(ae,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>{navigator.clipboard.writeText(R.phone),Me.success("Phone copied")},children:l.jsx(NH,{className:"h-3 w-3"})})}),l.jsx(Nd,{children:"Copy phone"})]})]})}),l.jsx(Tt,{children:R.notes?l.jsxs(wp,{children:[l.jsx(_p,{asChild:!0,children:l.jsx("span",{className:"line-clamp-1 max-w-[260px] inline-block align-middle",children:R.notes})}),l.jsx(Nd,{className:"max-w-sm",children:R.notes})]}):l.jsx("span",{className:"text-muted-foreground",children:"-"})}),l.jsx(Tt,{children:R.labelNames||"-"}),l.jsx(Tt,{children:R.inbox?l.jsx(_t,{variant:"outline",children:R.inbox}):"—"}),l.jsx(Tt,{children:P(R.chatStatus)}),l.jsx(Tt,{className:"font-mono text-sm",children:R.chatCreatedAt||"-"}),l.jsx(Tt,{children:R.handledBy&&R.handledBy!=="—"?l.jsx(_t,{className:"bg-purple-100 text-purple-700 border-0",children:R.handledBy}):l.jsx("span",{className:"text-muted-foreground",children:"—"})})]},R.id)})})]})})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(ae,{variant:"outline",size:"sm",disabled:n===1||x,onClick:()=>r(n-1),children:l.jsx(tD,{className:"w-4 h-4"})}),l.jsxs("span",{className:"text-sm",children:["Page ",l.jsx("span",{className:"font-medium",children:n})," of ",l.jsx("span",{className:"font-medium",children:Math.ceil(b/o)})]}),l.jsx(ae,{variant:"outline",size:"sm",disabled:n>=Math.ceil(b/o)||x,onClick:()=>r(n+1),children:l.jsx(QS,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:"Items per page:"}),l.jsxs(It,{value:o.toString(),onValueChange:R=>s(parseInt(R)),children:[l.jsx(Ct,{className:"w-20 h-8",children:l.jsx(Rt,{})}),l.jsxs(Et,{children:[l.jsx(Ie,{value:"50",children:"50"}),l.jsx(Ie,{value:"100",children:"100"}),l.jsx(Ie,{value:"200",children:"200"})]})]}),l.jsx("span",{children:"rows"})]}),l.jsxs("span",{children:["Total: ",l.jsx("span",{className:"font-medium",children:b.toLocaleString()})]})]})]}),l.jsx(m1,{open:h,onOpenChange:p,children:l.jsxs(dg,{children:[l.jsxs(fg,{children:[l.jsx(pg,{children:"Are you sure?"}),l.jsxs(mg,{children:["This action cannot be undone. This will permanently delete ",e.length," contact",e.length>1?"s":"","."]})]}),l.jsxs(hg,{children:[l.jsx(vg,{children:"Cancel"}),l.jsxs(gg,{onClick:A,className:"bg-red-600 hover:bg-red-700",children:["Delete ",e.length," Contact",e.length>1?"s":""]})]})]})}),l.jsx(m1,{open:m,onOpenChange:v,children:l.jsxs(dg,{children:[l.jsxs(fg,{children:[l.jsx(pg,{children:"Edit Selected Contacts"}),l.jsxs(mg,{children:["You are about to edit ",e.length," contact",e.length>1?"s":"",". This feature is currently being developed."]})]}),l.jsxs(hg,{children:[l.jsx(vg,{children:"Cancel"}),l.jsx(gg,{onClick:I,className:"bg-blue-600 hover:bg-blue-700",children:"Continue"})]})]})})]})}const Gi=g.forwardRef(({className:e,...t},n)=>l.jsx("textarea",{className:ge("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Gi.displayName="Textarea";const Eie=()=>{const[e,t]=g.useState([]),[n,r]=g.useState(!0),[i,a]=g.useState(null),o=async()=>{try{r(!0),a(null);const{data:{user:d}}=await Q.auth.getUser();if(!d){t([]);return}const{data:h,error:p}=await Q.from("org_members").select("org_id").eq("user_id",d.id);if(p||!h||h.length===0){t([]);return}const m=h.map(A=>A.org_id),{data:v}=await Q.from("user_roles").select("role_id").eq("user_id",d.id);let y=!1,x=!1,w=!1;if(v&&v.length>0){const A=v.map(L=>L.role_id),{data:I}=await Q.from("roles").select("id, name").in("id",A),M=(I||[]).map(L=>(L.name||"").toLowerCase());y=M.includes("master_agent"),x=M.includes("super_agent"),w=M.includes("agent")&&!y&&!x}let b=null;if(w){const{data:A}=await Q.from("channel_agents").select("channel_id").eq("user_id",d.id);b=new Set((A||[]).map(I=>I.channel_id))}const{data:j,error:_}=await Q.from("channels").select(`
          *
        `).in("org_id",m).order("created_at",{ascending:!1});if(_){console.error("Error fetching channels:",_),a(_.message);return}const{data:S,error:k}=await Q.from("org_members").select(`
          org_id,
          user_id,
          role,
          v_users!inner (
            display_name,
            email
          )
        `).in("org_id",m);k&&console.error("Error fetching org members for platforms:",k);const E={};for(const A of S||[]){const I=A.org_id;E[I]||(E[I]=[]),E[I].push(A)}const O=(j||[]).filter(A=>b?b.has(A.id):!0),N=await Promise.all(O.map(async A=>{try{const{data:I}=await Q.from("channel_agents").select("user_id").eq("channel_id",A.id),M=(I||[]).map(F=>F.user_id);let L=[];if(M.length>0){const[F,B]=await Promise.all([Q.from("users_profile").select("user_id, display_name").in("user_id",M),Q.from("v_users").select("id, display_name, email").in("id",M)]),D=F.data||[],$=B.data||[],P={};$.forEach(R=>{P[R.id]={display_name:R.display_name,email:R.email}}),D.forEach(R=>{var T,C;P[R.user_id]={display_name:R.display_name??((T=P[R.user_id])==null?void 0:T.display_name),email:(C=P[R.user_id])==null?void 0:C.email}}),L=Object.entries(P).map(([R,T])=>({user_id:R,...T}))}const z=M.map(F=>{const B=L.find(D=>D.user_id===F||D.id===F)||{};return{user_id:F,display_name:B.display_name||(B==null?void 0:B.display_name),email:B.email}});return{...A,provider:A.provider,status:A.is_active?"active":"inactive",human_agents:z,super_agent_id:A.super_agent_id??null,credentials:(A==null?void 0:A.credentials)??null}}catch{return{...A,provider:A.provider,status:A.is_active?"active":"inactive",human_agents:[],super_agent_id:A.super_agent_id??null,credentials:(A==null?void 0:A.credentials)??null}}}));t(N)}catch(d){console.error("Error fetching platforms:",d),a("Failed to fetch platforms")}finally{r(!1)}},s=async d=>{var h;try{a(null);const{data:{user:p}}=await Q.auth.getUser();if(!p)throw new Error("User not authenticated");const{data:m,error:v}=await Q.from("org_members").select("org_id").eq("user_id",p.id).limit(1);if(v)throw v;const y=(h=m==null?void 0:m[0])==null?void 0:h.org_id;if(!y)throw new Error("User not found in any organization");const{data:x,error:w}=await Q.from("channels").insert({org_id:y,display_name:d.display_name,credentials:{},provider:d.provider,type:"inbox",profile_photo_url:d.profile_photo_url,ai_profile_id:d.ai_profile_id,super_agent_id:d.super_agent_id,is_active:!0}).select().single();if(w)throw w;if(d.human_agent_ids&&d.human_agent_ids.length>0){const b=d.human_agent_ids.map(_=>({channel_id:x.id,user_id:_})),{error:j}=await Q.from("channel_agents").insert(b);j&&console.warn("Failed to attach channel agents on create:",j)}await o();try{await Mt({action:"channel.create",resource:"channel",resourceId:(x==null?void 0:x.id)??null,context:d})}catch{}return x}catch(p){throw console.error("Error creating platform:",p),a(p.message||"Failed to create platform"),p}},c=async(d,h)=>{try{a(null);const p={};if(typeof h.display_name<"u"&&(p.display_name=h.display_name),typeof h.profile_photo_url<"u"&&(p.profile_photo_url=h.profile_photo_url),typeof h.ai_profile_id<"u"&&(p.ai_profile_id=h.ai_profile_id),typeof h.provider<"u"&&(p.provider=h.provider),typeof h.super_agent_id<"u"&&(p.super_agent_id=h.super_agent_id),Object.keys(p).length>0){const{error:m}=await Q.from("channels").update(p).eq("id",d);if(m)throw m}if(h.human_agent_ids!==void 0){const{error:m}=await Q.from("channel_agents").delete().eq("channel_id",d);if(m&&console.error("Error removing human agents:",m),h.human_agent_ids.length>0){const v=h.human_agent_ids.map(x=>({channel_id:d,user_id:x})),{error:y}=await Q.from("channel_agents").insert(v);y&&console.error("Error adding human agents:",y)}}await o();try{await Mt({action:"channel.update",resource:"channel",resourceId:d,context:h})}catch{}}catch(p){throw console.error("Error updating platform:",p),a(p.message||"Failed to update platform"),p}},u=async d=>{try{a(null);const{error:h}=await Q.from("channels").delete().eq("id",d);if(h)throw h;await o();try{await Mt({action:"channel.delete",resource:"channel",resourceId:d})}catch{}}catch(h){throw console.error("Error deleting platform:",h),a(h.message||"Failed to delete platform"),h}},f=async d=>{try{const h=d.name.split(".").pop(),m=`platform-photos/${`${Math.random()}.${h}`}`,{error:v}=await Q.storage.from("avatars").upload(m,d);if(v)throw v;const{data:{publicUrl:y}}=Q.storage.from("avatars").getPublicUrl(m);return y}catch(h){throw console.error("Error uploading profile photo:",h),new Error("Failed to upload profile photo")}};return g.useEffect(()=>{o()},[]),{platforms:e,loading:n,error:i,fetchPlatforms:o,createPlatform:s,updatePlatform:c,deletePlatform:u,uploadProfilePhoto:f}},Aie=()=>{const[e,t]=g.useState({}),[n,r]=g.useState(!1),[i,a]=g.useState(null),o=g.useCallback(async s=>{if(!s)return[];try{r(!0),a(null);const{data:c,error:u}=await Q.from("channels").select("*").eq("org_id",s).order("created_at",{ascending:!1});if(u)return a(u.message),[];const f=c||[];return t(d=>({...d,[s]:f})),f}catch(c){return a(c instanceof Error?c.message:"Failed to fetch channels"),[]}finally{r(!1)}},[]);return{channelsByOrg:e,loading:n,error:i,fetchByOrgId:o}};function Cy({options:e,value:t,onChange:n,onValueChange:r,placeholder:i="Select...",disabled:a,className:o}){const[s,c]=g.useState(!1),u=new Set(t),f=m=>{n&&n(m),r&&r(m)},d=m=>{const v=new Set(u);v.has(m)?v.delete(m):v.add(m),f(Array.from(v))},h=e.filter(m=>u.has(m.value)).map(m=>m.label),p=h.length===0?i:`${h.length} selected`;return l.jsxs(Aa,{open:s,onOpenChange:c,children:[l.jsx(Na,{asChild:!0,children:l.jsxs(ae,{type:"button",variant:"outline",role:"combobox","aria-expanded":s,disabled:a,className:ge("justify-between w-64",o),children:[l.jsx("span",{className:"truncate text-left",children:p}),l.jsx("span",{className:"ml-2 text-muted-foreground",children:"▾"})]})}),l.jsx(Qi,{className:"p-0 w-80",align:"start",onOpenAutoFocus:m=>m.preventDefault(),children:l.jsxs(Xc,{children:[l.jsx(Qc,{placeholder:"Search..."}),l.jsxs(S3,{children:[l.jsx(Jc,{children:"No results found."}),l.jsx(Zc,{children:e.map(m=>l.jsxs(eu,{onSelect:v=>{d(m.value)},className:"cursor-pointer",children:[l.jsx("div",{className:"mr-2 flex h-4 w-4 items-center justify-center",onClick:v=>{v.preventDefault(),v.stopPropagation(),d(m.value)},children:l.jsx(Pa,{checked:u.has(m.value),onCheckedChange:()=>d(m.value)})}),l.jsx("span",{children:m.label})]},m.value))})]})]})})]})}const Nie=({isOpen:e,onClose:t,onSubmit:n,isSubmitting:r=!1})=>{const{toast:i}=dl(),{user:a}=Mi(),{aiAgents:o,loading:s,setFilterBySuper:c}=Du(),{agents:u,loading:f}=vl(),[d,h]=g.useState({platformName:"",description:"",phoneNumber:"",selectedAIAgent:"",selectedHumanAgents:[]}),[p,m]=g.useState(!1),[v,y]=g.useState(!1),[x,w]=g.useState(null),[b,j]=g.useState(null),[_,S]=g.useState(null);g.useRef(!1);const[k,E]=g.useState(!1),[O,N]=g.useState(!1),[A,I]=g.useState(null),M="https://waha-plus-production-97c1.up.railway.app",L=R=>{I(T=>R),h(T=>({...T,selectedHumanAgents:[]}))};g.useEffect(()=>{try{c(A||null)}catch{}},[A]);const z=async()=>{if(!a)return null;const{data:R}=await Q.from("org_members").select("org_id").eq("user_id",a.id).single();return(R==null?void 0:R.org_id)||null},F=async()=>{try{y(!0),S(null),w(null);const R="https://primary-production-376c.up.railway.app/webhook/create_session",T="https://primary-production-376c.up.railway.app/webhook/2f6f9767-c3cb-4af3-b749-a496eefc2b74/waha",C=(d.platformName||"default").replace(/\s/g,""),U={name:C,start:!0,config:{metadata:{"user.id":(a==null?void 0:a.id)||"","user.email":(a==null?void 0:a.email)||""},proxy:null,debug:!1,noweb:{store:{enabled:!0,fullSync:!1}},webhooks:[{url:T,events:["message","session.status","message.reaction","message.any","message.ack","message.waiting","message.revoked","state.change","group.join","group.leave","presence.update","poll.vote","poll.vote.failed","chat.archive","call.received","call.accepted","call.rejected","label.upsert","label.deleted","label.chat.added","label.chat.deleted","engine.event"],hmac:null,retries:null,customHeaders:null}]}};try{const q=await fetch(R,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)});if(!q.ok){const J=await q.text();if(q.status!==409)throw new Error(`Create session failed (${q.status}): ${J||"Unknown error"}`)}}catch(q){throw q}const G=await fetch(at.buildUrl(at.ENDPOINTS.WHATSAPP.GET_LOGIN_QR),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_name:C})});if(!G.ok)throw new Error(`Request failed with status ${G.status}`);const ne=G.headers.get("content-type");if(ne&&ne.includes("image/")){const q=await G.blob(),J=URL.createObjectURL(q);return w(J),j(C),y(!1),{qr:J,sessionName:C}}else try{const q=await G.json(),J=Array.isArray(q)?q[0]:q;if(!J||!J.data||!J.mimetype)throw new Error("Invalid QR response shape");const K=`data:${J.mimetype};base64,${J.data}`;return w(K),j(C),y(!1),{qr:K,sessionName:C}}catch{const J=await G.text();if(J&&J.length>0){const K=`data:image/png;base64,${J}`;return w(K),j(C),y(!1),{qr:K,sessionName:C}}else throw new Error("Invalid response format")}return y(!1),null}catch(R){return S((R==null?void 0:R.message)||"Failed to generate QR"),y(!1),null}},B=async()=>{try{const T=await(async()=>{if(b&&b.trim().length>0)return b;try{const G=await z();if(!G)return"default";const{data:ne}=await Q.from("channels").select("display_name, provider").eq("org_id",G).eq("provider","whatsapp").order("created_at",{ascending:!1}).limit(1).maybeSingle();return((ne==null?void 0:ne.display_name)||"").replace(/\s/g,"")||"default"}catch{return"default"}})(),C=`${M}/api/sessions/${encodeURIComponent(T)}`,U=await fetch(C,{method:"GET",headers:{"Content-Type":"application/json"}});if(U.ok){const G=await U.json();return G&&G.status==="WORKING"&&G.me&&G.me.id?(m(!0),w(null),i({title:"Success",description:"WhatsApp connected successfully!"}),!0):(m(!1),!1)}return!1}catch(R){return console.error("Error checking session status:",R),!1}};g.useEffect(()=>{if(!x||p)return;const R=setInterval(async()=>{await B()&&clearInterval(R)},5e3);return()=>clearInterval(R)},[x,p]);const D=!!(d.platformName&&d.selectedAIAgent&&A),$=async()=>{try{E(!0)}finally{E(!1),h({platformName:"",description:"",phoneNumber:"",selectedAIAgent:"",selectedHumanAgents:[]}),m(!1),y(!1),w(null),S(null),I(null),t()}},P=async()=>{try{if(N(!0),!A||!d.selectedAIAgent){i({title:"Missing required fields",description:"Please select a Super Agent and an AI Agent.",variant:"destructive"}),N(!1);return}if(!await z())throw new Error("User not found in any organization");const T=await F(),C={...d,phoneNumber:void 0,platformType:"whatsapp",selectedSuperAgentId:A};if(await n(C),i({title:"Success",description:"Channel successfully created."}),T)try{window.dispatchEvent(new CustomEvent("open-wa-qr",{detail:{sessionName:T.sessionName,qr:T.qr}}))}catch{}try{window.dispatchEvent(new CustomEvent("refresh-platforms"))}catch{}t(),h({platformName:"",description:"",phoneNumber:"",selectedAIAgent:"",selectedHumanAgents:[]}),I(null)}catch(R){console.error("Error submitting form:",R),i({title:"Error",description:R.message||"Failed to create WhatsApp platform",variant:"destructive"})}finally{N(!1)}};return l.jsx(Dr,{open:e,onOpenChange:t,children:l.jsxs(vr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(yr,{children:[l.jsx(xr,{children:"Setup WhatsApp Platform"}),l.jsx(Ru,{children:"Configure your new WhatsApp platform with all the necessary information."})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ze,{htmlFor:"platformName",children:"Platform Name *"}),l.jsx(ht,{id:"platformName",placeholder:"Enter your platform or brand name",value:d.platformName,onChange:R=>h(T=>({...T,platformName:R.target.value}))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ze,{htmlFor:"description",children:"Description"}),l.jsx(Gi,{id:"description",placeholder:"Describe your business and what you offer",value:d.description,onChange:R=>h(T=>({...T,description:R.target.value})),rows:3})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("div",{className:"text-xs font-medium text-emerald-700",children:"Super Agent (1 max)"}),l.jsxs(It,{value:A||"",onValueChange:R=>L(R),children:[l.jsx(Ct,{children:l.jsx(Rt,{placeholder:"Choose a Super Agent"})}),l.jsx(Et,{children:u.filter(R=>R.primaryRole==="super_agent").map(R=>l.jsx(Ie,{value:R.user_id,children:R.display_name||R.email||R.user_id.slice(0,8)},R.user_id))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ze,{htmlFor:"aiAgent",children:"Select AI Agent *"}),s?l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading AI agents..."}):l.jsxs(It,{value:d.selectedAIAgent,onValueChange:R=>h(T=>({...T,selectedAIAgent:R})),disabled:!A,children:[l.jsx(Ct,{children:l.jsx(Rt,{placeholder:A?"Choose an AI agent":"Select a Super Agent first"})}),l.jsx(Et,{children:o.map(R=>l.jsx(Ie,{value:R.id,children:R.name},R.id))})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(Ze,{children:"Assign Agents"}),f?l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading human agents..."}):l.jsx(l.Fragment,{children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"text-xs font-medium",children:["Agents ",A?"":"(select a Super Agent first)"]}),(()=>{const T=u.filter(C=>C.primaryRole==="agent").filter(C=>!!A&&(!C.super_agent_id||C.super_agent_id===A)).map(C=>({value:C.user_id,label:C.display_name||C.email||`Agent ${C.user_id.slice(0,8)}`}));return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Cy,{options:T,value:d.selectedHumanAgents,onValueChange:C=>h(U=>({...U,selectedHumanAgents:C})),disabled:!A,placeholder:A?"Select human agents":"Select a Super Agent first"}),l.jsx(ae,{type:"button",variant:"outline",disabled:!A||T.length===0,onClick:()=>h(C=>({...C,selectedHumanAgents:T.map(U=>U.value)})),children:"Select All"}),l.jsx(ae,{type:"button",variant:"ghost",disabled:!A||d.selectedHumanAgents.length===0,onClick:()=>h(C=>({...C,selectedHumanAgents:[]})),children:"Unselect All"})]})})()]})})]})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[l.jsx(ae,{variant:"outline",onClick:$,disabled:r||k,className:"text-blue-700 border-blue-200 hover:bg-blue-50",children:k?l.jsxs(l.Fragment,{children:[l.jsx(kt,{className:"mr-2 h-4 w-4 animate-spin"}),"Cancelling..."]}):"Cancel"}),l.jsx(ae,{onClick:P,disabled:r||O||!D,className:"bg-blue-100 hover:bg-blue-200 text-blue-700 transition-all duration-200 hover:shadow-md active:scale-[.98]","aria-busy":r||O,children:r||O?l.jsxs(l.Fragment,{children:[l.jsx(kt,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Create WhatsApp Platform"})]})]})})},Pie=({isOpen:e,onClose:t,onSubmit:n,isSubmitting:r=!1})=>{const{toast:i}=dl(),{user:a}=Mi(),{aiAgents:o,loading:s,setFilterBySuper:c}=Du(),{agents:u,loading:f}=vl(),[d,h]=g.useState({displayName:"",description:"",telegramBotToken:"",selectedAIAgent:"",selectedHumanAgents:[]}),[p,m]=g.useState(!1),[v,y]=g.useState(null),x=_=>{y(_),h(S=>({...S,selectedHumanAgents:[]}))};g.useEffect(()=>{try{c(v||null)}catch{}},[v]);const w=d.displayName&&d.selectedAIAgent&&d.telegramBotToken&&v,b=async()=>{if(!a)return null;const{data:_}=await Q.from("org_members").select("org_id").eq("user_id",a.id).single();return(_==null?void 0:_.org_id)||null},j=async()=>{try{if(p)return;if(m(!0),!v||!d.selectedAIAgent){i({title:"Missing required fields",description:"Please select a Super Agent and an AI Agent.",variant:"destructive"}),m(!1);return}const _=await b();if(!_)throw new Error("User not found in any organization");const S=(d.telegramBotToken||"").trim();if(!S)throw new Error("Telegram bot token is required");try{const{data:A}=await Q.from("channels").select("id").eq("provider","telegram").eq("external_id",S).limit(1);if(Array.isArray(A)&&A.length>0){i({title:"Duplicate token",description:"A Telegram bot with this BotFather token already exists.",variant:"destructive"}),m(!1);return}}catch{}const k={brand_name:d.displayName,display_name:d.displayName,description:d.description,telegram_bot_token:d.telegramBotToken,ai_profile_id:d.selectedAIAgent,human_agent_ids:d.selectedHumanAgents,super_agent_id:v,org_id:_,platform_type:"telegram"},E=at.buildUrl(at.ENDPOINTS.TELEGRAM.CREATE_PLATFORM),O=await fetch(E,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)});if(!O.ok)throw new Error(`Telegram webhook failed with status ${O.status}`);let N=null;try{if((O.headers.get("content-type")||"").includes("application/json"))N=await O.json();else{const I=await O.text();try{N=I?JSON.parse(I):null}catch{N={raw:I||null}}}}catch{N=null}console.log("Telegram webhook response:",N),i({title:"Success",description:"Telegram channel created successfully"});try{window.dispatchEvent(new CustomEvent("refresh-platforms"))}catch{}t(),h({displayName:"",description:"",telegramBotToken:"",selectedAIAgent:"",selectedHumanAgents:[]}),y(null)}catch(_){console.error("Error submitting form:",_),i({title:"Error",description:_.message||"Failed to create Telegram platform",variant:"destructive"})}finally{m(!1)}};return l.jsx(Dr,{open:e,onOpenChange:t,children:l.jsxs(vr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(yr,{children:[l.jsx(xr,{children:"Setup Telegram Bot Platform"}),l.jsx(Ru,{children:"Configure your new Telegram bot platform with all the necessary information."})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ze,{htmlFor:"displayName",children:"Display Name *"}),l.jsx(ht,{id:"displayName",placeholder:"Enter the display name",value:d.displayName,onChange:_=>h(S=>({...S,displayName:_.target.value}))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ze,{htmlFor:"description",children:"Description"}),l.jsx(Gi,{id:"description",placeholder:"Describe your business and what you offer",value:d.description,onChange:_=>h(S=>({...S,description:_.target.value})),rows:3})]}),l.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/50",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsx(Ze,{className:"text-sm font-medium",children:"Telegram Bot Setup"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Follow these steps to set up your Telegram bot"})]})}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"text-sm space-y-2",children:[l.jsx("p",{className:"font-medium",children:"Step 1: Create a bot with BotFather"}),l.jsxs("ol",{className:"list-decimal list-inside text-xs space-y-1 ml-2",children:[l.jsx("li",{children:"Open Telegram and search for @BotFather"}),l.jsx("li",{children:"Send /newbot command"}),l.jsx("li",{children:"Choose a name for your bot (organization name)"}),l.jsx("li",{children:"Choose a username (must end with 'bot')"}),l.jsx("li",{children:"Copy the bot token provided"})]})]}),l.jsxs("div",{className:"text-sm space-y-2",children:[l.jsx("p",{className:"font-medium",children:"Step 2: Configure bot settings"}),l.jsxs("ol",{className:"list-decimal list-inside text-xs space-y-1 ml-2",children:[l.jsx("li",{children:"Send /setdescription to set bot description"}),l.jsx("li",{children:"Send /setabouttext to set about text"}),l.jsx("li",{children:"Send /setcommands to set available commands"})]})]}),l.jsxs("div",{className:"text-sm space-y-2",children:[l.jsx("p",{className:"font-medium",children:"Step 3: Enable webhook (optional)"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Your bot will automatically receive messages once connected to our platform."})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ze,{htmlFor:"telegramBotToken",children:"Telegram Bot Token *"}),l.jsx(ht,{id:"telegramBotToken",type:"password",placeholder:"1234567890:ABCdefGHIjklMNOpqrsTUVwxyz",value:d.telegramBotToken,onChange:_=>h(S=>({...S,telegramBotToken:_.target.value}))}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Get this token from @BotFather on Telegram. Format: 1234567890:ABCdefGHIjklMNOpqrsTUVwxyz"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ze,{children:"Super Agent *"}),f?l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading..."}):l.jsxs(It,{value:v||"",onValueChange:_=>x(_),children:[l.jsx(Ct,{children:l.jsx(Rt,{placeholder:"Choose a Super Agent"})}),l.jsx(Et,{children:u.filter(_=>_.primaryRole==="super_agent").map(_=>l.jsx(Ie,{value:_.user_id,children:_.display_name||_.email},_.user_id))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ze,{children:"Super Agent *"}),f?l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading..."}):l.jsxs(It,{value:v||"",onValueChange:_=>x(_),children:[l.jsx(Ct,{children:l.jsx(Rt,{placeholder:"Choose a Super Agent"})}),l.jsx(Et,{children:u.filter(_=>_.primaryRole==="super_agent").map(_=>l.jsx(Ie,{value:_.user_id,children:_.display_name||_.email},_.user_id))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ze,{htmlFor:"aiAgent",children:"Select AI Agent *"}),s?l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading AI agents..."}):l.jsxs(It,{value:d.selectedAIAgent,onValueChange:_=>h(S=>({...S,selectedAIAgent:_})),disabled:!v,children:[l.jsx(Ct,{children:l.jsx(Rt,{placeholder:v?"Choose an AI agent":"Select a Super Agent first"})}),l.jsx(Et,{children:o.map(_=>l.jsx(Ie,{value:_.id,children:_.name},_.id))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ze,{children:"Select Human Agents (optional)"}),f?l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading human agents..."}):(()=>{const S=u.filter(k=>k.primaryRole==="agent").filter(k=>!!v&&(!k.super_agent_id||k.super_agent_id===v)).map(k=>({value:k.user_id,label:k.display_name||k.email||`Agent ${k.user_id.slice(0,8)}`}));return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Cy,{options:S,value:d.selectedHumanAgents,onValueChange:k=>h(E=>({...E,selectedHumanAgents:k})),disabled:!v,placeholder:v?"Select human agents":"Select a Super Agent first"}),l.jsx(ae,{type:"button",variant:"outline",disabled:!v||S.length===0,onClick:()=>h(k=>({...k,selectedHumanAgents:S.map(E=>E.value)})),children:"Select All"}),l.jsx(ae,{type:"button",variant:"ghost",disabled:!v||d.selectedHumanAgents.length===0,onClick:()=>h(k=>({...k,selectedHumanAgents:[]})),children:"Unselect All"})]})})()]})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[l.jsx(ae,{variant:"outline",onClick:()=>{p||(h({displayName:"",description:"",telegramBotToken:"",selectedAIAgent:"",selectedHumanAgents:[]}),y(null),t())},disabled:r||p,children:"Cancel"}),l.jsx(ae,{onClick:j,disabled:r||p||!w,className:"bg-blue-600 hover:bg-blue-700 text-white",children:r||p?l.jsxs("span",{className:"inline-flex items-center gap-2",children:[l.jsx(kt,{className:"h-4 w-4 animate-spin"})," Creating..."]}):"Create Telegram Bot Platform"})]})]})})},Tie=({isOpen:e,onClose:t,onSubmit:n,isSubmitting:r=!1})=>{const{toast:i}=dl();Mi();const{aiAgents:a,loading:o}=Du(),{agents:s,loading:c}=vl(),[u,f]=g.useState({description:"",displayName:"",websiteUrl:"",businessCategory:"",selectedAIAgent:"",selectedHumanAgents:[]}),[d,h]=g.useState(!1),[p,m]=g.useState(null),v=b=>{m(b),f(j=>({...j,selectedHumanAgents:[]}))},y=!!(u.displayName&&p&&u.selectedAIAgent),x=async()=>{try{if(d)return;if(!p||!u.selectedAIAgent){i({title:"Missing required fields",description:"Please select a Super Agent and an AI Agent.",variant:"destructive"});return}h(!0);const b={...u,platformType:"web",selectedSuperAgentId:p};await n(b);try{window.dispatchEvent(new CustomEvent("refresh-platforms"))}catch{}f({description:"",displayName:"",websiteUrl:"",businessCategory:"",selectedAIAgent:"",selectedHumanAgents:[]}),m(null),t()}catch(b){console.error("Error submitting form:",b)}finally{h(!1)}},w=()=>{d||(f({description:"",displayName:"",websiteUrl:"",businessCategory:"",selectedAIAgent:"",selectedHumanAgents:[]}),m(null),t())};return l.jsx(Dr,{open:e,onOpenChange:t,children:l.jsxs(vr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(yr,{children:[l.jsx(xr,{children:"Setup Web Live Chat Platform"}),l.jsx(Ru,{children:"Configure your new web live chat platform with all the necessary information."})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ze,{htmlFor:"description",children:"Description"}),l.jsx(Gi,{id:"description",placeholder:"Describe your business and what you offer",value:u.description,onChange:b=>f(j=>({...j,description:b.target.value})),rows:3})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ze,{htmlFor:"displayName",children:"Display Name *"}),l.jsx(ht,{id:"displayName",placeholder:"Name that will appear in the chat widget",value:u.displayName,onChange:b=>f(j=>({...j,displayName:b.target.value}))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ze,{children:"Super Agent *"}),c?l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading super agents..."}):l.jsxs(It,{value:p||"",onValueChange:b=>v(b),children:[l.jsx(Ct,{children:l.jsx(Rt,{placeholder:"Choose a Super Agent"})}),l.jsx(Et,{children:s.filter(b=>b.primaryRole==="super_agent").map(b=>l.jsx(Ie,{value:b.user_id,children:b.display_name||b.email||b.user_id.slice(0,8)},b.user_id))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ze,{htmlFor:"aiAgent",children:"Select AI Agent *"}),o?l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading AI agents..."}):l.jsxs(It,{value:u.selectedAIAgent,onValueChange:b=>f(j=>({...j,selectedAIAgent:b})),disabled:!p,children:[l.jsx(Ct,{children:l.jsx(Rt,{placeholder:p?"Choose an AI agent":"Select a Super Agent first"})}),l.jsx(Et,{children:a.map(b=>l.jsx(Ie,{value:b.id,children:b.name},b.id))})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(Ze,{children:"Assign Agents"}),c?l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading human agents..."}):l.jsx(l.Fragment,{children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"text-xs font-medium",children:["Agents ",p?"":"(select a Super Agent first)"]}),(()=>{const j=s.filter(_=>_.primaryRole==="agent").filter(_=>!!p&&(!_.super_agent_id||_.super_agent_id===p)).map(_=>({value:_.user_id,label:_.display_name||_.email||`Agent ${_.user_id.slice(0,8)}`}));return l.jsx(l.Fragment,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Cy,{options:j,value:u.selectedHumanAgents,onValueChange:_=>f(S=>({...S,selectedHumanAgents:_})),disabled:!p,placeholder:p?"Select human agents":"Select a Super Agent first"}),l.jsx(ae,{type:"button",variant:"outline",disabled:!p||j.length===0,onClick:()=>f(_=>({..._,selectedHumanAgents:j.map(S=>S.value)})),children:"Select All"}),l.jsx(ae,{type:"button",variant:"ghost",disabled:!p||u.selectedHumanAgents.length===0,onClick:()=>f(_=>({..._,selectedHumanAgents:[]})),children:"Unselect All"})]})})})()]})})]})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[l.jsx(ae,{variant:"outline",onClick:w,disabled:r||d,children:"Cancel"}),l.jsx(ae,{onClick:x,disabled:r||d||!y,children:r||d?l.jsxs("span",{className:"inline-flex items-center gap-2",children:[l.jsx(kt,{className:"h-4 w-4 animate-spin"})," Creating..."]}):"Create Web Live Chat Platform"})]})]})})},Oie=()=>{var Ue;const{toast:e}=dl(),{platforms:t,loading:n,error:r,createPlatform:i,deletePlatform:a,uploadProfilePhoto:o,fetchPlatforms:s,updatePlatform:c}=Eie(),{aiAgents:u,loading:f}=Du(),{agents:d,loading:h}=vl(),{fetchByOrgId:p,channelsByOrg:m}=Aie(),{hasRole:v}=Xa(),[y,x]=g.useState(null),[w,b]=g.useState("whatsapp"),[j,_]=g.useState("");g.useState("");const[S,k]=g.useState(!1),[E,O]=g.useState(null),[N,A]=g.useState(!1),[I,M]=g.useState(!1),[L,z]=g.useState([]),[F,B]=g.useState(!1),[D,$]=g.useState([]),[P,R]=g.useState(!1),[T,C]=g.useState(null),[U,G]=g.useState(new Set),[ne,q]=g.useState(new Set),[J,K]=g.useState(null),[re,Z]=g.useState(null),[Y,he]=g.useState(null),[W,ee]=g.useState(!1),[fe,xe]=g.useState(null),Pe=g.useRef(null),[de,Te]=g.useState(!1),Ye="https://waha-plus-production-97c1.up.railway.app",Xe=g.useRef(null),Je=g.useRef(!1),ot=g.useRef(0);g.useEffect(()=>{t.length>0&&!y&&x(t[0].id)},[t,y]),g.useEffect(()=>{u.length>0&&!j&&_(u[0].id)},[u,j]);const gt=ie=>{const be=ie==null?void 0:ie.provider;return be==="whatsapp"?"whatsapp":be==="telegram"?"telegram":"web"};g.useEffect(()=>{const ie=t.find(be=>gt(be)===w);(!y||y&&t.find(be=>be.id===y&&gt(be)!==w))&&x((ie==null?void 0:ie.id)||null)},[t,w]);const V=t.find(ie=>ie.id===y);g.useEffect(()=>{_(V&&(V==null?void 0:V.ai_profile_id)||"")},[V==null?void 0:V.id,V==null?void 0:V.ai_profile_id]),g.useEffect(()=>{const ie=Array.from(new Set(t.map(be=>be.org_id)));ie.length!==0&&Promise.resolve().then(()=>{ie.forEach(be=>{p(be)})})},[t]),g.useEffect(()=>{const ie=()=>{s()};return window.addEventListener("refresh-platforms",ie),()=>window.removeEventListener("refresh-platforms",ie)},[s]);const ce=V?gt(V):null,X=(V==null?void 0:V.human_agents)||[],pe=v("master_agent")||v("super_agent"),ke=v("master_agent"),oe=d.filter(ie=>ie.primaryRole==="agent"&&!X.some(be=>be.user_id===ie.user_id)).map(ie=>({value:ie.user_id,label:ie.display_name||ie.email||ie.user_id.slice(0,8)})),ue=ie=>l.jsxs(l.Fragment,{children:[l.jsxs($e,{children:[l.jsx(ut,{children:l.jsx(dt,{className:"text-base",children:"AI Agent"})}),l.jsx(et,{children:f?l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading AI agents..."}):l.jsxs(It,{value:j||"",onValueChange:async be=>{V&&(await c(V.id,{ai_profile_id:be||void 0}),_(be))},children:[l.jsx(Ct,{children:l.jsx(Rt,{placeholder:"Choose an AI agent"})}),l.jsx(Et,{children:u.map(be=>l.jsxs(Ie,{value:be.id,children:["🤖 ",be.name]},be.id))})]})})]}),l.jsxs($e,{children:[l.jsx(ut,{children:l.jsx(dt,{className:"text-base",children:"Super Agent"})}),l.jsx(et,{children:(()=>{const be=(V==null?void 0:V.super_agent_id)||null,je=d||[],ze=je.find(Ce=>Ce.user_id===be&&Ce.primaryRole==="super_agent")||null,we=je.filter(Ce=>Ce.primaryRole==="super_agent");return ke?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(It,{value:be||"",onValueChange:async Ce=>{V&&await c(V.id,{super_agent_id:Ce||void 0})},children:[l.jsx(Ct,{className:"w-64",children:l.jsx(Rt,{placeholder:"Assign super agent"})}),l.jsx(Et,{children:we.map(Ce=>l.jsxs(Ie,{value:Ce.user_id,children:["👤 ",Ce.display_name||Ce.email||Ce.user_id.slice(0,8)]},Ce.user_id))})]}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"(master agent only)"})]}):l.jsx("div",{className:"text-sm",children:ze?l.jsxs("div",{className:"inline-flex items-center gap-2 bg-muted px-3 py-1 rounded-md",children:["👤 ",ze.display_name||ze.email]}):l.jsx("span",{className:"text-muted-foreground",children:"No super agent assigned"})})})()})]}),l.jsxs($e,{children:[l.jsx(ut,{children:l.jsx(dt,{className:"text-base",children:"Human Agent"})}),l.jsxs(et,{children:[h?l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading human agents..."}):X.length>0?l.jsx("div",{className:"flex flex-wrap gap-2",children:X.map(be=>l.jsxs("div",{className:"flex items-center gap-2 bg-muted px-3 py-1 rounded-md",children:[l.jsxs("span",{className:"text-sm",children:["👤 ",be.display_name||be.email||be.user_id]}),pe&&l.jsx(ae,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0",disabled:I||!V,onClick:async()=>{if(V)try{M(!0);const je=X.filter(ze=>ze.user_id!==be.user_id).map(ze=>ze.user_id);await c(V.id,{human_agent_ids:je})}finally{M(!1)}},children:l.jsx(Bv,{className:"h-3 w-3"})})]},be.user_id))}):l.jsx("p",{className:"text-sm text-muted-foreground",children:"No agents connected"}),pe&&V&&l.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[l.jsx(Cy,{options:oe,value:L,onChange:z,placeholder:"Select human agents to add"}),l.jsx(ae,{variant:"outline",disabled:I||L.length===0,onClick:async()=>{if(V)try{M(!0);const be=X.map(ze=>ze.user_id),je=Array.from(new Set([...be,...L]));await c(V.id,{human_agent_ids:je}),z([])}finally{M(!1)}},children:"Add selected"})]})]})]}),ie&&l.jsxs(l.Fragment,{children:[l.jsxs($e,{children:[l.jsx(ut,{children:l.jsxs(dt,{className:"text-base flex items-center gap-2",children:["Link LiveChat",l.jsx(kw,{className:"h-4 w-4 text-muted-foreground"})]})}),l.jsx(et,{children:l.jsx("div",{className:"bg-muted p-3 rounded-md",children:l.jsx(ht,{value:`https://classy-frangollo-337599.netlify.app/livechat/${(V==null?void 0:V.id)||"{platform_id}"}`,readOnly:!0,className:"bg-background"})})})]}),l.jsxs($e,{children:[l.jsx(ut,{children:l.jsxs(dt,{className:"text-base flex items-center gap-2",children:["Embed Code",l.jsx(kw,{className:"h-4 w-4 text-muted-foreground"})]})}),l.jsx(et,{children:l.jsx(Gi,{value:`<script>
(function(){
  // Lightweight chat embed - uses YOUR project's origin
  var w=window,d=document; if(w.chatWidgetLoaded) return; w.chatWidgetLoaded=true;
  var cfg=w.chatConfig||{}; cfg.baseUrl=cfg.baseUrl||'https://classy-frangollo-337599.netlify.app'; cfg.platformId=cfg.platformId||'${(V==null?void 0:V.id)||"{platform_id}"}';
  cfg.position=cfg.position||'bottom-right'; cfg.width=cfg.width||'360px'; cfg.height=cfg.height||'560px';
  var css='#chat-bubble{position:fixed;right:20px;bottom:20px;z-index:999999;background:#1d4ed8;color:#fff;border-radius:9999px;width:56px;height:56px;box-shadow:0 8px 20px rgba(0,0,0,.2);border:0;cursor:pointer;font-size:24px;line-height:56px;text-align:center}'+
           '#chat-panel{position:fixed;right:20px;bottom:92px;width:'+cfg.width+';height:'+cfg.height+';max-width:calc(100% - 40px);max-height:70vh;z-index:999999;box-shadow:0 10px 30px rgba(0,0,0,.25);border-radius:12px;overflow:hidden;opacity:0;transform:translateY(10px);pointer-events:none;transition:opacity .2s ease,transform .2s ease;background:#fff}'+
           '#chat-panel.open{opacity:1;transform:translateY(0);pointer-events:auto}';
  var s=d.createElement('style'); s.type='text/css'; s.appendChild(d.createTextNode(css)); d.head.appendChild(s);
  var bubble=d.createElement('button'); bubble.id='chat-bubble'; bubble.setAttribute('aria-label','Open chat'); bubble.innerHTML='💬';
  var panel=d.createElement('div'); panel.id='chat-panel';
  var iframe=d.createElement('iframe'); iframe.src=cfg.baseUrl+'/livechat/'+encodeURIComponent(cfg.platformId); iframe.style.width='100%'; iframe.style.height='100%'; iframe.style.border='0'; panel.appendChild(iframe);
  bubble.addEventListener('click',function(){ panel.classList.toggle('open'); });
  d.body.appendChild(bubble); d.body.appendChild(panel);
})();
<\/script>`,readOnly:!0,className:"font-mono text-xs h-48 bg-muted"})})]})]})]}),Se=ie=>{O(ie),k(!1)},_e=async ie=>{try{A(!0);let be="";ie.profilePhoto&&(be=await o(ie.profilePhoto));const je={display_name:ie.displayName||ie.platformName||ie.brandName,website_url:ie.websiteUrl||void 0,business_category:ie.businessCategory||void 0,description:ie.description||void 0,profile_photo_url:be||void 0,ai_profile_id:ie.selectedAIAgent||void 0,provider:E||"web",human_agent_ids:ie.selectedHumanAgents,super_agent_id:ie.selectedSuperAgentId||void 0};await i(je),e({title:"Success",description:"Platform created successfully!"}),O(null)}catch(be){e({title:"Error",description:be.message||"Failed to create platform",variant:"destructive"})}finally{A(!1)}},Ne=async()=>{if(!Je.current){Je.current=!0,R(!0),C(null);try{const ie=`${Ye}/api/sessions`,be=await fetch(ie,{method:"GET",headers:{"Content-Type":"application/json"}});if(!be.ok)throw new Error(`Request failed with status ${be.status}`);const je=await be.json(),ze=Array.isArray(je)?je:[je];$(ze),await ct(ze),Date.now()>=ot.current&&(ot.current=Date.now()+2e3,await s())}catch(ie){C((ie==null?void 0:ie.message)||"Failed to load sessions")}finally{R(!1),Je.current=!1}}},ct=async ie=>{var be,je;try{const{data:ze}=await Q.auth.getUser(),we=ze==null?void 0:ze.user;if(!we)return;const{data:Ce}=await Q.from("org_members").select("org_id").eq("user_id",we.id).limit(1),He=(be=Ce==null?void 0:Ce[0])==null?void 0:be.org_id;if(!He)return;const{data:sn}=await Q.from("channels").select("id, display_name, provider").eq("org_id",He).eq("provider","whatsapp");for(const tt of ie){const ln=(tt==null?void 0:tt.name)||"";if(!ln)continue;const gn=String((tt==null?void 0:tt.status)||"").toUpperCase(),en=((je=tt==null?void 0:tt.me)==null?void 0:je.id)||null,lr=gn==="WORKING"&&!!en,cr=(ln||"").toLowerCase().replace(/\s/g,""),pa=(sn||[]).find(Hz=>(Hz.display_name||"").toLowerCase().replace(/\s/g,"")===cr);pa&&await Q.from("channels").update({is_active:lr,external_id:en,credentials:{waha_status:(tt==null?void 0:tt.status)||null,me_id:en}}).eq("id",pa.id)}}catch(ze){console.error("Failed to sync sessions to channels",ze)}};g.useEffect(()=>{ce==="whatsapp"&&Xe.current!=="whatsapp"&&(Xe.current="whatsapp",Ne()),ce!=="whatsapp"&&(Xe.current=ce||null)},[ce]),g.useEffect(()=>{const ie=be=>{const je=(be==null?void 0:be.detail)||{};Z(je.qr||null),je.sessionName&&xe(je.sessionName),ee(!0)};return window.addEventListener("open-wa-qr",ie),()=>window.removeEventListener("open-wa-qr",ie)},[]),g.useEffect(()=>((()=>{if(!fe||!W)return;const be=async()=>{var je;try{if(!fe)return;const ze=`${Ye}/api/sessions/${encodeURIComponent(fe)}`,we=await fetch(ze,{method:"GET",headers:{"Content-Type":"application/json"}});if(!we.ok)return;const Ce=await we.json(),He=String((Ce==null?void 0:Ce.status)||"").toUpperCase();if(!!((je=Ce==null?void 0:Ce.me)!=null&&je.id)&&He==="WORKING"){ee(!1),Z(null),await Ne();try{window.dispatchEvent(new CustomEvent("refresh-platforms"))}catch{}e({title:"Connected",description:"WhatsApp connected successfully."})}}catch{}};be(),Pe.current=window.setInterval(be,3e3)})(),()=>{Pe.current&&(clearInterval(Pe.current),Pe.current=null)}),[W,fe]);const Qe=async ie=>{K(ie),he(null),Z(null),ee(!0),xe(ie);try{const be=await fetch(at.buildUrl(at.ENDPOINTS.WHATSAPP.GET_LOGIN_QR),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_name:ie})});if(!be.ok)throw new Error(`QR request failed: ${be.status}`);const je=be.headers.get("content-type");if(je&&je.includes("image/")){const ze=await be.blob();Z(URL.createObjectURL(ze))}else try{const ze=await be.json(),we=Array.isArray(ze)?ze[0]:ze;if(!(we!=null&&we.data)||!(we!=null&&we.mimetype))throw new Error("Invalid QR");Z(`data:${we.mimetype};base64,${we.data}`)}catch{const ze=await be.text();ze&&Z(`data:image/png;base64,${ze}`)}}catch(be){he((be==null?void 0:be.message)||"Failed to get QR")}finally{K(null)}},xt=async ie=>{var be;if(ie){G(je=>new Set(je).add(ie));try{const je=at.buildUrl(at.ENDPOINTS.WHATSAPP.DISCONNECT_SESSION||"/disconnect_session"),ze=await fetch(je,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_name:ie})});if(!ze.ok)throw new Error(`Disconnect failed ${ze.status}`);const we=Date.now();for(;Date.now()-we<2e4;){await Ne();const Ce=D.find(ln=>(ln.name||"")===ie),He=String((Ce==null?void 0:Ce.status)||"").toUpperCase(),sn=!!((be=Ce==null?void 0:Ce.me)!=null&&be.id);if(!(He==="WORKING"&&sn))break;await new Promise(ln=>setTimeout(ln,2e3))}e({title:"Disconnected",description:`Session ${ie} disconnected`})}catch(je){C((je==null?void 0:je.message)||"Failed to disconnect session")}finally{G(je=>{const ze=new Set(je);return ze.delete(ie),ze})}}};return l.jsxs("div",{className:"flex h-[calc(100vh-120px)]",children:[l.jsx("div",{className:"w-80 border-r border-border bg-card",children:l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Platforms"}),l.jsx(ae,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",children:l.jsx(Ua,{className:"h-4 w-4"})})]}),l.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"This is where you can connect all your platforms"}),l.jsx(qc,{value:w,onValueChange:ie=>b(ie),className:"mb-3",children:l.jsxs(Xs,{className:"grid w-full grid-cols-3",children:[l.jsx(Mn,{value:"whatsapp",children:"WhatsApp"}),l.jsx(Mn,{value:"telegram",children:"Telegram"}),l.jsx(Mn,{value:"web",children:"Live Chat"})]})}),n?l.jsx("div",{className:"space-y-2",children:[1,2,3].map(ie=>l.jsx($e,{className:"animate-pulse",children:l.jsx(et,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-full bg-muted"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),l.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})]})})},ie))}):r?l.jsx("div",{className:"text-sm text-red-600 p-4",children:r}):l.jsx("div",{className:"space-y-2",children:t.filter(ie=>gt(ie)===w).length===0?l.jsx("div",{className:"text-sm text-muted-foreground p-4 text-center",children:"No platforms found. Create your first platform to get started."}):t.filter(ie=>gt(ie)===w).map(ie=>l.jsx($e,{className:`cursor-pointer transition-colors hover:bg-accent ${y===ie.id?"bg-accent border-primary":""}`,onClick:()=>x(ie.id),children:l.jsx(et,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:ie.profile_photo_url?l.jsx("img",{src:ie.profile_photo_url,alt:ie.display_name||"Platform",className:"h-10 w-10 rounded-full object-cover"}):l.jsx("span",{className:"text-xs font-medium text-blue-600",children:(ie.display_name||"").charAt(0)||"?"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-medium text-sm truncate",children:ie.display_name||"Unnamed Platform"}),l.jsx("p",{className:"text-[11px] text-muted-foreground capitalize",children:gt(ie)}),l.jsx("p",{className:"text-xs text-muted-foreground",children:ie.description||ie.website_url||""})]}),l.jsx("div",{className:`h-2.5 w-2.5 rounded-full ${ie.status==="active"?"bg-green-500":"bg-gray-300"}`,"aria-label":ie.status==="active"?"Active":"Inactive",title:ie.status==="active"?"Active":"Inactive"})]})})},ie.id))}),l.jsxs(Dr,{open:S,onOpenChange:k,children:[l.jsx(ek,{asChild:!0,children:l.jsxs(ae,{variant:"outline",className:"w-full mt-4 text-blue-600 border-blue-200 hover:bg-blue-50",children:[l.jsx(Ua,{className:"h-4 w-4 mr-2"}),"Add Channel"]})}),l.jsxs(vr,{className:"sm:max-w-xl p-0 overflow-hidden",children:[l.jsxs(yr,{className:"p-6 pb-4",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx(xr,{className:"text-lg font-semibold",children:"Platform"})}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Select the platform you wish to establish your new inbox."})]}),l.jsxs("div",{className:"px-6 pb-6",children:[l.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[l.jsxs("button",{onClick:()=>Se("whatsapp"),className:"flex flex-col items-center p-4 rounded-lg border-2 border-border hover:border-primary hover:bg-accent/50 transition-all duration-200 group",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-green-500 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform duration-200",children:l.jsx(t0,{className:"h-6 w-6 text-white"})}),l.jsx("span",{className:"text-sm font-medium text-center",children:"WhatsApp"}),l.jsx("span",{className:"text-xs text-muted-foreground text-center mt-1",children:"Connect your WhatsApp Business account"})]}),l.jsxs("button",{onClick:()=>Se("web"),className:"flex flex-col items-center p-4 rounded-lg border-2 border-border hover:border-primary hover:bg-accent/50 transition-all duration-200 group",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform duration-200",children:l.jsx(XE,{className:"h-6 w-6 text-white"})}),l.jsx("span",{className:"text-sm font-medium text-center",children:"Web Live Chat"}),l.jsx("span",{className:"text-xs text-muted-foreground text-center mt-1",children:"Add live chat to your website"})]}),l.jsxs("button",{onClick:()=>Se("telegram"),className:"flex flex-col items-center p-4 rounded-lg border-2 border-border hover:border-primary hover:bg-accent/50 transition-all duration-200 group",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-400 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform duration-200",children:l.jsx(yf,{className:"h-6 w-6 text-white"})}),l.jsx("span",{className:"text-sm font-medium text-center",children:"Telegram Bot"}),l.jsx("span",{className:"text-xs text-muted-foreground text-center mt-1",children:"Connect your Telegram bot via BotFather"})]})]}),l.jsx("div",{className:"text-center",children:l.jsx("p",{className:"text-xs text-muted-foreground",children:"More platforms coming soon"})})]})]})]}),l.jsx(Nie,{isOpen:E==="whatsapp",onClose:()=>O(null),onSubmit:_e,isSubmitting:N}),l.jsx(Pie,{isOpen:E==="telegram",onClose:()=>O(null),onSubmit:_e,isSubmitting:N}),l.jsx(Tie,{isOpen:E==="web",onClose:()=>O(null),onSubmit:_e,isSubmitting:N}),l.jsx("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:"Add a new platform inbox"})]})}),l.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:l.jsxs("div",{className:"max-w-4xl",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold",children:V!=null&&V.display_name?V.display_name.toUpperCase():"Select Platform"}),l.jsx("p",{className:"text-muted-foreground",children:V?V.description||V.website_url||"":"Choose a platform to manage"})]}),l.jsx("div",{className:"flex gap-2",children:V&&l.jsxs(l.Fragment,{children:[l.jsx(ae,{variant:"outline",size:"sm",disabled:F||!j||j===(V==null?void 0:V.ai_profile_id),onClick:async()=>{if(V)try{B(!0);const ie={};if(j&&j!==(V==null?void 0:V.ai_profile_id)&&(ie.ai_profile_id=j),Object.keys(ie).length===0){e({title:"No changes",description:"There are no changes to save."});return}await c(V.id,ie),e({title:"Saved",description:"Platform settings updated."});try{window.dispatchEvent(new CustomEvent("refresh-platforms"))}catch{}await s()}catch(ie){e({title:"Error",description:(ie==null?void 0:ie.message)||"Failed to save platform",variant:"destructive"})}finally{B(!1)}},children:F?l.jsx(kt,{className:"h-4 w-4 animate-spin"}):"Save"}),l.jsx(ae,{variant:"outline",size:"sm",disabled:de,onClick:async()=>{if(V)try{Te(!0);const ie=gt(V);if(ie==="telegram"){const be=at.buildUrl(at.ENDPOINTS.TELEGRAM.DELETE_WEBHOOK);await fetch(be,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({channel_id:V.id})})}if(ie==="whatsapp"){const be=at.buildUrl(at.ENDPOINTS.WHATSAPP.DELETE_SESSION||"/delete_session"),je=(V.display_name||"").replace(/\s/g,"");await fetch(be,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_name:je})})}await a(V.id)}catch(ie){e({title:"Error",description:(ie==null?void 0:ie.message)||"Failed to delete channel",variant:"destructive"})}finally{Te(!1)}},children:de?l.jsx(kt,{className:"h-4 w-4 animate-spin"}):l.jsx(mc,{className:"h-4 w-4"})})]})})]}),l.jsxs("div",{className:"grid gap-6",children:[V?V&&l.jsxs($e,{children:[l.jsx(ut,{children:l.jsx(dt,{className:"text-base",children:"Channel Details"})}),l.jsx(et,{children:l.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-muted-foreground",children:"Provider"}),l.jsx("div",{className:"capitalize",children:gt(V)})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-muted-foreground",children:"Status"}),l.jsx("div",{children:V.status==="active"?"Active":"Inactive"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-muted-foreground",children:"Display Name"}),l.jsx("div",{children:V.display_name||"—"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-muted-foreground",children:"AI Agent"}),l.jsx("div",{children:((Ue=u.find(ie=>ie.id===(V==null?void 0:V.ai_profile_id)))==null?void 0:Ue.name)||"—"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-muted-foreground",children:"Created At"}),l.jsx("div",{children:V.created_at?new Date(V.created_at).toLocaleString():"—"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-muted-foreground",children:"Secret Token"}),l.jsx("div",{children:(()=>{const ie=V==null?void 0:V.secret_token;return ie?ie.length>8?`${ie.slice(0,4)}••••${ie.slice(-2)}`:"••••":"—"})()})]})]})})]}):l.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mb-4",children:l.jsx(t0,{className:"w-8 h-8 text-muted-foreground"})}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Platform Selected"}),l.jsx("p",{className:"text-muted-foreground mb-6 max-w-md",children:"Select a platform from the left panel to view its details, manage settings, and configure agents."}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 w-full max-w-2xl",children:[l.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2",children:l.jsx(t0,{className:"w-4 h-4 text-blue-600"})}),l.jsx("h4",{className:"font-medium mb-1",children:"WhatsApp"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Connect your WhatsApp business account"})]}),l.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2",children:l.jsx(yf,{className:"w-4 h-4 text-blue-600"})}),l.jsx("h4",{className:"font-medium mb-1",children:"Telegram"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Set up a Telegram bot for customer support"})]}),l.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2",children:l.jsx(XE,{className:"w-4 h-4 text-blue-600"})}),l.jsx("h4",{className:"font-medium mb-1",children:"Live Chat"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Embed chat widget on your website"})]})]})]}),ce==="web"&&l.jsx("div",{className:"grid gap-6",children:ue(!0)}),ce==="whatsapp"&&l.jsxs("div",{className:"grid gap-6",children:[ue(!1),l.jsxs($e,{children:[l.jsx(ut,{children:l.jsx(dt,{className:"text-base",children:"WhatsApp Sessions"})}),l.jsxs(et,{children:[P&&l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading sessions..."}),T&&l.jsx("div",{className:"text-sm text-red-600",children:T}),!P&&!T&&l.jsx("div",{className:"space-y-3",children:(()=>{const ie=((V==null?void 0:V.display_name)||"").toLowerCase().replace(/\s/g,""),be=D.filter(je=>((je==null?void 0:je.name)||"").toLowerCase().replace(/\s/g,"")===ie);return be.length===0?l.jsx("div",{className:"text-sm text-muted-foreground",children:"No session found for this channel."}):be.map((je,ze)=>{var cr,pa;const we=((cr=je==null?void 0:je.me)==null?void 0:cr.id)||"",Ce=we?we.replace(/@c\.us$/,""):"",He=((pa=je==null?void 0:je.me)==null?void 0:pa.pushName)||"-",sn=String((je==null?void 0:je.status)||"UNKNOWN").toUpperCase(),tt=(je==null?void 0:je.name)||"",ln=U.has(tt)||ne.has(tt)||J===tt,gn=!!Ce,en=sn==="SCAN_QR_CODE",lr=sn==="WORKING"&&gn;return l.jsxs("div",{className:"flex items-center justify-between rounded-md border p-3",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium",children:He}),l.jsx("div",{className:"text-xs text-muted-foreground",children:en||!gn?"Not connected":Ce})]}),l.jsx("div",{className:"flex items-center gap-2",children:lr?l.jsx(ae,{variant:"outline",size:"sm",className:"text-amber-700 border-amber-200 hover:bg-amber-50",disabled:ln,onClick:()=>xt(tt),children:U.has(tt)?l.jsx(kt,{className:"h-3 w-3 animate-spin"}):"Disconnect"}):l.jsx(ae,{variant:"outline",className:"text-blue-600 border-blue-200 hover:bg-blue-50",size:"sm",disabled:ln,onClick:()=>Qe(tt),children:J===tt?l.jsx(kt,{className:"h-3 w-3 animate-spin"}):"Connect"})})]},ze)})})()})]})]}),l.jsx(Dr,{open:W,onOpenChange:ee,children:l.jsxs(vr,{className:"sm:max-w-md",children:[l.jsxs(yr,{children:[l.jsx(xr,{children:"Connect WhatsApp"}),l.jsx(Ru,{children:"Scan this QR with your WhatsApp app to connect."})]}),Y&&l.jsx("div",{className:"text-sm text-red-600",children:Y}),re?l.jsxs("div",{className:"flex flex-col items-center gap-3",children:[l.jsx("img",{src:re,alt:"QR",className:"w-56 h-56 rounded border"}),l.jsx(ae,{variant:"outline",onClick:()=>Qe(fe||((V==null?void 0:V.display_name)||"").replace(/\s/g,"")),disabled:!!J,className:"text-blue-600 border-blue-200 hover:bg-blue-50",children:J?l.jsx(kt,{className:"h-4 w-4 animate-spin"}):"Refresh QR"})]}):l.jsx("div",{className:"flex items-center justify-center h-60",children:l.jsx(kt,{className:"h-6 w-6 animate-spin"})})]})})]}),ce==="telegram"&&l.jsx("div",{className:"grid gap-6",children:ue(!1)})]}),V&&l.jsx("div",{className:"mt-8",children:l.jsxs($e,{className:"bg-red-50",children:[l.jsx(ut,{children:l.jsx(dt,{className:"text-base text-red-700",children:"Danger Zone"})}),l.jsx(et,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-red-700",children:"Delete this channel"}),l.jsx("div",{className:"text-xs text-red-600/80",children:"This action cannot be undone."})]}),l.jsxs(m1,{children:[l.jsx(jie,{asChild:!0,children:l.jsx(ae,{className:"bg-red-600 hover:bg-red-700 text-white",children:"Delete Channel"})}),l.jsxs(dg,{children:[l.jsxs(fg,{children:[l.jsx(pg,{children:"Delete channel?"}),l.jsxs(mg,{children:["This will permanently delete ",(V==null?void 0:V.display_name)||"this channel",". This action cannot be undone."]})]}),l.jsxs(hg,{children:[l.jsx(vg,{children:"Cancel"}),l.jsx(gg,{className:`bg-red-600 hover:bg-red-700 text-white ${de?"animate-pulse cursor-wait":""}`,"aria-busy":de,disabled:de,onClick:async()=>{if(V)try{Te(!0);const ie=gt(V);if(ie==="whatsapp"){const be=at.buildUrl(at.ENDPOINTS.WHATSAPP.DELETE_SESSION||"/delete_session"),je=(V.display_name||"").replace(/\s/g,"");await fetch(be,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_name:je})})}else if(ie==="telegram"){const be=at.buildUrl(at.ENDPOINTS.TELEGRAM.DELETE_WEBHOOK);await fetch(be,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({channel_id:V.id})})}await a(V.id),e({title:"Deleted",description:"Channel has been deleted."}),x(null)}catch(ie){e({title:"Error",description:(ie==null?void 0:ie.message)||"Failed to delete channel",variant:"destructive"})}finally{Te(!1)}},children:de?l.jsxs("span",{className:"inline-flex items-center gap-2",children:[l.jsx(kt,{className:"h-4 w-4 animate-spin"}),l.jsx("span",{children:"Deleting…"})]}):"Delete"})]})]})]})]})})]})})]})})]})};var Iie=Array.isArray,Cr=Iie,Rie=typeof hn=="object"&&hn&&hn.Object===Object&&hn,J3=Rie,Mie=J3,Die=typeof self=="object"&&self&&self.Object===Object&&self,$ie=Mie||Die||Function("return this")(),fa=$ie,Lie=fa,Fie=Lie.Symbol,Hh=Fie,bN=Hh,Z3=Object.prototype,Bie=Z3.hasOwnProperty,Uie=Z3.toString,dd=bN?bN.toStringTag:void 0;function zie(e){var t=Bie.call(e,dd),n=e[dd];try{e[dd]=void 0;var r=!0}catch{}var i=Uie.call(e);return r&&(t?e[dd]=n:delete e[dd]),i}var Wie=zie,Hie=Object.prototype,qie=Hie.toString;function Vie(e){return qie.call(e)}var Kie=Vie,wN=Hh,Gie=Wie,Yie=Kie,Xie="[object Null]",Qie="[object Undefined]",_N=wN?wN.toStringTag:void 0;function Jie(e){return e==null?e===void 0?Qie:Xie:_N&&_N in Object(e)?Gie(e):Yie(e)}var Ja=Jie;function Zie(e){return e!=null&&typeof e=="object"}var Za=Zie,eae=Ja,tae=Za,nae="[object Symbol]";function rae(e){return typeof e=="symbol"||tae(e)&&eae(e)==nae}var $u=rae,iae=Cr,aae=$u,oae=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sae=/^\w*$/;function lae(e,t){if(iae(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||aae(e)?!0:sae.test(e)||!oae.test(e)||t!=null&&e in Object(t)}var lk=lae;function cae(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var os=cae;const Lu=Nt(os);var uae=Ja,dae=os,fae="[object AsyncFunction]",hae="[object Function]",pae="[object GeneratorFunction]",mae="[object Proxy]";function gae(e){if(!dae(e))return!1;var t=uae(e);return t==hae||t==pae||t==fae||t==mae}var ck=gae;const st=Nt(ck);var vae=fa,yae=vae["__core-js_shared__"],xae=yae,L0=xae,SN=function(){var e=/[^.]+$/.exec(L0&&L0.keys&&L0.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function bae(e){return!!SN&&SN in e}var wae=bae,_ae=Function.prototype,Sae=_ae.toString;function jae(e){if(e!=null){try{return Sae.call(e)}catch{}try{return e+""}catch{}}return""}var eB=jae,kae=ck,Cae=wae,Eae=os,Aae=eB,Nae=/[\\^$.*+?()[\]{}|]/g,Pae=/^\[object .+?Constructor\]$/,Tae=Function.prototype,Oae=Object.prototype,Iae=Tae.toString,Rae=Oae.hasOwnProperty,Mae=RegExp("^"+Iae.call(Rae).replace(Nae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Dae(e){if(!Eae(e)||Cae(e))return!1;var t=kae(e)?Mae:Pae;return t.test(Aae(e))}var $ae=Dae;function Lae(e,t){return e==null?void 0:e[t]}var Fae=Lae,Bae=$ae,Uae=Fae;function zae(e,t){var n=Uae(e,t);return Bae(n)?n:void 0}var yl=zae,Wae=yl,Hae=Wae(Object,"create"),Ey=Hae,jN=Ey;function qae(){this.__data__=jN?jN(null):{},this.size=0}var Vae=qae;function Kae(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Gae=Kae,Yae=Ey,Xae="__lodash_hash_undefined__",Qae=Object.prototype,Jae=Qae.hasOwnProperty;function Zae(e){var t=this.__data__;if(Yae){var n=t[e];return n===Xae?void 0:n}return Jae.call(t,e)?t[e]:void 0}var eoe=Zae,toe=Ey,noe=Object.prototype,roe=noe.hasOwnProperty;function ioe(e){var t=this.__data__;return toe?t[e]!==void 0:roe.call(t,e)}var aoe=ioe,ooe=Ey,soe="__lodash_hash_undefined__";function loe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ooe&&t===void 0?soe:t,this}var coe=loe,uoe=Vae,doe=Gae,foe=eoe,hoe=aoe,poe=coe;function Fu(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Fu.prototype.clear=uoe;Fu.prototype.delete=doe;Fu.prototype.get=foe;Fu.prototype.has=hoe;Fu.prototype.set=poe;var moe=Fu;function goe(){this.__data__=[],this.size=0}var voe=goe;function yoe(e,t){return e===t||e!==e&&t!==t}var uk=yoe,xoe=uk;function boe(e,t){for(var n=e.length;n--;)if(xoe(e[n][0],t))return n;return-1}var Ay=boe,woe=Ay,_oe=Array.prototype,Soe=_oe.splice;function joe(e){var t=this.__data__,n=woe(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Soe.call(t,n,1),--this.size,!0}var koe=joe,Coe=Ay;function Eoe(e){var t=this.__data__,n=Coe(t,e);return n<0?void 0:t[n][1]}var Aoe=Eoe,Noe=Ay;function Poe(e){return Noe(this.__data__,e)>-1}var Toe=Poe,Ooe=Ay;function Ioe(e,t){var n=this.__data__,r=Ooe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var Roe=Ioe,Moe=voe,Doe=koe,$oe=Aoe,Loe=Toe,Foe=Roe;function Bu(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Bu.prototype.clear=Moe;Bu.prototype.delete=Doe;Bu.prototype.get=$oe;Bu.prototype.has=Loe;Bu.prototype.set=Foe;var Ny=Bu,Boe=yl,Uoe=fa,zoe=Boe(Uoe,"Map"),dk=zoe,kN=moe,Woe=Ny,Hoe=dk;function qoe(){this.size=0,this.__data__={hash:new kN,map:new(Hoe||Woe),string:new kN}}var Voe=qoe;function Koe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Goe=Koe,Yoe=Goe;function Xoe(e,t){var n=e.__data__;return Yoe(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Py=Xoe,Qoe=Py;function Joe(e){var t=Qoe(this,e).delete(e);return this.size-=t?1:0,t}var Zoe=Joe,ese=Py;function tse(e){return ese(this,e).get(e)}var nse=tse,rse=Py;function ise(e){return rse(this,e).has(e)}var ase=ise,ose=Py;function sse(e,t){var n=ose(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var lse=sse,cse=Voe,use=Zoe,dse=nse,fse=ase,hse=lse;function Uu(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Uu.prototype.clear=cse;Uu.prototype.delete=use;Uu.prototype.get=dse;Uu.prototype.has=fse;Uu.prototype.set=hse;var fk=Uu,tB=fk,pse="Expected a function";function hk(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(pse);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(hk.Cache||tB),n}hk.Cache=tB;var nB=hk;const mse=Nt(nB);var gse=nB,vse=500;function yse(e){var t=gse(e,function(r){return n.size===vse&&n.clear(),r}),n=t.cache;return t}var xse=yse,bse=xse,wse=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_se=/\\(\\)?/g,Sse=bse(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(wse,function(n,r,i,a){t.push(i?a.replace(_se,"$1"):r||n)}),t}),jse=Sse;function kse(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var pk=kse,CN=Hh,Cse=pk,Ese=Cr,Ase=$u,Nse=1/0,EN=CN?CN.prototype:void 0,AN=EN?EN.toString:void 0;function rB(e){if(typeof e=="string")return e;if(Ese(e))return Cse(e,rB)+"";if(Ase(e))return AN?AN.call(e):"";var t=e+"";return t=="0"&&1/e==-Nse?"-0":t}var Pse=rB,Tse=Pse;function Ose(e){return e==null?"":Tse(e)}var iB=Ose,Ise=Cr,Rse=lk,Mse=jse,Dse=iB;function $se(e,t){return Ise(e)?e:Rse(e,t)?[e]:Mse(Dse(e))}var aB=$se,Lse=$u,Fse=1/0;function Bse(e){if(typeof e=="string"||Lse(e))return e;var t=e+"";return t=="0"&&1/e==-Fse?"-0":t}var Ty=Bse,Use=aB,zse=Ty;function Wse(e,t){t=Use(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[zse(t[n++])];return n&&n==r?e:void 0}var mk=Wse,Hse=mk;function qse(e,t,n){var r=e==null?void 0:Hse(e,t);return r===void 0?n:r}var oB=qse;const ti=Nt(oB);function Vse(e){return e==null}var Kse=Vse;const bt=Nt(Kse);var Gse=Ja,Yse=Cr,Xse=Za,Qse="[object String]";function Jse(e){return typeof e=="string"||!Yse(e)&&Xse(e)&&Gse(e)==Qse}var Zse=Jse;const nl=Nt(Zse);var sB={exports:{}},Pt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gk=Symbol.for("react.element"),vk=Symbol.for("react.portal"),Oy=Symbol.for("react.fragment"),Iy=Symbol.for("react.strict_mode"),Ry=Symbol.for("react.profiler"),My=Symbol.for("react.provider"),Dy=Symbol.for("react.context"),ele=Symbol.for("react.server_context"),$y=Symbol.for("react.forward_ref"),Ly=Symbol.for("react.suspense"),Fy=Symbol.for("react.suspense_list"),By=Symbol.for("react.memo"),Uy=Symbol.for("react.lazy"),tle=Symbol.for("react.offscreen"),lB;lB=Symbol.for("react.module.reference");function si(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case gk:switch(e=e.type,e){case Oy:case Ry:case Iy:case Ly:case Fy:return e;default:switch(e=e&&e.$$typeof,e){case ele:case Dy:case $y:case Uy:case By:case My:return e;default:return t}}case vk:return t}}}Pt.ContextConsumer=Dy;Pt.ContextProvider=My;Pt.Element=gk;Pt.ForwardRef=$y;Pt.Fragment=Oy;Pt.Lazy=Uy;Pt.Memo=By;Pt.Portal=vk;Pt.Profiler=Ry;Pt.StrictMode=Iy;Pt.Suspense=Ly;Pt.SuspenseList=Fy;Pt.isAsyncMode=function(){return!1};Pt.isConcurrentMode=function(){return!1};Pt.isContextConsumer=function(e){return si(e)===Dy};Pt.isContextProvider=function(e){return si(e)===My};Pt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===gk};Pt.isForwardRef=function(e){return si(e)===$y};Pt.isFragment=function(e){return si(e)===Oy};Pt.isLazy=function(e){return si(e)===Uy};Pt.isMemo=function(e){return si(e)===By};Pt.isPortal=function(e){return si(e)===vk};Pt.isProfiler=function(e){return si(e)===Ry};Pt.isStrictMode=function(e){return si(e)===Iy};Pt.isSuspense=function(e){return si(e)===Ly};Pt.isSuspenseList=function(e){return si(e)===Fy};Pt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Oy||e===Ry||e===Iy||e===Ly||e===Fy||e===tle||typeof e=="object"&&e!==null&&(e.$$typeof===Uy||e.$$typeof===By||e.$$typeof===My||e.$$typeof===Dy||e.$$typeof===$y||e.$$typeof===lB||e.getModuleId!==void 0)};Pt.typeOf=si;sB.exports=Pt;var nle=sB.exports,rle=Ja,ile=Za,ale="[object Number]";function ole(e){return typeof e=="number"||ile(e)&&rle(e)==ale}var cB=ole;const sle=Nt(cB);var lle=cB;function cle(e){return lle(e)&&e!=+e}var ule=cle;const qh=Nt(ule);var ki=function(t){return t===0?0:t>0?1:-1},Ns=function(t){return nl(t)&&t.indexOf("%")===t.length-1},Ee=function(t){return sle(t)&&!qh(t)},dle=function(t){return bt(t)},jn=function(t){return Ee(t)||nl(t)},fle=0,zy=function(t){var n=++fle;return"".concat(t||"").concat(n)},rl=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ee(t)&&!nl(t))return r;var a;if(Ns(t)){var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return qh(a)&&(a=r),i&&a>n&&(a=n),a},Wl=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},hle=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},i=0;i<n;i++)if(!r[t[i]])r[t[i]]=!0;else return!0;return!1},Il=function(t,n){return Ee(t)&&Ee(n)?function(r){return t+r*(n-t)}:function(){return n}};function g1(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):ti(r,t))===n})}var ple=function(t,n){return Ee(t)&&Ee(n)?t-n:nl(t)&&nl(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function Sc(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function v1(e){"@babel/helpers - typeof";return v1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v1(e)}var mle=["viewBox","children"],gle=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],NN=["points","pathLength"],F0={svg:mle,polygon:NN,polyline:NN},yk=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],yg=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(g.isValidElement(t)&&(r=t.props),!Lu(r))return null;var i={};return Object.keys(r).forEach(function(a){yk.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},vle=function(t,n,r){return function(i){return t(n,r,i),null}},xg=function(t,n,r){if(!Lu(t)||v1(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var o=t[a];yk.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=vle(o,n,r))}),i},yle=["children"],xle=["children"];function PN(e,t){if(e==null)return{};var n=ble(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ble(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var TN={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ra=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},ON=null,B0=null,xk=function e(t){if(t===ON&&Array.isArray(B0))return B0;var n=[];return g.Children.forEach(t,function(r){bt(r)||(nle.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),B0=n,ON=t,n};function Ai(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(i){return Ra(i)}):r=[Ra(t)],xk(e).forEach(function(i){var a=ti(i,"type.displayName")||ti(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Tr(e,t){var n=Ai(e,t);return n&&n[0]}var IN=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,i=n.height;return!(!Ee(r)||r<=0||!Ee(i)||i<=0)},wle=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],_le=function(t){return t&&t.type&&nl(t.type)&&wle.indexOf(t.type)>=0},Sle=function(t,n,r,i){var a,o=(a=F0==null?void 0:F0[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!st(t)&&(i&&o.includes(n)||gle.includes(n))||r&&yk.includes(n)},St=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(g.isValidElement(t)&&(i=t.props),!Lu(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;Sle((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},y1=function e(t,n){if(t===n)return!0;var r=g.Children.count(t);if(r!==g.Children.count(n))return!1;if(r===0)return!0;if(r===1)return RN(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=t[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!RN(a,o))return!1}return!0},RN=function(t,n){if(bt(t)&&bt(n))return!0;if(!bt(t)&&!bt(n)){var r=t.props||{},i=r.children,a=PN(r,yle),o=n.props||{},s=o.children,c=PN(o,xle);return i&&s?Sc(a,c)&&y1(i,s):!i&&!s?Sc(a,c):!1}return!1},MN=function(t,n){var r=[],i={};return xk(t).forEach(function(a,o){if(_le(a))r.push(a);else if(a){var s=Ra(a.type),c=n[s]||{},u=c.handler,f=c.once;if(u&&(!f||!i[s])){var d=u(a,s,o);r.push(d),i[s]=!0}}}),r},jle=function(t){var n=t&&t.type;return n&&TN[n]?TN[n]:null},kle=function(t,n){return xk(n).indexOf(t)},Cle=["children","width","height","viewBox","className","style","title","desc"];function x1(){return x1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x1.apply(this,arguments)}function Ele(e,t){if(e==null)return{};var n=Ale(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ale(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function b1(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,a=e.className,o=e.style,s=e.title,c=e.desc,u=Ele(e,Cle),f=i||{width:n,height:r,x:0,y:0},d=pt("recharts-surface",a);return H.createElement("svg",x1({},St(u,!0,"svg"),{className:d,width:n,height:r,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),H.createElement("title",null,s),H.createElement("desc",null,c),t)}var Nle=["children","className"];function w1(){return w1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w1.apply(this,arguments)}function Ple(e,t){if(e==null)return{};var n=Tle(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Tle(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Pn=H.forwardRef(function(e,t){var n=e.children,r=e.className,i=Ple(e,Nle),a=pt("recharts-layer",r);return H.createElement("g",w1({className:a},St(i,!0),{ref:t}),n)}),Us=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function Ole(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}var Ile=Ole,Rle=Ile;function Mle(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:Rle(e,t,n)}var Dle=Mle,$le="\\ud800-\\udfff",Lle="\\u0300-\\u036f",Fle="\\ufe20-\\ufe2f",Ble="\\u20d0-\\u20ff",Ule=Lle+Fle+Ble,zle="\\ufe0e\\ufe0f",Wle="\\u200d",Hle=RegExp("["+Wle+$le+Ule+zle+"]");function qle(e){return Hle.test(e)}var uB=qle;function Vle(e){return e.split("")}var Kle=Vle,dB="\\ud800-\\udfff",Gle="\\u0300-\\u036f",Yle="\\ufe20-\\ufe2f",Xle="\\u20d0-\\u20ff",Qle=Gle+Yle+Xle,Jle="\\ufe0e\\ufe0f",Zle="["+dB+"]",_1="["+Qle+"]",S1="\\ud83c[\\udffb-\\udfff]",ece="(?:"+_1+"|"+S1+")",fB="[^"+dB+"]",hB="(?:\\ud83c[\\udde6-\\uddff]){2}",pB="[\\ud800-\\udbff][\\udc00-\\udfff]",tce="\\u200d",mB=ece+"?",gB="["+Jle+"]?",nce="(?:"+tce+"(?:"+[fB,hB,pB].join("|")+")"+gB+mB+")*",rce=gB+mB+nce,ice="(?:"+[fB+_1+"?",_1,hB,pB,Zle].join("|")+")",ace=RegExp(S1+"(?="+S1+")|"+ice+rce,"g");function oce(e){return e.match(ace)||[]}var sce=oce,lce=Kle,cce=uB,uce=sce;function dce(e){return cce(e)?uce(e):lce(e)}var fce=dce,hce=Dle,pce=uB,mce=fce,gce=iB;function vce(e){return function(t){t=gce(t);var n=pce(t)?mce(t):void 0,r=n?n[0]:t.charAt(0),i=n?hce(n,1).join(""):t.slice(1);return r[e]()+i}}var yce=vce,xce=yce,bce=xce("toUpperCase"),wce=bce;const Wy=Nt(wce);function Bt(e){return function(){return e}}const vB=Math.cos,bg=Math.sin,$i=Math.sqrt,wg=Math.PI,Hy=2*wg,j1=Math.PI,k1=2*j1,xs=1e-6,_ce=k1-xs;function yB(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Sce(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return yB;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class jce{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?yB:Sce(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,c=r-t,u=i-n,f=o-t,d=s-n,h=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>xs)if(!(Math.abs(d*c-u*f)>xs)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-o,m=i-s,v=c*c+u*u,y=p*p+m*m,x=Math.sqrt(v),w=Math.sqrt(h),b=a*Math.tan((j1-Math.acos((v+h-y)/(2*x*w)))/2),j=b/w,_=b/x;Math.abs(j-1)>xs&&this._append`L${t+j*f},${n+j*d}`,this._append`A${a},${a},0,0,${+(d*p>f*m)},${this._x1=t+_*c},${this._y1=n+_*u}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),c=r*Math.sin(i),u=t+s,f=n+c,d=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>xs||Math.abs(this._y1-f)>xs)&&this._append`L${u},${f}`,r&&(h<0&&(h=h%k1+k1),h>_ce?this._append`A${r},${r},0,1,${d},${t-s},${n-c}A${r},${r},0,1,${d},${this._x1=u},${this._y1=f}`:h>xs&&this._append`A${r},${r},0,${+(h>=j1)},${d},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function bk(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new jce(t)}function wk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function xB(e){this._context=e}xB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function qy(e){return new xB(e)}function bB(e){return e[0]}function wB(e){return e[1]}function _B(e,t){var n=Bt(!0),r=null,i=qy,a=null,o=bk(s);e=typeof e=="function"?e:e===void 0?bB:Bt(e),t=typeof t=="function"?t:t===void 0?wB:Bt(t);function s(c){var u,f=(c=wk(c)).length,d,h=!1,p;for(r==null&&(a=i(p=o())),u=0;u<=f;++u)!(u<f&&n(d=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(d,u,c),+t(d,u,c));if(p)return a=null,p+""||null}return s.x=function(c){return arguments.length?(e=typeof c=="function"?c:Bt(+c),s):e},s.y=function(c){return arguments.length?(t=typeof c=="function"?c:Bt(+c),s):t},s.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Bt(!!c),s):n},s.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),s):i},s.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),s):r},s}function Ip(e,t,n){var r=null,i=Bt(!0),a=null,o=qy,s=null,c=bk(u);e=typeof e=="function"?e:e===void 0?bB:Bt(+e),t=typeof t=="function"?t:Bt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?wB:Bt(+n);function u(d){var h,p,m,v=(d=wk(d)).length,y,x=!1,w,b=new Array(v),j=new Array(v);for(a==null&&(s=o(w=c())),h=0;h<=v;++h){if(!(h<v&&i(y=d[h],h,d))===x)if(x=!x)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=p;--m)s.point(b[m],j[m]);s.lineEnd(),s.areaEnd()}x&&(b[h]=+e(y,h,d),j[h]=+t(y,h,d),s.point(r?+r(y,h,d):b[h],n?+n(y,h,d):j[h]))}if(w)return s=null,w+""||null}function f(){return _B().defined(i).curve(o).context(a)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Bt(+d),r=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Bt(+d),u):e},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Bt(+d),u):r},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Bt(+d),n=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Bt(+d),u):t},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Bt(+d),u):n},u.lineX0=u.lineY0=function(){return f().x(e).y(t)},u.lineY1=function(){return f().x(e).y(n)},u.lineX1=function(){return f().x(r).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Bt(!!d),u):i},u.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),u):o},u.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),u):a},u}class SB{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function kce(e){return new SB(e,!0)}function Cce(e){return new SB(e,!1)}const _k={draw(e,t){const n=$i(t/wg);e.moveTo(n,0),e.arc(0,0,n,0,Hy)}},Ece={draw(e,t){const n=$i(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},jB=$i(1/3),Ace=jB*2,Nce={draw(e,t){const n=$i(t/Ace),r=n*jB;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Pce={draw(e,t){const n=$i(t),r=-n/2;e.rect(r,r,n,n)}},Tce=.8908130915292852,kB=bg(wg/10)/bg(7*wg/10),Oce=bg(Hy/10)*kB,Ice=-vB(Hy/10)*kB,Rce={draw(e,t){const n=$i(t*Tce),r=Oce*n,i=Ice*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const o=Hy*a/5,s=vB(o),c=bg(o);e.lineTo(c*n,-s*n),e.lineTo(s*r-c*i,c*r+s*i)}e.closePath()}},U0=$i(3),Mce={draw(e,t){const n=-$i(t/(U0*3));e.moveTo(0,n*2),e.lineTo(-U0*n,-n),e.lineTo(U0*n,-n),e.closePath()}},Hr=-.5,qr=$i(3)/2,C1=1/$i(12),Dce=(C1/2+1)*3,$ce={draw(e,t){const n=$i(t/Dce),r=n/2,i=n*C1,a=r,o=n*C1+n,s=-a,c=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(s,c),e.lineTo(Hr*r-qr*i,qr*r+Hr*i),e.lineTo(Hr*a-qr*o,qr*a+Hr*o),e.lineTo(Hr*s-qr*c,qr*s+Hr*c),e.lineTo(Hr*r+qr*i,Hr*i-qr*r),e.lineTo(Hr*a+qr*o,Hr*o-qr*a),e.lineTo(Hr*s+qr*c,Hr*c-qr*s),e.closePath()}};function Lce(e,t){let n=null,r=bk(i);e=typeof e=="function"?e:Bt(e||_k),t=typeof t=="function"?t:Bt(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Bt(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Bt(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function _g(){}function Sg(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function CB(e){this._context=e}CB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Sg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Sg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Fce(e){return new CB(e)}function EB(e){this._context=e}EB.prototype={areaStart:_g,areaEnd:_g,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Sg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Bce(e){return new EB(e)}function AB(e){this._context=e}AB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Sg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Uce(e){return new AB(e)}function NB(e){this._context=e}NB.prototype={areaStart:_g,areaEnd:_g,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function zce(e){return new NB(e)}function DN(e){return e<0?-1:1}function $N(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(DN(a)+DN(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function LN(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function z0(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function jg(e){this._context=e}jg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:z0(this,this._t0,LN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,z0(this,LN(this,n=$N(this,e,t)),n);break;default:z0(this,this._t0,n=$N(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function PB(e){this._context=new TB(e)}(PB.prototype=Object.create(jg.prototype)).point=function(e,t){jg.prototype.point.call(this,t,e)};function TB(e){this._context=e}TB.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function Wce(e){return new jg(e)}function Hce(e){return new PB(e)}function OB(e){this._context=e}OB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=FN(e),i=FN(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function FN(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function qce(e){return new OB(e)}function Vy(e,t){this._context=e,this._t=t}Vy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Vce(e){return new Vy(e,.5)}function Kce(e){return new Vy(e,0)}function Gce(e){return new Vy(e,1)}function tu(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,s=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function E1(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Yce(e,t){return e[t]}function Xce(e){const t=[];return t.key=e,t}function Qce(){var e=Bt([]),t=E1,n=tu,r=Yce;function i(a){var o=Array.from(e.apply(this,arguments),Xce),s,c=o.length,u=-1,f;for(const d of a)for(s=0,++u;s<c;++s)(o[s][u]=[0,+r(d,o[s].key,u,a)]).data=d;for(s=0,f=wk(t(o));s<c;++s)o[f[s]].index=s;return n(o,f),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Bt(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Bt(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?E1:typeof a=="function"?a:Bt(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??tu,i):n},i}function Jce(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}tu(e,t)}}function Zce(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=e[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}tu(e,t)}}function eue(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,c=0,u=0;s<o;++s){for(var f=e[t[s]],d=f[r][1]||0,h=f[r-1][1]||0,p=(d-h)/2,m=0;m<s;++m){var v=e[t[m]],y=v[r][1]||0,x=v[r-1][1]||0;p+=y-x}c+=d,u+=p*d}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,tu(e,t)}}function Rf(e){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rf(e)}var tue=["type","size","sizeType"];function A1(){return A1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A1.apply(this,arguments)}function BN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BN(Object(n),!0).forEach(function(r){nue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nue(e,t,n){return t=rue(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rue(e){var t=iue(e,"string");return Rf(t)=="symbol"?t:t+""}function iue(e,t){if(Rf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aue(e,t){if(e==null)return{};var n=oue(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function oue(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var IB={symbolCircle:_k,symbolCross:Ece,symbolDiamond:Nce,symbolSquare:Pce,symbolStar:Rce,symbolTriangle:Mce,symbolWye:$ce},sue=Math.PI/180,lue=function(t){var n="symbol".concat(Wy(t));return IB[n]||_k},cue=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*sue;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},uue=function(t,n){IB["symbol".concat(Wy(t))]=n},Sk=function(t){var n=t.type,r=n===void 0?"circle":n,i=t.size,a=i===void 0?64:i,o=t.sizeType,s=o===void 0?"area":o,c=aue(t,tue),u=UN(UN({},c),{},{type:r,size:a,sizeType:s}),f=function(){var y=lue(r),x=Lce().type(y).size(cue(a,s,r));return x()},d=u.className,h=u.cx,p=u.cy,m=St(u,!0);return h===+h&&p===+p&&a===+a?H.createElement("path",A1({},m,{className:pt("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:f()})):null};Sk.registerSymbol=uue;function nu(e){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(e)}function N1(){return N1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N1.apply(this,arguments)}function zN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function due(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zN(Object(n),!0).forEach(function(r){Mf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,MB(r.key),r)}}function pue(e,t,n){return t&&hue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mue(e,t,n){return t=kg(t),gue(e,RB()?Reflect.construct(t,n||[],kg(e).constructor):t.apply(e,n))}function gue(e,t){if(t&&(nu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vue(e)}function vue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RB=function(){return!!e})()}function kg(e){return kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kg(e)}function yue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P1(e,t)}function P1(e,t){return P1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},P1(e,t)}function Mf(e,t,n){return t=MB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MB(e){var t=xue(e,"string");return nu(t)=="symbol"?t:t+""}function xue(e,t){if(nu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vr=32,jk=function(e){function t(){return fue(this,t),mue(this,t,arguments)}return yue(t,e),pue(t,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Vr/2,o=Vr/6,s=Vr/3,c=r.inactive?i:r.color;if(r.type==="plainline")return H.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Vr,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return H.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Vr,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return H.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Vr/8,"h").concat(Vr,"v").concat(Vr*3/4,"h").concat(-Vr,"z"),className:"recharts-legend-icon"});if(H.isValidElement(r.legendIcon)){var u=due({},r);return delete u.legendIcon,H.cloneElement(r.legendIcon,u)}return H.createElement(Sk,{fill:c,cx:a,cy:a,size:Vr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,c=i.formatter,u=i.inactiveColor,f={x:0,y:0,width:Vr,height:Vr},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,m){var v=p.formatter||c,y=pt(Mf(Mf({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var x=st(p.value)?null:p.value;Us(!st(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?u:p.color;return H.createElement("li",N1({className:y,style:d,key:"legend-item-".concat(m)},xg(r.props,p,m)),H.createElement(b1,{width:o,height:o,viewBox:f,style:h},r.renderIcon(p)),H.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},v?v(x,p,m):x))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return H.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(g.PureComponent);Mf(jk,"displayName","Legend");Mf(jk,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var bue=Ny;function wue(){this.__data__=new bue,this.size=0}var _ue=wue;function Sue(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var jue=Sue;function kue(e){return this.__data__.get(e)}var Cue=kue;function Eue(e){return this.__data__.has(e)}var Aue=Eue,Nue=Ny,Pue=dk,Tue=fk,Oue=200;function Iue(e,t){var n=this.__data__;if(n instanceof Nue){var r=n.__data__;if(!Pue||r.length<Oue-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Tue(r)}return n.set(e,t),this.size=n.size,this}var Rue=Iue,Mue=Ny,Due=_ue,$ue=jue,Lue=Cue,Fue=Aue,Bue=Rue;function zu(e){var t=this.__data__=new Mue(e);this.size=t.size}zu.prototype.clear=Due;zu.prototype.delete=$ue;zu.prototype.get=Lue;zu.prototype.has=Fue;zu.prototype.set=Bue;var DB=zu,Uue="__lodash_hash_undefined__";function zue(e){return this.__data__.set(e,Uue),this}var Wue=zue;function Hue(e){return this.__data__.has(e)}var que=Hue,Vue=fk,Kue=Wue,Gue=que;function Cg(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Vue;++t<n;)this.add(e[t])}Cg.prototype.add=Cg.prototype.push=Kue;Cg.prototype.has=Gue;var $B=Cg;function Yue(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var LB=Yue;function Xue(e,t){return e.has(t)}var FB=Xue,Que=$B,Jue=LB,Zue=FB,ede=1,tde=2;function nde(e,t,n,r,i,a){var o=n&ede,s=e.length,c=t.length;if(s!=c&&!(o&&c>s))return!1;var u=a.get(e),f=a.get(t);if(u&&f)return u==t&&f==e;var d=-1,h=!0,p=n&tde?new Que:void 0;for(a.set(e,t),a.set(t,e);++d<s;){var m=e[d],v=t[d];if(r)var y=o?r(v,m,d,t,e,a):r(m,v,d,e,t,a);if(y!==void 0){if(y)continue;h=!1;break}if(p){if(!Jue(t,function(x,w){if(!Zue(p,w)&&(m===x||i(m,x,n,r,a)))return p.push(w)})){h=!1;break}}else if(!(m===v||i(m,v,n,r,a))){h=!1;break}}return a.delete(e),a.delete(t),h}var BB=nde,rde=fa,ide=rde.Uint8Array,ade=ide;function ode(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var sde=ode;function lde(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var kk=lde,WN=Hh,HN=ade,cde=uk,ude=BB,dde=sde,fde=kk,hde=1,pde=2,mde="[object Boolean]",gde="[object Date]",vde="[object Error]",yde="[object Map]",xde="[object Number]",bde="[object RegExp]",wde="[object Set]",_de="[object String]",Sde="[object Symbol]",jde="[object ArrayBuffer]",kde="[object DataView]",qN=WN?WN.prototype:void 0,W0=qN?qN.valueOf:void 0;function Cde(e,t,n,r,i,a,o){switch(n){case kde:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case jde:return!(e.byteLength!=t.byteLength||!a(new HN(e),new HN(t)));case mde:case gde:case xde:return cde(+e,+t);case vde:return e.name==t.name&&e.message==t.message;case bde:case _de:return e==t+"";case yde:var s=dde;case wde:var c=r&hde;if(s||(s=fde),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;r|=pde,o.set(e,t);var f=ude(s(e),s(t),r,i,a,o);return o.delete(e),f;case Sde:if(W0)return W0.call(e)==W0.call(t)}return!1}var Ede=Cde;function Ade(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var UB=Ade,Nde=UB,Pde=Cr;function Tde(e,t,n){var r=t(e);return Pde(e)?r:Nde(r,n(e))}var Ode=Tde;function Ide(e,t){for(var n=-1,r=e==null?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}var Rde=Ide;function Mde(){return[]}var Dde=Mde,$de=Rde,Lde=Dde,Fde=Object.prototype,Bde=Fde.propertyIsEnumerable,VN=Object.getOwnPropertySymbols,Ude=VN?function(e){return e==null?[]:(e=Object(e),$de(VN(e),function(t){return Bde.call(e,t)}))}:Lde,zde=Ude;function Wde(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Hde=Wde,qde=Ja,Vde=Za,Kde="[object Arguments]";function Gde(e){return Vde(e)&&qde(e)==Kde}var Yde=Gde,KN=Yde,Xde=Za,zB=Object.prototype,Qde=zB.hasOwnProperty,Jde=zB.propertyIsEnumerable,Zde=KN(function(){return arguments}())?KN:function(e){return Xde(e)&&Qde.call(e,"callee")&&!Jde.call(e,"callee")},Ck=Zde,Eg={exports:{}};function efe(){return!1}var tfe=efe;Eg.exports;(function(e,t){var n=fa,r=tfe,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,s=o?n.Buffer:void 0,c=s?s.isBuffer:void 0,u=c||r;e.exports=u})(Eg,Eg.exports);var WB=Eg.exports,nfe=9007199254740991,rfe=/^(?:0|[1-9]\d*)$/;function ife(e,t){var n=typeof e;return t=t??nfe,!!t&&(n=="number"||n!="symbol"&&rfe.test(e))&&e>-1&&e%1==0&&e<t}var Ek=ife,afe=9007199254740991;function ofe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=afe}var Ak=ofe,sfe=Ja,lfe=Ak,cfe=Za,ufe="[object Arguments]",dfe="[object Array]",ffe="[object Boolean]",hfe="[object Date]",pfe="[object Error]",mfe="[object Function]",gfe="[object Map]",vfe="[object Number]",yfe="[object Object]",xfe="[object RegExp]",bfe="[object Set]",wfe="[object String]",_fe="[object WeakMap]",Sfe="[object ArrayBuffer]",jfe="[object DataView]",kfe="[object Float32Array]",Cfe="[object Float64Array]",Efe="[object Int8Array]",Afe="[object Int16Array]",Nfe="[object Int32Array]",Pfe="[object Uint8Array]",Tfe="[object Uint8ClampedArray]",Ofe="[object Uint16Array]",Ife="[object Uint32Array]",Vt={};Vt[kfe]=Vt[Cfe]=Vt[Efe]=Vt[Afe]=Vt[Nfe]=Vt[Pfe]=Vt[Tfe]=Vt[Ofe]=Vt[Ife]=!0;Vt[ufe]=Vt[dfe]=Vt[Sfe]=Vt[ffe]=Vt[jfe]=Vt[hfe]=Vt[pfe]=Vt[mfe]=Vt[gfe]=Vt[vfe]=Vt[yfe]=Vt[xfe]=Vt[bfe]=Vt[wfe]=Vt[_fe]=!1;function Rfe(e){return cfe(e)&&lfe(e.length)&&!!Vt[sfe(e)]}var Mfe=Rfe;function Dfe(e){return function(t){return e(t)}}var HB=Dfe,Ag={exports:{}};Ag.exports;(function(e,t){var n=J3,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s})(Ag,Ag.exports);var $fe=Ag.exports,Lfe=Mfe,Ffe=HB,GN=$fe,YN=GN&&GN.isTypedArray,Bfe=YN?Ffe(YN):Lfe,qB=Bfe,Ufe=Hde,zfe=Ck,Wfe=Cr,Hfe=WB,qfe=Ek,Vfe=qB,Kfe=Object.prototype,Gfe=Kfe.hasOwnProperty;function Yfe(e,t){var n=Wfe(e),r=!n&&zfe(e),i=!n&&!r&&Hfe(e),a=!n&&!r&&!i&&Vfe(e),o=n||r||i||a,s=o?Ufe(e.length,String):[],c=s.length;for(var u in e)(t||Gfe.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||qfe(u,c)))&&s.push(u);return s}var Xfe=Yfe,Qfe=Object.prototype;function Jfe(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Qfe;return e===n}var Zfe=Jfe;function ehe(e,t){return function(n){return e(t(n))}}var VB=ehe,the=VB,nhe=the(Object.keys,Object),rhe=nhe,ihe=Zfe,ahe=rhe,ohe=Object.prototype,she=ohe.hasOwnProperty;function lhe(e){if(!ihe(e))return ahe(e);var t=[];for(var n in Object(e))she.call(e,n)&&n!="constructor"&&t.push(n);return t}var che=lhe,uhe=ck,dhe=Ak;function fhe(e){return e!=null&&dhe(e.length)&&!uhe(e)}var Ky=fhe,hhe=Xfe,phe=che,mhe=Ky;function ghe(e){return mhe(e)?hhe(e):phe(e)}var Nk=ghe,vhe=Ode,yhe=zde,xhe=Nk;function bhe(e){return vhe(e,xhe,yhe)}var whe=bhe,XN=whe,_he=1,She=Object.prototype,jhe=She.hasOwnProperty;function khe(e,t,n,r,i,a){var o=n&_he,s=XN(e),c=s.length,u=XN(t),f=u.length;if(c!=f&&!o)return!1;for(var d=c;d--;){var h=s[d];if(!(o?h in t:jhe.call(t,h)))return!1}var p=a.get(e),m=a.get(t);if(p&&m)return p==t&&m==e;var v=!0;a.set(e,t),a.set(t,e);for(var y=o;++d<c;){h=s[d];var x=e[h],w=t[h];if(r)var b=o?r(w,x,h,t,e,a):r(x,w,h,e,t,a);if(!(b===void 0?x===w||i(x,w,n,r,a):b)){v=!1;break}y||(y=h=="constructor")}if(v&&!y){var j=e.constructor,_=t.constructor;j!=_&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof _=="function"&&_ instanceof _)&&(v=!1)}return a.delete(e),a.delete(t),v}var Che=khe,Ehe=yl,Ahe=fa,Nhe=Ehe(Ahe,"DataView"),Phe=Nhe,The=yl,Ohe=fa,Ihe=The(Ohe,"Promise"),Rhe=Ihe,Mhe=yl,Dhe=fa,$he=Mhe(Dhe,"Set"),KB=$he,Lhe=yl,Fhe=fa,Bhe=Lhe(Fhe,"WeakMap"),Uhe=Bhe,T1=Phe,O1=dk,I1=Rhe,R1=KB,M1=Uhe,GB=Ja,Wu=eB,QN="[object Map]",zhe="[object Object]",JN="[object Promise]",ZN="[object Set]",eP="[object WeakMap]",tP="[object DataView]",Whe=Wu(T1),Hhe=Wu(O1),qhe=Wu(I1),Vhe=Wu(R1),Khe=Wu(M1),bs=GB;(T1&&bs(new T1(new ArrayBuffer(1)))!=tP||O1&&bs(new O1)!=QN||I1&&bs(I1.resolve())!=JN||R1&&bs(new R1)!=ZN||M1&&bs(new M1)!=eP)&&(bs=function(e){var t=GB(e),n=t==zhe?e.constructor:void 0,r=n?Wu(n):"";if(r)switch(r){case Whe:return tP;case Hhe:return QN;case qhe:return JN;case Vhe:return ZN;case Khe:return eP}return t});var Ghe=bs,H0=DB,Yhe=BB,Xhe=Ede,Qhe=Che,nP=Ghe,rP=Cr,iP=WB,Jhe=qB,Zhe=1,aP="[object Arguments]",oP="[object Array]",Rp="[object Object]",epe=Object.prototype,sP=epe.hasOwnProperty;function tpe(e,t,n,r,i,a){var o=rP(e),s=rP(t),c=o?oP:nP(e),u=s?oP:nP(t);c=c==aP?Rp:c,u=u==aP?Rp:u;var f=c==Rp,d=u==Rp,h=c==u;if(h&&iP(e)){if(!iP(t))return!1;o=!0,f=!1}if(h&&!f)return a||(a=new H0),o||Jhe(e)?Yhe(e,t,n,r,i,a):Xhe(e,t,c,n,r,i,a);if(!(n&Zhe)){var p=f&&sP.call(e,"__wrapped__"),m=d&&sP.call(t,"__wrapped__");if(p||m){var v=p?e.value():e,y=m?t.value():t;return a||(a=new H0),i(v,y,n,r,a)}}return h?(a||(a=new H0),Qhe(e,t,n,r,i,a)):!1}var npe=tpe,rpe=npe,lP=Za;function YB(e,t,n,r,i){return e===t?!0:e==null||t==null||!lP(e)&&!lP(t)?e!==e&&t!==t:rpe(e,t,n,r,YB,i)}var Pk=YB,ipe=DB,ape=Pk,ope=1,spe=2;function lpe(e,t,n,r){var i=n.length,a=i,o=!r;if(e==null)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){s=n[i];var c=s[0],u=e[c],f=s[1];if(o&&s[2]){if(u===void 0&&!(c in e))return!1}else{var d=new ipe;if(r)var h=r(u,f,c,e,t,d);if(!(h===void 0?ape(f,u,ope|spe,r,d):h))return!1}}return!0}var cpe=lpe,upe=os;function dpe(e){return e===e&&!upe(e)}var XB=dpe,fpe=XB,hpe=Nk;function ppe(e){for(var t=hpe(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,fpe(i)]}return t}var mpe=ppe;function gpe(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var QB=gpe,vpe=cpe,ype=mpe,xpe=QB;function bpe(e){var t=ype(e);return t.length==1&&t[0][2]?xpe(t[0][0],t[0][1]):function(n){return n===e||vpe(n,e,t)}}var wpe=bpe;function _pe(e,t){return e!=null&&t in Object(e)}var Spe=_pe,jpe=aB,kpe=Ck,Cpe=Cr,Epe=Ek,Ape=Ak,Npe=Ty;function Ppe(e,t,n){t=jpe(t,e);for(var r=-1,i=t.length,a=!1;++r<i;){var o=Npe(t[r]);if(!(a=e!=null&&n(e,o)))break;e=e[o]}return a||++r!=i?a:(i=e==null?0:e.length,!!i&&Ape(i)&&Epe(o,i)&&(Cpe(e)||kpe(e)))}var Tpe=Ppe,Ope=Spe,Ipe=Tpe;function Rpe(e,t){return e!=null&&Ipe(e,t,Ope)}var Mpe=Rpe,Dpe=Pk,$pe=oB,Lpe=Mpe,Fpe=lk,Bpe=XB,Upe=QB,zpe=Ty,Wpe=1,Hpe=2;function qpe(e,t){return Fpe(e)&&Bpe(t)?Upe(zpe(e),t):function(n){var r=$pe(n,e);return r===void 0&&r===t?Lpe(n,e):Dpe(t,r,Wpe|Hpe)}}var Vpe=qpe;function Kpe(e){return e}var Hu=Kpe;function Gpe(e){return function(t){return t==null?void 0:t[e]}}var Ype=Gpe,Xpe=mk;function Qpe(e){return function(t){return Xpe(t,e)}}var Jpe=Qpe,Zpe=Ype,eme=Jpe,tme=lk,nme=Ty;function rme(e){return tme(e)?Zpe(nme(e)):eme(e)}var ime=rme,ame=wpe,ome=Vpe,sme=Hu,lme=Cr,cme=ime;function ume(e){return typeof e=="function"?e:e==null?sme:typeof e=="object"?lme(e)?ome(e[0],e[1]):ame(e):cme(e)}var qu=ume;function dme(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var fme=dme;function hme(e){return e!==e}var pme=hme;function mme(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var gme=mme,vme=fme,yme=pme,xme=gme;function bme(e,t,n){return t===t?xme(e,t,n):vme(e,yme,n)}var wme=bme,_me=wme;function Sme(e,t){var n=e==null?0:e.length;return!!n&&_me(e,t,0)>-1}var jme=Sme;function kme(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var Cme=kme;function Eme(){}var Ame=Eme,q0=KB,Nme=Ame,Pme=kk,Tme=1/0,Ome=q0&&1/Pme(new q0([,-0]))[1]==Tme?function(e){return new q0(e)}:Nme,Ime=Ome,Rme=$B,Mme=jme,Dme=Cme,$me=FB,Lme=Ime,Fme=kk,Bme=200;function Ume(e,t,n){var r=-1,i=Mme,a=e.length,o=!0,s=[],c=s;if(n)o=!1,i=Dme;else if(a>=Bme){var u=t?null:Lme(e);if(u)return Fme(u);o=!1,i=$me,c=new Rme}else c=t?[]:s;e:for(;++r<a;){var f=e[r],d=t?t(f):f;if(f=n||f!==0?f:0,o&&d===d){for(var h=c.length;h--;)if(c[h]===d)continue e;t&&c.push(d),s.push(f)}else i(c,d,n)||(c!==s&&c.push(d),s.push(f))}return s}var zme=Ume,Wme=qu,Hme=zme;function qme(e,t){return e&&e.length?Hme(e,Wme(t)):[]}var Vme=qme;const cP=Nt(Vme);function JB(e,t,n){return t===!0?cP(e,n):st(t)?cP(e,t):e}function ru(e){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ru(e)}var Kme=["ref"];function uP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function va(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uP(Object(n),!0).forEach(function(r){Gy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,e5(r.key),r)}}function Yme(e,t,n){return t&&dP(e.prototype,t),n&&dP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xme(e,t,n){return t=Ng(t),Qme(e,ZB()?Reflect.construct(t,n||[],Ng(e).constructor):t.apply(e,n))}function Qme(e,t){if(t&&(ru(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jme(e)}function Jme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZB=function(){return!!e})()}function Ng(e){return Ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ng(e)}function Zme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D1(e,t)}function D1(e,t){return D1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},D1(e,t)}function Gy(e,t,n){return t=e5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e5(e){var t=ege(e,"string");return ru(t)=="symbol"?t:t+""}function ege(e,t){if(ru(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tge(e,t){if(e==null)return{};var n=nge(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function nge(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function rge(e){return e.value}function ige(e,t){if(H.isValidElement(e))return H.cloneElement(e,t);if(typeof e=="function")return H.createElement(e,t);t.ref;var n=tge(t,Kme);return H.createElement(jk,n)}var fP=1,Ji=function(e){function t(){var n;Gme(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Xme(this,t,[].concat(i)),Gy(n,"lastBoundingBox",{width:-1,height:-1}),n}return Zme(t,e),Yme(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>fP||Math.abs(i.height-this.lastBoundingBox.height)>fP)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?va({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,c=i.margin,u=i.chartWidth,f=i.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();d={left:((u||0)-p.width)/2}}else d=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();h={top:((f||0)-m.height)/2}}else h=s==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return va(va({},d),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,f=i.payload,d=va(va({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(c)),c);return H.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){r.wrapperNode=p}},ige(a,va(va({},this.props),{},{payload:JB(f,u,rge)})))}}],[{key:"getWithHeight",value:function(r,i){var a=va(va({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&Ee(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(g.PureComponent);Gy(Ji,"displayName","Legend");Gy(Ji,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var hP=Hh,age=Ck,oge=Cr,pP=hP?hP.isConcatSpreadable:void 0;function sge(e){return oge(e)||age(e)||!!(pP&&e&&e[pP])}var lge=sge,cge=UB,uge=lge;function t5(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=uge),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?t5(s,t-1,n,r,i):cge(i,s):r||(i[i.length]=s)}return i}var n5=t5;function dge(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var c=o[e?s:++i];if(n(a[c],c,a)===!1)break}return t}}var fge=dge,hge=fge,pge=hge(),mge=pge,gge=mge,vge=Nk;function yge(e,t){return e&&gge(e,t,vge)}var r5=yge,xge=Ky;function bge(e,t){return function(n,r){if(n==null)return n;if(!xge(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var wge=bge,_ge=r5,Sge=wge,jge=Sge(_ge),Tk=jge,kge=Tk,Cge=Ky;function Ege(e,t){var n=-1,r=Cge(e)?Array(e.length):[];return kge(e,function(i,a,o){r[++n]=t(i,a,o)}),r}var i5=Ege;function Age(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var Nge=Age,mP=$u;function Pge(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,a=mP(e),o=t!==void 0,s=t===null,c=t===t,u=mP(t);if(!s&&!u&&!a&&e>t||a&&o&&c&&!s&&!u||r&&o&&c||!n&&c||!i)return 1;if(!r&&!a&&!u&&e<t||u&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!c)return-1}return 0}var Tge=Pge,Oge=Tge;function Ige(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;++r<o;){var c=Oge(i[r],a[r]);if(c){if(r>=s)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Rge=Ige,V0=pk,Mge=mk,Dge=qu,$ge=i5,Lge=Nge,Fge=HB,Bge=Rge,Uge=Hu,zge=Cr;function Wge(e,t,n){t.length?t=V0(t,function(a){return zge(a)?function(o){return Mge(o,a.length===1?a[0]:a)}:a}):t=[Uge];var r=-1;t=V0(t,Fge(Dge));var i=$ge(e,function(a,o,s){var c=V0(t,function(u){return u(a)});return{criteria:c,index:++r,value:a}});return Lge(i,function(a,o){return Bge(a,o,n)})}var Hge=Wge;function qge(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Vge=qge,Kge=Vge,gP=Math.max;function Gge(e,t,n){return t=gP(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=gP(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),Kge(e,this,s)}}var Yge=Gge;function Xge(e){return function(){return e}}var Qge=Xge,Jge=yl,Zge=function(){try{var e=Jge(Object,"defineProperty");return e({},"",{}),e}catch{}}(),a5=Zge,eve=Qge,vP=a5,tve=Hu,nve=vP?function(e,t){return vP(e,"toString",{configurable:!0,enumerable:!1,value:eve(t),writable:!0})}:tve,rve=nve,ive=800,ave=16,ove=Date.now;function sve(e){var t=0,n=0;return function(){var r=ove(),i=ave-(r-n);if(n=r,i>0){if(++t>=ive)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var lve=sve,cve=rve,uve=lve,dve=uve(cve),fve=dve,hve=Hu,pve=Yge,mve=fve;function gve(e,t){return mve(pve(e,t,hve),e+"")}var vve=gve,yve=uk,xve=Ky,bve=Ek,wve=os;function _ve(e,t,n){if(!wve(n))return!1;var r=typeof t;return(r=="number"?xve(n)&&bve(t,n.length):r=="string"&&t in n)?yve(n[t],e):!1}var Yy=_ve,Sve=n5,jve=Hge,kve=vve,yP=Yy,Cve=kve(function(e,t){if(e==null)return[];var n=t.length;return n>1&&yP(e,t[0],t[1])?t=[]:n>2&&yP(t[0],t[1],t[2])&&(t=[t[0]]),jve(e,Sve(t,1),[])}),Eve=Cve;const Ok=Nt(Eve);function Df(e){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Df(e)}function $1(){return $1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$1.apply(this,arguments)}function Ave(e,t){return Ove(e)||Tve(e,t)||Pve(e,t)||Nve()}function Nve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pve(e,t){if(e){if(typeof e=="string")return xP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xP(e,t)}}function xP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tve(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Ove(e){if(Array.isArray(e))return e}function bP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function K0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bP(Object(n),!0).forEach(function(r){Ive(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ive(e,t,n){return t=Rve(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rve(e){var t=Mve(e,"string");return Df(t)=="symbol"?t:t+""}function Mve(e,t){if(Df(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dve(e){return Array.isArray(e)&&jn(e[0])&&jn(e[1])?e.join(" ~ "):e}var $ve=function(t){var n=t.separator,r=n===void 0?" : ":n,i=t.contentStyle,a=i===void 0?{}:i,o=t.itemStyle,s=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,f=t.payload,d=t.formatter,h=t.itemSorter,p=t.wrapperClassName,m=t.labelClassName,v=t.label,y=t.labelFormatter,x=t.accessibilityLayer,w=x===void 0?!1:x,b=function(){if(f&&f.length){var I={padding:0,margin:0},M=(h?Ok(f,h):f).map(function(L,z){if(L.type==="none")return null;var F=K0({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},s),B=L.formatter||d||Dve,D=L.value,$=L.name,P=D,R=$;if(B&&P!=null&&R!=null){var T=B(D,$,L,z,f);if(Array.isArray(T)){var C=Ave(T,2);P=C[0],R=C[1]}else P=T}return H.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:F},jn(R)?H.createElement("span",{className:"recharts-tooltip-item-name"},R):null,jn(R)?H.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,H.createElement("span",{className:"recharts-tooltip-item-value"},P),H.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return H.createElement("ul",{className:"recharts-tooltip-item-list",style:I},M)}return null},j=K0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),_=K0({margin:0},u),S=!bt(v),k=S?v:"",E=pt("recharts-default-tooltip",p),O=pt("recharts-tooltip-label",m);S&&y&&f!==void 0&&f!==null&&(k=y(v,f));var N=w?{role:"status","aria-live":"assertive"}:{};return H.createElement("div",$1({className:E,style:j},N),H.createElement("p",{className:O,style:_},H.isValidElement(k)?k:"".concat(k)),b())};function $f(e){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$f(e)}function Mp(e,t,n){return t=Lve(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lve(e){var t=Fve(e,"string");return $f(t)=="symbol"?t:t+""}function Fve(e,t){if($f(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if($f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fd="recharts-tooltip-wrapper",Bve={visibility:"hidden"};function Uve(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return pt(fd,Mp(Mp(Mp(Mp({},"".concat(fd,"-right"),Ee(n)&&t&&Ee(t.x)&&n>=t.x),"".concat(fd,"-left"),Ee(n)&&t&&Ee(t.x)&&n<t.x),"".concat(fd,"-bottom"),Ee(r)&&t&&Ee(t.y)&&r>=t.y),"".concat(fd,"-top"),Ee(r)&&t&&Ee(t.y)&&r<t.y))}function wP(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,a=e.position,o=e.reverseDirection,s=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(a&&Ee(a[r]))return a[r];var f=n[r]-s-i,d=n[r]+i;if(t[r])return o[r]?f:d;if(o[r]){var h=f,p=c[r];return h<p?Math.max(d,c[r]):Math.max(f,c[r])}var m=d+s,v=c[r]+u;return m>v?Math.max(f,c[r]):Math.max(d,c[r])}function zve(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Wve(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,i=e.position,a=e.reverseDirection,o=e.tooltipBox,s=e.useTranslate3d,c=e.viewBox,u,f,d;return o.height>0&&o.width>0&&n?(f=wP({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),d=wP({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=zve({translateX:f,translateY:d,useTranslate3d:s})):u=Bve,{cssProperties:u,cssClasses:Uve({translateX:f,translateY:d,coordinate:n})}}function iu(e){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iu(e)}function _P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function SP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_P(Object(n),!0).forEach(function(r){F1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_P(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s5(r.key),r)}}function Vve(e,t,n){return t&&qve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kve(e,t,n){return t=Pg(t),Gve(e,o5()?Reflect.construct(t,n||[],Pg(e).constructor):t.apply(e,n))}function Gve(e,t){if(t&&(iu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yve(e)}function Yve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o5=function(){return!!e})()}function Pg(e){return Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pg(e)}function Xve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L1(e,t)}function L1(e,t){return L1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},L1(e,t)}function F1(e,t,n){return t=s5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s5(e){var t=Qve(e,"string");return iu(t)=="symbol"?t:t+""}function Qve(e,t){if(iu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jP=1,Jve=function(e){function t(){var n;Hve(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Kve(this,t,[].concat(i)),F1(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),F1(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,c,u,f;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&s!==void 0?s:0,y:(u=(f=n.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),n}return Xve(t,e),Vve(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>jP||Math.abs(r.height-this.state.lastBoundingBox.height)>jP)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,c=i.animationEasing,u=i.children,f=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,p=i.offset,m=i.position,v=i.reverseDirection,y=i.useTranslate3d,x=i.viewBox,w=i.wrapperStyle,b=Wve({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:p,position:m,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:x}),j=b.cssClasses,_=b.cssProperties,S=SP(SP({transition:h&&a?"transform ".concat(s,"ms ").concat(c):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},w);return H.createElement("div",{tabIndex:-1,className:j,style:S,ref:function(E){r.wrapperNode=E}},u)}}])}(g.PureComponent),Zve=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Fo={isSsr:Zve(),get:function(t){return Fo[t]},set:function(t,n){if(typeof t=="string")Fo[t]=n;else{var r=Object.keys(t);r&&r.length&&r.forEach(function(i){Fo[i]=t[i]})}}};function au(e){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(e)}function kP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function CP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kP(Object(n),!0).forEach(function(r){Ik(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c5(r.key),r)}}function nye(e,t,n){return t&&tye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rye(e,t,n){return t=Tg(t),iye(e,l5()?Reflect.construct(t,n||[],Tg(e).constructor):t.apply(e,n))}function iye(e,t){if(t&&(au(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aye(e)}function aye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l5=function(){return!!e})()}function Tg(e){return Tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tg(e)}function oye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B1(e,t)}function B1(e,t){return B1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},B1(e,t)}function Ik(e,t,n){return t=c5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c5(e){var t=sye(e,"string");return au(t)=="symbol"?t:t+""}function sye(e,t){if(au(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lye(e){return e.dataKey}function cye(e,t){return H.isValidElement(e)?H.cloneElement(e,t):typeof e=="function"?H.createElement(e,t):H.createElement($ve,t)}var er=function(e){function t(){return eye(this,t),rye(this,t,arguments)}return oye(t,e),nye(t,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,c=i.animationEasing,u=i.content,f=i.coordinate,d=i.filterNull,h=i.isAnimationActive,p=i.offset,m=i.payload,v=i.payloadUniqBy,y=i.position,x=i.reverseDirection,w=i.useTranslate3d,b=i.viewBox,j=i.wrapperStyle,_=m??[];d&&_.length&&(_=JB(m.filter(function(k){return k.value!=null&&(k.hide!==!0||r.props.includeHidden)}),v,lye));var S=_.length>0;return H.createElement(Jve,{allowEscapeViewBox:o,animationDuration:s,animationEasing:c,isAnimationActive:h,active:a,coordinate:f,hasPayload:S,offset:p,position:y,reverseDirection:x,useTranslate3d:w,viewBox:b,wrapperStyle:j},cye(u,CP(CP({},this.props),{},{payload:_})))}}])}(g.PureComponent);Ik(er,"displayName","Tooltip");Ik(er,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Fo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var uye=fa,dye=function(){return uye.Date.now()},fye=dye,hye=/\s/;function pye(e){for(var t=e.length;t--&&hye.test(e.charAt(t)););return t}var mye=pye,gye=mye,vye=/^\s+/;function yye(e){return e&&e.slice(0,gye(e)+1).replace(vye,"")}var xye=yye,bye=xye,EP=os,wye=$u,AP=NaN,_ye=/^[-+]0x[0-9a-f]+$/i,Sye=/^0b[01]+$/i,jye=/^0o[0-7]+$/i,kye=parseInt;function Cye(e){if(typeof e=="number")return e;if(wye(e))return AP;if(EP(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=EP(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=bye(e);var n=Sye.test(e);return n||jye.test(e)?kye(e.slice(2),n?2:8):_ye.test(e)?AP:+e}var u5=Cye,Eye=os,G0=fye,NP=u5,Aye="Expected a function",Nye=Math.max,Pye=Math.min;function Tye(e,t,n){var r,i,a,o,s,c,u=0,f=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(Aye);t=NP(t)||0,Eye(n)&&(f=!!n.leading,d="maxWait"in n,a=d?Nye(NP(n.maxWait)||0,t):a,h="trailing"in n?!!n.trailing:h);function p(S){var k=r,E=i;return r=i=void 0,u=S,o=e.apply(E,k),o}function m(S){return u=S,s=setTimeout(x,t),f?p(S):o}function v(S){var k=S-c,E=S-u,O=t-k;return d?Pye(O,a-E):O}function y(S){var k=S-c,E=S-u;return c===void 0||k>=t||k<0||d&&E>=a}function x(){var S=G0();if(y(S))return w(S);s=setTimeout(x,v(S))}function w(S){return s=void 0,h&&r?p(S):(r=i=void 0,o)}function b(){s!==void 0&&clearTimeout(s),u=0,r=c=i=s=void 0}function j(){return s===void 0?o:w(G0())}function _(){var S=G0(),k=y(S);if(r=arguments,i=this,c=S,k){if(s===void 0)return m(c);if(d)return clearTimeout(s),s=setTimeout(x,t),p(c)}return s===void 0&&(s=setTimeout(x,t)),o}return _.cancel=b,_.flush=j,_}var Oye=Tye,Iye=Oye,Rye=os,Mye="Expected a function";function Dye(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(Mye);return Rye(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Iye(e,t,{leading:r,maxWait:t,trailing:i})}var $ye=Dye;const d5=Nt($ye);function Lf(e){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lf(e)}function PP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PP(Object(n),!0).forEach(function(r){Lye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lye(e,t,n){return t=Fye(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fye(e){var t=Bye(e,"string");return Lf(t)=="symbol"?t:t+""}function Bye(e,t){if(Lf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uye(e,t){return qye(e)||Hye(e,t)||Wye(e,t)||zye()}function zye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wye(e,t){if(e){if(typeof e=="string")return TP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TP(e,t)}}function TP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hye(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function qye(e){if(Array.isArray(e))return e}var Rl=g.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=e.width,o=a===void 0?"100%":a,s=e.height,c=s===void 0?"100%":s,u=e.minWidth,f=u===void 0?0:u,d=e.minHeight,h=e.maxHeight,p=e.children,m=e.debounce,v=m===void 0?0:m,y=e.id,x=e.className,w=e.onResize,b=e.style,j=b===void 0?{}:b,_=g.useRef(null),S=g.useRef();S.current=w,g.useImperativeHandle(t,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var k=g.useState({containerWidth:i.width,containerHeight:i.height}),E=Uye(k,2),O=E[0],N=E[1],A=g.useCallback(function(M,L){N(function(z){var F=Math.round(M),B=Math.round(L);return z.containerWidth===F&&z.containerHeight===B?z:{containerWidth:F,containerHeight:B}})},[]);g.useEffect(function(){var M=function($){var P,R=$[0].contentRect,T=R.width,C=R.height;A(T,C),(P=S.current)===null||P===void 0||P.call(S,T,C)};v>0&&(M=d5(M,v,{trailing:!0,leading:!1}));var L=new ResizeObserver(M),z=_.current.getBoundingClientRect(),F=z.width,B=z.height;return A(F,B),L.observe(_.current),function(){L.disconnect()}},[A,v]);var I=g.useMemo(function(){var M=O.containerWidth,L=O.containerHeight;if(M<0||L<0)return null;Us(Ns(o)||Ns(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Us(!n||n>0,"The aspect(%s) must be greater than zero.",n);var z=Ns(o)?M:o,F=Ns(c)?L:c;n&&n>0&&(z?F=z/n:F&&(z=F*n),h&&F>h&&(F=h)),Us(z>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,F,o,c,f,d,n);var B=!Array.isArray(p)&&Ra(p.type).endsWith("Chart");return H.Children.map(p,function(D){return H.isValidElement(D)?g.cloneElement(D,Dp({width:z,height:F},B?{style:Dp({height:"100%",width:"100%",maxHeight:F,maxWidth:z},D.props.style)}:{})):D})},[n,p,c,h,d,f,O,o]);return H.createElement("div",{id:y?"".concat(y):void 0,className:pt("recharts-responsive-container",x),style:Dp(Dp({},j),{},{width:o,height:c,minWidth:f,minHeight:d,maxHeight:h}),ref:_},I)}),f5=function(t){return null};f5.displayName="Cell";function Ff(e){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ff(e)}function OP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function U1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(n),!0).forEach(function(r){Vye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vye(e,t,n){return t=Kye(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kye(e){var t=Gye(e,"string");return Ff(t)=="symbol"?t:t+""}function Gye(e,t){if(Ff(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ml={widthCache:{},cacheCount:0},Yye=2e3,Xye={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},IP="recharts_measurement_span";function Qye(e){var t=U1({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var Kd=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Fo.isSsr)return{width:0,height:0};var r=Qye(n),i=JSON.stringify({text:t,copyStyle:r});if(Ml.widthCache[i])return Ml.widthCache[i];try{var a=document.getElementById(IP);a||(a=document.createElement("span"),a.setAttribute("id",IP),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=U1(U1({},Xye),r);Object.assign(a.style,o),a.textContent="".concat(t);var s=a.getBoundingClientRect(),c={width:s.width,height:s.height};return Ml.widthCache[i]=c,++Ml.cacheCount>Yye&&(Ml.cacheCount=0,Ml.widthCache={}),c}catch{return{width:0,height:0}}},Jye=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Bf(e){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bf(e)}function Og(e,t){return nxe(e)||txe(e,t)||exe(e,t)||Zye()}function Zye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function exe(e,t){if(e){if(typeof e=="string")return RP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RP(e,t)}}function RP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function txe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function nxe(e){if(Array.isArray(e))return e}function rxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,axe(r.key),r)}}function ixe(e,t,n){return t&&MP(e.prototype,t),n&&MP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function axe(e){var t=oxe(e,"string");return Bf(t)=="symbol"?t:t+""}function oxe(e,t){if(Bf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var DP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$P=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sxe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,lxe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,h5={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},cxe=Object.keys(h5),ac="NaN";function uxe(e,t){return e*h5[t]}var $p=function(){function e(t,n){rxe(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!sxe.test(n)&&(this.num=NaN,this.unit=""),cxe.includes(n)&&(this.num=uxe(t,n),this.unit="px")}return ixe(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=lxe.exec(n))!==null&&r!==void 0?r:[],a=Og(i,3),o=a[1],s=a[2];return new e(parseFloat(o),s??"")}}])}();function p5(e){if(e.includes(ac))return ac;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=DP.exec(t))!==null&&n!==void 0?n:[],i=Og(r,4),a=i[1],o=i[2],s=i[3],c=$p.parse(a??""),u=$p.parse(s??""),f=o==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return ac;t=t.replace(DP,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,h=(d=$P.exec(t))!==null&&d!==void 0?d:[],p=Og(h,4),m=p[1],v=p[2],y=p[3],x=$p.parse(m??""),w=$p.parse(y??""),b=v==="+"?x.add(w):x.subtract(w);if(b.isNaN())return ac;t=t.replace($P,b.toString())}return t}var LP=/\(([^()]*)\)/;function dxe(e){for(var t=e;t.includes("(");){var n=LP.exec(t),r=Og(n,2),i=r[1];t=t.replace(LP,p5(i))}return t}function fxe(e){var t=e.replace(/\s+/g,"");return t=dxe(t),t=p5(t),t}function hxe(e){try{return fxe(e)}catch{return ac}}function Y0(e){var t=hxe(e.slice(5,-1));return t===ac?"":t}var pxe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],mxe=["dx","dy","angle","className","breakAll"];function z1(){return z1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z1.apply(this,arguments)}function FP(e,t){if(e==null)return{};var n=gxe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function gxe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function BP(e,t){return bxe(e)||xxe(e,t)||yxe(e,t)||vxe()}function vxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yxe(e,t){if(e){if(typeof e=="string")return UP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UP(e,t)}}function UP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xxe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function bxe(e){if(Array.isArray(e))return e}var m5=/[ \f\n\r\t\v\u2028\u2029]+/,g5=function(t){var n=t.children,r=t.breakAll,i=t.style;try{var a=[];bt(n)||(r?a=n.toString().split(""):a=n.toString().split(m5));var o=a.map(function(c){return{word:c,width:Kd(c,i).width}}),s=r?0:Kd(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},wxe=function(t,n,r,i,a){var o=t.maxLines,s=t.children,c=t.style,u=t.breakAll,f=Ee(o),d=s,h=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function(F,B){var D=B.word,$=B.width,P=F[F.length-1];if(P&&(i==null||a||P.width+$+r<Number(i)))P.words.push(D),P.width+=$+r;else{var R={words:[D],width:$};F.push(R)}return F},[])},p=h(n),m=function(z){return z.reduce(function(F,B){return F.width>B.width?F:B})};if(!f)return p;for(var v="…",y=function(z){var F=d.slice(0,z),B=g5({breakAll:u,style:c,children:F+v}).wordsWithComputedWidth,D=h(B),$=D.length>o||m(D).width>Number(i);return[$,D]},x=0,w=d.length-1,b=0,j;x<=w&&b<=d.length-1;){var _=Math.floor((x+w)/2),S=_-1,k=y(S),E=BP(k,2),O=E[0],N=E[1],A=y(_),I=BP(A,1),M=I[0];if(!O&&!M&&(x=_+1),O&&M&&(w=_-1),!O&&M){j=N;break}b++}return j||p},zP=function(t){var n=bt(t)?[]:t.toString().split(m5);return[{words:n}]},_xe=function(t){var n=t.width,r=t.scaleToFit,i=t.children,a=t.style,o=t.breakAll,s=t.maxLines;if((n||r)&&!Fo.isSsr){var c,u,f=g5({breakAll:o,children:i,style:a});if(f){var d=f.wordsWithComputedWidth,h=f.spaceWidth;c=d,u=h}else return zP(i);return wxe({breakAll:o,children:i,maxLines:s,style:a},c,u,n,r)}return zP(i)},WP="#808080",Ig=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.lineHeight,s=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,f=t.scaleToFit,d=f===void 0?!1:f,h=t.textAnchor,p=h===void 0?"start":h,m=t.verticalAnchor,v=m===void 0?"end":m,y=t.fill,x=y===void 0?WP:y,w=FP(t,pxe),b=g.useMemo(function(){return _xe({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:d,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,d,w.style,w.width]),j=w.dx,_=w.dy,S=w.angle,k=w.className,E=w.breakAll,O=FP(w,mxe);if(!jn(r)||!jn(a))return null;var N=r+(Ee(j)?j:0),A=a+(Ee(_)?_:0),I;switch(v){case"start":I=Y0("calc(".concat(u,")"));break;case"middle":I=Y0("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:I=Y0("calc(".concat(b.length-1," * -").concat(s,")"));break}var M=[];if(d){var L=b[0].width,z=w.width;M.push("scale(".concat((Ee(z)?z/L:1)/L,")"))}return S&&M.push("rotate(".concat(S,", ").concat(N,", ").concat(A,")")),M.length&&(O.transform=M.join(" ")),H.createElement("text",z1({},St(O,!0),{x:N,y:A,className:pt("recharts-text",k),textAnchor:p,fill:x.includes("url")?WP:x}),b.map(function(F,B){var D=F.words.join(E?"":" ");return H.createElement("tspan",{x:N,dy:B===0?I:s,key:"".concat(D,"-").concat(B)},D)}))};function Bo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Sxe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Rk(e){let t,n,r;e.length!==2?(t=Bo,n=(s,c)=>Bo(e(s),c),r=(s,c)=>e(s)-c):(t=e===Bo||e===Sxe?e:jxe,n=e,r=e);function i(s,c,u=0,f=s.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;n(s[d],c)<0?u=d+1:f=d}while(u<f)}return u}function a(s,c,u=0,f=s.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;n(s[d],c)<=0?u=d+1:f=d}while(u<f)}return u}function o(s,c,u=0,f=s.length){const d=i(s,c,u,f-1);return d>u&&r(s[d-1],c)>-r(s[d],c)?d-1:d}return{left:i,center:o,right:a}}function jxe(){return 0}function v5(e){return e===null?NaN:+e}function*kxe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Cxe=Rk(Bo),Vh=Cxe.right;Rk(v5).center;class HP extends Map{constructor(t,n=Nxe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(qP(this,t))}has(t){return super.has(qP(this,t))}set(t,n){return super.set(Exe(this,t),n)}delete(t){return super.delete(Axe(this,t))}}function qP({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Exe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Axe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Nxe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Pxe(e=Bo){if(e===Bo)return y5;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function y5(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Txe=Math.sqrt(50),Oxe=Math.sqrt(10),Ixe=Math.sqrt(2);function Rg(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Txe?10:a>=Oxe?5:a>=Ixe?2:1;let s,c,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(e*u),c=Math.round(t*u),s/u<e&&++s,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*o,s=Math.round(e/u),c=Math.round(t/u),s*u<e&&++s,c*u>t&&--c),c<s&&.5<=n&&n<2?Rg(e,t,n*2):[s,c,u]}function W1(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?Rg(t,e,n):Rg(e,t,n);if(!(a>=i))return[];const s=a-i+1,c=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)c[u]=(a-u)/-o;else for(let u=0;u<s;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)c[u]=(i+u)/-o;else for(let u=0;u<s;++u)c[u]=(i+u)*o;return c}function H1(e,t,n){return t=+t,e=+e,n=+n,Rg(e,t,n)[2]}function q1(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?H1(t,e,n):H1(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function VP(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function KP(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function x5(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?y5:Pxe(i);r>n;){if(r-n>600){const c=r-n+1,u=t-n+1,f=Math.log(c),d=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*d*(c-d)/c)*(u-c/2<0?-1:1),p=Math.max(n,Math.floor(t-u*d/c+h)),m=Math.min(r,Math.floor(t+(c-u)*d/c+h));x5(e,t,p,m,i)}const a=e[t];let o=n,s=r;for(hd(e,n,t),i(e[r],a)>0&&hd(e,n,r);o<s;){for(hd(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[n],a)===0?hd(e,n,s):(++s,hd(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function hd(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Rxe(e,t,n){if(e=Float64Array.from(kxe(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return KP(e);if(t>=1)return VP(e);var r,i=(r-1)*t,a=Math.floor(i),o=VP(x5(e,a).subarray(0,a+1)),s=KP(e.subarray(a+1));return o+(s-o)*(i-a)}}function Mxe(e,t,n=v5){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),s=+n(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function Dxe(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function li(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function eo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const V1=Symbol("implicit");function Mk(){var e=new HP,t=[],n=[],r=V1;function i(a){let o=e.get(a);if(o===void 0){if(r!==V1)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new HP;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Mk(t,n).unknown(r)},li.apply(i,arguments),i}function Uf(){var e=Mk().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,s=!1,c=0,u=0,f=.5;delete e.unknown;function d(){var h=t().length,p=i<r,m=p?i:r,v=p?r:i;a=(v-m)/Math.max(1,h-c+u*2),s&&(a=Math.floor(a)),m+=(v-m-a*(h-c))*f,o=a*(1-c),s&&(m=Math.round(m),o=Math.round(o));var y=Dxe(h).map(function(x){return m+a*x});return n(p?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,d()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(h){return arguments.length?(s=!!h,d()):s},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),d()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),d()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),d()):f},e.copy=function(){return Uf(t(),[r,i]).round(s).paddingInner(c).paddingOuter(u).align(f)},li.apply(d(),arguments)}function b5(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return b5(t())},e}function Gd(){return b5(Uf.apply(null,arguments).paddingInner(1))}function Dk(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function w5(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Kh(){}var zf=.7,Mg=1/zf,jc="\\s*([+-]?\\d+)\\s*",Wf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ra="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$xe=/^#([0-9a-f]{3,8})$/,Lxe=new RegExp(`^rgb\\(${jc},${jc},${jc}\\)$`),Fxe=new RegExp(`^rgb\\(${ra},${ra},${ra}\\)$`),Bxe=new RegExp(`^rgba\\(${jc},${jc},${jc},${Wf}\\)$`),Uxe=new RegExp(`^rgba\\(${ra},${ra},${ra},${Wf}\\)$`),zxe=new RegExp(`^hsl\\(${Wf},${ra},${ra}\\)$`),Wxe=new RegExp(`^hsla\\(${Wf},${ra},${ra},${Wf}\\)$`),GP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Dk(Kh,Hf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:YP,formatHex:YP,formatHex8:Hxe,formatHsl:qxe,formatRgb:XP,toString:XP});function YP(){return this.rgb().formatHex()}function Hxe(){return this.rgb().formatHex8()}function qxe(){return _5(this).formatHsl()}function XP(){return this.rgb().formatRgb()}function Hf(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=$xe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?QP(t):n===3?new br(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Lp(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Lp(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Lxe.exec(e))?new br(t[1],t[2],t[3],1):(t=Fxe.exec(e))?new br(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Bxe.exec(e))?Lp(t[1],t[2],t[3],t[4]):(t=Uxe.exec(e))?Lp(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=zxe.exec(e))?eT(t[1],t[2]/100,t[3]/100,1):(t=Wxe.exec(e))?eT(t[1],t[2]/100,t[3]/100,t[4]):GP.hasOwnProperty(e)?QP(GP[e]):e==="transparent"?new br(NaN,NaN,NaN,0):null}function QP(e){return new br(e>>16&255,e>>8&255,e&255,1)}function Lp(e,t,n,r){return r<=0&&(e=t=n=NaN),new br(e,t,n,r)}function Vxe(e){return e instanceof Kh||(e=Hf(e)),e?(e=e.rgb(),new br(e.r,e.g,e.b,e.opacity)):new br}function K1(e,t,n,r){return arguments.length===1?Vxe(e):new br(e,t,n,r??1)}function br(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Dk(br,K1,w5(Kh,{brighter(e){return e=e==null?Mg:Math.pow(Mg,e),new br(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?zf:Math.pow(zf,e),new br(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new br(zs(this.r),zs(this.g),zs(this.b),Dg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:JP,formatHex:JP,formatHex8:Kxe,formatRgb:ZP,toString:ZP}));function JP(){return`#${Ps(this.r)}${Ps(this.g)}${Ps(this.b)}`}function Kxe(){return`#${Ps(this.r)}${Ps(this.g)}${Ps(this.b)}${Ps((isNaN(this.opacity)?1:this.opacity)*255)}`}function ZP(){const e=Dg(this.opacity);return`${e===1?"rgb(":"rgba("}${zs(this.r)}, ${zs(this.g)}, ${zs(this.b)}${e===1?")":`, ${e})`}`}function Dg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function zs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ps(e){return e=zs(e),(e<16?"0":"")+e.toString(16)}function eT(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ji(e,t,n,r)}function _5(e){if(e instanceof ji)return new ji(e.h,e.s,e.l,e.opacity);if(e instanceof Kh||(e=Hf(e)),!e)return new ji;if(e instanceof ji)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,c=(a+i)/2;return s?(t===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-t)/s+2:o=(t-n)/s+4,s/=c<.5?a+i:2-a-i,o*=60):s=c>0&&c<1?0:o,new ji(o,s,c,e.opacity)}function Gxe(e,t,n,r){return arguments.length===1?_5(e):new ji(e,t,n,r??1)}function ji(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Dk(ji,Gxe,w5(Kh,{brighter(e){return e=e==null?Mg:Math.pow(Mg,e),new ji(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?zf:Math.pow(zf,e),new ji(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new br(X0(e>=240?e-240:e+120,i,r),X0(e,i,r),X0(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new ji(tT(this.h),Fp(this.s),Fp(this.l),Dg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Dg(this.opacity);return`${e===1?"hsl(":"hsla("}${tT(this.h)}, ${Fp(this.s)*100}%, ${Fp(this.l)*100}%${e===1?")":`, ${e})`}`}}));function tT(e){return e=(e||0)%360,e<0?e+360:e}function Fp(e){return Math.max(0,Math.min(1,e||0))}function X0(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const $k=e=>()=>e;function Yxe(e,t){return function(n){return e+n*t}}function Xxe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Qxe(e){return(e=+e)==1?S5:function(t,n){return n-t?Xxe(t,n,e):$k(isNaN(t)?n:t)}}function S5(e,t){var n=t-e;return n?Yxe(e,n):$k(isNaN(e)?t:e)}const nT=function e(t){var n=Qxe(t);function r(i,a){var o=n((i=K1(i)).r,(a=K1(a)).r),s=n(i.g,a.g),c=n(i.b,a.b),u=S5(i.opacity,a.opacity);return function(f){return i.r=o(f),i.g=s(f),i.b=c(f),i.opacity=u(f),i+""}}return r.gamma=e,r}(1);function Jxe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function Zxe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function e0e(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Vu(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function t0e(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function $g(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function n0e(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Vu(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var G1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Q0=new RegExp(G1.source,"g");function r0e(e){return function(){return e}}function i0e(e){return function(t){return e(t)+""}}function a0e(e,t){var n=G1.lastIndex=Q0.lastIndex=0,r,i,a,o=-1,s=[],c=[];for(e=e+"",t=t+"";(r=G1.exec(e))&&(i=Q0.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,c.push({i:o,x:$g(r,i)})),n=Q0.lastIndex;return n<t.length&&(a=t.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?c[0]?i0e(c[0].x):r0e(t):(t=c.length,function(u){for(var f=0,d;f<t;++f)s[(d=c[f]).i]=d.x(u);return s.join("")})}function Vu(e,t){var n=typeof t,r;return t==null||n==="boolean"?$k(t):(n==="number"?$g:n==="string"?(r=Hf(t))?(t=r,nT):a0e:t instanceof Hf?nT:t instanceof Date?t0e:Zxe(t)?Jxe:Array.isArray(t)?e0e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?n0e:$g)(e,t)}function Lk(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function o0e(e,t){t===void 0&&(t=e,e=Vu);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function s0e(e){return function(){return e}}function Lg(e){return+e}var rT=[0,1];function rr(e){return e}function Y1(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:s0e(isNaN(t)?NaN:.5)}function l0e(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function c0e(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=Y1(i,r),a=n(o,a)):(r=Y1(r,i),a=n(a,o)),function(s){return a(r(s))}}function u0e(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=Y1(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(s){var c=Vh(e,s,1,r)-1;return a[c](i[c](s))}}function Gh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Xy(){var e=rT,t=rT,n=Vu,r,i,a,o=rr,s,c,u;function f(){var h=Math.min(e.length,t.length);return o!==rr&&(o=l0e(e[0],e[h-1])),s=h>2?u0e:c0e,c=u=null,d}function d(h){return h==null||isNaN(h=+h)?a:(c||(c=s(e.map(r),t,n)))(r(o(h)))}return d.invert=function(h){return o(i((u||(u=s(t,e.map(r),$g)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,Lg),f()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),n=Lk,f()},d.clamp=function(h){return arguments.length?(o=h?!0:rr,f()):o!==rr},d.interpolate=function(h){return arguments.length?(n=h,f()):n},d.unknown=function(h){return arguments.length?(a=h,d):a},function(h,p){return r=h,i=p,f()}}function Fk(){return Xy()(rr,rr)}function d0e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Fg(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ou(e){return e=Fg(Math.abs(e)),e?e[1]:NaN}function f0e(e,t){return function(n,r){for(var i=n.length,a=[],o=0,s=e[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),a.push(n.substring(i-=s,i+s)),!((c+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function h0e(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var p0e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qf(e){if(!(t=p0e.exec(e)))throw new Error("invalid format: "+e);var t;return new Bk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}qf.prototype=Bk.prototype;function Bk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Bk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function m0e(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var j5;function g0e(e,t){var n=Fg(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(j5=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Fg(e,Math.max(0,t+a-1))[0]}function iT(e,t){var n=Fg(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const aT={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:d0e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>iT(e*100,t),r:iT,s:g0e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function oT(e){return e}var sT=Array.prototype.map,lT=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function v0e(e){var t=e.grouping===void 0||e.thousands===void 0?oT:f0e(sT.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?oT:h0e(sT.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(d){d=qf(d);var h=d.fill,p=d.align,m=d.sign,v=d.symbol,y=d.zero,x=d.width,w=d.comma,b=d.precision,j=d.trim,_=d.type;_==="n"?(w=!0,_="g"):aT[_]||(b===void 0&&(b=12),j=!0,_="g"),(y||h==="0"&&p==="=")&&(y=!0,h="0",p="=");var S=v==="$"?n:v==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",k=v==="$"?r:/[%p]/.test(_)?o:"",E=aT[_],O=/[defgprs%]/.test(_);b=b===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function N(A){var I=S,M=k,L,z,F;if(_==="c")M=E(A)+M,A="";else{A=+A;var B=A<0||1/A<0;if(A=isNaN(A)?c:E(Math.abs(A),b),j&&(A=m0e(A)),B&&+A==0&&m!=="+"&&(B=!1),I=(B?m==="("?m:s:m==="-"||m==="("?"":m)+I,M=(_==="s"?lT[8+j5/3]:"")+M+(B&&m==="("?")":""),O){for(L=-1,z=A.length;++L<z;)if(F=A.charCodeAt(L),48>F||F>57){M=(F===46?i+A.slice(L+1):A.slice(L))+M,A=A.slice(0,L);break}}}w&&!y&&(A=t(A,1/0));var D=I.length+A.length+M.length,$=D<x?new Array(x-D+1).join(h):"";switch(w&&y&&(A=t($+A,$.length?x-M.length:1/0),$=""),p){case"<":A=I+A+M+$;break;case"=":A=I+$+A+M;break;case"^":A=$.slice(0,D=$.length>>1)+I+A+M+$.slice(D);break;default:A=$+I+A+M;break}return a(A)}return N.toString=function(){return d+""},N}function f(d,h){var p=u((d=qf(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(ou(h)/3)))*3,v=Math.pow(10,-m),y=lT[8+m/3];return function(x){return p(v*x)+y}}return{format:u,formatPrefix:f}}var Bp,Uk,k5;y0e({thousands:",",grouping:[3],currency:["$",""]});function y0e(e){return Bp=v0e(e),Uk=Bp.format,k5=Bp.formatPrefix,Bp}function x0e(e){return Math.max(0,-ou(Math.abs(e)))}function b0e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ou(t)/3)))*3-ou(Math.abs(e)))}function w0e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ou(t)-ou(e))+1}function C5(e,t,n,r){var i=q1(e,t,n),a;switch(r=qf(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=b0e(i,o))&&(r.precision=a),k5(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=w0e(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=x0e(i))&&(r.precision=a-(r.type==="%")*2);break}}return Uk(r)}function ss(e){var t=e.domain;return e.ticks=function(n){var r=t();return W1(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return C5(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],s=r[a],c,u,f=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);f-- >0;){if(u=H1(o,s,n),u===c)return r[i]=o,r[a]=s,t(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;c=u}return e},e}function Bg(){var e=Fk();return e.copy=function(){return Gh(e,Bg())},li.apply(e,arguments),ss(e)}function E5(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Lg),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return E5(e).unknown(t)},e=arguments.length?Array.from(e,Lg):[0,1],ss(n)}function A5(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function cT(e){return Math.log(e)}function uT(e){return Math.exp(e)}function _0e(e){return-Math.log(-e)}function S0e(e){return-Math.exp(-e)}function j0e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function k0e(e){return e===10?j0e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function C0e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function dT(e){return(t,n)=>-e(-t,n)}function zk(e){const t=e(cT,uT),n=t.domain;let r=10,i,a;function o(){return i=C0e(r),a=k0e(r),n()[0]<0?(i=dT(i),a=dT(a),e(_0e,S0e)):e(cT,uT),t}return t.base=function(s){return arguments.length?(r=+s,o()):r},t.domain=function(s){return arguments.length?(n(s),o()):n()},t.ticks=s=>{const c=n();let u=c[0],f=c[c.length-1];const d=f<u;d&&([u,f]=[f,u]);let h=i(u),p=i(f),m,v;const y=s==null?10:+s;let x=[];if(!(r%1)&&p-h<y){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(m=1;m<r;++m)if(v=h<0?m/a(-h):m*a(h),!(v<u)){if(v>f)break;x.push(v)}}else for(;h<=p;++h)for(m=r-1;m>=1;--m)if(v=h>0?m/a(-h):m*a(h),!(v<u)){if(v>f)break;x.push(v)}x.length*2<y&&(x=W1(u,f,y))}else x=W1(h,p,Math.min(p-h,y)).map(a);return d?x.reverse():x},t.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=qf(c)).precision==null&&(c.trim=!0),c=Uk(c)),s===1/0)return c;const u=Math.max(1,r*s/t.ticks().length);return f=>{let d=f/a(Math.round(i(f)));return d*r<r-.5&&(d*=r),d<=u?c(f):""}},t.nice=()=>n(A5(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function N5(){const e=zk(Xy()).domain([1,10]);return e.copy=()=>Gh(e,N5()).base(e.base()),li.apply(e,arguments),e}function fT(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function hT(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Wk(e){var t=1,n=e(fT(t),hT(t));return n.constant=function(r){return arguments.length?e(fT(t=+r),hT(t)):t},ss(n)}function P5(){var e=Wk(Xy());return e.copy=function(){return Gh(e,P5()).constant(e.constant())},li.apply(e,arguments)}function pT(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function E0e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function A0e(e){return e<0?-e*e:e*e}function Hk(e){var t=e(rr,rr),n=1;function r(){return n===1?e(rr,rr):n===.5?e(E0e,A0e):e(pT(n),pT(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},ss(t)}function qk(){var e=Hk(Xy());return e.copy=function(){return Gh(e,qk()).exponent(e.exponent())},li.apply(e,arguments),e}function N0e(){return qk.apply(null,arguments).exponent(.5)}function mT(e){return Math.sign(e)*e*e}function P0e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function T5(){var e=Fk(),t=[0,1],n=!1,r;function i(a){var o=P0e(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(mT(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Lg)).map(mT)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return T5(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},li.apply(i,arguments),ss(i)}function O5(){var e=[],t=[],n=[],r;function i(){var o=0,s=Math.max(1,t.length);for(n=new Array(s-1);++o<s;)n[o-1]=Mxe(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:t[Vh(n,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Bo),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return O5().domain(e).range(t).unknown(r)},li.apply(a,arguments)}function I5(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[Vh(r,c,0,n)]:a}function s(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,s()):[e,t]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,s()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return I5().domain([e,t]).range(i).unknown(a)},li.apply(ss(o),arguments)}function R5(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Vh(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return R5().domain(e).range(t).unknown(n)},li.apply(i,arguments)}const J0=new Date,Z0=new Date;function En(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const c=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return c;let u;do c.push(u=new Date(+a)),t(a,s),e(a);while(u<a&&a<o);return c},i.filter=a=>En(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(J0.setTime(+a),Z0.setTime(+o),e(J0),e(Z0),Math.floor(n(J0,Z0))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Ug=En(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ug.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?En(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Ug);Ug.range;const Ta=1e3,Jr=Ta*60,Oa=Jr*60,qa=Oa*24,Vk=qa*7,gT=qa*30,eb=qa*365,Ts=En(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ta)},(e,t)=>(t-e)/Ta,e=>e.getUTCSeconds());Ts.range;const Kk=En(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ta)},(e,t)=>{e.setTime(+e+t*Jr)},(e,t)=>(t-e)/Jr,e=>e.getMinutes());Kk.range;const Gk=En(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Jr)},(e,t)=>(t-e)/Jr,e=>e.getUTCMinutes());Gk.range;const Yk=En(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ta-e.getMinutes()*Jr)},(e,t)=>{e.setTime(+e+t*Oa)},(e,t)=>(t-e)/Oa,e=>e.getHours());Yk.range;const Xk=En(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Oa)},(e,t)=>(t-e)/Oa,e=>e.getUTCHours());Xk.range;const Yh=En(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Jr)/qa,e=>e.getDate()-1);Yh.range;const Qy=En(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/qa,e=>e.getUTCDate()-1);Qy.range;const M5=En(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/qa,e=>Math.floor(e/qa));M5.range;function xl(e){return En(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Jr)/Vk)}const Jy=xl(0),zg=xl(1),T0e=xl(2),O0e=xl(3),su=xl(4),I0e=xl(5),R0e=xl(6);Jy.range;zg.range;T0e.range;O0e.range;su.range;I0e.range;R0e.range;function bl(e){return En(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Vk)}const Zy=bl(0),Wg=bl(1),M0e=bl(2),D0e=bl(3),lu=bl(4),$0e=bl(5),L0e=bl(6);Zy.range;Wg.range;M0e.range;D0e.range;lu.range;$0e.range;L0e.range;const Qk=En(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Qk.range;const Jk=En(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Jk.range;const Va=En(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Va.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:En(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Va.range;const Ka=En(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ka.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:En(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ka.range;function D5(e,t,n,r,i,a){const o=[[Ts,1,Ta],[Ts,5,5*Ta],[Ts,15,15*Ta],[Ts,30,30*Ta],[a,1,Jr],[a,5,5*Jr],[a,15,15*Jr],[a,30,30*Jr],[i,1,Oa],[i,3,3*Oa],[i,6,6*Oa],[i,12,12*Oa],[r,1,qa],[r,2,2*qa],[n,1,Vk],[t,1,gT],[t,3,3*gT],[e,1,eb]];function s(u,f,d){const h=f<u;h&&([u,f]=[f,u]);const p=d&&typeof d.range=="function"?d:c(u,f,d),m=p?p.range(u,+f+1):[];return h?m.reverse():m}function c(u,f,d){const h=Math.abs(f-u)/d,p=Rk(([,,y])=>y).right(o,h);if(p===o.length)return e.every(q1(u/eb,f/eb,d));if(p===0)return Ug.every(Math.max(q1(u,f,d),1));const[m,v]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return m.every(v)}return[s,c]}const[F0e,B0e]=D5(Ka,Jk,Zy,M5,Xk,Gk),[U0e,z0e]=D5(Va,Qk,Jy,Yh,Yk,Kk);function tb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function nb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function pd(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function W0e(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,c=e.shortMonths,u=md(i),f=gd(i),d=md(a),h=gd(a),p=md(o),m=gd(o),v=md(s),y=gd(s),x=md(c),w=gd(c),b={a:B,A:D,b:$,B:P,c:null,d:_T,e:_T,f:fbe,g:_be,G:jbe,H:cbe,I:ube,j:dbe,L:$5,m:hbe,M:pbe,p:R,q:T,Q:kT,s:CT,S:mbe,u:gbe,U:vbe,V:ybe,w:xbe,W:bbe,x:null,X:null,y:wbe,Y:Sbe,Z:kbe,"%":jT},j={a:C,A:U,b:G,B:ne,c:null,d:ST,e:ST,f:Nbe,g:Fbe,G:Ube,H:Cbe,I:Ebe,j:Abe,L:F5,m:Pbe,M:Tbe,p:q,q:J,Q:kT,s:CT,S:Obe,u:Ibe,U:Rbe,V:Mbe,w:Dbe,W:$be,x:null,X:null,y:Lbe,Y:Bbe,Z:zbe,"%":jT},_={a:N,A,b:I,B:M,c:L,d:bT,e:bT,f:abe,g:xT,G:yT,H:wT,I:wT,j:tbe,L:ibe,m:ebe,M:nbe,p:O,q:Z0e,Q:sbe,s:lbe,S:rbe,u:G0e,U:Y0e,V:X0e,w:K0e,W:Q0e,x:z,X:F,y:xT,Y:yT,Z:J0e,"%":obe};b.x=S(n,b),b.X=S(r,b),b.c=S(t,b),j.x=S(n,j),j.X=S(r,j),j.c=S(t,j);function S(K,re){return function(Z){var Y=[],he=-1,W=0,ee=K.length,fe,xe,Pe;for(Z instanceof Date||(Z=new Date(+Z));++he<ee;)K.charCodeAt(he)===37&&(Y.push(K.slice(W,he)),(xe=vT[fe=K.charAt(++he)])!=null?fe=K.charAt(++he):xe=fe==="e"?" ":"0",(Pe=re[fe])&&(fe=Pe(Z,xe)),Y.push(fe),W=he+1);return Y.push(K.slice(W,he)),Y.join("")}}function k(K,re){return function(Z){var Y=pd(1900,void 0,1),he=E(Y,K,Z+="",0),W,ee;if(he!=Z.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(re&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(W=nb(pd(Y.y,0,1)),ee=W.getUTCDay(),W=ee>4||ee===0?Wg.ceil(W):Wg(W),W=Qy.offset(W,(Y.V-1)*7),Y.y=W.getUTCFullYear(),Y.m=W.getUTCMonth(),Y.d=W.getUTCDate()+(Y.w+6)%7):(W=tb(pd(Y.y,0,1)),ee=W.getDay(),W=ee>4||ee===0?zg.ceil(W):zg(W),W=Yh.offset(W,(Y.V-1)*7),Y.y=W.getFullYear(),Y.m=W.getMonth(),Y.d=W.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),ee="Z"in Y?nb(pd(Y.y,0,1)).getUTCDay():tb(pd(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(ee+5)%7:Y.w+Y.U*7-(ee+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,nb(Y)):tb(Y)}}function E(K,re,Z,Y){for(var he=0,W=re.length,ee=Z.length,fe,xe;he<W;){if(Y>=ee)return-1;if(fe=re.charCodeAt(he++),fe===37){if(fe=re.charAt(he++),xe=_[fe in vT?re.charAt(he++):fe],!xe||(Y=xe(K,Z,Y))<0)return-1}else if(fe!=Z.charCodeAt(Y++))return-1}return Y}function O(K,re,Z){var Y=u.exec(re.slice(Z));return Y?(K.p=f.get(Y[0].toLowerCase()),Z+Y[0].length):-1}function N(K,re,Z){var Y=p.exec(re.slice(Z));return Y?(K.w=m.get(Y[0].toLowerCase()),Z+Y[0].length):-1}function A(K,re,Z){var Y=d.exec(re.slice(Z));return Y?(K.w=h.get(Y[0].toLowerCase()),Z+Y[0].length):-1}function I(K,re,Z){var Y=x.exec(re.slice(Z));return Y?(K.m=w.get(Y[0].toLowerCase()),Z+Y[0].length):-1}function M(K,re,Z){var Y=v.exec(re.slice(Z));return Y?(K.m=y.get(Y[0].toLowerCase()),Z+Y[0].length):-1}function L(K,re,Z){return E(K,t,re,Z)}function z(K,re,Z){return E(K,n,re,Z)}function F(K,re,Z){return E(K,r,re,Z)}function B(K){return o[K.getDay()]}function D(K){return a[K.getDay()]}function $(K){return c[K.getMonth()]}function P(K){return s[K.getMonth()]}function R(K){return i[+(K.getHours()>=12)]}function T(K){return 1+~~(K.getMonth()/3)}function C(K){return o[K.getUTCDay()]}function U(K){return a[K.getUTCDay()]}function G(K){return c[K.getUTCMonth()]}function ne(K){return s[K.getUTCMonth()]}function q(K){return i[+(K.getUTCHours()>=12)]}function J(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var re=S(K+="",b);return re.toString=function(){return K},re},parse:function(K){var re=k(K+="",!1);return re.toString=function(){return K},re},utcFormat:function(K){var re=S(K+="",j);return re.toString=function(){return K},re},utcParse:function(K){var re=k(K+="",!0);return re.toString=function(){return K},re}}}var vT={"-":"",_:" ",0:"0"},On=/^\s*\d+/,H0e=/^%/,q0e=/[\\^$*+?|[\]().{}]/g;function yt(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function V0e(e){return e.replace(q0e,"\\$&")}function md(e){return new RegExp("^(?:"+e.map(V0e).join("|")+")","i")}function gd(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function K0e(e,t,n){var r=On.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function G0e(e,t,n){var r=On.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Y0e(e,t,n){var r=On.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function X0e(e,t,n){var r=On.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Q0e(e,t,n){var r=On.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function yT(e,t,n){var r=On.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function xT(e,t,n){var r=On.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function J0e(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Z0e(e,t,n){var r=On.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function ebe(e,t,n){var r=On.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function bT(e,t,n){var r=On.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function tbe(e,t,n){var r=On.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function wT(e,t,n){var r=On.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function nbe(e,t,n){var r=On.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function rbe(e,t,n){var r=On.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function ibe(e,t,n){var r=On.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function abe(e,t,n){var r=On.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function obe(e,t,n){var r=H0e.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function sbe(e,t,n){var r=On.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function lbe(e,t,n){var r=On.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function _T(e,t){return yt(e.getDate(),t,2)}function cbe(e,t){return yt(e.getHours(),t,2)}function ube(e,t){return yt(e.getHours()%12||12,t,2)}function dbe(e,t){return yt(1+Yh.count(Va(e),e),t,3)}function $5(e,t){return yt(e.getMilliseconds(),t,3)}function fbe(e,t){return $5(e,t)+"000"}function hbe(e,t){return yt(e.getMonth()+1,t,2)}function pbe(e,t){return yt(e.getMinutes(),t,2)}function mbe(e,t){return yt(e.getSeconds(),t,2)}function gbe(e){var t=e.getDay();return t===0?7:t}function vbe(e,t){return yt(Jy.count(Va(e)-1,e),t,2)}function L5(e){var t=e.getDay();return t>=4||t===0?su(e):su.ceil(e)}function ybe(e,t){return e=L5(e),yt(su.count(Va(e),e)+(Va(e).getDay()===4),t,2)}function xbe(e){return e.getDay()}function bbe(e,t){return yt(zg.count(Va(e)-1,e),t,2)}function wbe(e,t){return yt(e.getFullYear()%100,t,2)}function _be(e,t){return e=L5(e),yt(e.getFullYear()%100,t,2)}function Sbe(e,t){return yt(e.getFullYear()%1e4,t,4)}function jbe(e,t){var n=e.getDay();return e=n>=4||n===0?su(e):su.ceil(e),yt(e.getFullYear()%1e4,t,4)}function kbe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+yt(t/60|0,"0",2)+yt(t%60,"0",2)}function ST(e,t){return yt(e.getUTCDate(),t,2)}function Cbe(e,t){return yt(e.getUTCHours(),t,2)}function Ebe(e,t){return yt(e.getUTCHours()%12||12,t,2)}function Abe(e,t){return yt(1+Qy.count(Ka(e),e),t,3)}function F5(e,t){return yt(e.getUTCMilliseconds(),t,3)}function Nbe(e,t){return F5(e,t)+"000"}function Pbe(e,t){return yt(e.getUTCMonth()+1,t,2)}function Tbe(e,t){return yt(e.getUTCMinutes(),t,2)}function Obe(e,t){return yt(e.getUTCSeconds(),t,2)}function Ibe(e){var t=e.getUTCDay();return t===0?7:t}function Rbe(e,t){return yt(Zy.count(Ka(e)-1,e),t,2)}function B5(e){var t=e.getUTCDay();return t>=4||t===0?lu(e):lu.ceil(e)}function Mbe(e,t){return e=B5(e),yt(lu.count(Ka(e),e)+(Ka(e).getUTCDay()===4),t,2)}function Dbe(e){return e.getUTCDay()}function $be(e,t){return yt(Wg.count(Ka(e)-1,e),t,2)}function Lbe(e,t){return yt(e.getUTCFullYear()%100,t,2)}function Fbe(e,t){return e=B5(e),yt(e.getUTCFullYear()%100,t,2)}function Bbe(e,t){return yt(e.getUTCFullYear()%1e4,t,4)}function Ube(e,t){var n=e.getUTCDay();return e=n>=4||n===0?lu(e):lu.ceil(e),yt(e.getUTCFullYear()%1e4,t,4)}function zbe(){return"+0000"}function jT(){return"%"}function kT(e){return+e}function CT(e){return Math.floor(+e/1e3)}var Dl,U5,z5;Wbe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Wbe(e){return Dl=W0e(e),U5=Dl.format,Dl.parse,z5=Dl.utcFormat,Dl.utcParse,Dl}function Hbe(e){return new Date(e)}function qbe(e){return e instanceof Date?+e:+new Date(+e)}function Zk(e,t,n,r,i,a,o,s,c,u){var f=Fk(),d=f.invert,h=f.domain,p=u(".%L"),m=u(":%S"),v=u("%I:%M"),y=u("%I %p"),x=u("%a %d"),w=u("%b %d"),b=u("%B"),j=u("%Y");function _(S){return(c(S)<S?p:s(S)<S?m:o(S)<S?v:a(S)<S?y:r(S)<S?i(S)<S?x:w:n(S)<S?b:j)(S)}return f.invert=function(S){return new Date(d(S))},f.domain=function(S){return arguments.length?h(Array.from(S,qbe)):h().map(Hbe)},f.ticks=function(S){var k=h();return e(k[0],k[k.length-1],S??10)},f.tickFormat=function(S,k){return k==null?_:u(k)},f.nice=function(S){var k=h();return(!S||typeof S.range!="function")&&(S=t(k[0],k[k.length-1],S??10)),S?h(A5(k,S)):f},f.copy=function(){return Gh(f,Zk(e,t,n,r,i,a,o,s,c,u))},f}function Vbe(){return li.apply(Zk(U0e,z0e,Va,Qk,Jy,Yh,Yk,Kk,Ts,U5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Kbe(){return li.apply(Zk(F0e,B0e,Ka,Jk,Zy,Qy,Xk,Gk,Ts,z5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ex(){var e=0,t=1,n,r,i,a,o=rr,s=!1,c;function u(d){return d==null||isNaN(d=+d)?c:o(i===0?.5:(d=(a(d)-n)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(o=d,u):o};function f(d){return function(h){var p,m;return arguments.length?([p,m]=h,o=d(p,m),u):[o(0),o(1)]}}return u.range=f(Vu),u.rangeRound=f(Lk),u.unknown=function(d){return arguments.length?(c=d,u):c},function(d){return a=d,n=d(e),r=d(t),i=n===r?0:1/(r-n),u}}function ls(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function W5(){var e=ss(ex()(rr));return e.copy=function(){return ls(e,W5())},eo.apply(e,arguments)}function H5(){var e=zk(ex()).domain([1,10]);return e.copy=function(){return ls(e,H5()).base(e.base())},eo.apply(e,arguments)}function q5(){var e=Wk(ex());return e.copy=function(){return ls(e,q5()).constant(e.constant())},eo.apply(e,arguments)}function eC(){var e=Hk(ex());return e.copy=function(){return ls(e,eC()).exponent(e.exponent())},eo.apply(e,arguments)}function Gbe(){return eC.apply(null,arguments).exponent(.5)}function V5(){var e=[],t=rr;function n(r){if(r!=null&&!isNaN(r=+r))return t((Vh(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Bo),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Rxe(e,a/r))},n.copy=function(){return V5(t).domain(e)},eo.apply(n,arguments)}function tx(){var e=0,t=.5,n=1,r=1,i,a,o,s,c,u=rr,f,d=!1,h;function p(v){return isNaN(v=+v)?h:(v=.5+((v=+f(v))-a)*(r*v<r*a?s:c),u(d?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([e,t,n]=v,i=f(e=+e),a=f(t=+t),o=f(n=+n),s=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,p):[e,t,n]},p.clamp=function(v){return arguments.length?(d=!!v,p):d},p.interpolator=function(v){return arguments.length?(u=v,p):u};function m(v){return function(y){var x,w,b;return arguments.length?([x,w,b]=y,u=o0e(v,[x,w,b]),p):[u(0),u(.5),u(1)]}}return p.range=m(Vu),p.rangeRound=m(Lk),p.unknown=function(v){return arguments.length?(h=v,p):h},function(v){return f=v,i=v(e),a=v(t),o=v(n),s=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,p}}function K5(){var e=ss(tx()(rr));return e.copy=function(){return ls(e,K5())},eo.apply(e,arguments)}function G5(){var e=zk(tx()).domain([.1,1,10]);return e.copy=function(){return ls(e,G5()).base(e.base())},eo.apply(e,arguments)}function Y5(){var e=Wk(tx());return e.copy=function(){return ls(e,Y5()).constant(e.constant())},eo.apply(e,arguments)}function tC(){var e=Hk(tx());return e.copy=function(){return ls(e,tC()).exponent(e.exponent())},eo.apply(e,arguments)}function Ybe(){return tC.apply(null,arguments).exponent(.5)}const ET=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Uf,scaleDiverging:K5,scaleDivergingLog:G5,scaleDivergingPow:tC,scaleDivergingSqrt:Ybe,scaleDivergingSymlog:Y5,scaleIdentity:E5,scaleImplicit:V1,scaleLinear:Bg,scaleLog:N5,scaleOrdinal:Mk,scalePoint:Gd,scalePow:qk,scaleQuantile:O5,scaleQuantize:I5,scaleRadial:T5,scaleSequential:W5,scaleSequentialLog:H5,scaleSequentialPow:eC,scaleSequentialQuantile:V5,scaleSequentialSqrt:Gbe,scaleSequentialSymlog:q5,scaleSqrt:N0e,scaleSymlog:P5,scaleThreshold:R5,scaleTime:Vbe,scaleUtc:Kbe,tickFormat:C5},Symbol.toStringTag,{value:"Module"}));var Xbe=$u;function Qbe(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],o=t(a);if(o!=null&&(s===void 0?o===o&&!Xbe(o):n(o,s)))var s=o,c=a}return c}var X5=Qbe;function Jbe(e,t){return e>t}var Zbe=Jbe,ewe=X5,twe=Zbe,nwe=Hu;function rwe(e){return e&&e.length?ewe(e,nwe,twe):void 0}var iwe=rwe;const nx=Nt(iwe);function awe(e,t){return e<t}var owe=awe,swe=X5,lwe=owe,cwe=Hu;function uwe(e){return e&&e.length?swe(e,cwe,lwe):void 0}var dwe=uwe;const rx=Nt(dwe);var fwe=pk,hwe=qu,pwe=i5,mwe=Cr;function gwe(e,t){var n=mwe(e)?fwe:pwe;return n(e,hwe(t))}var vwe=gwe,ywe=n5,xwe=vwe;function bwe(e,t){return ywe(xwe(e,t),1)}var wwe=bwe;const _we=Nt(wwe);var Swe=Pk;function jwe(e,t){return Swe(e,t)}var kwe=jwe;const nC=Nt(kwe);var Ku=1e9,Cwe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},iC,Xt=!0,ai="[DecimalError] ",Ws=ai+"Invalid argument: ",rC=ai+"Exponent out of range: ",Gu=Math.floor,ws=Math.pow,Ewe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Rr,An=1e7,Kt=7,Q5=9007199254740991,Hg=Gu(Q5/Kt),Re={};Re.absoluteValue=Re.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Re.comparedTo=Re.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Re.decimalPlaces=Re.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Kt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Re.dividedBy=Re.div=function(e){return Ma(this,new this.constructor(e))};Re.dividedToIntegerBy=Re.idiv=function(e){var t=this,n=t.constructor;return Dt(Ma(t,new n(e),0,1),n.precision)};Re.equals=Re.eq=function(e){return!this.cmp(e)};Re.exponent=function(){return mn(this)};Re.greaterThan=Re.gt=function(e){return this.cmp(e)>0};Re.greaterThanOrEqualTo=Re.gte=function(e){return this.cmp(e)>=0};Re.isInteger=Re.isint=function(){return this.e>this.d.length-2};Re.isNegative=Re.isneg=function(){return this.s<0};Re.isPositive=Re.ispos=function(){return this.s>0};Re.isZero=function(){return this.s===0};Re.lessThan=Re.lt=function(e){return this.cmp(e)<0};Re.lessThanOrEqualTo=Re.lte=function(e){return this.cmp(e)<1};Re.logarithm=Re.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Rr))throw Error(ai+"NaN");if(n.s<1)throw Error(ai+(n.s?"NaN":"-Infinity"));return n.eq(Rr)?new r(0):(Xt=!1,t=Ma(Vf(n,a),Vf(e,a),a),Xt=!0,Dt(t,i))};Re.minus=Re.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?eU(t,e):J5(t,(e.s=-e.s,e))};Re.modulo=Re.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(ai+"NaN");return n.s?(Xt=!1,t=Ma(n,e,0,1).times(e),Xt=!0,n.minus(t)):Dt(new r(n),i)};Re.naturalExponential=Re.exp=function(){return Z5(this)};Re.naturalLogarithm=Re.ln=function(){return Vf(this)};Re.negated=Re.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Re.plus=Re.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?J5(t,e):eU(t,(e.s=-e.s,e))};Re.precision=Re.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ws+e);if(t=mn(i)+1,r=i.d.length-1,n=r*Kt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Re.squareRoot=Re.sqrt=function(){var e,t,n,r,i,a,o,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(ai+"NaN")}for(e=mn(s),Xt=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=Zi(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Gu((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(i.toString()),n=c.precision,i=o=n+3;;)if(a=r,r=a.plus(Ma(s,a,o+2)).times(.5),Zi(a.d).slice(0,o)===(t=Zi(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Dt(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(t!="9999")break;o+=4}return Xt=!0,Dt(r,n)};Re.times=Re.mul=function(e){var t,n,r,i,a,o,s,c,u,f=this,d=f.constructor,h=f.d,p=(e=new d(e)).d;if(!f.s||!e.s)return new d(0);for(e.s*=f.s,n=f.e+e.e,c=h.length,u=p.length,c<u&&(a=h,h=p,p=a,o=c,c=u,u=o),a=[],o=c+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(t=0,i=c+r;i>r;)s=a[i]+p[r]*h[i-r-1]+t,a[i--]=s%An|0,t=s/An|0;a[i]=(a[i]+t)%An|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,Xt?Dt(e,d.precision):e};Re.toDecimalPlaces=Re.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(la(e,0,Ku),t===void 0?t=r.rounding:la(t,0,8),Dt(n,e+mn(n)+1,t))};Re.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=il(r,!0):(la(e,0,Ku),t===void 0?t=i.rounding:la(t,0,8),r=Dt(new i(r),e+1,t),n=il(r,!0,e+1)),n};Re.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?il(i):(la(e,0,Ku),t===void 0?t=a.rounding:la(t,0,8),r=Dt(new a(i),e+mn(i)+1,t),n=il(r.abs(),!1,e+mn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Re.toInteger=Re.toint=function(){var e=this,t=e.constructor;return Dt(new t(e),mn(e)+1,t.rounding)};Re.toNumber=function(){return+this};Re.toPower=Re.pow=function(e){var t,n,r,i,a,o,s=this,c=s.constructor,u=12,f=+(e=new c(e));if(!e.s)return new c(Rr);if(s=new c(s),!s.s){if(e.s<1)throw Error(ai+"Infinity");return s}if(s.eq(Rr))return s;if(r=c.precision,e.eq(Rr))return Dt(s,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=s.s,o){if((n=f<0?-f:f)<=Q5){for(i=new c(Rr),t=Math.ceil(r/Kt+4),Xt=!1;n%2&&(i=i.times(s),NT(i.d,t)),n=Gu(n/2),n!==0;)s=s.times(s),NT(s.d,t);return Xt=!0,e.s<0?new c(Rr).div(i):Dt(i,r)}}else if(a<0)throw Error(ai+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,Xt=!1,i=e.times(Vf(s,r+u)),Xt=!0,i=Z5(i),i.s=a,i};Re.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=mn(i),r=il(i,n<=a.toExpNeg||n>=a.toExpPos)):(la(e,1,Ku),t===void 0?t=a.rounding:la(t,0,8),i=Dt(new a(i),e,t),n=mn(i),r=il(i,e<=n||n<=a.toExpNeg,e)),r};Re.toSignificantDigits=Re.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(la(e,1,Ku),t===void 0?t=r.rounding:la(t,0,8)),Dt(new r(n),e,t)};Re.toString=Re.valueOf=Re.val=Re.toJSON=Re[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=mn(e),n=e.constructor;return il(e,t<=n.toExpNeg||t>=n.toExpPos)};function J5(e,t){var n,r,i,a,o,s,c,u,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Xt?Dt(t,d):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i,a){for(a<0?(r=c,a=-a,s=u.length):(r=u,i=o,s=c.length),o=Math.ceil(d/Kt),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=c.length,a=u.length,s-a<0&&(a=s,r=u,u=c,c=r),n=0;a;)n=(c[--a]=c[a]+u[a]+n)/An|0,c[a]%=An;for(n&&(c.unshift(n),++i),s=c.length;c[--s]==0;)c.pop();return t.d=c,t.e=i,Xt?Dt(t,d):t}function la(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Ws+e)}function Zi(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=Kt-r.length,n&&(a+=mo(n)),a+=r;o=e[t],r=o+"",n=Kt-r.length,n&&(a+=mo(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Ma=function(){function e(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%An|0,o=a/An|0;return o&&r.unshift(o),r}function t(r,i,a,o){var s,c;if(a!=o)c=a>o?1:-1;else for(s=c=0;s<a;s++)if(r[s]!=i[s]){c=r[s]>i[s]?1:-1;break}return c}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*An+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,c,u,f,d,h,p,m,v,y,x,w,b,j,_,S,k,E,O=r.constructor,N=r.s==i.s?1:-1,A=r.d,I=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(ai+"Division by zero");for(c=r.e-i.e,k=I.length,_=A.length,p=new O(N),m=p.d=[],u=0;I[u]==(A[u]||0);)++u;if(I[u]>(A[u]||0)&&--c,a==null?w=a=O.precision:o?w=a+(mn(r)-mn(i))+1:w=a,w<0)return new O(0);if(w=w/Kt+2|0,u=0,k==1)for(f=0,I=I[0],w++;(u<_||f)&&w--;u++)b=f*An+(A[u]||0),m[u]=b/I|0,f=b%I|0;else{for(f=An/(I[0]+1)|0,f>1&&(I=e(I,f),A=e(A,f),k=I.length,_=A.length),j=k,v=A.slice(0,k),y=v.length;y<k;)v[y++]=0;E=I.slice(),E.unshift(0),S=I[0],I[1]>=An/2&&++S;do f=0,s=t(I,v,k,y),s<0?(x=v[0],k!=y&&(x=x*An+(v[1]||0)),f=x/S|0,f>1?(f>=An&&(f=An-1),d=e(I,f),h=d.length,y=v.length,s=t(d,v,h,y),s==1&&(f--,n(d,k<h?E:I,h))):(f==0&&(s=f=1),d=I.slice()),h=d.length,h<y&&d.unshift(0),n(v,d,y),s==-1&&(y=v.length,s=t(I,v,k,y),s<1&&(f++,n(v,k<y?E:I,y))),y=v.length):s===0&&(f++,v=[0]),m[u++]=f,s&&v[0]?v[y++]=A[j]||0:(v=[A[j]],y=1);while((j++<_||v[0]!==void 0)&&w--)}return m[0]||m.shift(),p.e=c,Dt(p,o?a+mn(p)+1:a)}}();function Z5(e,t){var n,r,i,a,o,s,c=0,u=0,f=e.constructor,d=f.precision;if(mn(e)>16)throw Error(rC+mn(e));if(!e.s)return new f(Rr);for(t==null?(Xt=!1,s=d):s=t,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(r=Math.log(ws(2,u))/Math.LN10*2+5|0,s+=r,n=i=a=new f(Rr),f.precision=s;;){if(i=Dt(i.times(e),s),n=n.times(++c),o=a.plus(Ma(i,n,s)),Zi(o.d).slice(0,s)===Zi(a.d).slice(0,s)){for(;u--;)a=Dt(a.times(a),s);return f.precision=d,t==null?(Xt=!0,Dt(a,d)):a}a=o}}function mn(e){for(var t=e.e*Kt,n=e.d[0];n>=10;n/=10)t++;return t}function rb(e,t,n){if(t>e.LN10.sd())throw Xt=!0,n&&(e.precision=n),Error(ai+"LN10 precision limit exceeded");return Dt(new e(e.LN10),t)}function mo(e){for(var t="";e--;)t+="0";return t}function Vf(e,t){var n,r,i,a,o,s,c,u,f,d=1,h=10,p=e,m=p.d,v=p.constructor,y=v.precision;if(p.s<1)throw Error(ai+(p.s?"NaN":"-Infinity"));if(p.eq(Rr))return new v(0);if(t==null?(Xt=!1,u=y):u=t,p.eq(10))return t==null&&(Xt=!0),rb(v,u);if(u+=h,v.precision=u,n=Zi(m),r=n.charAt(0),a=mn(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(e),n=Zi(p.d),r=n.charAt(0),d++;a=mn(p),r>1?(p=new v("0."+n),a++):p=new v(r+"."+n.slice(1))}else return c=rb(v,u+2,y).times(a+""),p=Vf(new v(r+"."+n.slice(1)),u-h).plus(c),v.precision=y,t==null?(Xt=!0,Dt(p,y)):p;for(s=o=p=Ma(p.minus(Rr),p.plus(Rr),u),f=Dt(p.times(p),u),i=3;;){if(o=Dt(o.times(f),u),c=s.plus(Ma(o,new v(i),u)),Zi(c.d).slice(0,u)===Zi(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(rb(v,u+2,y).times(a+""))),s=Ma(s,new v(d),u),v.precision=y,t==null?(Xt=!0,Dt(s,y)):s;s=c,i+=2}}function AT(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Gu(n/Kt),e.d=[],r=(n+1)%Kt,n<0&&(r+=Kt),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Kt;r<i;)e.d.push(+t.slice(r,r+=Kt));t=t.slice(r),r=Kt-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Xt&&(e.e>Hg||e.e<-Hg))throw Error(rC+n)}else e.s=0,e.e=0,e.d=[0];return e}function Dt(e,t,n){var r,i,a,o,s,c,u,f,d=e.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=Kt,i=t,u=d[f=0];else{if(f=Math.ceil((r+1)/Kt),a=d.length,f>=a)return e;for(u=a=d[f],o=1;a>=10;a/=10)o++;r%=Kt,i=r-Kt+o}if(n!==void 0&&(a=ws(10,o-i-1),s=u/a%10|0,c=t<0||d[f+1]!==void 0||u%a,c=n<4?(s||c)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||c||n==6&&(r>0?i>0?u/ws(10,o-i):0:d[f-1])%10&1||n==(e.s<0?8:7))),t<1||!d[0])return c?(a=mn(e),d.length=1,t=t-a-1,d[0]=ws(10,(Kt-t%Kt)%Kt),e.e=Gu(-t/Kt)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(r==0?(d.length=f,a=1,f--):(d.length=f+1,a=ws(10,Kt-r),d[f]=i>0?(u/ws(10,o-i)%ws(10,i)|0)*a:0),c)for(;;)if(f==0){(d[0]+=a)==An&&(d[0]=1,++e.e);break}else{if(d[f]+=a,d[f]!=An)break;d[f--]=0,a=1}for(r=d.length;d[--r]===0;)d.pop();if(Xt&&(e.e>Hg||e.e<-Hg))throw Error(rC+mn(e));return e}function eU(e,t){var n,r,i,a,o,s,c,u,f,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Xt?Dt(t,p):t;if(c=e.d,d=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r,o){for(f=o<0,f?(n=c,o=-o,s=d.length):(n=d,r=u,s=c.length),i=Math.max(Math.ceil(p/Kt),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,s=d.length,f=i<s,f&&(s=i),i=0;i<s;i++)if(c[i]!=d[i]){f=c[i]<d[i];break}o=0}for(f&&(n=c,c=d,d=n,t.s=-t.s),s=c.length,i=d.length-s;i>0;--i)c[s++]=0;for(i=d.length;i>o;){if(c[--i]<d[i]){for(a=i;a&&c[--a]===0;)c[a]=An-1;--c[a],c[i]+=An}c[i]-=d[i]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,Xt?Dt(t,p):t):new h(0)}function il(e,t,n){var r,i=mn(e),a=Zi(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+mo(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+mo(-i-1)+a,n&&(r=n-o)>0&&(a+=mo(r))):i>=o?(a+=mo(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+mo(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=mo(r))),e.s<0?"-"+a:a}function NT(e,t){if(e.length>t)return e.length=t,!0}function tU(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ws+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return AT(o,a.toString())}else if(typeof a!="string")throw Error(Ws+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Ewe.test(a))AT(o,a);else throw Error(Ws+a)}if(i.prototype=Re,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=tU,i.config=i.set=Awe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Awe(e){if(!e||typeof e!="object")throw Error(ai+"Object expected");var t,n,r,i=["precision",1,Ku,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Gu(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Ws+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ws+n+": "+r);return this}var iC=tU(Cwe);Rr=new iC(1);const Ot=iC;function Nwe(e){return Iwe(e)||Owe(e)||Twe(e)||Pwe()}function Pwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Twe(e,t){if(e){if(typeof e=="string")return X1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X1(e,t)}}function Owe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Iwe(e){if(Array.isArray(e))return X1(e)}function X1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Rwe=function(t){return t},nU={"@@functional/placeholder":!0},rU=function(t){return t===nU},PT=function(t){return function n(){return arguments.length===0||arguments.length===1&&rU(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},Mwe=function e(t,n){return t===1?n:PT(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==nU}).length;return o>=t?n.apply(void 0,i):e(t-o,PT(function(){for(var s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];var f=i.map(function(d){return rU(d)?c.shift():d});return n.apply(void 0,Nwe(f).concat(c))}))})},ix=function(t){return Mwe(t.length,t)},Q1=function(t,n){for(var r=[],i=t;i<n;++i)r[i-t]=i;return r},Dwe=ix(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),$we=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Rwe;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,c){return c(s)},a.apply(void 0,arguments))}},J1=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},iU=function(t){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,c){return s===n[c]})||(n=a,r=t.apply(void 0,a)),r}};function Lwe(e){var t;return e===0?t=1:t=Math.floor(new Ot(e).abs().log(10).toNumber())+1,t}function Fwe(e,t,n){for(var r=new Ot(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var Bwe=ix(function(e,t,n){var r=+e,i=+t;return r+n*(i-r)}),Uwe=ix(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),zwe=ix(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const ax={rangeStep:Fwe,getDigitCount:Lwe,interpolateNumber:Bwe,uninterpolateNumber:Uwe,uninterpolateTruncation:zwe};function Z1(e){return qwe(e)||Hwe(e)||aU(e)||Wwe()}function Wwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hwe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function qwe(e){if(Array.isArray(e))return e_(e)}function Kf(e,t){return Gwe(e)||Kwe(e,t)||aU(e,t)||Vwe()}function Vwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aU(e,t){if(e){if(typeof e=="string")return e_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e_(e,t)}}function e_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kwe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(t&&n.length===t));r=!0);}catch(c){i=!0,a=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function Gwe(e){if(Array.isArray(e))return e}function oU(e){var t=Kf(e,2),n=t[0],r=t[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function sU(e,t,n){if(e.lte(0))return new Ot(0);var r=ax.getDigitCount(e.toNumber()),i=new Ot(10).pow(r),a=e.div(i),o=r!==1?.05:.1,s=new Ot(Math.ceil(a.div(o).toNumber())).add(n).mul(o),c=s.mul(i);return t?c:new Ot(Math.ceil(c))}function Ywe(e,t,n){var r=1,i=new Ot(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Ot(10).pow(ax.getDigitCount(e)-1),i=new Ot(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Ot(Math.floor(e)))}else e===0?i=new Ot(Math.floor((t-1)/2)):n||(i=new Ot(Math.floor(e)));var o=Math.floor((t-1)/2),s=$we(Dwe(function(c){return i.add(new Ot(c-o).mul(r)).toNumber()}),Q1);return s(0,t)}function lU(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Ot(0),tickMin:new Ot(0),tickMax:new Ot(0)};var a=sU(new Ot(t).sub(e).div(n-1),r,i),o;e<=0&&t>=0?o=new Ot(0):(o=new Ot(e).add(t).div(2),o=o.sub(new Ot(o).mod(a)));var s=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new Ot(t).sub(o).div(a).toNumber()),u=s+c+1;return u>n?lU(e,t,n,r,i+1):(u<n&&(c=t>0?c+(n-u):c,s=t>0?s:s+(n-u)),{step:a,tickMin:o.sub(new Ot(s).mul(a)),tickMax:o.add(new Ot(c).mul(a))})}function Xwe(e){var t=Kf(e,2),n=t[0],r=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=oU([n,r]),c=Kf(s,2),u=c[0],f=c[1];if(u===-1/0||f===1/0){var d=f===1/0?[u].concat(Z1(Q1(0,i-1).map(function(){return 1/0}))):[].concat(Z1(Q1(0,i-1).map(function(){return-1/0})),[f]);return n>r?J1(d):d}if(u===f)return Ywe(u,i,a);var h=lU(u,f,o,a),p=h.step,m=h.tickMin,v=h.tickMax,y=ax.rangeStep(m,v.add(new Ot(.1).mul(p)),p);return n>r?J1(y):y}function Qwe(e,t){var n=Kf(e,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=oU([r,i]),s=Kf(o,2),c=s[0],u=s[1];if(c===-1/0||u===1/0)return[r,i];if(c===u)return[c];var f=Math.max(t,2),d=sU(new Ot(u).sub(c).div(f-1),a,0),h=[].concat(Z1(ax.rangeStep(new Ot(c),new Ot(u).sub(new Ot(.99).mul(d)),d)),[u]);return r>i?J1(h):h}var Jwe=iU(Xwe),Zwe=iU(Qwe),e1e="Invariant failed";function al(e,t){throw new Error(e1e)}var t1e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function cu(e){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(e)}function qg(){return qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qg.apply(this,arguments)}function n1e(e,t){return o1e(e)||a1e(e,t)||i1e(e,t)||r1e()}function r1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i1e(e,t){if(e){if(typeof e=="string")return TT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TT(e,t)}}function TT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a1e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function o1e(e){if(Array.isArray(e))return e}function s1e(e,t){if(e==null)return{};var n=l1e(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function l1e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function c1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u1e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dU(r.key),r)}}function d1e(e,t,n){return t&&u1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function f1e(e,t,n){return t=Vg(t),h1e(e,cU()?Reflect.construct(t,n||[],Vg(e).constructor):t.apply(e,n))}function h1e(e,t){if(t&&(cu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p1e(e)}function p1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cU=function(){return!!e})()}function Vg(e){return Vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vg(e)}function m1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t_(e,t)}function t_(e,t){return t_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},t_(e,t)}function uU(e,t,n){return t=dU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dU(e){var t=g1e(e,"string");return cu(t)=="symbol"?t:t+""}function g1e(e,t){if(cu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ox=function(e){function t(){return c1e(this,t),f1e(this,t,arguments)}return m1e(t,e),d1e(t,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,s=r.dataKey,c=r.data,u=r.dataPointFormatter,f=r.xAxis,d=r.yAxis,h=s1e(r,t1e),p=St(h,!1);this.props.direction==="x"&&f.type!=="number"&&al();var m=c.map(function(v){var y=u(v,s),x=y.x,w=y.y,b=y.value,j=y.errorVal;if(!j)return null;var _=[],S,k;if(Array.isArray(j)){var E=n1e(j,2);S=E[0],k=E[1]}else S=k=j;if(a==="vertical"){var O=f.scale,N=w+i,A=N+o,I=N-o,M=O(b-S),L=O(b+k);_.push({x1:L,y1:A,x2:L,y2:I}),_.push({x1:M,y1:N,x2:L,y2:N}),_.push({x1:M,y1:A,x2:M,y2:I})}else if(a==="horizontal"){var z=d.scale,F=x+i,B=F-o,D=F+o,$=z(b-S),P=z(b+k);_.push({x1:B,y1:P,x2:D,y2:P}),_.push({x1:F,y1:$,x2:F,y2:P}),_.push({x1:B,y1:$,x2:D,y2:$})}return H.createElement(Pn,qg({className:"recharts-errorBar",key:"bar-".concat(_.map(function(R){return"".concat(R.x1,"-").concat(R.x2,"-").concat(R.y1,"-").concat(R.y2)}))},p),_.map(function(R){return H.createElement("line",qg({},R,{key:"line-".concat(R.x1,"-").concat(R.x2,"-").concat(R.y1,"-").concat(R.y2)}))}))});return H.createElement(Pn,{className:"recharts-errorBars"},m)}}])}(H.Component);uU(ox,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});uU(ox,"displayName","ErrorBar");function Gf(e){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gf(e)}function OT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OT(Object(n),!0).forEach(function(r){v1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function v1e(e,t,n){return t=y1e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y1e(e){var t=x1e(e,"string");return Gf(t)=="symbol"?t:t+""}function x1e(e,t){if(Gf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fU=function(t){var n=t.children,r=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,o=Tr(n,Ji);if(!o)return null;var s=Ji.defaultProps,c=s!==void 0?hs(hs({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(r||[]).reduce(function(f,d){var h=d.item,p=d.props,m=p.sectors||p.data||[];return f.concat(m.map(function(v){return{type:o.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(r||[]).map(function(f){var d=f.item,h=d.type.defaultProps,p=h!==void 0?hs(hs({},h),d.props):{},m=p.dataKey,v=p.name,y=p.legendType,x=p.hide;return{inactive:x,dataKey:m,type:c.iconType||y||"square",color:aC(d),value:v||m,payload:p}}),hs(hs(hs({},c),Ji.getWithHeight(o,i)),{},{payload:u,item:o})};function Yf(e){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yf(e)}function IT(e){return S1e(e)||_1e(e)||w1e(e)||b1e()}function b1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w1e(e,t){if(e){if(typeof e=="string")return n_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n_(e,t)}}function _1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function S1e(e){if(Array.isArray(e))return n_(e)}function n_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function RT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RT(Object(n),!0).forEach(function(r){kc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kc(e,t,n){return t=j1e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j1e(e){var t=k1e(e,"string");return Yf(t)=="symbol"?t:t+""}function k1e(e,t){if(Yf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ca(e,t,n){return bt(e)||bt(t)?n:jn(t)?ti(e,t,n):st(t)?t(e):n}function Yd(e,t,n,r){var i=_we(e,function(s){return ca(s,t)});if(n==="number"){var a=i.filter(function(s){return Ee(s)||parseFloat(s)});return a.length?[rx(a),nx(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!bt(s)}):i;return o.map(function(s){return jn(s)||s instanceof Date?s:""})}var C1e=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<s;u++){var f=u>0?i[u-1].coordinate:i[s-1].coordinate,d=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(ki(d-f)!==ki(h-d)){var m=[];if(ki(h-d)===ki(c[1]-c[0])){p=h;var v=d+c[1]-c[0];m[0]=Math.min(v,(v+f)/2),m[1]=Math.max(v,(v+f)/2)}else{p=f;var y=h+c[1]-c[0];m[0]=Math.min(d,(y+d)/2),m[1]=Math.max(d,(y+d)/2)}var x=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(t>x[0]&&t<=x[1]||t>=m[0]&&t<=m[1]){o=i[u].index;break}}else{var w=Math.min(f,h),b=Math.max(f,h);if(t>(w+d)/2&&t<=(b+d)/2){o=i[u].index;break}}}else for(var j=0;j<s;j++)if(j===0&&t<=(r[j].coordinate+r[j+1].coordinate)/2||j>0&&j<s-1&&t>(r[j].coordinate+r[j-1].coordinate)/2&&t<=(r[j].coordinate+r[j+1].coordinate)/2||j===s-1&&t>(r[j].coordinate+r[j-1].coordinate)/2){o=r[j].index;break}return o},aC=function(t){var n,r=t,i=r.type.displayName,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?rn(rn({},t.type.defaultProps),t.props):t.props,o=a.stroke,s=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:s;break;default:c=s;break}return c},E1e=function(t){var n=t.barSize,r=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),c=0,u=s.length;c<u;c++)for(var f=a[s[c]].stackGroups,d=Object.keys(f),h=0,p=d.length;h<p;h++){var m=f[d[h]],v=m.items,y=m.cateAxisId,x=v.filter(function(k){return Ra(k.type).indexOf("Bar")>=0});if(x&&x.length){var w=x[0].type.defaultProps,b=w!==void 0?rn(rn({},w),x[0].props):x[0].props,j=b.barSize,_=b[y];o[_]||(o[_]=[]);var S=bt(j)?n:j;o[_].push({item:x[0],stackList:x.slice(1),barSize:bt(S)?void 0:rl(S,r,0)})}}return o},A1e=function(t){var n=t.barGap,r=t.barCategoryGap,i=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,s=t.maxBarSize,c=o.length;if(c<1)return null;var u=rl(n,i,0,!0),f,d=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=i/c,m=o.reduce(function(j,_){return j+_.barSize||0},0);m+=(c-1)*u,m>=i&&(m-=(c-1)*u,u=0),m>=i&&p>0&&(h=!0,p*=.9,m=c*p);var v=(i-m)/2>>0,y={offset:v-u,size:0};f=o.reduce(function(j,_){var S={item:_.item,position:{offset:y.offset+y.size+u,size:h?p:_.barSize}},k=[].concat(IT(j),[S]);return y=k[k.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(E){k.push({item:E,position:y})}),k},d)}else{var x=rl(r,i,0,!0);i-2*x-(c-1)*u<=0&&(u=0);var w=(i-2*x-(c-1)*u)/c;w>1&&(w>>=0);var b=s===+s?Math.min(w,s):w;f=o.reduce(function(j,_,S){var k=[].concat(IT(j),[{item:_.item,position:{offset:x+(w+u)*S+(w-b)/2,size:b}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(E){k.push({item:E,position:k[k.length-1].position})}),k},d)}return f},N1e=function(t,n,r,i){var a=r.children,o=r.width,s=r.margin,c=o-(s.left||0)-(s.right||0),u=fU({children:a,legendWidth:c});if(u){var f=i||{},d=f.width,h=f.height,p=u.align,m=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&m==="middle")&&p!=="center"&&Ee(t[p]))return rn(rn({},t),{},kc({},p,t[p]+(d||0)));if((v==="horizontal"||v==="vertical"&&p==="center")&&m!=="middle"&&Ee(t[m]))return rn(rn({},t),{},kc({},m,t[m]+(h||0)))}return t},P1e=function(t,n,r){return bt(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},hU=function(t,n,r,i,a){var o=n.props.children,s=Ai(o,ox).filter(function(u){return P1e(i,a,u.props.direction)});if(s&&s.length){var c=s.map(function(u){return u.props.dataKey});return t.reduce(function(u,f){var d=ca(f,r);if(bt(d))return u;var h=Array.isArray(d)?[rx(d),nx(d)]:[d,d],p=c.reduce(function(m,v){var y=ca(f,v,0),x=h[0]-Math.abs(Array.isArray(y)?y[0]:y),w=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(x,m[0]),Math.max(w,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},T1e=function(t,n,r,i,a){var o=n.map(function(s){return hU(t,s,r,a,i)}).filter(function(s){return!bt(s)});return o&&o.length?o.reduce(function(s,c){return[Math.min(s[0],c[0]),Math.max(s[1],c[1])]},[1/0,-1/0]):null},pU=function(t,n,r,i,a){var o=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&hU(t,c,u,i)||Yd(t,u,r,a)});if(r==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(c,u){for(var f=0,d=u.length;f<d;f++)s[u[f]]||(s[u[f]]=!0,c.push(u[f]));return c},[])},mU=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},Os=function(t,n,r){if(!t)return null;var i=t.scale,a=t.duplicateDomain,o=t.type,s=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?ki(s[0]-s[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(d){var h=a?a.indexOf(d):d;return{coordinate:i(h)+u,value:d,offset:u}});return f.filter(function(d){return!qh(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,h){return{coordinate:i(d)+u,value:d,index:h,offset:u}}):i.ticks&&!r?i.ticks(t.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,h){return{coordinate:i(d)+u,value:a?a[d]:d,index:h,offset:u}})},ib=new WeakMap,Up=function(t,n){if(typeof n!="function")return t;ib.has(t)||ib.set(t,new WeakMap);var r=ib.get(t);if(r.has(n))return r.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},O1e=function(t,n,r){var i=t.scale,a=t.type,o=t.layout,s=t.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Uf(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:Bg(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Gd(),realScaleType:"point"}:a==="category"?{scale:Uf(),realScaleType:"band"}:{scale:Bg(),realScaleType:"linear"};if(nl(i)){var c="scale".concat(Wy(i));return{scale:(ET[c]||Gd)(),realScaleType:ET[c]?c:"point"}}return st(i)?{scale:i}:{scale:Gd(),realScaleType:"point"}},MT=1e-4,I1e=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,i=t.range(),a=Math.min(i[0],i[1])-MT,o=Math.max(i[0],i[1])+MT,s=t(n[0]),c=t(n[r-1]);(s<a||s>o||c<a||c>o)&&t.domain([n[0],n[r-1]])}},R1e=function(t,n){if(!t)return null;for(var r=0,i=t.length;r<i;r++)if(t[r].item===n)return t[r].position;return null},M1e=function(t,n){if(!n||n.length!==2||!Ee(n[0])||!Ee(n[1]))return t;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[t[0],t[1]];return(!Ee(t[0])||t[0]<r)&&(a[0]=r),(!Ee(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},D1e=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var c=qh(t[s][r][1])?t[s][r][0]:t[s][r][1];c>=0?(t[s][r][0]=a,t[s][r][1]=a+c,a=t[s][r][1]):(t[s][r][0]=o,t[s][r][1]=o+c,o=t[s][r][1])}},$1e=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=qh(t[o][r][1])?t[o][r][0]:t[o][r][1];s>=0?(t[o][r][0]=a,t[o][r][1]=a+s,a=t[o][r][1]):(t[o][r][0]=0,t[o][r][1]=0)}},L1e={sign:D1e,expand:Jce,none:tu,silhouette:Zce,wiggle:eue,positive:$1e},F1e=function(t,n,r){var i=n.map(function(s){return s.props.dataKey}),a=L1e[r],o=Qce().keys(i).value(function(s,c){return+ca(s,c,0)}).order(E1).offset(a);return o(t)},B1e=function(t,n,r,i,a,o){if(!t)return null;var s=o?n.reverse():n,c={},u=s.reduce(function(d,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?rn(rn({},h.type.defaultProps),h.props):h.props,v=m.stackId,y=m.hide;if(y)return d;var x=m[r],w=d[x]||{hasStack:!1,stackGroups:{}};if(jn(v)){var b=w.stackGroups[v]||{numericAxisId:r,cateAxisId:i,items:[]};b.items.push(h),w.hasStack=!0,w.stackGroups[v]=b}else w.stackGroups[zy("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return rn(rn({},d),{},kc({},x,w))},c),f={};return Object.keys(u).reduce(function(d,h){var p=u[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(v,y){var x=p.stackGroups[y];return rn(rn({},v),{},kc({},y,{numericAxisId:r,cateAxisId:i,items:x.items,stackedData:F1e(t,x.items,a)}))},m)}return rn(rn({},d),{},kc({},h,p))},f)},U1e=function(t,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var f=Jwe(u,a,s);return t.domain([rx(f),nx(f)]),{niceTicks:f}}if(a&&i==="number"){var d=t.domain(),h=Zwe(d,a,s);return{niceTicks:h}}return null},DT=function(t){var n=t.axis,r=t.ticks,i=t.offset,a=t.bandSize,o=t.entry,s=t.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var c=ca(o,n.dataKey,n.domain[s]);return bt(c)?null:n.scale(c)-a/2+i},z1e=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},W1e=function(t,n){var r,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?rn(rn({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(jn(a)){var o=n[a];if(o){var s=o.items.indexOf(t);return s>=0?o.stackedData[s]:null}}return null},H1e=function(t){return t.reduce(function(n,r){return[rx(r.concat([n[0]]).filter(Ee)),nx(r.concat([n[1]]).filter(Ee))]},[1/0,-1/0])},gU=function(t,n,r){return Object.keys(t).reduce(function(i,a){var o=t[a],s=o.stackedData,c=s.reduce(function(u,f){var d=H1e(f.slice(n,r+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},$T=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,LT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,r_=function(t,n,r){if(st(t))return t(n,r);if(!Array.isArray(t))return n;var i=[];if(Ee(t[0]))i[0]=r?t[0]:Math.min(t[0],n[0]);else if($T.test(t[0])){var a=+$T.exec(t[0])[1];i[0]=n[0]-a}else st(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(Ee(t[1]))i[1]=r?t[1]:Math.max(t[1],n[1]);else if(LT.test(t[1])){var o=+LT.exec(t[1])[1];i[1]=n[1]+o}else st(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},Kg=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!r||i>0)return i}if(t&&n&&n.length>=2){for(var a=Ok(n,function(d){return d.coordinate}),o=1/0,s=1,c=a.length;s<c;s++){var u=a[s],f=a[s-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},FT=function(t,n,r){return!t||!t.length||nC(t,ti(r,"type.defaultProps.domain"))?n:t},vU=function(t,n){var r=t.type.defaultProps?rn(rn({},t.type.defaultProps),t.props):t.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,c=r.tooltipType,u=r.chartType,f=r.hide;return rn(rn({},St(t,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:aC(t),value:ca(n,i),type:c,payload:n,chartType:u,hide:f})};function Xf(e){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xf(e)}function BT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BT(Object(n),!0).forEach(function(r){q1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function q1e(e,t,n){return t=V1e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V1e(e){var t=K1e(e,"string");return Xf(t)=="symbol"?t:t+""}function K1e(e,t){if(Xf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gg=Math.PI/180,G1e=function(t){return t*180/Math.PI},Dn=function(t,n,r,i){return{x:t+Math.cos(-Gg*i)*r,y:n+Math.sin(-Gg*i)*r}},Y1e=function(t,n){var r=t.x,i=t.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},X1e=function(t,n){var r=t.x,i=t.y,a=n.cx,o=n.cy,s=Y1e({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var c=(r-a)/s,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:s,angle:G1e(u),angleInRadian:u}},Q1e=function(t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},J1e=function(t,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return t+s*360},zT=function(t,n){var r=t.x,i=t.y,a=X1e({x:r,y:i},n),o=a.radius,s=a.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var f=Q1e(n),d=f.startAngle,h=f.endAngle,p=s,m;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=d}return m?UT(UT({},n),{},{radius:o,angle:J1e(p,n)}):null};function Qf(e){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qf(e)}var Z1e=["offset"];function e_e(e){return i_e(e)||r_e(e)||n_e(e)||t_e()}function t_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n_e(e,t){if(e){if(typeof e=="string")return i_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i_(e,t)}}function r_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function i_e(e){if(Array.isArray(e))return i_(e)}function i_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a_e(e,t){if(e==null)return{};var n=o_e(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function o_e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function WT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WT(Object(n),!0).forEach(function(r){s_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function s_e(e,t,n){return t=l_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l_e(e){var t=c_e(e,"string");return Qf(t)=="symbol"?t:t+""}function c_e(e,t){if(Qf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jf(){return Jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jf.apply(this,arguments)}var u_e=function(t){var n=t.value,r=t.formatter,i=bt(t.children)?n:t.children;return st(r)?r(i):i},d_e=function(t,n){var r=ki(n-t),i=Math.min(Math.abs(n-t),360);return r*i},f_e=function(t,n,r){var i=t.position,a=t.viewBox,o=t.offset,s=t.className,c=a,u=c.cx,f=c.cy,d=c.innerRadius,h=c.outerRadius,p=c.startAngle,m=c.endAngle,v=c.clockWise,y=(d+h)/2,x=d_e(p,m),w=x>=0?1:-1,b,j;i==="insideStart"?(b=p+w*o,j=v):i==="insideEnd"?(b=m-w*o,j=!v):i==="end"&&(b=m+w*o,j=v),j=x<=0?j:!j;var _=Dn(u,f,y,b),S=Dn(u,f,y,b+(j?1:-1)*359),k="M".concat(_.x,",").concat(_.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(j?0:1,`,
    `).concat(S.x,",").concat(S.y),E=bt(t.id)?zy("recharts-radial-line-"):t.id;return H.createElement("text",Jf({},r,{dominantBaseline:"central",className:pt("recharts-radial-bar-label",s)}),H.createElement("defs",null,H.createElement("path",{id:E,d:k})),H.createElement("textPath",{xlinkHref:"#".concat(E)},n))},h_e=function(t){var n=t.viewBox,r=t.offset,i=t.position,a=n,o=a.cx,s=a.cy,c=a.innerRadius,u=a.outerRadius,f=a.startAngle,d=a.endAngle,h=(f+d)/2;if(i==="outside"){var p=Dn(o,s,u+r,h),m=p.x,v=p.y;return{x:m,y:v,textAnchor:m>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,x=Dn(o,s,y,h),w=x.x,b=x.y;return{x:w,y:b,textAnchor:"middle",verticalAnchor:"middle"}},p_e=function(t){var n=t.viewBox,r=t.parentViewBox,i=t.offset,a=t.position,o=n,s=o.x,c=o.y,u=o.width,f=o.height,d=f>=0?1:-1,h=d*i,p=d>0?"end":"start",m=d>0?"start":"end",v=u>=0?1:-1,y=v*i,x=v>0?"end":"start",w=v>0?"start":"end";if(a==="top"){var b={x:s+u/2,y:c-d*i,textAnchor:"middle",verticalAnchor:p};return yn(yn({},b),r?{height:Math.max(c-r.y,0),width:u}:{})}if(a==="bottom"){var j={x:s+u/2,y:c+f+h,textAnchor:"middle",verticalAnchor:m};return yn(yn({},j),r?{height:Math.max(r.y+r.height-(c+f),0),width:u}:{})}if(a==="left"){var _={x:s-y,y:c+f/2,textAnchor:x,verticalAnchor:"middle"};return yn(yn({},_),r?{width:Math.max(_.x-r.x,0),height:f}:{})}if(a==="right"){var S={x:s+u+y,y:c+f/2,textAnchor:w,verticalAnchor:"middle"};return yn(yn({},S),r?{width:Math.max(r.x+r.width-S.x,0),height:f}:{})}var k=r?{width:u,height:f}:{};return a==="insideLeft"?yn({x:s+y,y:c+f/2,textAnchor:w,verticalAnchor:"middle"},k):a==="insideRight"?yn({x:s+u-y,y:c+f/2,textAnchor:x,verticalAnchor:"middle"},k):a==="insideTop"?yn({x:s+u/2,y:c+h,textAnchor:"middle",verticalAnchor:m},k):a==="insideBottom"?yn({x:s+u/2,y:c+f-h,textAnchor:"middle",verticalAnchor:p},k):a==="insideTopLeft"?yn({x:s+y,y:c+h,textAnchor:w,verticalAnchor:m},k):a==="insideTopRight"?yn({x:s+u-y,y:c+h,textAnchor:x,verticalAnchor:m},k):a==="insideBottomLeft"?yn({x:s+y,y:c+f-h,textAnchor:w,verticalAnchor:p},k):a==="insideBottomRight"?yn({x:s+u-y,y:c+f-h,textAnchor:x,verticalAnchor:p},k):Lu(a)&&(Ee(a.x)||Ns(a.x))&&(Ee(a.y)||Ns(a.y))?yn({x:s+rl(a.x,u),y:c+rl(a.y,f),textAnchor:"end",verticalAnchor:"end"},k):yn({x:s+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},k)},m_e=function(t){return"cx"in t&&Ee(t.cx)};function Vn(e){var t=e.offset,n=t===void 0?5:t,r=a_e(e,Z1e),i=yn({offset:n},r),a=i.viewBox,o=i.position,s=i.value,c=i.children,u=i.content,f=i.className,d=f===void 0?"":f,h=i.textBreakAll;if(!a||bt(s)&&bt(c)&&!g.isValidElement(u)&&!st(u))return null;if(g.isValidElement(u))return g.cloneElement(u,i);var p;if(st(u)){if(p=g.createElement(u,i),g.isValidElement(p))return p}else p=u_e(i);var m=m_e(a),v=St(i,!0);if(m&&(o==="insideStart"||o==="insideEnd"||o==="end"))return f_e(i,p,v);var y=m?h_e(i):p_e(i);return H.createElement(Ig,Jf({className:pt("recharts-label",d)},v,y,{breakAll:h}),p)}Vn.displayName="Label";var yU=function(t){var n=t.cx,r=t.cy,i=t.angle,a=t.startAngle,o=t.endAngle,s=t.r,c=t.radius,u=t.innerRadius,f=t.outerRadius,d=t.x,h=t.y,p=t.top,m=t.left,v=t.width,y=t.height,x=t.clockWise,w=t.labelViewBox;if(w)return w;if(Ee(v)&&Ee(y)){if(Ee(d)&&Ee(h))return{x:d,y:h,width:v,height:y};if(Ee(p)&&Ee(m))return{x:p,y:m,width:v,height:y}}return Ee(d)&&Ee(h)?{x:d,y:h,width:0,height:0}:Ee(n)&&Ee(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:f||c||s||0,clockWise:x}:t.viewBox?t.viewBox:{}},g_e=function(t,n){return t?t===!0?H.createElement(Vn,{key:"label-implicit",viewBox:n}):jn(t)?H.createElement(Vn,{key:"label-implicit",viewBox:n,value:t}):g.isValidElement(t)?t.type===Vn?g.cloneElement(t,{key:"label-implicit",viewBox:n}):H.createElement(Vn,{key:"label-implicit",content:t,viewBox:n}):st(t)?H.createElement(Vn,{key:"label-implicit",content:t,viewBox:n}):Lu(t)?H.createElement(Vn,Jf({viewBox:n},t,{key:"label-implicit"})):null:null},v_e=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var i=t.children,a=yU(t),o=Ai(i,Vn).map(function(c,u){return g.cloneElement(c,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var s=g_e(t.label,n||a);return[s].concat(e_e(o))};Vn.parseViewBox=yU;Vn.renderCallByParent=v_e;function y_e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var x_e=y_e;const b_e=Nt(x_e);function Zf(e){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zf(e)}var w_e=["valueAccessor"],__e=["data","dataKey","clockWise","id","textBreakAll"];function S_e(e){return E_e(e)||C_e(e)||k_e(e)||j_e()}function j_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k_e(e,t){if(e){if(typeof e=="string")return a_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a_(e,t)}}function C_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function E_e(e){if(Array.isArray(e))return a_(e)}function a_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yg(){return Yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yg.apply(this,arguments)}function HT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HT(Object(n),!0).forEach(function(r){A_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function A_e(e,t,n){return t=N_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N_e(e){var t=P_e(e,"string");return Zf(t)=="symbol"?t:t+""}function P_e(e,t){if(Zf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VT(e,t){if(e==null)return{};var n=T_e(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function T_e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var O_e=function(t){return Array.isArray(t.value)?b_e(t.value):t.value};function ia(e){var t=e.valueAccessor,n=t===void 0?O_e:t,r=VT(e,w_e),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,c=r.textBreakAll,u=VT(r,__e);return!i||!i.length?null:H.createElement(Pn,{className:"recharts-label-list"},i.map(function(f,d){var h=bt(a)?n(f,d):ca(f&&f.payload,a),p=bt(s)?{}:{id:"".concat(s,"-").concat(d)};return H.createElement(Vn,Yg({},St(f,!0),u,p,{parentViewBox:f.parentViewBox,value:h,textBreakAll:c,viewBox:Vn.parseViewBox(bt(o)?f:qT(qT({},f),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}ia.displayName="LabelList";function I_e(e,t){return e?e===!0?H.createElement(ia,{key:"labelList-implicit",data:t}):H.isValidElement(e)||st(e)?H.createElement(ia,{key:"labelList-implicit",data:t,content:e}):Lu(e)?H.createElement(ia,Yg({data:t},e,{key:"labelList-implicit"})):null:null}function R_e(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=Ai(r,ia).map(function(o,s){return g.cloneElement(o,{data:t,key:"labelList-".concat(s)})});if(!n)return i;var a=I_e(e.label,t);return[a].concat(S_e(i))}ia.renderCallByParent=R_e;function eh(e){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eh(e)}function o_(){return o_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o_.apply(this,arguments)}function KT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function GT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KT(Object(n),!0).forEach(function(r){M_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function M_e(e,t,n){return t=D_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D_e(e){var t=$_e(e,"string");return eh(t)=="symbol"?t:t+""}function $_e(e,t){if(eh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(eh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L_e=function(t,n){var r=ki(n-t),i=Math.min(Math.abs(n-t),359.999);return r*i},zp=function(t){var n=t.cx,r=t.cy,i=t.radius,a=t.angle,o=t.sign,s=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,f=c*(s?1:-1)+i,d=Math.asin(c/f)/Gg,h=u?a:a+o*d,p=Dn(n,r,f,h),m=Dn(n,r,i,h),v=u?a-o*d:a,y=Dn(n,r,f*Math.cos(d*Gg),v);return{center:p,circleTangency:m,lineTangency:y,theta:d}},xU=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.startAngle,s=t.endAngle,c=L_e(o,s),u=o+c,f=Dn(n,r,a,o),d=Dn(n,r,a,u),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var p=Dn(n,r,i,o),m=Dn(n,r,i,u);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},F_e=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,s=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,f=t.endAngle,d=ki(f-u),h=zp({cx:n,cy:r,radius:a,angle:u,sign:d,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,m=h.lineTangency,v=h.theta,y=zp({cx:n,cy:r,radius:a,angle:f,sign:-d,cornerRadius:o,cornerIsExternal:c}),x=y.circleTangency,w=y.lineTangency,b=y.theta,j=c?Math.abs(u-f):Math.abs(u-f)-v-b;if(j<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):xU({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:f});var _="M ".concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(j>180),",").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var S=zp({cx:n,cy:r,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=S.circleTangency,E=S.lineTangency,O=S.theta,N=zp({cx:n,cy:r,radius:i,angle:f,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),A=N.circleTangency,I=N.lineTangency,M=N.theta,L=c?Math.abs(u-f):Math.abs(u-f)-O-M;if(L<0&&o===0)return"".concat(_,"L").concat(n,",").concat(r,"Z");_+="L".concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(L>180),",").concat(+(d>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(E.x,",").concat(E.y,"Z")}else _+="L".concat(n,",").concat(r,"Z");return _},B_e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},bU=function(t){var n=GT(GT({},B_e),t),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,f=n.startAngle,d=n.endAngle,h=n.className;if(o<a||f===d)return null;var p=pt("recharts-sector",h),m=o-a,v=rl(s,m,0,!0),y;return v>0&&Math.abs(f-d)<360?y=F_e({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(v,m/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:d}):y=xU({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:f,endAngle:d}),H.createElement("path",o_({},St(n,!0),{className:p,d:y,role:"img"}))};function th(e){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},th(e)}function s_(){return s_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s_.apply(this,arguments)}function YT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function XT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YT(Object(n),!0).forEach(function(r){U_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function U_e(e,t,n){return t=z_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z_e(e){var t=W_e(e,"string");return th(t)=="symbol"?t:t+""}function W_e(e,t){if(th(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(th(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QT={curveBasisClosed:Bce,curveBasisOpen:Uce,curveBasis:Fce,curveBumpX:kce,curveBumpY:Cce,curveLinearClosed:zce,curveLinear:qy,curveMonotoneX:Wce,curveMonotoneY:Hce,curveNatural:qce,curveStep:Vce,curveStepAfter:Gce,curveStepBefore:Kce},Wp=function(t){return t.x===+t.x&&t.y===+t.y},vd=function(t){return t.x},yd=function(t){return t.y},H_e=function(t,n){if(st(t))return t;var r="curve".concat(Wy(t));return(r==="curveMonotone"||r==="curveBump")&&n?QT["".concat(r).concat(n==="vertical"?"Y":"X")]:QT[r]||qy},q_e=function(t){var n=t.type,r=n===void 0?"linear":n,i=t.points,a=i===void 0?[]:i,o=t.baseLine,s=t.layout,c=t.connectNulls,u=c===void 0?!1:c,f=H_e(r,s),d=u?a.filter(function(v){return Wp(v)}):a,h;if(Array.isArray(o)){var p=u?o.filter(function(v){return Wp(v)}):o,m=d.map(function(v,y){return XT(XT({},v),{},{base:p[y]})});return s==="vertical"?h=Ip().y(yd).x1(vd).x0(function(v){return v.base.x}):h=Ip().x(vd).y1(yd).y0(function(v){return v.base.y}),h.defined(Wp).curve(f),h(m)}return s==="vertical"&&Ee(o)?h=Ip().y(yd).x1(vd).x0(o):Ee(o)?h=Ip().x(vd).y1(yd).y0(o):h=_B().x(vd).y(yd),h.defined(Wp).curve(f),h(d)},JT=function(t){var n=t.className,r=t.points,i=t.path,a=t.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?q_e(t):i;return g.createElement("path",s_({},St(t,!1),yg(t),{className:pt("recharts-curve",n),d:o,ref:a}))},wU={exports:{}},V_e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",K_e=V_e,G_e=K_e;function _U(){}function SU(){}SU.resetWarningCache=_U;var Y_e=function(){function e(r,i,a,o,s,c){if(c!==G_e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:SU,resetWarningCache:_U};return n.PropTypes=n,n};wU.exports=Y_e();var X_e=wU.exports;const wt=Nt(X_e);var Q_e=Object.getOwnPropertyNames,J_e=Object.getOwnPropertySymbols,Z_e=Object.prototype.hasOwnProperty;function ZT(e,t){return function(r,i,a){return e(r,i,a)&&t(r,i,a)}}function Hp(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);var a=i.cache,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);var c=e(n,r,i);return a.delete(n),a.delete(r),c}}function eO(e){return Q_e(e).concat(J_e(e))}var eSe=Object.hasOwn||function(e,t){return Z_e.call(e,t)};function wl(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var tSe="__v",nSe="__o",rSe="_owner",tO=Object.getOwnPropertyDescriptor,nO=Object.keys;function iSe(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function aSe(e,t){return wl(e.getTime(),t.getTime())}function oSe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function sSe(e,t){return e===t}function rO(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),a=e.entries(),o,s,c=0;(o=a.next())&&!o.done;){for(var u=t.entries(),f=!1,d=0;(s=u.next())&&!s.done;){if(i[d]){d++;continue}var h=o.value,p=s.value;if(n.equals(h[0],p[0],c,d,e,t,n)&&n.equals(h[1],p[1],h[0],p[0],e,t,n)){f=i[d]=!0;break}d++}if(!f)return!1;c++}return!0}var lSe=wl;function cSe(e,t,n){var r=nO(e),i=r.length;if(nO(t).length!==i)return!1;for(;i-- >0;)if(!jU(e,t,n,r[i]))return!1;return!0}function xd(e,t,n){var r=eO(e),i=r.length;if(eO(t).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=r[i],!jU(e,t,n,a)||(o=tO(e,a),s=tO(t,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function uSe(e,t){return wl(e.valueOf(),t.valueOf())}function dSe(e,t){return e.source===t.source&&e.flags===t.flags}function iO(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),a=e.values(),o,s;(o=a.next())&&!o.done;){for(var c=t.values(),u=!1,f=0;(s=c.next())&&!s.done;){if(!i[f]&&n.equals(o.value,s.value,o.value,s.value,e,t,n)){u=i[f]=!0;break}f++}if(!u)return!1}return!0}function fSe(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function hSe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function jU(e,t,n,r){return(r===rSe||r===nSe||r===tSe)&&(e.$$typeof||t.$$typeof)?!0:eSe(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var pSe="[object Arguments]",mSe="[object Boolean]",gSe="[object Date]",vSe="[object Error]",ySe="[object Map]",xSe="[object Number]",bSe="[object Object]",wSe="[object RegExp]",_Se="[object Set]",SSe="[object String]",jSe="[object URL]",kSe=Array.isArray,aO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,oO=Object.assign,CSe=Object.prototype.toString.call.bind(Object.prototype.toString);function ESe(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,f=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(m,v,y){if(m===v)return!0;if(m==null||v==null)return!1;var x=typeof m;if(x!==typeof v)return!1;if(x!=="object")return x==="number"?o(m,v,y):x==="function"?i(m,v,y):!1;var w=m.constructor;if(w!==v.constructor)return!1;if(w===Object)return s(m,v,y);if(kSe(m))return t(m,v,y);if(aO!=null&&aO(m))return d(m,v,y);if(w===Date)return n(m,v,y);if(w===RegExp)return u(m,v,y);if(w===Map)return a(m,v,y);if(w===Set)return f(m,v,y);var b=CSe(m);return b===gSe?n(m,v,y):b===wSe?u(m,v,y):b===ySe?a(m,v,y):b===_Se?f(m,v,y):b===bSe?typeof m.then!="function"&&typeof v.then!="function"&&s(m,v,y):b===jSe?h(m,v,y):b===vSe?r(m,v,y):b===pSe?s(m,v,y):b===mSe||b===xSe||b===SSe?c(m,v,y):!1}}function ASe(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?xd:iSe,areDatesEqual:aSe,areErrorsEqual:oSe,areFunctionsEqual:sSe,areMapsEqual:r?ZT(rO,xd):rO,areNumbersEqual:lSe,areObjectsEqual:r?xd:cSe,arePrimitiveWrappersEqual:uSe,areRegExpsEqual:dSe,areSetsEqual:r?ZT(iO,xd):iO,areTypedArraysEqual:r?xd:fSe,areUrlsEqual:hSe};if(n&&(i=oO({},i,n(i))),t){var a=Hp(i.areArraysEqual),o=Hp(i.areMapsEqual),s=Hp(i.areObjectsEqual),c=Hp(i.areSetsEqual);i=oO({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:c})}return i}function NSe(e){return function(t,n,r,i,a,o,s){return e(t,n,s)}}function PSe(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,a=e.strict;if(r)return function(c,u){var f=r(),d=f.cache,h=d===void 0?t?new WeakMap:void 0:d,p=f.meta;return n(c,u,{cache:h,equals:i,meta:p,strict:a})};if(t)return function(c,u){return n(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,u){return n(c,u,o)}}var TSe=cs();cs({strict:!0});cs({circular:!0});cs({circular:!0,strict:!0});cs({createInternalComparator:function(){return wl}});cs({strict:!0,createInternalComparator:function(){return wl}});cs({circular:!0,createInternalComparator:function(){return wl}});cs({circular:!0,createInternalComparator:function(){return wl},strict:!0});function cs(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,i=e.createState,a=e.strict,o=a===void 0?!1:a,s=ASe(e),c=ESe(s),u=r?r(c):NSe(c);return PSe({circular:n,comparator:c,createState:i,equals:u,strict:o})}function OSe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function sO(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>t?(e(a),n=-1):OSe(i)};requestAnimationFrame(r)}function l_(e){"@babel/helpers - typeof";return l_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l_(e)}function ISe(e){return $Se(e)||DSe(e)||MSe(e)||RSe()}function RSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MSe(e,t){if(e){if(typeof e=="string")return lO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lO(e,t)}}function lO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function DSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $Se(e){if(Array.isArray(e))return e}function LSe(){var e={},t=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=ISe(o),c=s[0],u=s.slice(1);if(typeof c=="number"){sO(i.bind(null,u),c);return}i(c),sO(i.bind(null,u));return}l_(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function nh(e){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nh(e)}function cO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cO(Object(n),!0).forEach(function(r){kU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kU(e,t,n){return t=FSe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FSe(e){var t=BSe(e,"string");return nh(t)==="symbol"?t:String(t)}function BSe(e,t){if(nh(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(nh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var USe=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},zSe=function(t){return t},WSe=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Xd=function(t,n){return Object.keys(n).reduce(function(r,i){return uO(uO({},r),{},kU({},i,t(i,n[i])))},{})},dO=function(t,n,r){return t.map(function(i){return"".concat(WSe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function HSe(e,t){return KSe(e)||VSe(e,t)||CU(e,t)||qSe()}function qSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VSe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function KSe(e){if(Array.isArray(e))return e}function GSe(e){return QSe(e)||XSe(e)||CU(e)||YSe()}function YSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CU(e,t){if(e){if(typeof e=="string")return c_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c_(e,t)}}function XSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QSe(e){if(Array.isArray(e))return c_(e)}function c_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Xg=1e-4,EU=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},AU=function(t,n){return t.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},fO=function(t,n){return function(r){var i=EU(t,n);return AU(i,r)}},JSe=function(t,n){return function(r){var i=EU(t,n),a=[].concat(GSe(i.map(function(o,s){return o*s}).slice(1)),[0]);return AU(a,r)}},hO=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),f=HSe(u,4);i=f[0],a=f[1],o=f[2],s=f[3]}}}var d=fO(i,o),h=fO(a,s),p=JSe(i,o),m=function(x){return x>1?1:x<0?0:x},v=function(x){for(var w=x>1?1:x,b=w,j=0;j<8;++j){var _=d(b)-w,S=p(b);if(Math.abs(_-w)<Xg||S<Xg)return h(b);b=m(b-_/S)}return h(b)};return v.isStepper=!1,v},ZSe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,i=t.damping,a=i===void 0?8:i,o=t.dt,s=o===void 0?17:o,c=function(f,d,h){var p=-(f-d)*r,m=h*a,v=h+(p-m)*s/1e3,y=h*s/1e3+f;return Math.abs(y-d)<Xg&&Math.abs(v)<Xg?[d,0]:[y,v]};return c.isStepper=!0,c.dt=s,c},eje=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return hO(i);case"spring":return ZSe();default:if(i.split("(")[0]==="cubic-bezier")return hO(i)}return typeof i=="function"?i:null};function rh(e){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rh(e)}function pO(e){return rje(e)||nje(e)||NU(e)||tje()}function tje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rje(e){if(Array.isArray(e))return d_(e)}function mO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function In(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mO(Object(n),!0).forEach(function(r){u_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function u_(e,t,n){return t=ije(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ije(e){var t=aje(e,"string");return rh(t)==="symbol"?t:String(t)}function aje(e,t){if(rh(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(rh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oje(e,t){return cje(e)||lje(e,t)||NU(e,t)||sje()}function sje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NU(e,t){if(e){if(typeof e=="string")return d_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d_(e,t)}}function d_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lje(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function cje(e){if(Array.isArray(e))return e}var Qg=function(t,n,r){return t+(n-t)*r},f_=function(t){var n=t.from,r=t.to;return n!==r},uje=function e(t,n,r){var i=Xd(function(a,o){if(f_(o)){var s=t(o.from,o.to,o.velocity),c=oje(s,2),u=c[0],f=c[1];return In(In({},o),{},{from:u,velocity:f})}return o},n);return r<1?Xd(function(a,o){return f_(o)?In(In({},o),{},{velocity:Qg(o.velocity,i[a].velocity,r),from:Qg(o.from,i[a].from,r)}):o},n):e(t,i,r-1)};const dje=function(e,t,n,r,i){var a=USe(e,t),o=a.reduce(function(y,x){return In(In({},y),{},u_({},x,[e[x],t[x]]))},{}),s=a.reduce(function(y,x){return In(In({},y),{},u_({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,u,f,d=function(){return null},h=function(){return Xd(function(x,w){return w.from},s)},p=function(){return!Object.values(s).filter(f_).length},m=function(x){u||(u=x);var w=x-u,b=w/n.dt;s=uje(n,s,b),i(In(In(In({},e),t),h())),u=x,p()||(c=requestAnimationFrame(d))},v=function(x){f||(f=x);var w=(x-f)/r,b=Xd(function(_,S){return Qg.apply(void 0,pO(S).concat([n(w)]))},o);if(i(In(In(In({},e),t),b)),w<1)c=requestAnimationFrame(d);else{var j=Xd(function(_,S){return Qg.apply(void 0,pO(S).concat([n(1)]))},o);i(In(In(In({},e),t),j))}};return d=n.isStepper?m:v,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(c)}}};function uu(e){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(e)}var fje=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function hje(e,t){if(e==null)return{};var n=pje(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function pje(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function ab(e){return yje(e)||vje(e)||gje(e)||mje()}function mje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gje(e,t){if(e){if(typeof e=="string")return h_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h_(e,t)}}function vje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yje(e){if(Array.isArray(e))return h_(e)}function h_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function di(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gO(Object(n),!0).forEach(function(r){Id(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Id(e,t,n){return t=PU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bje(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,PU(r.key),r)}}function wje(e,t,n){return t&&bje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PU(e){var t=_je(e,"string");return uu(t)==="symbol"?t:String(t)}function _je(e,t){if(uu(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(uu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p_(e,t)}function p_(e,t){return p_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},p_(e,t)}function jje(e){var t=kje();return function(){var r=Jg(e),i;if(t){var a=Jg(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return m_(this,i)}}function m_(e,t){if(t&&(uu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g_(e)}function g_(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kje(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Jg(e){return Jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jg(e)}var Ko=function(e){Sje(n,e);var t=jje(n);function n(r,i){var a;xje(this,n),a=t.call(this,r,i);var o=a.props,s=o.isActive,c=o.attributeName,u=o.from,f=o.to,d=o.steps,h=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(g_(a)),a.changeStyle=a.changeStyle.bind(g_(a)),!s||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:f}),m_(a);if(d&&d.length)a.state={style:d[0].style};else if(u){if(typeof h=="function")return a.state={style:u},m_(a);a.state={style:c?Id({},c,u):u}}else a.state={style:{}};return a}return wje(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,f=a.to,d=a.from,h=this.state.style;if(s){if(!o){var p={style:c?Id({},c,f):f};this.state&&h&&(c&&h[c]!==f||!c&&h!==f)&&this.setState(p);return}if(!(TSe(i.to,f)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=m||u?d:i.to;if(this.state&&h){var y={style:c?Id({},c,v):v};(c&&h[c]!==v||!c&&h!==v)&&this.setState(y)}this.runAnimation(di(di({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,c=i.duration,u=i.easing,f=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,p=dje(o,s,eje(u),c,this.changeStyle),m=function(){a.stopJSAnimation=p()};this.manager.start([h,f,m,c,d])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,c=i.onAnimationStart,u=o[0],f=u.style,d=u.duration,h=d===void 0?0:d,p=function(v,y,x){if(x===0)return v;var w=y.duration,b=y.easing,j=b===void 0?"ease":b,_=y.style,S=y.properties,k=y.onAnimationEnd,E=x>0?o[x-1]:y,O=S||Object.keys(_);if(typeof j=="function"||j==="spring")return[].concat(ab(v),[a.runJSAnimation.bind(a,{from:E.style,to:_,duration:w,easing:j}),w]);var N=dO(O,w,j),A=di(di(di({},E.style),_),{},{transition:N});return[].concat(ab(v),[A,w,k]).filter(zSe)};return this.manager.start([c].concat(ab(o.reduce(p,[f,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=LSe());var a=i.begin,o=i.duration,s=i.attributeName,c=i.to,u=i.easing,f=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var v=s?Id({},s,c):c,y=dO(Object.keys(v),o,u);m.start([f,a,di(di({},v),{},{transition:y}),o,d])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=hje(i,fje),u=g.Children.count(a),f=this.state.style;if(typeof a=="function")return a(f);if(!s||u===0||o<=0)return a;var d=function(p){var m=p.props,v=m.style,y=v===void 0?{}:v,x=m.className,w=g.cloneElement(p,di(di({},c),{},{style:di(di({},y),f),className:x}));return w};return u===1?d(g.Children.only(a)):H.createElement("div",null,g.Children.map(a,function(h){return d(h)}))}}]),n}(g.PureComponent);Ko.displayName="Animate";Ko.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ko.propTypes={from:wt.oneOfType([wt.object,wt.string]),to:wt.oneOfType([wt.object,wt.string]),attributeName:wt.string,duration:wt.number,begin:wt.number,easing:wt.oneOfType([wt.string,wt.func]),steps:wt.arrayOf(wt.shape({duration:wt.number.isRequired,style:wt.object.isRequired,easing:wt.oneOfType([wt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),wt.func]),properties:wt.arrayOf("string"),onAnimationEnd:wt.func})),children:wt.oneOfType([wt.node,wt.func]),isActive:wt.bool,canBegin:wt.bool,onAnimationEnd:wt.func,shouldReAnimate:wt.bool,onAnimationStart:wt.func,onAnimationReStart:wt.func};function ih(e){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ih(e)}function Zg(){return Zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zg.apply(this,arguments)}function Cje(e,t){return Pje(e)||Nje(e,t)||Aje(e,t)||Eje()}function Eje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aje(e,t){if(e){if(typeof e=="string")return vO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vO(e,t)}}function vO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nje(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Pje(e){if(Array.isArray(e))return e}function yO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yO(Object(n),!0).forEach(function(r){Tje(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tje(e,t,n){return t=Oje(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oje(e){var t=Ije(e,"string");return ih(t)=="symbol"?t:t+""}function Ije(e,t){if(ih(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bO=function(t,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,c=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,f;if(o>0&&a instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=a[h]>o?o:a[h];f="M".concat(t,",").concat(n+s*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(t+c*d[0],",").concat(n)),f+="L ".concat(t+r-c*d[1],",").concat(n),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(t+r,",").concat(n+s*d[1])),f+="L ".concat(t+r,",").concat(n+i-s*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(t+r-c*d[2],",").concat(n+i)),f+="L ".concat(t+c*d[3],",").concat(n+i),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+i-s*d[3])),f+="Z"}else if(o>0&&a===+a&&a>0){var m=Math.min(o,a);f="M ".concat(t,",").concat(n+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+c*m,",").concat(n,`
            L `).concat(t+r-c*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+r,",").concat(n+s*m,`
            L `).concat(t+r,",").concat(n+i-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+r-c*m,",").concat(n+i,`
            L `).concat(t+c*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t,",").concat(n+i-s*m," Z")}else f="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return f},Rje=function(t,n){if(!t||!n)return!1;var r=t.x,i=t.y,a=n.x,o=n.y,s=n.width,c=n.height;if(Math.abs(s)>0&&Math.abs(c)>0){var u=Math.min(a,a+s),f=Math.max(a,a+s),d=Math.min(o,o+c),h=Math.max(o,o+c);return r>=u&&r<=f&&i>=d&&i<=h}return!1},Mje={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oC=function(t){var n=xO(xO({},Mje),t),r=g.useRef(),i=g.useState(-1),a=Cje(i,2),o=a[0],s=a[1];g.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var j=r.current.getTotalLength();j&&s(j)}catch{}},[]);var c=n.x,u=n.y,f=n.width,d=n.height,h=n.radius,p=n.className,m=n.animationEasing,v=n.animationDuration,y=n.animationBegin,x=n.isAnimationActive,w=n.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||d!==+d||f===0||d===0)return null;var b=pt("recharts-rectangle",p);return w?H.createElement(Ko,{canBegin:o>0,from:{width:f,height:d,x:c,y:u},to:{width:f,height:d,x:c,y:u},duration:v,animationEasing:m,isActive:w},function(j){var _=j.width,S=j.height,k=j.x,E=j.y;return H.createElement(Ko,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,isActive:x,easing:m},H.createElement("path",Zg({},St(n,!0),{className:b,d:bO(k,E,_,S,h),ref:r})))}):H.createElement("path",Zg({},St(n,!0),{className:b,d:bO(c,u,f,d,h)}))};function v_(){return v_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v_.apply(this,arguments)}var TU=function(t){var n=t.cx,r=t.cy,i=t.r,a=t.className,o=pt("recharts-dot",a);return n===+n&&r===+r&&i===+i?g.createElement("circle",v_({},St(t,!1),yg(t),{className:o,cx:n,cy:r,r:i})):null};function ah(e){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ah(e)}var Dje=["x","y","top","left","width","height","className"];function y_(){return y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y_.apply(this,arguments)}function wO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $je(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wO(Object(n),!0).forEach(function(r){Lje(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lje(e,t,n){return t=Fje(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fje(e){var t=Bje(e,"string");return ah(t)=="symbol"?t:t+""}function Bje(e,t){if(ah(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uje(e,t){if(e==null)return{};var n=zje(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function zje(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Wje=function(t,n,r,i,a,o){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},Hje=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.top,s=o===void 0?0:o,c=t.left,u=c===void 0?0:c,f=t.width,d=f===void 0?0:f,h=t.height,p=h===void 0?0:h,m=t.className,v=Uje(t,Dje),y=$je({x:r,y:a,top:s,left:u,width:d,height:p},v);return!Ee(r)||!Ee(a)||!Ee(d)||!Ee(p)||!Ee(s)||!Ee(u)?null:H.createElement("path",y_({},St(y,!0),{className:pt("recharts-cross",m),d:Wje(r,a,d,p,s,u)}))},qje=VB,Vje=qje(Object.getPrototypeOf,Object),Kje=Vje,Gje=Ja,Yje=Kje,Xje=Za,Qje="[object Object]",Jje=Function.prototype,Zje=Object.prototype,OU=Jje.toString,eke=Zje.hasOwnProperty,tke=OU.call(Object);function nke(e){if(!Xje(e)||Gje(e)!=Qje)return!1;var t=Yje(e);if(t===null)return!0;var n=eke.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&OU.call(n)==tke}var rke=nke;const ike=Nt(rke);var ake=Ja,oke=Za,ske="[object Boolean]";function lke(e){return e===!0||e===!1||oke(e)&&ake(e)==ske}var cke=lke;const uke=Nt(cke);function oh(e){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oh(e)}function ev(){return ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ev.apply(this,arguments)}function dke(e,t){return mke(e)||pke(e,t)||hke(e,t)||fke()}function fke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hke(e,t){if(e){if(typeof e=="string")return _O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _O(e,t)}}function _O(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pke(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function mke(e){if(Array.isArray(e))return e}function SO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SO(Object(n),!0).forEach(function(r){gke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gke(e,t,n){return t=vke(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vke(e){var t=yke(e,"string");return oh(t)=="symbol"?t:t+""}function yke(e,t){if(oh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kO=function(t,n,r,i,a){var o=r-i,s;return s="M ".concat(t,",").concat(n),s+="L ".concat(t+r,",").concat(n),s+="L ".concat(t+r-o/2,",").concat(n+a),s+="L ".concat(t+r-o/2-i,",").concat(n+a),s+="L ".concat(t,",").concat(n," Z"),s},xke={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},bke=function(t){var n=jO(jO({},xke),t),r=g.useRef(),i=g.useState(-1),a=dke(i,2),o=a[0],s=a[1];g.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&s(b)}catch{}},[]);var c=n.x,u=n.y,f=n.upperWidth,d=n.lowerWidth,h=n.height,p=n.className,m=n.animationEasing,v=n.animationDuration,y=n.animationBegin,x=n.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||d!==+d||h!==+h||f===0&&d===0||h===0)return null;var w=pt("recharts-trapezoid",p);return x?H.createElement(Ko,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:f,lowerWidth:d,height:h,x:c,y:u},duration:v,animationEasing:m,isActive:x},function(b){var j=b.upperWidth,_=b.lowerWidth,S=b.height,k=b.x,E=b.y;return H.createElement(Ko,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,easing:m},H.createElement("path",ev({},St(n,!0),{className:w,d:kO(k,E,j,_,S),ref:r})))}):H.createElement("g",null,H.createElement("path",ev({},St(n,!0),{className:w,d:kO(c,u,f,d,h)})))},wke=["option","shapeType","propTransformer","activeClassName","isActive"];function sh(e){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sh(e)}function _ke(e,t){if(e==null)return{};var n=Ske(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ske(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function CO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CO(Object(n),!0).forEach(function(r){jke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jke(e,t,n){return t=kke(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kke(e){var t=Cke(e,"string");return sh(t)=="symbol"?t:t+""}function Cke(e,t){if(sh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eke(e,t){return tv(tv({},t),e)}function Ake(e,t){return e==="symbols"}function EO(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return H.createElement(oC,n);case"trapezoid":return H.createElement(bke,n);case"sector":return H.createElement(bU,n);case"symbols":if(Ake(t))return H.createElement(Sk,n);break;default:return null}}function Nke(e){return g.isValidElement(e)?e.props:e}function Pke(e){var t=e.option,n=e.shapeType,r=e.propTransformer,i=r===void 0?Eke:r,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,s=e.isActive,c=_ke(e,wke),u;if(g.isValidElement(t))u=g.cloneElement(t,tv(tv({},c),Nke(t)));else if(st(t))u=t(c);else if(ike(t)&&!uke(t)){var f=i(t,c);u=H.createElement(EO,{shapeType:n,elementProps:f})}else{var d=c;u=H.createElement(EO,{shapeType:n,elementProps:d})}return s?H.createElement(Pn,{className:o},u):u}function sx(e,t){return t!=null&&"trapezoids"in e.props}function lx(e,t){return t!=null&&"sectors"in e.props}function lh(e,t){return t!=null&&"points"in e.props}function Tke(e,t){var n,r,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,a=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return i&&a}function Oke(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function Ike(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function Rke(e,t){var n;return sx(e,t)?n=Tke:lx(e,t)?n=Oke:lh(e,t)&&(n=Ike),n}function Mke(e,t){var n;return sx(e,t)?n="trapezoids":lx(e,t)?n="sectors":lh(e,t)&&(n="points"),n}function Dke(e,t){if(sx(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(lx(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return lh(e,t)?t.payload:{}}function $ke(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=Mke(n,t),a=Dke(n,t),o=r.filter(function(c,u){var f=nC(a,c),d=n.props[i].filter(function(m){var v=Rke(n,t);return v(m,t)}),h=n.props[i].indexOf(d[d.length-1]),p=u===h;return f&&p}),s=r.indexOf(o[o.length-1]);return s}var Lke=Math.ceil,Fke=Math.max;function Bke(e,t,n,r){for(var i=-1,a=Fke(Lke((t-e)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=e,e+=n;return o}var Uke=Bke,zke=u5,AO=1/0,Wke=17976931348623157e292;function Hke(e){if(!e)return e===0?e:0;if(e=zke(e),e===AO||e===-AO){var t=e<0?-1:1;return t*Wke}return e===e?e:0}var qke=Hke,Vke=Uke,Kke=Yy,ob=qke;function Gke(e){return function(t,n,r){return r&&typeof r!="number"&&Kke(t,n,r)&&(n=r=void 0),t=ob(t),n===void 0?(n=t,t=0):n=ob(n),r=r===void 0?t<n?1:-1:ob(r),Vke(t,n,r,e)}}var Yke=Gke,Xke=Yke,Qke=Xke(),Jke=Qke;const nv=Nt(Jke);function ch(e){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ch(e)}function NO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NO(Object(n),!0).forEach(function(r){IU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IU(e,t,n){return t=Zke(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zke(e){var t=eCe(e,"string");return ch(t)=="symbol"?t:t+""}function eCe(e,t){if(ch(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tCe=["Webkit","Moz","O","ms"],nCe=function(t,n){var r=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=tCe.reduce(function(a,o){return PO(PO({},a),{},IU({},o+r,n))},{});return i[t]=n,i};function du(e){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},du(e)}function rv(){return rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rv.apply(this,arguments)}function TO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TO(Object(n),!0).forEach(function(r){Nr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,MU(r.key),r)}}function iCe(e,t,n){return t&&OO(e.prototype,t),n&&OO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function aCe(e,t,n){return t=iv(t),oCe(e,RU()?Reflect.construct(t,n||[],iv(e).constructor):t.apply(e,n))}function oCe(e,t){if(t&&(du(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sCe(e)}function sCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RU=function(){return!!e})()}function iv(e){return iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iv(e)}function lCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x_(e,t)}function x_(e,t){return x_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},x_(e,t)}function Nr(e,t,n){return t=MU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MU(e){var t=cCe(e,"string");return du(t)=="symbol"?t:t+""}function cCe(e,t){if(du(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uCe=function(t){var n=t.data,r=t.startIndex,i=t.endIndex,a=t.x,o=t.width,s=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=Gd().domain(nv(0,c)).range([a,a+o-s]),f=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:f}},IO=function(t){return t.changedTouches&&!!t.changedTouches.length},fu=function(e){function t(n){var r;return rCe(this,t),r=aCe(this,t,[n]),Nr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Nr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Nr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),Nr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Nr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Nr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Nr(r,"handleSlideDragStart",function(i){var a=IO(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return lCe(t,e),iCe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,c=s.gap,u=s.data,f=u.length-1,d=Math.min(i,a),h=Math.max(i,a),p=t.getIndexInRange(o,d),m=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:m===f?f:m-m%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,c=ca(a[r],s,r);return st(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,c=this.props,u=c.x,f=c.width,d=c.travellerWidth,h=c.startIndex,p=c.endIndex,m=c.onChange,v=r.pageX-a;v>0?v=Math.min(v,u+f-d-s,u+f-d-o):v<0&&(v=Math.max(v,u-o,u-s));var y=this.getIndex({startX:o+v,endX:s+v});(y.startIndex!==h||y.endIndex!==p)&&m&&m(y),this.setState({startX:o+v,endX:s+v,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=IO(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,c=i.startX,u=this.state[o],f=this.props,d=f.x,h=f.width,p=f.travellerWidth,m=f.onChange,v=f.gap,y=f.data,x={startX:this.state.startX,endX:this.state.endX},w=r.pageX-a;w>0?w=Math.min(w,d+h-p-u):w<0&&(w=Math.max(w,d-u)),x[o]=u+w;var b=this.getIndex(x),j=b.startIndex,_=b.endIndex,S=function(){var E=y.length-1;return o==="startX"&&(s>c?j%v===0:_%v===0)||s<c&&_===E||o==="endX"&&(s>c?_%v===0:j%v===0)||s>c&&_===E};this.setState(Nr(Nr({},o,u+w),"brushMoveStartX",r.pageX),function(){m&&S()&&m(b)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,c=o.startX,u=o.endX,f=this.state[i],d=s.indexOf(f);if(d!==-1){var h=d+r;if(!(h===-1||h>=s.length)){var p=s[h];i==="startX"&&p>=u||i==="endX"&&p<=c||this.setState(Nr({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,c=r.fill,u=r.stroke;return H.createElement("rect",{stroke:u,fill:c,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,c=r.data,u=r.children,f=r.padding,d=g.Children.only(u);return d?H.cloneElement(d,{x:i,y:a,width:o,height:s,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,c=this.props,u=c.y,f=c.travellerWidth,d=c.height,h=c.traveller,p=c.ariaLabel,m=c.data,v=c.startIndex,y=c.endIndex,x=Math.max(r,this.props.x),w=sb(sb({},St(this.props,!1)),{},{x,y:u,width:f,height:d}),b=p||"Min value: ".concat((a=m[v])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=m[y])===null||o===void 0?void 0:o.name);return H.createElement(Pn,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),s.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,w))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,c=a.stroke,u=a.travellerWidth,f=Math.min(r,i)+u,d=Math.max(Math.abs(i-r)-u,0);return H.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:o,width:d,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,c=r.travellerWidth,u=r.stroke,f=this.state,d=f.startX,h=f.endX,p=5,m={pointerEvents:"none",fill:u};return H.createElement(Pn,{className:"recharts-brush-texts"},H.createElement(Ig,rv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:o+s/2},m),this.getTextOfTick(i)),H.createElement(Ig,rv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+c+p,y:o+s/2},m),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,c=r.y,u=r.width,f=r.height,d=r.alwaysShowText,h=this.state,p=h.startX,m=h.endX,v=h.isTextActive,y=h.isSlideMoving,x=h.isTravellerMoving,w=h.isTravellerFocused;if(!i||!i.length||!Ee(s)||!Ee(c)||!Ee(u)||!Ee(f)||u<=0||f<=0)return null;var b=pt("recharts-brush",a),j=H.Children.count(o)===1,_=nCe("userSelect","none");return H.createElement(Pn,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(v||y||x||w||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,c=r.stroke,u=Math.floor(a+s/2)-1;return H.createElement(H.Fragment,null,H.createElement("rect",{x:i,y:a,width:o,height:s,fill:c,stroke:"none"}),H.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),H.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return H.isValidElement(r)?a=H.cloneElement(r,i):st(r)?a=r(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,c=r.travellerWidth,u=r.updateId,f=r.startIndex,d=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return sb({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?uCe({data:a,width:o,x:s,travellerWidth:c,startIndex:f,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([s,s+o-c]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var c=Math.floor((o+s)/2);r[c]>i?s=c:o=c}return i>=r[s]?s:o}}])}(g.PureComponent);Nr(fu,"displayName","Brush");Nr(fu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var dCe=Tk;function fCe(e,t){var n;return dCe(e,function(r,i,a){return n=t(r,i,a),!n}),!!n}var hCe=fCe,pCe=LB,mCe=qu,gCe=hCe,vCe=Cr,yCe=Yy;function xCe(e,t,n){var r=vCe(e)?pCe:gCe;return n&&yCe(e,t,n)&&(t=void 0),r(e,mCe(t))}var bCe=xCe;const wCe=Nt(bCe);var aa=function(t,n){var r=t.alwaysShow,i=t.ifOverflow;return r&&(i="extendDomain"),i===n},RO=a5;function _Ce(e,t,n){t=="__proto__"&&RO?RO(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var SCe=_Ce,jCe=SCe,kCe=r5,CCe=qu;function ECe(e,t){var n={};return t=CCe(t),kCe(e,function(r,i,a){jCe(n,i,t(r,i,a))}),n}var ACe=ECe;const NCe=Nt(ACe);function PCe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var TCe=PCe,OCe=Tk;function ICe(e,t){var n=!0;return OCe(e,function(r,i,a){return n=!!t(r,i,a),n}),n}var RCe=ICe,MCe=TCe,DCe=RCe,$Ce=qu,LCe=Cr,FCe=Yy;function BCe(e,t,n){var r=LCe(e)?MCe:DCe;return n&&FCe(e,t,n)&&(t=void 0),r(e,$Ce(t))}var UCe=BCe;const zCe=Nt(UCe);var WCe=["x","y"];function uh(e){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uh(e)}function b_(){return b_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b_.apply(this,arguments)}function MO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MO(Object(n),!0).forEach(function(r){HCe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HCe(e,t,n){return t=qCe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qCe(e){var t=VCe(e,"string");return uh(t)=="symbol"?t:t+""}function VCe(e,t){if(uh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KCe(e,t){if(e==null)return{};var n=GCe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function GCe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function YCe(e,t){var n=e.x,r=e.y,i=KCe(e,WCe),a="".concat(n),o=parseInt(a,10),s="".concat(r),c=parseInt(s,10),u="".concat(t.height||i.height),f=parseInt(u,10),d="".concat(t.width||i.width),h=parseInt(d,10);return bd(bd(bd(bd(bd({},t),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:h,name:t.name,radius:t.radius})}function DO(e){return H.createElement(Pke,b_({shapeType:"rectangle",propTransformer:YCe,activeClassName:"recharts-active-bar"},e))}var XCe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof t=="number")return t;var a=Ee(r)||dle(r);return a?t(r,i):(a||al(),n)}},QCe=["value","background"],DU;function hu(e){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}function JCe(e,t){if(e==null)return{};var n=ZCe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ZCe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function av(){return av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},av.apply(this,arguments)}function $O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function un(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$O(Object(n),!0).forEach(function(r){Ao(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$O(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,LU(r.key),r)}}function tEe(e,t,n){return t&&LO(e.prototype,t),n&&LO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function nEe(e,t,n){return t=ov(t),rEe(e,$U()?Reflect.construct(t,n||[],ov(e).constructor):t.apply(e,n))}function rEe(e,t){if(t&&(hu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iEe(e)}function iEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $U(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($U=function(){return!!e})()}function ov(e){return ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ov(e)}function aEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w_(e,t)}function w_(e,t){return w_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},w_(e,t)}function Ao(e,t,n){return t=LU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LU(e){var t=oEe(e,"string");return hu(t)=="symbol"?t:t+""}function oEe(e,t){if(hu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fr=function(e){function t(){var n;eEe(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=nEe(this,t,[].concat(i)),Ao(n,"state",{isAnimationFinished:!1}),Ao(n,"id",zy("recharts-bar-")),Ao(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Ao(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return aEe(t,e),tEe(t,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,c=a.activeIndex,u=a.activeBar,f=St(this.props,!1);return r&&r.map(function(d,h){var p=h===c,m=p?u:o,v=un(un(un({},f),d),{},{isActive:p,option:m,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return H.createElement(Pn,av({className:"recharts-bar-rectangle"},xg(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),H.createElement(DO,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,f=i.animationEasing,d=i.animationId,h=this.state.prevData;return H.createElement(Ko,{begin:c,duration:u,isActive:s,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,v=a.map(function(y,x){var w=h&&h[x];if(w){var b=Il(w.x,y.x),j=Il(w.y,y.y),_=Il(w.width,y.width),S=Il(w.height,y.height);return un(un({},y),{},{x:b(m),y:j(m),width:_(m),height:S(m)})}if(o==="horizontal"){var k=Il(0,y.height),E=k(m);return un(un({},y),{},{y:y.y+y.height-E,height:E})}var O=Il(0,y.width),N=O(m);return un(un({},y),{},{width:N})});return H.createElement(Pn,null,r.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!nC(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,c=St(this.props.background,!1);return a.map(function(u,f){u.value;var d=u.background,h=JCe(u,QCe);if(!d)return null;var p=un(un(un(un(un({},h),{},{fill:"#eee"},d),c),xg(r.props,u,f)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return H.createElement(DO,av({key:"background-bar-".concat(f),option:r.props.background,isActive:f===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,c=a.yAxis,u=a.layout,f=a.children,d=Ai(f,ox);if(!d)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(y,x){var w=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:w,errorVal:ca(y,x)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return H.createElement(Pn,m,d.map(function(v){return H.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:o,xAxis:s,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,c=r.yAxis,u=r.left,f=r.top,d=r.width,h=r.height,p=r.isAnimationActive,m=r.background,v=r.id;if(i||!a||!a.length)return null;var y=this.state.isAnimationFinished,x=pt("recharts-bar",o),w=s&&s.allowDataOverflow,b=c&&c.allowDataOverflow,j=w||b,_=bt(v)?this.id:v;return H.createElement(Pn,{className:x},w||b?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(_)},H.createElement("rect",{x:w?u:u-d/2,y:b?f:f-h/2,width:w?d:d*2,height:b?h:h*2}))):null,H.createElement(Pn,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(_,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,_),(!p||y)&&ia.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(g.PureComponent);DU=fr;Ao(fr,"displayName","Bar");Ao(fr,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Fo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ao(fr,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,a=e.xAxis,o=e.yAxis,s=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,p=R1e(r,n);if(!p)return null;var m=t.layout,v=n.type.defaultProps,y=v!==void 0?un(un({},v),n.props):n.props,x=y.dataKey,w=y.children,b=y.minPointSize,j=m==="horizontal"?o:a,_=u?j.scale.domain():null,S=z1e({numericAxis:j}),k=Ai(w,f5),E=d.map(function(O,N){var A,I,M,L,z,F;u?A=M1e(u[f+N],_):(A=ca(O,x),Array.isArray(A)||(A=[S,A]));var B=XCe(b,DU.defaultProps.minPointSize)(A[1],N);if(m==="horizontal"){var D,$=[o.scale(A[0]),o.scale(A[1])],P=$[0],R=$[1];I=DT({axis:a,ticks:s,bandSize:i,offset:p.offset,entry:O,index:N}),M=(D=R??P)!==null&&D!==void 0?D:void 0,L=p.size;var T=P-R;if(z=Number.isNaN(T)?0:T,F={x:I,y:o.y,width:L,height:o.height},Math.abs(B)>0&&Math.abs(z)<Math.abs(B)){var C=ki(z||B)*(Math.abs(B)-Math.abs(z));M-=C,z+=C}}else{var U=[a.scale(A[0]),a.scale(A[1])],G=U[0],ne=U[1];if(I=G,M=DT({axis:o,ticks:c,bandSize:i,offset:p.offset,entry:O,index:N}),L=ne-G,z=p.size,F={x:a.x,y:M,width:a.width,height:z},Math.abs(B)>0&&Math.abs(L)<Math.abs(B)){var q=ki(L||B)*(Math.abs(B)-Math.abs(L));L+=q}}return un(un(un({},O),{},{x:I,y:M,width:L,height:z,value:u?A:A[1],payload:O,background:F},k&&k[N]&&k[N].props),{},{tooltipPayload:[vU(n,O)],tooltipPosition:{x:I+L/2,y:M+z/2}})});return un({data:E,layout:m},h)});function dh(e){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dh(e)}function sEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,FU(r.key),r)}}function lEe(e,t,n){return t&&FO(e.prototype,t),n&&FO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function BO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BO(Object(n),!0).forEach(function(r){cx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cx(e,t,n){return t=FU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FU(e){var t=cEe(e,"string");return dh(t)=="symbol"?t:t+""}function cEe(e,t){if(dh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uEe=function(t,n,r,i,a){var o=t.width,s=t.height,c=t.layout,u=t.children,f=Object.keys(n),d={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!Tr(u,fr);return f.reduce(function(p,m){var v=n[m],y=v.orientation,x=v.domain,w=v.padding,b=w===void 0?{}:w,j=v.mirror,_=v.reversed,S="".concat(y).concat(j?"Mirror":""),k,E,O,N,A;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var I=x[1]-x[0],M=1/0,L=v.categoricalDomain.sort(ple);if(L.forEach(function(U,G){G>0&&(M=Math.min((U||0)-(L[G-1]||0),M))}),Number.isFinite(M)){var z=M/I,F=v.layout==="vertical"?r.height:r.width;if(v.padding==="gap"&&(k=z*F/2),v.padding==="no-gap"){var B=rl(t.barCategoryGap,z*F),D=z*F/2;k=D-B-(D-B)/F*B}}}i==="xAxis"?E=[r.left+(b.left||0)+(k||0),r.left+r.width-(b.right||0)-(k||0)]:i==="yAxis"?E=c==="horizontal"?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(k||0),r.top+r.height-(b.bottom||0)-(k||0)]:E=v.range,_&&(E=[E[1],E[0]]);var $=O1e(v,a,h),P=$.scale,R=$.realScaleType;P.domain(x).range(E),I1e(P);var T=U1e(P,wi(wi({},v),{},{realScaleType:R}));i==="xAxis"?(A=y==="top"&&!j||y==="bottom"&&j,O=r.left,N=d[S]-A*v.height):i==="yAxis"&&(A=y==="left"&&!j||y==="right"&&j,O=d[S]-A*v.width,N=r.top);var C=wi(wi(wi({},v),T),{},{realScaleType:R,x:O,y:N,scale:P,width:i==="xAxis"?r.width:v.width,height:i==="yAxis"?r.height:v.height});return C.bandSize=Kg(C,T),!v.hide&&i==="xAxis"?d[S]+=(A?-1:1)*C.height:v.hide||(d[S]+=(A?-1:1)*C.width),wi(wi({},p),{},cx({},m,C))},{})},BU=function(t,n){var r=t.x,i=t.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},dEe=function(t){var n=t.x1,r=t.y1,i=t.x2,a=t.y2;return BU({x:n,y:r},{x:i,y:a})},UU=function(){function e(t){sEe(this,e),this.scale=t}return lEe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}])}();cx(UU,"EPS",1e-4);var sC=function(t){var n=Object.keys(t).reduce(function(r,i){return wi(wi({},r),{},cx({},i,UU.create(t[i])))},{});return wi(wi({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return NCe(i,function(c,u){return n[u].apply(c,{bandAware:o,position:s})})},isInRange:function(i){return zCe(i,function(a,o){return n[o].isInRange(a)})}})};function fEe(e){return(e%180+180)%180}var hEe=function(t){var n=t.width,r=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=fEe(i),o=a*Math.PI/180,s=Math.atan(r/n),c=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},pEe=mse(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),zU=g.createContext(void 0),WU=g.createContext(void 0),HU=g.createContext(void 0),mEe=g.createContext({}),qU=g.createContext(void 0),VU=g.createContext(0),KU=g.createContext(0),UO=function(t){var n=t.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=t.clipPathId,s=t.children,c=t.width,u=t.height,f=pEe(a);return H.createElement(zU.Provider,{value:r},H.createElement(WU.Provider,{value:i},H.createElement(mEe.Provider,{value:a},H.createElement(HU.Provider,{value:f},H.createElement(qU.Provider,{value:o},H.createElement(VU.Provider,{value:u},H.createElement(KU.Provider,{value:c},s)))))))},gEe=function(){return g.useContext(qU)},GU=function(t){var n=g.useContext(zU);n==null&&al();var r=n[t];return r==null&&al(),r},YU=function(t){var n=g.useContext(WU);n==null&&al();var r=n[t];return r==null&&al(),r},vEe=function(){var t=g.useContext(HU);return t},XU=function(){return g.useContext(KU)},QU=function(){return g.useContext(VU)};function pu(e){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}function yEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xEe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ZU(r.key),r)}}function bEe(e,t,n){return t&&xEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wEe(e,t,n){return t=sv(t),_Ee(e,JU()?Reflect.construct(t,n||[],sv(e).constructor):t.apply(e,n))}function _Ee(e,t){if(t&&(pu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SEe(e)}function SEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JU=function(){return!!e})()}function sv(e){return sv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sv(e)}function jEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&__(e,t)}function __(e,t){return __=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},__(e,t)}function zO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function WO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zO(Object(n),!0).forEach(function(r){lC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lC(e,t,n){return t=ZU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZU(e){var t=kEe(e,"string");return pu(t)=="symbol"?t:t+""}function kEe(e,t){if(pu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CEe(e,t){return PEe(e)||NEe(e,t)||AEe(e,t)||EEe()}function EEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AEe(e,t){if(e){if(typeof e=="string")return HO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HO(e,t)}}function HO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function NEe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function PEe(e){if(Array.isArray(e))return e}function S_(){return S_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S_.apply(this,arguments)}var TEe=function(t,n){var r;return H.isValidElement(t)?r=H.cloneElement(t,n):st(t)?r=t(n):r=H.createElement("line",S_({},n,{className:"recharts-reference-line-line"})),r},OEe=function(t,n,r,i,a,o,s,c,u){var f=a.x,d=a.y,h=a.width,p=a.height;if(r){var m=u.y,v=t.y.apply(m,{position:o});if(aa(u,"discard")&&!t.y.isInRange(v))return null;var y=[{x:f+h,y:v},{x:f,y:v}];return c==="left"?y.reverse():y}if(n){var x=u.x,w=t.x.apply(x,{position:o});if(aa(u,"discard")&&!t.x.isInRange(w))return null;var b=[{x:w,y:d+p},{x:w,y:d}];return s==="top"?b.reverse():b}if(i){var j=u.segment,_=j.map(function(S){return t.apply(S,{position:o})});return aa(u,"discard")&&wCe(_,function(S){return!t.isInRange(S)})?null:_}return null};function IEe(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,a=e.yAxisId,o=e.shape,s=e.className,c=e.alwaysShow,u=gEe(),f=GU(i),d=YU(a),h=vEe();if(!u||!h)return null;Us(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=sC({x:f.scale,y:d.scale}),m=jn(t),v=jn(n),y=r&&r.length===2,x=OEe(p,m,v,y,h,e.position,f.orientation,d.orientation,e);if(!x)return null;var w=CEe(x,2),b=w[0],j=b.x,_=b.y,S=w[1],k=S.x,E=S.y,O=aa(e,"hidden")?"url(#".concat(u,")"):void 0,N=WO(WO({clipPath:O},St(e,!0)),{},{x1:j,y1:_,x2:k,y2:E});return H.createElement(Pn,{className:pt("recharts-reference-line",s)},TEe(o,N),Vn.renderCallByParent(e,dEe({x1:j,y1:_,x2:k,y2:E})))}var cC=function(e){function t(){return yEe(this,t),wEe(this,t,arguments)}return jEe(t,e),bEe(t,[{key:"render",value:function(){return H.createElement(IEe,this.props)}}])}(H.Component);lC(cC,"displayName","ReferenceLine");lC(cC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function j_(){return j_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j_.apply(this,arguments)}function mu(e){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(e)}function qO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function VO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qO(Object(n),!0).forEach(function(r){ux(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function REe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MEe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,t6(r.key),r)}}function DEe(e,t,n){return t&&MEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Ee(e,t,n){return t=lv(t),LEe(e,e6()?Reflect.construct(t,n||[],lv(e).constructor):t.apply(e,n))}function LEe(e,t){if(t&&(mu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FEe(e)}function FEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e6=function(){return!!e})()}function lv(e){return lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lv(e)}function BEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k_(e,t)}function k_(e,t){return k_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},k_(e,t)}function ux(e,t,n){return t=t6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t6(e){var t=UEe(e,"string");return mu(t)=="symbol"?t:t+""}function UEe(e,t){if(mu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zEe=function(t){var n=t.x,r=t.y,i=t.xAxis,a=t.yAxis,o=sC({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return aa(t,"discard")&&!o.isInRange(s)?null:s},dx=function(e){function t(){return REe(this,t),$Ee(this,t,arguments)}return BEe(t,e),DEe(t,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,s=r.alwaysShow,c=r.clipPathId,u=jn(i),f=jn(a);if(Us(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var d=zEe(this.props);if(!d)return null;var h=d.x,p=d.y,m=this.props,v=m.shape,y=m.className,x=aa(this.props,"hidden")?"url(#".concat(c,")"):void 0,w=VO(VO({clipPath:x},St(this.props,!0)),{},{cx:h,cy:p});return H.createElement(Pn,{className:pt("recharts-reference-dot",y)},t.renderDot(v,w),Vn.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(H.Component);ux(dx,"displayName","ReferenceDot");ux(dx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});ux(dx,"renderDot",function(e,t){var n;return H.isValidElement(e)?n=H.cloneElement(e,t):st(e)?n=e(t):n=H.createElement(TU,j_({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function C_(){return C_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C_.apply(this,arguments)}function gu(e){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gu(e)}function KO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function GO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KO(Object(n),!0).forEach(function(r){fx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HEe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r6(r.key),r)}}function qEe(e,t,n){return t&&HEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function VEe(e,t,n){return t=cv(t),KEe(e,n6()?Reflect.construct(t,n||[],cv(e).constructor):t.apply(e,n))}function KEe(e,t){if(t&&(gu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GEe(e)}function GEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n6=function(){return!!e})()}function cv(e){return cv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cv(e)}function YEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E_(e,t)}function E_(e,t){return E_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},E_(e,t)}function fx(e,t,n){return t=r6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r6(e){var t=XEe(e,"string");return gu(t)=="symbol"?t:t+""}function XEe(e,t){if(gu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QEe=function(t,n,r,i,a){var o=a.x1,s=a.x2,c=a.y1,u=a.y2,f=a.xAxis,d=a.yAxis;if(!f||!d)return null;var h=sC({x:f.scale,y:d.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(c,{position:"start"}):h.y.rangeMin},m={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return aa(a,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:BU(p,m)},hx=function(e){function t(){return WEe(this,t),VEe(this,t,arguments)}return YEe(t,e),qEe(t,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,s=r.y2,c=r.className,u=r.alwaysShow,f=r.clipPathId;Us(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=jn(i),h=jn(a),p=jn(o),m=jn(s),v=this.props.shape;if(!d&&!h&&!p&&!m&&!v)return null;var y=QEe(d,h,p,m,this.props);if(!y&&!v)return null;var x=aa(this.props,"hidden")?"url(#".concat(f,")"):void 0;return H.createElement(Pn,{className:pt("recharts-reference-area",c)},t.renderRect(v,GO(GO({clipPath:x},St(this.props,!0)),y)),Vn.renderCallByParent(this.props,y))}}])}(H.Component);fx(hx,"displayName","ReferenceArea");fx(hx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});fx(hx,"renderRect",function(e,t){var n;return H.isValidElement(e)?n=H.cloneElement(e,t):st(e)?n=e(t):n=H.createElement(oC,C_({},t,{className:"recharts-reference-area-rect"})),n});function i6(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function JEe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return hEe(r,n)}function ZEe(e,t,n){var r=n==="width",i=e.x,a=e.y,o=e.width,s=e.height;return t===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function uv(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function eAe(e,t){return i6(e,t+1)}function tAe(e,t,n,r,i){for(var a=(r||[]).slice(),o=t.start,s=t.end,c=0,u=1,f=o,d=function(){var m=r==null?void 0:r[c];if(m===void 0)return{v:i6(r,u)};var v=c,y,x=function(){return y===void 0&&(y=n(m,v)),y},w=m.coordinate,b=c===0||uv(e,w,x,f,s);b||(c=0,f=o,u+=1),b&&(f=w+e*(x()/2+i),c+=u)},h;u<=a.length;)if(h=d(),h)return h.v;return[]}function fh(e){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fh(e)}function YO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YO(Object(n),!0).forEach(function(r){nAe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nAe(e,t,n){return t=rAe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rAe(e){var t=iAe(e,"string");return fh(t)=="symbol"?t:t+""}function iAe(e,t){if(fh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aAe(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=t.start,c=t.end,u=function(h){var p=a[h],m,v=function(){return m===void 0&&(m=n(p,h)),m};if(h===o-1){var y=e*(p.coordinate+e*v()/2-c);a[h]=p=Hn(Hn({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate})}else a[h]=p=Hn(Hn({},p),{},{tickCoord:p.coordinate});var x=uv(e,p.tickCoord,v,s,c);x&&(c=p.tickCoord-e*(v()/2+i),a[h]=Hn(Hn({},p),{},{isShow:!0}))},f=o-1;f>=0;f--)u(f);return a}function oAe(e,t,n,r,i,a){var o=(r||[]).slice(),s=o.length,c=t.start,u=t.end;if(a){var f=r[s-1],d=n(f,s-1),h=e*(f.coordinate+e*d/2-u);o[s-1]=f=Hn(Hn({},f),{},{tickCoord:h>0?f.coordinate-h*e:f.coordinate});var p=uv(e,f.tickCoord,function(){return d},c,u);p&&(u=f.tickCoord-e*(d/2+i),o[s-1]=Hn(Hn({},f),{},{isShow:!0}))}for(var m=a?s-1:s,v=function(w){var b=o[w],j,_=function(){return j===void 0&&(j=n(b,w)),j};if(w===0){var S=e*(b.coordinate-e*_()/2-c);o[w]=b=Hn(Hn({},b),{},{tickCoord:S<0?b.coordinate-S*e:b.coordinate})}else o[w]=b=Hn(Hn({},b),{},{tickCoord:b.coordinate});var k=uv(e,b.tickCoord,_,c,u);k&&(c=b.tickCoord+e*(_()/2+i),o[w]=Hn(Hn({},b),{},{isShow:!0}))},y=0;y<m;y++)v(y);return o}function sAe(e,t,n){var r=e.tick,i=e.ticks,a=e.viewBox,o=e.minTickGap,s=e.orientation,c=e.interval,u=e.tickFormatter,f=e.unit,d=e.angle;if(!i||!i.length||!r)return[];if(Ee(c)||Fo.isSsr)return eAe(i,typeof c=="number"&&Ee(c)?c:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",m=f&&p==="width"?Kd(f,{fontSize:t,letterSpacing:n}):{width:0,height:0},v=function(b,j){var _=st(u)?u(b.value,j):b.value;return p==="width"?JEe(Kd(_,{fontSize:t,letterSpacing:n}),m,d):Kd(_,{fontSize:t,letterSpacing:n})[p]},y=i.length>=2?ki(i[1].coordinate-i[0].coordinate):1,x=ZEe(a,y,p);return c==="equidistantPreserveStart"?tAe(y,x,v,i,o):(c==="preserveStart"||c==="preserveStartEnd"?h=oAe(y,x,v,i,o,c==="preserveStartEnd"):h=aAe(y,x,v,i,o),h.filter(function(w){return w.isShow}))}var lAe=["viewBox"],cAe=["viewBox"],uAe=["ticks"];function vu(e){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(e)}function oc(){return oc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oc.apply(this,arguments)}function XO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XO(Object(n),!0).forEach(function(r){uC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lb(e,t){if(e==null)return{};var n=dAe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function dAe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function fAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o6(r.key),r)}}function hAe(e,t,n){return t&&QO(e.prototype,t),n&&QO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pAe(e,t,n){return t=dv(t),mAe(e,a6()?Reflect.construct(t,n||[],dv(e).constructor):t.apply(e,n))}function mAe(e,t){if(t&&(vu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gAe(e)}function gAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a6=function(){return!!e})()}function dv(e){return dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dv(e)}function vAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A_(e,t)}function A_(e,t){return A_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},A_(e,t)}function uC(e,t,n){return t=o6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o6(e){var t=yAe(e,"string");return vu(t)=="symbol"?t:t+""}function yAe(e,t){if(vu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var px=function(e){function t(n){var r;return fAe(this,t),r=pAe(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return vAe(t,e),hAe(t,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=lb(r,lAe),s=this.props,c=s.viewBox,u=lb(s,cAe);return!Sc(a,c)||!Sc(o,u)||!Sc(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,c=i.height,u=i.orientation,f=i.tickSize,d=i.mirror,h=i.tickMargin,p,m,v,y,x,w,b=d?-1:1,j=r.tickSize||f,_=Ee(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=m=r.coordinate,y=o+ +!d*c,v=y-b*j,w=v-b*h,x=_;break;case"left":v=y=r.coordinate,m=a+ +!d*s,p=m-b*j,x=p-b*h,w=_;break;case"right":v=y=r.coordinate,m=a+ +d*s,p=m+b*j,x=p+b*h,w=_;break;default:p=m=r.coordinate,y=o+ +d*c,v=y+b*j,w=v+b*h,x=_;break}return{line:{x1:p,y1:v,x2:m,y2:y},tick:{x,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,c=r.orientation,u=r.mirror,f=r.axisLine,d=vn(vn(vn({},St(this.props,!1)),St(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);d=vn(vn({},d),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var p=+(c==="left"&&!u||c==="right"&&u);d=vn(vn({},d),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+s})}return H.createElement("line",oc({},d,{className:pt("recharts-cartesian-axis-line",ti(f,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,c=s.tickLine,u=s.stroke,f=s.tick,d=s.tickFormatter,h=s.unit,p=sAe(vn(vn({},this.props),{},{ticks:r}),i,a),m=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),y=St(this.props,!1),x=St(f,!1),w=vn(vn({},y),{},{fill:"none"},St(c,!1)),b=p.map(function(j,_){var S=o.getTickLineCoord(j),k=S.line,E=S.tick,O=vn(vn(vn(vn({textAnchor:m,verticalAnchor:v},y),{},{stroke:"none",fill:u},x),E),{},{index:_,payload:j,visibleTicksCount:p.length,tickFormatter:d});return H.createElement(Pn,oc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},xg(o.props,j,_)),c&&H.createElement("line",oc({},w,k,{className:pt("recharts-cartesian-axis-tick-line",ti(c,"className"))})),f&&t.renderTickItem(f,O,"".concat(st(d)?d(j.value,_):j.value).concat(h||"")))});return H.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,c=i.ticksGenerator,u=i.className,f=i.hide;if(f)return null;var d=this.props,h=d.ticks,p=lb(d,uAe),m=h;return st(c)&&(m=h&&h.length>0?c(this.props):c(p)),o<=0||s<=0||!m||!m.length?null:H.createElement(Pn,{className:pt("recharts-cartesian-axis",u),ref:function(y){r.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),Vn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,s=pt(i.className,"recharts-cartesian-axis-tick-value");return H.isValidElement(r)?o=H.cloneElement(r,vn(vn({},i),{},{className:s})):st(r)?o=r(vn(vn({},i),{},{className:s})):o=H.createElement(Ig,oc({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(g.Component);uC(px,"displayName","CartesianAxis");uC(px,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});function yu(e){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yu(e)}function xAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bAe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c6(r.key),r)}}function wAe(e,t,n){return t&&bAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _Ae(e,t,n){return t=fv(t),SAe(e,s6()?Reflect.construct(t,n||[],fv(e).constructor):t.apply(e,n))}function SAe(e,t){if(t&&(yu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jAe(e)}function jAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s6=function(){return!!e})()}function fv(e){return fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fv(e)}function kAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N_(e,t)}function N_(e,t){return N_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},N_(e,t)}function l6(e,t,n){return t=c6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c6(e){var t=CAe(e,"string");return yu(t)=="symbol"?t:t+""}function CAe(e,t){if(yu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P_(){return P_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P_.apply(this,arguments)}function EAe(e){var t=e.xAxisId,n=XU(),r=QU(),i=GU(t);return i==null?null:g.createElement(px,P_({},i,{className:pt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Os(o,!0)}}))}var Sa=function(e){function t(){return xAe(this,t),_Ae(this,t,arguments)}return kAe(t,e),wAe(t,[{key:"render",value:function(){return g.createElement(EAe,this.props)}}])}(g.Component);l6(Sa,"displayName","XAxis");l6(Sa,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function xu(e){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xu(e)}function AAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NAe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f6(r.key),r)}}function PAe(e,t,n){return t&&NAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function TAe(e,t,n){return t=hv(t),OAe(e,u6()?Reflect.construct(t,n||[],hv(e).constructor):t.apply(e,n))}function OAe(e,t){if(t&&(xu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IAe(e)}function IAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u6=function(){return!!e})()}function hv(e){return hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hv(e)}function RAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T_(e,t)}function T_(e,t){return T_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},T_(e,t)}function d6(e,t,n){return t=f6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f6(e){var t=MAe(e,"string");return xu(t)=="symbol"?t:t+""}function MAe(e,t){if(xu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O_(){return O_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O_.apply(this,arguments)}var DAe=function(t){var n=t.yAxisId,r=XU(),i=QU(),a=YU(n);return a==null?null:g.createElement(px,O_({},a,{className:pt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Os(s,!0)}}))},ja=function(e){function t(){return AAe(this,t),TAe(this,t,arguments)}return RAe(t,e),PAe(t,[{key:"render",value:function(){return g.createElement(DAe,this.props)}}])}(g.Component);d6(ja,"displayName","YAxis");d6(ja,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function JO(e){return BAe(e)||FAe(e)||LAe(e)||$Ae()}function $Ae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LAe(e,t){if(e){if(typeof e=="string")return I_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I_(e,t)}}function FAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BAe(e){if(Array.isArray(e))return I_(e)}function I_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var R_=function(t,n,r,i,a){var o=Ai(t,cC),s=Ai(t,dx),c=[].concat(JO(o),JO(s)),u=Ai(t,hx),f="".concat(i,"Id"),d=i[0],h=n;if(c.length&&(h=c.reduce(function(v,y){if(y.props[f]===r&&aa(y.props,"extendDomain")&&Ee(y.props[d])){var x=y.props[d];return[Math.min(v[0],x),Math.max(v[1],x)]}return v},h)),u.length){var p="".concat(d,"1"),m="".concat(d,"2");h=u.reduce(function(v,y){if(y.props[f]===r&&aa(y.props,"extendDomain")&&Ee(y.props[p])&&Ee(y.props[m])){var x=y.props[p],w=y.props[m];return[Math.min(v[0],x,w),Math.max(v[1],x,w)]}return v},h)}return a&&a.length&&(h=a.reduce(function(v,y){return Ee(y)?[Math.min(v[0],y),Math.max(v[1],y)]:v},h)),h},h6={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function a(c,u,f,d,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new i(f,d||c,h),m=n?n+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],p]:c._events[m].push(p):(c._events[m]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],f,d;if(this._eventsCount===0)return u;for(d in f=this._events)t.call(f,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},s.prototype.listeners=function(u){var f=n?n+u:u,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,m=new Array(p);h<p;h++)m[h]=d[h].fn;return m},s.prototype.listenerCount=function(u){var f=n?n+u:u,d=this._events[f];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,f,d,h,p,m){var v=n?n+u:u;if(!this._events[v])return!1;var y=this._events[v],x=arguments.length,w,b;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,f),!0;case 3:return y.fn.call(y.context,f,d),!0;case 4:return y.fn.call(y.context,f,d,h),!0;case 5:return y.fn.call(y.context,f,d,h,p),!0;case 6:return y.fn.call(y.context,f,d,h,p,m),!0}for(b=1,w=new Array(x-1);b<x;b++)w[b-1]=arguments[b];y.fn.apply(y.context,w)}else{var j=y.length,_;for(b=0;b<j;b++)switch(y[b].once&&this.removeListener(u,y[b].fn,void 0,!0),x){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,f);break;case 3:y[b].fn.call(y[b].context,f,d);break;case 4:y[b].fn.call(y[b].context,f,d,h);break;default:if(!w)for(_=1,w=new Array(x-1);_<x;_++)w[_-1]=arguments[_];y[b].fn.apply(y[b].context,w)}}return!0},s.prototype.on=function(u,f,d){return a(this,u,f,d,!1)},s.prototype.once=function(u,f,d){return a(this,u,f,d,!0)},s.prototype.removeListener=function(u,f,d,h){var p=n?n+u:u;if(!this._events[p])return this;if(!f)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===f&&(!h||m.once)&&(!d||m.context===d)&&o(this,p);else{for(var v=0,y=[],x=m.length;v<x;v++)(m[v].fn!==f||h&&!m[v].once||d&&m[v].context!==d)&&y.push(m[v]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},s.prototype.removeAllListeners=function(u){var f;return u?(f=n?n+u:u,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(h6);var UAe=h6.exports;const zAe=Nt(UAe);var cb=new zAe,ub="recharts.syncMouseEvents";function hh(e){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hh(e)}function WAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HAe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p6(r.key),r)}}function qAe(e,t,n){return t&&HAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function db(e,t,n){return t=p6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p6(e){var t=VAe(e,"string");return hh(t)=="symbol"?t:t+""}function VAe(e,t){if(hh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var KAe=function(){function e(){WAe(this,e),db(this,"activeIndex",0),db(this,"coordinateList",[]),db(this,"layout","horizontal")}return qAe(e,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,f=n.offset,d=f===void 0?null:f,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,f=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=a+c+u,h=o+this.offset.top+s/2+f;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function GAe(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],i=e==null?void 0:e[1];if(r&&i&&Ee(r)&&Ee(i))return!0}return!1}function YAe(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function m6(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,a=e.endAngle,o=Dn(t,n,r,i),s=Dn(t,n,r,a);return{points:[o,s],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function XAe(e,t,n){var r,i,a,o;if(e==="horizontal")r=t.x,a=r,i=n.top,o=n.top+n.height;else if(e==="vertical")i=t.y,o=i,r=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,c=t.cy,u=t.innerRadius,f=t.outerRadius,d=t.angle,h=Dn(s,c,u,d),p=Dn(s,c,f,d);r=h.x,i=h.y,a=p.x,o=p.y}else return m6(t);return[{x:r,y:i},{x:a,y:o}]}function ph(e){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ph(e)}function ZO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZO(Object(n),!0).forEach(function(r){QAe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QAe(e,t,n){return t=JAe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JAe(e){var t=ZAe(e,"string");return ph(t)=="symbol"?t:t+""}function ZAe(e,t){if(ph(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eNe(e){var t,n,r=e.element,i=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,s=e.activePayload,c=e.offset,u=e.activeTooltipIndex,f=e.tooltipAxisBandSize,d=e.layout,h=e.chartName,p=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var m,v=JT;if(h==="ScatterChart")m=o,v=Hje;else if(h==="BarChart")m=YAe(d,o,c,f),v=oC;else if(d==="radial"){var y=m6(o),x=y.cx,w=y.cy,b=y.radius,j=y.startAngle,_=y.endAngle;m={cx:x,cy:w,startAngle:j,endAngle:_,innerRadius:b,outerRadius:b},v=bU}else m={points:XAe(d,o,c)},v=JT;var S=qp(qp(qp(qp({stroke:"#ccc",pointerEvents:"none"},c),m),St(p,!1)),{},{payload:s,payloadIndex:u,className:pt("recharts-tooltip-cursor",p.className)});return g.isValidElement(p)?g.cloneElement(p,S):g.createElement(v,S)}var tNe=["item"],nNe=["children","className","width","height","style","compact","title","desc"];function bu(e){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bu(e)}function sc(){return sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sc.apply(this,arguments)}function e2(e,t){return aNe(e)||iNe(e,t)||v6(e,t)||rNe()}function rNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iNe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function aNe(e){if(Array.isArray(e))return e}function t2(e,t){if(e==null)return{};var n=oNe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function oNe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function sNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lNe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y6(r.key),r)}}function cNe(e,t,n){return t&&lNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uNe(e,t,n){return t=pv(t),dNe(e,g6()?Reflect.construct(t,n||[],pv(e).constructor):t.apply(e,n))}function dNe(e,t){if(t&&(bu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fNe(e)}function fNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g6=function(){return!!e})()}function pv(e){return pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pv(e)}function hNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M_(e,t)}function M_(e,t){return M_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},M_(e,t)}function wu(e){return gNe(e)||mNe(e)||v6(e)||pNe()}function pNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v6(e,t){if(e){if(typeof e=="string")return D_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D_(e,t)}}function mNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gNe(e){if(Array.isArray(e))return D_(e)}function D_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n2(Object(n),!0).forEach(function(r){Fe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fe(e,t,n){return t=y6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y6(e){var t=vNe(e,"string");return bu(t)=="symbol"?t:t+""}function vNe(e,t){if(bu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yNe={xAxis:["bottom","top"],yAxis:["left","right"]},xNe={width:"100%",height:"100%"},x6={x:0,y:0};function Vp(e){return e}var bNe=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},wNe=function(t,n,r,i){var a=n.find(function(f){return f&&f.index===r});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,s=i.radius;return se(se(se({},i),Dn(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var c=a.coordinate,u=i.angle;return se(se(se({},i),Dn(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return x6},mx=function(t,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,c){var u=c.props.data;return u&&u.length?[].concat(wu(s),wu(u)):s},[]);return o.length>0?o:t&&t.length&&Ee(i)&&Ee(a)?t.slice(i,a+1):[]};function b6(e){return e==="number"?[0,"auto"]:void 0}var $_=function(t,n,r,i){var a=t.graphicalItems,o=t.tooltipAxis,s=mx(n,t);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(c,u){var f,d=(f=u.props.data)!==null&&f!==void 0?f:n;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=d===void 0?s:d;h=g1(p,o.dataKey,i)}else h=d&&d[r]||s[r];return h?[].concat(wu(c),[vU(u,h)]):c},[])},r2=function(t,n,r,i){var a=i||{x:t.chartX,y:t.chartY},o=bNe(a,r),s=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,f=C1e(o,s,u,c);if(f>=0&&u){var d=u[f]&&u[f].value,h=$_(t,n,f,d),p=wNe(r,s,f,a);return{activeTooltipIndex:f,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},_Ne=function(t,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,f=t.layout,d=t.children,h=t.stackOffset,p=mU(f,a);return r.reduce(function(m,v){var y,x=v.type.defaultProps!==void 0?se(se({},v.type.defaultProps),v.props):v.props,w=x.type,b=x.dataKey,j=x.allowDataOverflow,_=x.allowDuplicatedCategory,S=x.scale,k=x.ticks,E=x.includeHidden,O=x[o];if(m[O])return m;var N=mx(t.data,{graphicalItems:i.filter(function(T){var C,U=o in T.props?T.props[o]:(C=T.type.defaultProps)===null||C===void 0?void 0:C[o];return U===O}),dataStartIndex:c,dataEndIndex:u}),A=N.length,I,M,L;GAe(x.domain,j,w)&&(I=r_(x.domain,null,j),p&&(w==="number"||S!=="auto")&&(L=Yd(N,b,"category")));var z=b6(w);if(!I||I.length===0){var F,B=(F=x.domain)!==null&&F!==void 0?F:z;if(b){if(I=Yd(N,b,w),w==="category"&&p){var D=hle(I);_&&D?(M=I,I=nv(0,A)):_||(I=FT(B,I,v).reduce(function(T,C){return T.indexOf(C)>=0?T:[].concat(wu(T),[C])},[]))}else if(w==="category")_?I=I.filter(function(T){return T!==""&&!bt(T)}):I=FT(B,I,v).reduce(function(T,C){return T.indexOf(C)>=0||C===""||bt(C)?T:[].concat(wu(T),[C])},[]);else if(w==="number"){var $=T1e(N,i.filter(function(T){var C,U,G=o in T.props?T.props[o]:(C=T.type.defaultProps)===null||C===void 0?void 0:C[o],ne="hide"in T.props?T.props.hide:(U=T.type.defaultProps)===null||U===void 0?void 0:U.hide;return G===O&&(E||!ne)}),b,a,f);$&&(I=$)}p&&(w==="number"||S!=="auto")&&(L=Yd(N,b,"category"))}else p?I=nv(0,A):s&&s[O]&&s[O].hasStack&&w==="number"?I=h==="expand"?[0,1]:gU(s[O].stackGroups,c,u):I=pU(N,i.filter(function(T){var C=o in T.props?T.props[o]:T.type.defaultProps[o],U="hide"in T.props?T.props.hide:T.type.defaultProps.hide;return C===O&&(E||!U)}),w,f,!0);if(w==="number")I=R_(d,I,O,a,k),B&&(I=r_(B,I,j));else if(w==="category"&&B){var P=B,R=I.every(function(T){return P.indexOf(T)>=0});R&&(I=P)}}return se(se({},m),{},Fe({},O,se(se({},x),{},{axisType:a,domain:I,categoricalDomain:L,duplicateDomain:M,originalDomain:(y=x.domain)!==null&&y!==void 0?y:z,isCategorical:p,layout:f})))},{})},SNe=function(t,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,f=t.layout,d=t.children,h=mx(t.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),p=h.length,m=mU(f,a),v=-1;return r.reduce(function(y,x){var w=x.type.defaultProps!==void 0?se(se({},x.type.defaultProps),x.props):x.props,b=w[o],j=b6("number");if(!y[b]){v++;var _;return m?_=nv(0,p):s&&s[b]&&s[b].hasStack?(_=gU(s[b].stackGroups,c,u),_=R_(d,_,b,a)):(_=r_(j,pU(h,r.filter(function(S){var k,E,O=o in S.props?S.props[o]:(k=S.type.defaultProps)===null||k===void 0?void 0:k[o],N="hide"in S.props?S.props.hide:(E=S.type.defaultProps)===null||E===void 0?void 0:E.hide;return O===b&&!N}),"number",f),i.defaultProps.allowDataOverflow),_=R_(d,_,b,a)),se(se({},y),{},Fe({},b,se(se({axisType:a},i.defaultProps),{},{hide:!0,orientation:ti(yNe,"".concat(a,".").concat(v%2),null),domain:_,originalDomain:j,isCategorical:m,layout:f})))}return y},{})},jNe=function(t,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,f=t.children,d="".concat(i,"Id"),h=Ai(f,a),p={};return h&&h.length?p=_Ne(t,{axes:h,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=SNe(t,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:c,dataEndIndex:u})),p},kNe=function(t){var n=Wl(t),r=Os(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Ok(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Kg(n,r)}},i2=function(t){var n=t.children,r=t.defaultShowTooltip,i=Tr(n,fu),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},CNe=function(t){return!t||!t.length?!1:t.some(function(n){var r=Ra(n&&n.type);return r&&r.indexOf("Bar")>=0})},a2=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},ENe=function(t,n){var r=t.props,i=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,s=t.yAxisMap,c=s===void 0?{}:s,u=r.width,f=r.height,d=r.children,h=r.margin||{},p=Tr(d,fu),m=Tr(d,Ji),v=Object.keys(c).reduce(function(_,S){var k=c[S],E=k.orientation;return!k.mirror&&!k.hide?se(se({},_),{},Fe({},E,_[E]+k.width)):_},{left:h.left||0,right:h.right||0}),y=Object.keys(o).reduce(function(_,S){var k=o[S],E=k.orientation;return!k.mirror&&!k.hide?se(se({},_),{},Fe({},E,ti(_,"".concat(E))+k.height)):_},{top:h.top||0,bottom:h.bottom||0}),x=se(se({},y),v),w=x.bottom;p&&(x.bottom+=p.props.height||fu.defaultProps.height),m&&n&&(x=N1e(x,i,r,n));var b=u-x.left-x.right,j=f-x.top-x.bottom;return se(se({brushBottom:w},x),{},{width:Math.max(b,0),height:Math.max(j,0)})},ANe=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},NNe=function(t){var n=t.chartName,r=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,o=t.validateTooltipEventTypes,s=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,f=t.formatAxisMap,d=t.defaultProps,h=function(x,w){var b=w.graphicalItems,j=w.stackGroups,_=w.offset,S=w.updateId,k=w.dataStartIndex,E=w.dataEndIndex,O=x.barSize,N=x.layout,A=x.barGap,I=x.barCategoryGap,M=x.maxBarSize,L=a2(N),z=L.numericAxisName,F=L.cateAxisName,B=CNe(b),D=[];return b.forEach(function($,P){var R=mx(x.data,{graphicalItems:[$],dataStartIndex:k,dataEndIndex:E}),T=$.type.defaultProps!==void 0?se(se({},$.type.defaultProps),$.props):$.props,C=T.dataKey,U=T.maxBarSize,G=T["".concat(z,"Id")],ne=T["".concat(F,"Id")],q={},J=c.reduce(function(Ye,Xe){var Je=w["".concat(Xe.axisType,"Map")],ot=T["".concat(Xe.axisType,"Id")];Je&&Je[ot]||Xe.axisType==="zAxis"||al();var gt=Je[ot];return se(se({},Ye),{},Fe(Fe({},Xe.axisType,gt),"".concat(Xe.axisType,"Ticks"),Os(gt)))},q),K=J[F],re=J["".concat(F,"Ticks")],Z=j&&j[G]&&j[G].hasStack&&W1e($,j[G].stackGroups),Y=Ra($.type).indexOf("Bar")>=0,he=Kg(K,re),W=[],ee=B&&E1e({barSize:O,stackGroups:j,totalSize:ANe(J,F)});if(Y){var fe,xe,Pe=bt(U)?M:U,de=(fe=(xe=Kg(K,re,!0))!==null&&xe!==void 0?xe:Pe)!==null&&fe!==void 0?fe:0;W=A1e({barGap:A,barCategoryGap:I,bandSize:de!==he?de:he,sizeList:ee[ne],maxBarSize:Pe}),de!==he&&(W=W.map(function(Ye){return se(se({},Ye),{},{position:se(se({},Ye.position),{},{offset:Ye.position.offset-de/2})})}))}var Te=$&&$.type&&$.type.getComposedData;Te&&D.push({props:se(se({},Te(se(se({},J),{},{displayedData:R,props:x,dataKey:C,item:$,bandSize:he,barPosition:W,offset:_,stackedData:Z,layout:N,dataStartIndex:k,dataEndIndex:E}))),{},Fe(Fe(Fe({key:$.key||"item-".concat(P)},z,J[z]),F,J[F]),"animationId",S)),childIndex:kle($,x.children),item:$})}),D},p=function(x,w){var b=x.props,j=x.dataStartIndex,_=x.dataEndIndex,S=x.updateId;if(!IN({props:b}))return null;var k=b.children,E=b.layout,O=b.stackOffset,N=b.data,A=b.reverseStackOrder,I=a2(E),M=I.numericAxisName,L=I.cateAxisName,z=Ai(k,r),F=B1e(N,z,"".concat(M,"Id"),"".concat(L,"Id"),O,A),B=c.reduce(function(T,C){var U="".concat(C.axisType,"Map");return se(se({},T),{},Fe({},U,jNe(b,se(se({},C),{},{graphicalItems:z,stackGroups:C.axisType===M&&F,dataStartIndex:j,dataEndIndex:_}))))},{}),D=ENe(se(se({},B),{},{props:b,graphicalItems:z}),w==null?void 0:w.legendBBox);Object.keys(B).forEach(function(T){B[T]=f(b,B[T],D,T.replace("Map",""),n)});var $=B["".concat(L,"Map")],P=kNe($),R=h(b,se(se({},B),{},{dataStartIndex:j,dataEndIndex:_,updateId:S,graphicalItems:z,stackGroups:F,offset:D}));return se(se({formattedGraphicalItems:R,graphicalItems:z,offset:D,stackGroups:F},P),B)},m=function(y){function x(w){var b,j,_;return sNe(this,x),_=uNe(this,x,[w]),Fe(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Fe(_,"accessibilityManager",new KAe),Fe(_,"handleLegendBBoxUpdate",function(S){if(S){var k=_.state,E=k.dataStartIndex,O=k.dataEndIndex,N=k.updateId;_.setState(se({legendBBox:S},p({props:_.props,dataStartIndex:E,dataEndIndex:O,updateId:N},se(se({},_.state),{},{legendBBox:S}))))}}),Fe(_,"handleReceiveSyncEvent",function(S,k,E){if(_.props.syncId===S){if(E===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(k)}}),Fe(_,"handleBrushChange",function(S){var k=S.startIndex,E=S.endIndex;if(k!==_.state.dataStartIndex||E!==_.state.dataEndIndex){var O=_.state.updateId;_.setState(function(){return se({dataStartIndex:k,dataEndIndex:E},p({props:_.props,dataStartIndex:k,dataEndIndex:E,updateId:O},_.state))}),_.triggerSyncEvent({dataStartIndex:k,dataEndIndex:E})}}),Fe(_,"handleMouseEnter",function(S){var k=_.getMouseInfo(S);if(k){var E=se(se({},k),{},{isTooltipActive:!0});_.setState(E),_.triggerSyncEvent(E);var O=_.props.onMouseEnter;st(O)&&O(E,S)}}),Fe(_,"triggeredAfterMouseMove",function(S){var k=_.getMouseInfo(S),E=k?se(se({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(E),_.triggerSyncEvent(E);var O=_.props.onMouseMove;st(O)&&O(E,S)}),Fe(_,"handleItemMouseEnter",function(S){_.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Fe(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),Fe(_,"handleMouseMove",function(S){S.persist(),_.throttleTriggeredAfterMouseMove(S)}),Fe(_,"handleMouseLeave",function(S){_.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};_.setState(k),_.triggerSyncEvent(k);var E=_.props.onMouseLeave;st(E)&&E(k,S)}),Fe(_,"handleOuterEvent",function(S){var k=jle(S),E=ti(_.props,"".concat(k));if(k&&st(E)){var O,N;/.*touch.*/i.test(k)?N=_.getMouseInfo(S.changedTouches[0]):N=_.getMouseInfo(S),E((O=N)!==null&&O!==void 0?O:{},S)}}),Fe(_,"handleClick",function(S){var k=_.getMouseInfo(S);if(k){var E=se(se({},k),{},{isTooltipActive:!0});_.setState(E),_.triggerSyncEvent(E);var O=_.props.onClick;st(O)&&O(E,S)}}),Fe(_,"handleMouseDown",function(S){var k=_.props.onMouseDown;if(st(k)){var E=_.getMouseInfo(S);k(E,S)}}),Fe(_,"handleMouseUp",function(S){var k=_.props.onMouseUp;if(st(k)){var E=_.getMouseInfo(S);k(E,S)}}),Fe(_,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Fe(_,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.handleMouseDown(S.changedTouches[0])}),Fe(_,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.handleMouseUp(S.changedTouches[0])}),Fe(_,"handleDoubleClick",function(S){var k=_.props.onDoubleClick;if(st(k)){var E=_.getMouseInfo(S);k(E,S)}}),Fe(_,"handleContextMenu",function(S){var k=_.props.onContextMenu;if(st(k)){var E=_.getMouseInfo(S);k(E,S)}}),Fe(_,"triggerSyncEvent",function(S){_.props.syncId!==void 0&&cb.emit(ub,_.props.syncId,S,_.eventEmitterSymbol)}),Fe(_,"applySyncEvent",function(S){var k=_.props,E=k.layout,O=k.syncMethod,N=_.state.updateId,A=S.dataStartIndex,I=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)_.setState(se({dataStartIndex:A,dataEndIndex:I},p({props:_.props,dataStartIndex:A,dataEndIndex:I,updateId:N},_.state)));else if(S.activeTooltipIndex!==void 0){var M=S.chartX,L=S.chartY,z=S.activeTooltipIndex,F=_.state,B=F.offset,D=F.tooltipTicks;if(!B)return;if(typeof O=="function")z=O(D,S);else if(O==="value"){z=-1;for(var $=0;$<D.length;$++)if(D[$].value===S.activeLabel){z=$;break}}var P=se(se({},B),{},{x:B.left,y:B.top}),R=Math.min(M,P.x+P.width),T=Math.min(L,P.y+P.height),C=D[z]&&D[z].value,U=$_(_.state,_.props.data,z),G=D[z]?{x:E==="horizontal"?D[z].coordinate:R,y:E==="horizontal"?T:D[z].coordinate}:x6;_.setState(se(se({},S),{},{activeLabel:C,activeCoordinate:G,activePayload:U,activeTooltipIndex:z}))}else _.setState(S)}),Fe(_,"renderCursor",function(S){var k,E=_.state,O=E.isTooltipActive,N=E.activeCoordinate,A=E.activePayload,I=E.offset,M=E.activeTooltipIndex,L=E.tooltipAxisBandSize,z=_.getTooltipEventType(),F=(k=S.props.active)!==null&&k!==void 0?k:O,B=_.props.layout,D=S.key||"_recharts-cursor";return H.createElement(eNe,{key:D,activeCoordinate:N,activePayload:A,activeTooltipIndex:M,chartName:n,element:S,isActive:F,layout:B,offset:I,tooltipAxisBandSize:L,tooltipEventType:z})}),Fe(_,"renderPolarAxis",function(S,k,E){var O=ti(S,"type.axisType"),N=ti(_.state,"".concat(O,"Map")),A=S.type.defaultProps,I=A!==void 0?se(se({},A),S.props):S.props,M=N&&N[I["".concat(O,"Id")]];return g.cloneElement(S,se(se({},M),{},{className:pt(O,M.className),key:S.key||"".concat(k,"-").concat(E),ticks:Os(M,!0)}))}),Fe(_,"renderPolarGrid",function(S){var k=S.props,E=k.radialLines,O=k.polarAngles,N=k.polarRadius,A=_.state,I=A.radiusAxisMap,M=A.angleAxisMap,L=Wl(I),z=Wl(M),F=z.cx,B=z.cy,D=z.innerRadius,$=z.outerRadius;return g.cloneElement(S,{polarAngles:Array.isArray(O)?O:Os(z,!0).map(function(P){return P.coordinate}),polarRadius:Array.isArray(N)?N:Os(L,!0).map(function(P){return P.coordinate}),cx:F,cy:B,innerRadius:D,outerRadius:$,key:S.key||"polar-grid",radialLines:E})}),Fe(_,"renderLegend",function(){var S=_.state.formattedGraphicalItems,k=_.props,E=k.children,O=k.width,N=k.height,A=_.props.margin||{},I=O-(A.left||0)-(A.right||0),M=fU({children:E,formattedGraphicalItems:S,legendWidth:I,legendContent:u});if(!M)return null;var L=M.item,z=t2(M,tNe);return g.cloneElement(L,se(se({},z),{},{chartWidth:O,chartHeight:N,margin:A,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),Fe(_,"renderTooltip",function(){var S,k=_.props,E=k.children,O=k.accessibilityLayer,N=Tr(E,er);if(!N)return null;var A=_.state,I=A.isTooltipActive,M=A.activeCoordinate,L=A.activePayload,z=A.activeLabel,F=A.offset,B=(S=N.props.active)!==null&&S!==void 0?S:I;return g.cloneElement(N,{viewBox:se(se({},F),{},{x:F.left,y:F.top}),active:B,label:z,payload:B?L:[],coordinate:M,accessibilityLayer:O})}),Fe(_,"renderBrush",function(S){var k=_.props,E=k.margin,O=k.data,N=_.state,A=N.offset,I=N.dataStartIndex,M=N.dataEndIndex,L=N.updateId;return g.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Up(_.handleBrushChange,S.props.onChange),data:O,x:Ee(S.props.x)?S.props.x:A.left,y:Ee(S.props.y)?S.props.y:A.top+A.height+A.brushBottom-(E.bottom||0),width:Ee(S.props.width)?S.props.width:A.width,startIndex:I,endIndex:M,updateId:"brush-".concat(L)})}),Fe(_,"renderReferenceElement",function(S,k,E){if(!S)return null;var O=_,N=O.clipPathId,A=_.state,I=A.xAxisMap,M=A.yAxisMap,L=A.offset,z=S.type.defaultProps||{},F=S.props,B=F.xAxisId,D=B===void 0?z.xAxisId:B,$=F.yAxisId,P=$===void 0?z.yAxisId:$;return g.cloneElement(S,{key:S.key||"".concat(k,"-").concat(E),xAxis:I[D],yAxis:M[P],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:N})}),Fe(_,"renderActivePoints",function(S){var k=S.item,E=S.activePoint,O=S.basePoint,N=S.childIndex,A=S.isRange,I=[],M=k.props.key,L=k.item.type.defaultProps!==void 0?se(se({},k.item.type.defaultProps),k.item.props):k.item.props,z=L.activeDot,F=L.dataKey,B=se(se({index:N,dataKey:F,cx:E.x,cy:E.y,r:4,fill:aC(k.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},St(z,!1)),yg(z));return I.push(x.renderActiveDot(z,B,"".concat(M,"-activePoint-").concat(N))),O?I.push(x.renderActiveDot(z,se(se({},B),{},{cx:O.x,cy:O.y}),"".concat(M,"-basePoint-").concat(N))):A&&I.push(null),I}),Fe(_,"renderGraphicChild",function(S,k,E){var O=_.filterFormatItem(S,k,E);if(!O)return null;var N=_.getTooltipEventType(),A=_.state,I=A.isTooltipActive,M=A.tooltipAxis,L=A.activeTooltipIndex,z=A.activeLabel,F=_.props.children,B=Tr(F,er),D=O.props,$=D.points,P=D.isRange,R=D.baseLine,T=O.item.type.defaultProps!==void 0?se(se({},O.item.type.defaultProps),O.item.props):O.item.props,C=T.activeDot,U=T.hide,G=T.activeBar,ne=T.activeShape,q=!!(!U&&I&&B&&(C||G||ne)),J={};N!=="axis"&&B&&B.props.trigger==="click"?J={onClick:Up(_.handleItemMouseEnter,S.props.onClick)}:N!=="axis"&&(J={onMouseLeave:Up(_.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Up(_.handleItemMouseEnter,S.props.onMouseEnter)});var K=g.cloneElement(S,se(se({},O.props),J));function re(Xe){return typeof M.dataKey=="function"?M.dataKey(Xe.payload):null}if(q)if(L>=0){var Z,Y;if(M.dataKey&&!M.allowDuplicatedCategory){var he=typeof M.dataKey=="function"?re:"payload.".concat(M.dataKey.toString());Z=g1($,he,z),Y=P&&R&&g1(R,he,z)}else Z=$==null?void 0:$[L],Y=P&&R&&R[L];if(ne||G){var W=S.props.activeIndex!==void 0?S.props.activeIndex:L;return[g.cloneElement(S,se(se(se({},O.props),J),{},{activeIndex:W})),null,null]}if(!bt(Z))return[K].concat(wu(_.renderActivePoints({item:O,activePoint:Z,basePoint:Y,childIndex:L,isRange:P})))}else{var ee,fe=(ee=_.getItemByXY(_.state.activeCoordinate))!==null&&ee!==void 0?ee:{graphicalItem:K},xe=fe.graphicalItem,Pe=xe.item,de=Pe===void 0?S:Pe,Te=xe.childIndex,Ye=se(se(se({},O.props),J),{},{activeIndex:Te});return[g.cloneElement(de,Ye),null,null]}return P?[K,null,null]:[K,null]}),Fe(_,"renderCustomized",function(S,k,E){return g.cloneElement(S,se(se({key:"recharts-customized-".concat(E)},_.props),_.state))}),Fe(_,"renderMap",{CartesianGrid:{handler:Vp,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:Vp},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:Vp},YAxis:{handler:Vp},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((b=w.id)!==null&&b!==void 0?b:zy("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=d5(_.triggeredAfterMouseMove,(j=w.throttleDelay)!==null&&j!==void 0?j:1e3/60),_.state={},_}return hNe(x,y),cNe(x,[{key:"componentDidMount",value:function(){var b,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,j=b.children,_=b.data,S=b.height,k=b.layout,E=Tr(j,er);if(E){var O=E.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,A=$_(this.state,_,O,N),I=this.state.tooltipTicks[O].coordinate,M=(this.state.offset.top+S)/2,L=k==="horizontal",z=L?{x:I,y:M}:{y:I,x:M},F=this.state.formattedGraphicalItems.find(function(D){var $=D.item;return $.type.name==="Scatter"});F&&(z=se(se({},z),F.props.points[O].tooltipPosition),A=F.props.points[O].tooltipPayload);var B={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:N,activePayload:A,activeCoordinate:z};this.setState(B),this.renderCursor(E),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var _,S;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(b){y1([Tr(b.children,er)],[Tr(this.props.children,er)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Tr(this.props.children,er);if(b&&typeof b.props.shared=="boolean"){var j=b.props.shared?"axis":"item";return s.indexOf(j)>=0?j:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var j=this.container,_=j.getBoundingClientRect(),S=Jye(_),k={chartX:Math.round(b.pageX-S.left),chartY:Math.round(b.pageY-S.top)},E=_.width/j.offsetWidth||1,O=this.inRange(k.chartX,k.chartY,E);if(!O)return null;var N=this.state,A=N.xAxisMap,I=N.yAxisMap,M=this.getTooltipEventType(),L=r2(this.state,this.props.data,this.props.layout,O);if(M!=="axis"&&A&&I){var z=Wl(A).scale,F=Wl(I).scale,B=z&&z.invert?z.invert(k.chartX):null,D=F&&F.invert?F.invert(k.chartY):null;return se(se({},k),{},{xValue:B,yValue:D},L)}return L?se(se({},k),L):null}},{key:"inRange",value:function(b,j){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,k=b/_,E=j/_;if(S==="horizontal"||S==="vertical"){var O=this.state.offset,N=k>=O.left&&k<=O.left+O.width&&E>=O.top&&E<=O.top+O.height;return N?{x:k,y:E}:null}var A=this.state,I=A.angleAxisMap,M=A.radiusAxisMap;if(I&&M){var L=Wl(I);return zT({x:k,y:E},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,j=this.getTooltipEventType(),_=Tr(b,er),S={};_&&j==="axis"&&(_.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=yg(this.props,this.handleOuterEvent);return se(se({},k),S)}},{key:"addListener",value:function(){cb.on(ub,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){cb.removeListener(ub,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,j,_){for(var S=this.state.formattedGraphicalItems,k=0,E=S.length;k<E;k++){var O=S[k];if(O.item===b||O.props.key===b.key||j===Ra(O.item.type)&&_===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,j=this.state.offset,_=j.left,S=j.top,k=j.height,E=j.width;return H.createElement("defs",null,H.createElement("clipPath",{id:b},H.createElement("rect",{x:_,y:S,height:k,width:E})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(j,_){var S=e2(_,2),k=S[0],E=S[1];return se(se({},j),{},Fe({},k,E.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(j,_){var S=e2(_,2),k=S[0],E=S[1];return se(se({},j),{},Fe({},k,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[b])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(b){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[b])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(b){var j=this.state,_=j.formattedGraphicalItems,S=j.activeItem;if(_&&_.length)for(var k=0,E=_.length;k<E;k++){var O=_[k],N=O.props,A=O.item,I=A.type.defaultProps!==void 0?se(se({},A.type.defaultProps),A.props):A.props,M=Ra(A.type);if(M==="Bar"){var L=(N.data||[]).find(function(D){return Rje(b,D)});if(L)return{graphicalItem:O,payload:L}}else if(M==="RadialBar"){var z=(N.data||[]).find(function(D){return zT(b,D)});if(z)return{graphicalItem:O,payload:z}}else if(sx(O,S)||lx(O,S)||lh(O,S)){var F=$ke({graphicalItem:O,activeTooltipItem:S,itemData:I.data}),B=I.activeIndex===void 0?F:I.activeIndex;return{graphicalItem:se(se({},O),{},{childIndex:B}),payload:lh(O,S)?I.data[F]:O.props.data[F]}}}return null}},{key:"render",value:function(){var b=this;if(!IN(this))return null;var j=this.props,_=j.children,S=j.className,k=j.width,E=j.height,O=j.style,N=j.compact,A=j.title,I=j.desc,M=t2(j,nNe),L=St(M,!1);if(N)return H.createElement(UO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement(b1,sc({},L,{width:k,height:E,title:A,desc:I}),this.renderClipPath(),MN(_,this.renderMap)));if(this.props.accessibilityLayer){var z,F;L.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,L.role=(F=this.props.role)!==null&&F!==void 0?F:"application",L.onKeyDown=function(D){b.accessibilityManager.keyboardEvent(D)},L.onFocus=function(){b.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return H.createElement(UO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement("div",sc({className:pt("recharts-wrapper",S),style:se({position:"relative",cursor:"default",width:k,height:E},O)},B,{ref:function($){b.container=$}}),H.createElement(b1,sc({},L,{width:k,height:E,title:A,desc:I,style:xNe}),this.renderClipPath(),MN(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(g.Component);Fe(m,"displayName",n),Fe(m,"defaultProps",se({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Fe(m,"getDerivedStateFromProps",function(y,x){var w=y.dataKey,b=y.data,j=y.children,_=y.width,S=y.height,k=y.layout,E=y.stackOffset,O=y.margin,N=x.dataStartIndex,A=x.dataEndIndex;if(x.updateId===void 0){var I=i2(y);return se(se(se({},I),{},{updateId:0},p(se(se({props:y},I),{},{updateId:0}),x)),{},{prevDataKey:w,prevData:b,prevWidth:_,prevHeight:S,prevLayout:k,prevStackOffset:E,prevMargin:O,prevChildren:j})}if(w!==x.prevDataKey||b!==x.prevData||_!==x.prevWidth||S!==x.prevHeight||k!==x.prevLayout||E!==x.prevStackOffset||!Sc(O,x.prevMargin)){var M=i2(y),L={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},z=se(se({},r2(x,b,k)),{},{updateId:x.updateId+1}),F=se(se(se({},M),L),z);return se(se(se({},F),p(se({props:y},F),x)),{},{prevDataKey:w,prevData:b,prevWidth:_,prevHeight:S,prevLayout:k,prevStackOffset:E,prevMargin:O,prevChildren:j})}if(!y1(j,x.prevChildren)){var B,D,$,P,R=Tr(j,fu),T=R&&(B=(D=R.props)===null||D===void 0?void 0:D.startIndex)!==null&&B!==void 0?B:N,C=R&&($=(P=R.props)===null||P===void 0?void 0:P.endIndex)!==null&&$!==void 0?$:A,U=T!==N||C!==A,G=!bt(b),ne=G&&!U?x.updateId:x.updateId+1;return se(se({updateId:ne},p(se(se({props:y},x),{},{updateId:ne,dataStartIndex:T,dataEndIndex:C}),x)),{},{prevChildren:j,dataStartIndex:T,dataEndIndex:C})}return null}),Fe(m,"renderActiveDot",function(y,x,w){var b;return g.isValidElement(y)?b=g.cloneElement(y,x):st(y)?b=y(x):b=H.createElement(TU,x),H.createElement(Pn,{className:"recharts-active-dot",key:w},b)});var v=g.forwardRef(function(x,w){return H.createElement(m,sc({},x,{ref:w}))});return v.displayName=m.displayName,v},$l=NNe({chartName:"BarChart",GraphicalChild:fr,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Sa},{axisType:"yAxis",AxisComp:ja}],formatAxisMap:uEe});const PNe=[{name:"Resolved by Human",value:15},{name:"Resolved by AI",value:85}],Fi=["#60a5fa","#2563eb","#1d4ed8","#10b981","#f59e0b","#ef4444"];function TNe(){g.useMemo(()=>Fi.slice(0,PNe.length),[]);const[e,t]=g.useState(""),[n,r]=g.useState(""),[i,a]=g.useState([]),[o,s]=g.useState(0),[c,u]=g.useState(0),[f,d]=g.useState({total:0,ai:0,rate:0,handover:0,handover_rate:0}),[h,p]=g.useState("all"),[m,v]=g.useState([]),[y,x]=g.useState([]),[w,b]=g.useState(!1),[j,_]=g.useState([]),[S,k]=g.useState([]),[E,O]=g.useState([]),[N,A]=g.useState({input:0,output:0,total:0}),[I,M]=g.useState([]),[L,z]=g.useState([]),[F,B]=g.useState([]),[D,$]=g.useState("all"),P=C=>{if(!C||C.trim().length===0)return"(unspecified)";if(C.startsWith("other:"))return C.replace(/^other:/,"Other: ");switch(C){case"ambiguous":return"Ambiguous intent";case"payment":return"Payment-related";case"policy":return"Policy/compliance";default:return C}},R=()=>{const C=new Date,U=n?new Date(n):C,G=e?new Date(e):new Date(C.getTime()-29*24*60*60*1e3),ne=new Date(Date.UTC(G.getUTCFullYear(),G.getUTCMonth(),G.getUTCDate(),0,0,0)),q=new Date(Date.UTC(U.getUTCFullYear(),U.getUTCMonth(),U.getUTCDate()+1,0,0,0));return{start:ne.toISOString(),end:q.toISOString()}},T=async()=>{const{start:C,end:U}=R(),{data:G}=await Q.rpc("get_channel_chat_counts",{p_from:C,p_to:U});a((G||[]).map(Z=>({provider:Z.provider,display_name:Z.display_name,thread_count:Number(Z.thread_count||0)})));const{data:ne}=await Q.rpc("get_response_time_stats",{p_from:C,p_to:U,p_channel:h!=="all"?h:null});if(ne&&ne.length>0){const Z=ne[0];s(Number(Z.ai_avg||0)),u(Number(Z.agent_avg||0))}const{data:q,error:J}=await Q.rpc("get_containment_and_handover",{p_from:C,p_to:U});if(!J&&q&&q.length>0){const Z=q[0];d({total:Number(Z.total_threads||0),ai:Number(Z.ai_resolved_count||0),rate:Number(Z.containment_rate||0),handover:Number(Z.handover_count||0),handover_rate:Number(Z.handover_rate||0)})}else if(J&&J.code==="PGRST202"){const{data:Z}=await Q.rpc("get_containment",{p_from:C,p_to:U});let Y=0,he=0,W=0,ee=0,fe=0;if(Z&&Z.length>0){const de=Z[0];Y=Number(de.total_threads||0),he=Number(de.ai_resolved_count||0),W=Number(de.rate||0)}const{data:xe}=await Q.rpc("get_handover_stats",{p_from:C,p_to:U}),Pe=(xe||[]).reduce((de,Te)=>de+Number(Te.count||0),0);ee=Pe,fe=Y>0?Pe/Y:0,d({total:Y,ai:he,rate:W,handover:ee,handover_rate:fe})}const{data:K}=await Q.rpc("get_chats_timeseries",{p_from:C,p_to:U,p_channel:h!=="all"?h:null});v((K||[]).map(Z=>({bucket:Z.bucket,provider:Z.provider,count:Number(Z.count||0)})));const{data:re}=await Q.rpc("get_handover_stats",{p_from:C,p_to:U});x((re||[]).map(Z=>({reason:P(Z.reason)||"(unspecified)",count:Number(Z.count||0),total:Number(Z.total||0),rate:Number(Z.rate||0)})));try{const{data:Z}=await Q.from("token_usage_logs").select("made_at, prompt_tokens, completion_tokens, total_tokens, model, channel_id").gte("made_at",C).lt("made_at",U).order("made_at",{ascending:!0}),Y={},he={};let W=0,ee=0,fe=0;for(const de of Z||[]){const Te=new Date(de.made_at).toISOString().slice(0,10),Ye=Number(de.prompt_tokens||0),Xe=Number(de.completion_tokens||0),Je=Number(de.total_tokens||Ye+Xe);Y[Te]||(Y[Te]={input:0,output:0,total:0}),Y[Te].input+=Ye,Y[Te].output+=Xe,Y[Te].total+=Je;const ot=String(de.model||"unknown");he[ot]=(he[ot]||0)+Je,W+=Ye,ee+=Xe,fe+=Je}const xe=Object.keys(Y).sort().map(de=>({day:de,...Y[de]})),Pe=Object.entries(he).sort((de,Te)=>Te[1]-de[1]).slice(0,8).map(([de,Te])=>({model:de,tokens:Te}));k(xe),O(Pe),A({input:W,output:ee,total:fe})}catch{}try{const{data:Z}=await Q.rpc("get_handover_by_super_agent",{p_from:C,p_to:U});M((Z||[]).map(ee=>({super_agent_id:ee.super_agent_id,super_agent_name:ee.super_agent_name,human_resolved:Number(ee.human_resolved||0),ai_resolved:Number(ee.ai_resolved||0),handover_rate:Number(ee.handover_rate||0)})));const Y=D!=="all"?D:null,[{data:he},{data:W}]=await Promise.all([Q.rpc("get_handover_by_agent",{p_from:C,p_to:U,p_super_agent_id:Y}),Q.rpc("get_agent_kpis",{p_from:C,p_to:U,p_super_agent_id:Y})]);z((he||[]).map(ee=>({agent_user_id:ee.agent_user_id,agent_name:ee.agent_name,super_agent_id:ee.super_agent_id,human_resolved:Number(ee.human_resolved||0),ai_resolved:Number(ee.ai_resolved||0),handover_rate:Number(ee.handover_rate||0)}))),B((W||[]).map(ee=>({agent_user_id:ee.agent_user_id,agent_name:ee.agent_name,resolved_count:Number(ee.resolved_count||0),avg_resolution_minutes:ee.avg_resolution_minutes!=null?Number(ee.avg_resolution_minutes):null})))}catch{}};return g.useEffect(()=>{T()},[e,n,h]),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("h1",{className:"text-2xl font-semibold",children:"Analytics"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"High-level KPIs for conversations, AI agents, and human agents."})]}),l.jsxs("div",{className:"flex items-end gap-3",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"From"}),l.jsx(ht,{type:"date",value:e,max:n||new Date().toISOString().slice(0,10),onChange:C=>{const U=C.target.value;t(U),n&&U&&U>n&&r(U)},className:"h-9 w-[180px]"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"To"}),l.jsx(ht,{type:"date",value:n,min:e||void 0,max:new Date().toISOString().slice(0,10),onChange:C=>{const U=C.target.value;r(U),e&&U&&U<e&&t(U)},className:"h-9 w-[180px]"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Channel"}),l.jsxs(It,{value:h,onValueChange:async C=>{p(C);try{await Mt({action:"analytics.channel_filter",resource:"analytics",context:{channel:C}})}catch{}},children:[l.jsx(Ct,{className:"h-9 w-[180px]",children:l.jsx(Rt,{placeholder:"All"})}),l.jsxs(Et,{children:[l.jsx(Ie,{value:"all",children:"All"}),l.jsx(Ie,{value:"whatsapp",children:"WhatsApp"}),l.jsx(Ie,{value:"web",children:"Web"}),l.jsx(Ie,{value:"telegram",children:"Telegram"})]})]})]}),l.jsx(ae,{variant:"outline",className:"h-9",onClick:T,children:"Refresh"})]}),l.jsxs(qc,{defaultValue:"conversation",className:"w-full mt-4",children:[l.jsxs(Xs,{className:"grid w-full max-w-xl grid-cols-3",children:[l.jsx(Mn,{value:"conversation",children:"Conversation"}),l.jsx(Mn,{value:"ai-agent",children:"AI Agent"}),l.jsx(Mn,{value:"human-agent",children:"Human Agent"})]}),l.jsxs(wn,{value:"conversation",className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs($e,{children:[l.jsx(ut,{children:l.jsx(dt,{children:"Total Chats"})}),l.jsx(et,{children:l.jsx("div",{className:"text-2xl font-semibold",children:f.total})})]}),l.jsxs($e,{children:[l.jsx(ut,{children:l.jsx(dt,{children:"AI Containment Rate"})}),l.jsxs(et,{children:[l.jsxs("div",{className:"text-2xl font-semibold",children:[Math.round(f.rate*100),"%"]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[f.ai," / ",f.total]}),l.jsx(ae,{variant:"outline",className:"mt-2 h-8",onClick:async()=>{b(!0);const{start:C,end:U}=R(),{data:G}=await Q.rpc("get_non_contained",{p_from:C,p_to:U,p_limit:100,p_offset:0});_(G||[])},children:"View non-contained"})]})]}),l.jsxs($e,{children:[l.jsx(ut,{children:l.jsx(dt,{children:"Handover Rate"})}),l.jsxs(et,{children:[l.jsxs("div",{className:"text-2xl font-semibold",children:[Math.round(f.handover_rate*100),"%"]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[f.handover," / ",f.total]})]})]})]}),l.jsxs($e,{children:[l.jsx(ut,{children:l.jsx(dt,{children:"Chats per Channel"})}),l.jsx(et,{className:"h-64",children:l.jsx(Rl,{width:"100%",height:"100%",children:l.jsxs($l,{data:i.map(C=>({name:C.display_name||C.provider,count:C.thread_count})),children:[l.jsx(Sa,{dataKey:"name"}),l.jsx(ja,{}),l.jsx(er,{}),l.jsx(fr,{dataKey:"count",fill:Fi[2],radius:[4,4,0,0],children:l.jsx(ia,{dataKey:"count",position:"top"})})]})})})]}),l.jsxs($e,{children:[l.jsx(ut,{children:l.jsx(dt,{children:"Chats Time Series (Asia/Jakarta)"})}),l.jsx(et,{className:"h-64",children:l.jsx(Rl,{width:"100%",height:"100%",children:(()=>{const C=Array.from(new Set(m.map(ne=>ne.provider))),G=Array.from(new Set(m.map(ne=>ne.bucket))).sort().map(ne=>{var J;const q={bucket:new Date(ne).toLocaleDateString("en-US",{timeZone:"Asia/Jakarta"})};for(const K of C)q[K]=((J=m.find(re=>re.bucket===ne&&re.provider===K))==null?void 0:J.count)||0;return q});return l.jsxs($l,{data:G,children:[l.jsx(Sa,{dataKey:"bucket"}),l.jsx(ja,{}),l.jsx(er,{}),l.jsx(Ji,{}),C.map((ne,q)=>l.jsx(fr,{dataKey:ne,stackId:void 0,fill:Fi[q%(Fi.length-1)+1]},ne))]})})()})})]})]}),l.jsxs(wn,{value:"ai-agent",className:"space-y-6",children:[l.jsxs($e,{children:[l.jsx(ut,{children:l.jsx(dt,{children:"AI Token Usage (by day)"})}),l.jsxs(et,{className:"h-64",children:[l.jsx(Rl,{width:"100%",height:"100%",children:l.jsxs($l,{data:S.map(C=>({day:new Date(C.day).toLocaleDateString("en-US",{timeZone:"Asia/Jakarta"}),input:C.input,output:C.output})),children:[l.jsx(Sa,{dataKey:"day"}),l.jsx(ja,{}),l.jsx(er,{}),l.jsx(Ji,{}),l.jsx(fr,{dataKey:"input",stackId:"tokens",fill:Fi[1],name:"Prompt tokens"}),l.jsx(fr,{dataKey:"output",stackId:"tokens",fill:Fi[2],name:"Completion tokens"})]})}),l.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["Total tokens: ",N.total.toLocaleString()," (input ",N.input.toLocaleString(),", output ",N.output.toLocaleString(),")"]})]})]}),l.jsxs($e,{children:[l.jsx(ut,{children:l.jsx(dt,{children:"Top Models by Tokens"})}),l.jsx(et,{className:"h-64",children:l.jsx(Rl,{width:"100%",height:"100%",children:l.jsxs($l,{data:E.map(C=>({name:C.model,tokens:C.tokens})),layout:"vertical",children:[l.jsx(Sa,{type:"number"}),l.jsx(ja,{type:"category",dataKey:"name",width:160}),l.jsx(er,{}),l.jsx(fr,{dataKey:"tokens",fill:Fi[4],radius:[0,4,4,0],children:l.jsx(ia,{dataKey:"tokens",position:"right"})})]})})})]})]}),l.jsxs(wn,{value:"human-agent",className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Super Agent"}),l.jsxs(It,{value:D,onValueChange:C=>$(C),children:[l.jsx(Ct,{className:"w-[220px] h-9",children:l.jsx(Rt,{placeholder:"All"})}),l.jsxs(Et,{children:[l.jsx(Ie,{value:"all",children:"All"}),I.map(C=>l.jsx(Ie,{value:String(C.super_agent_id||"none"),children:C.super_agent_name||"—"},C.super_agent_id||"none"))]})]}),l.jsx(ae,{variant:"outline",className:"h-9",onClick:T,children:"Apply"})]}),l.jsxs($e,{children:[l.jsx(ut,{children:l.jsx(dt,{children:"Handover Rate by Agent (Human vs AI)"})}),l.jsx(et,{className:"h-64",children:l.jsx(Rl,{width:"100%",height:"100%",children:l.jsxs($l,{data:L.map(C=>({name:C.agent_name||"—",ratePct:Math.round((C.handover_rate||0)*100),human:C.human_resolved,ai:C.ai_resolved})),children:[l.jsx(Sa,{dataKey:"name"}),l.jsx(ja,{}),l.jsx(er,{}),l.jsx(Ji,{}),l.jsx(fr,{dataKey:"ratePct",name:"Handover % (Human/(Human+AI))",fill:Fi[2],radius:[4,4,0,0],children:l.jsx(ia,{dataKey:"ratePct",position:"top"})})]})})})]}),l.jsxs($e,{children:[l.jsx(ut,{children:l.jsx(dt,{children:"Agent KPIs"})}),l.jsx(et,{className:"h-64",children:l.jsx(Rl,{width:"100%",height:"100%",children:l.jsxs($l,{data:F.map(C=>({name:C.agent_name||"—",resolved:C.resolved_count,avgMin:Math.round(C.avg_resolution_minutes||0)})),children:[l.jsx(Sa,{dataKey:"name"}),l.jsx(ja,{}),l.jsx(er,{}),l.jsx(Ji,{}),l.jsx(fr,{dataKey:"resolved",name:"Resolved",fill:Fi[3],radius:[4,4,0,0]}),l.jsx(fr,{dataKey:"avgMin",name:"Avg Resolution (min)",fill:Fi[5],radius:[4,4,0,0]})]})})})]})]})]}),l.jsx(Dr,{open:w,onOpenChange:b,children:l.jsxs(vr,{className:"max-w-3xl",children:[l.jsx(yr,{children:l.jsx(xr,{children:"Non-contained Conversations"})}),l.jsx("div",{className:"max-h-80 overflow-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"text-left py-2",children:"Time"}),l.jsx("th",{className:"text-left py-2",children:"Contact"}),l.jsx("th",{className:"text-left py-2",children:"Handover Reason"}),l.jsx("th",{className:"text-left py-2",children:"Status"})]})}),l.jsx("tbody",{children:j.map(C=>l.jsxs("tr",{children:[l.jsx("td",{className:"py-1",children:new Date(C.created_at).toLocaleString()}),l.jsx("td",{className:"py-1",children:C.contact_name}),l.jsx("td",{className:"py-1",children:C.handover_reason||"(none)"}),l.jsx("td",{className:"py-1",children:C.status})]},C.id))})]})})]})})]})}var gx="Switch",[ONe,UDe]=Fn(gx),[INe,RNe]=ONe(gx),w6=g.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:o,disabled:s,value:c="on",onCheckedChange:u,form:f,...d}=e,[h,p]=g.useState(null),m=We(t,b=>p(b)),v=g.useRef(!1),y=h?f||!!h.closest("form"):!0,[x,w]=ii({prop:i,defaultProp:a??!1,onChange:u,caller:gx});return l.jsxs(INe,{scope:n,checked:x,disabled:s,children:[l.jsx(Ae.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":k6(x),"data-disabled":s?"":void 0,disabled:s,value:c,...d,ref:m,onClick:ve(e.onClick,b=>{w(j=>!j),y&&(v.current=b.isPropagationStopped(),v.current||b.stopPropagation())})}),y&&l.jsx(j6,{control:h,bubbles:!v.current,name:r,value:c,checked:x,required:o,disabled:s,form:f,style:{transform:"translateX(-100%)"}})]})});w6.displayName=gx;var _6="SwitchThumb",S6=g.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=RNe(_6,n);return l.jsx(Ae.span,{"data-state":k6(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});S6.displayName=_6;var MNe="SwitchBubbleInput",j6=g.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},a)=>{const o=g.useRef(null),s=We(o,a),c=nk(n),u=lj(t);return g.useEffect(()=>{const f=o.current;if(!f)return;const d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"checked").set;if(c!==n&&p){const m=new Event("click",{bubbles:r});p.call(f,n),f.dispatchEvent(m)}},[c,n,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});j6.displayName=MNe;function k6(e){return e?"checked":"unchecked"}var C6=w6,DNe=S6;const ol=g.forwardRef(({className:e,...t},n)=>l.jsx(C6,{className:ge("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:l.jsx(DNe,{className:ge("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ol.displayName=C6.displayName;var vx="Collapsible",[$Ne,zDe]=Fn(vx),[LNe,dC]=$Ne(vx),E6=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:a,onOpenChange:o,...s}=e,[c,u]=ii({prop:r,defaultProp:i??!1,onChange:o,caller:vx});return l.jsx(LNe,{scope:n,disabled:a,contentId:kn(),open:c,onOpenToggle:g.useCallback(()=>u(f=>!f),[u]),children:l.jsx(Ae.div,{"data-state":hC(c),"data-disabled":a?"":void 0,...s,ref:t})})});E6.displayName=vx;var A6="CollapsibleTrigger",N6=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,i=dC(A6,n);return l.jsx(Ae.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":hC(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:t,onClick:ve(e.onClick,i.onOpenToggle)})});N6.displayName=A6;var fC="CollapsibleContent",P6=g.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=dC(fC,e.__scopeCollapsible);return l.jsx(Cn,{present:n||i.open,children:({present:a})=>l.jsx(FNe,{...r,ref:t,present:a})})});P6.displayName=fC;var FNe=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:i,...a}=e,o=dC(fC,n),[s,c]=g.useState(r),u=g.useRef(null),f=We(t,u),d=g.useRef(0),h=d.current,p=g.useRef(0),m=p.current,v=o.open||s,y=g.useRef(v),x=g.useRef(void 0);return g.useEffect(()=>{const w=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(w)},[]),on(()=>{const w=u.current;if(w){x.current=x.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const b=w.getBoundingClientRect();d.current=b.height,p.current=b.width,y.current||(w.style.transitionDuration=x.current.transitionDuration,w.style.animationName=x.current.animationName),c(r)}},[o.open,r]),l.jsx(Ae.div,{"data-state":hC(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!v,...a,ref:f,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":m?`${m}px`:void 0,...e.style},children:v&&i})});function hC(e){return e?"open":"closed"}var BNe=E6;const UNe=BNe,zNe=N6,WNe=P6,T6=e=>{const[t,n]=g.useState(!0),[r,i]=g.useState(!1),[a,o]=g.useState(null),[s,c]=g.useState(null),u=async()=>{try{if(n(!0),c(null),e){const{data:p,error:m}=await Q.from("ai_profiles").select("*").eq("id",e).single();if(m)throw m;p&&o(p)}else o(null)}catch(p){console.error("Error fetching AI profile:",p),c(p instanceof Error?p.message:"Failed to fetch profile")}finally{n(!1)}},f=async p=>{try{if(i(!0),c(null),a!=null&&a.id){const{error:m}=await Q.from("ai_profiles").update(p).eq("id",a.id);try{await Mt({action:"ai_profile.update",resource:"ai_profile",resourceId:a.id,context:p})}catch{}if(m)throw m}else{const{data:m,error:v}=await Q.from("ai_profiles").insert([{...p,org_id:"00000000-0000-0000-0000-000000000001"}]).select().single();if(v)throw v;m&&o(m);try{await Mt({action:"ai_profile.create",resource:"ai_profile",resourceId:(m==null?void 0:m.id)??null,context:p})}catch{}}await u()}catch(m){console.error("Error saving AI profile:",m),c(m instanceof Error?m.message:"Failed to save profile")}finally{i(!1)}},d=async p=>{try{n(!0),c(null);const{data:m,error:v}=await Q.from("ai_profiles").select("*").eq("org_id",p||"00000000-0000-0000-0000-000000000001").order("created_at",{ascending:!1});if(v)throw v;return m}catch(m){return console.error("Error fetching AI profiles:",m),c(m instanceof Error?m.message:"Failed to fetch profiles"),[]}finally{n(!1)}},h=async p=>{try{i(!0),c(null);const{error:m}=await Q.from("ai_profiles").delete().eq("id",p);try{await Mt({action:"ai_profile.delete",resource:"ai_profile",resourceId:p})}catch{}if(m)throw m}catch(m){throw console.error("Error deleting AI profile:",m),c(m instanceof Error?m.message:"Failed to delete profile"),m}finally{i(!1)}};return g.useEffect(()=>{e?u():n(!1)},[e]),{profile:a,loading:t,saving:r,error:s,fetchProfile:u,saveProfile:f,fetchAllProfiles:d,deleteProfile:h}},HNe="https://tgrmxlbnutxpewfmofdx.supabase.co",qNe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRncm14bGJudXR4cGV3Zm1vZmR4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ5MDY0NzgsImV4cCI6MjA3MDQ4MjQ3OH0.ijDctaGPXK3Ce9uao72YaaYCX9fpPFZGpmrsWp9IfU8",so=M$(HNe,qNe,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),VNe=({welcomeMessage:e,systemPrompt:t,modelDisplay:n,profile:r,profileId:i,modelName:a,temperature:o,transfer_conditions:s})=>{const[c,u]=g.useState([]);g.useEffect(()=>{u([{id:"1",content:e||"Halo! 👋 Selamat datang di Okbang Top Up Center~",sender:"ai",timestamp:new Date}])},[e]);const[f,d]=g.useState(""),[h,p]=g.useState(!1),[m,v]=g.useState(!0),[y,x]=g.useState(""),w=g.useRef(null),b=g.useRef(null);g.useEffect(()=>{(()=>{const N=Date.now(),A=Math.random().toString(36).substring(2,15),I=`session_${N}_${A}`;x(I),console.log("Generated session ID:",I)})()},[]);const j=()=>{b.current&&(b.current.scrollTop=b.current.scrollHeight)};g.useEffect(()=>{j()},[c]);const _=async()=>{if(!f.trim()||h)return;const O={id:Date.now().toString(),content:f,sender:"user",timestamp:new Date};u(N=>[...N,O]),d(""),p(!0);try{const N={message:f,model:a,temperature:o,session_id:y,timestamp:new Date().toISOString(),ai_profile_id:(r==null?void 0:r.id)||i};console.log("Sending request to API:",N);const A=await fetch(at.buildUrl(at.ENDPOINTS.AI_AGENT.CHAT_TEST),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)});if(!A.ok)throw new Error(`HTTP error! status: ${A.status}`);const I=await A.json();console.log("API Response:",I);const M={id:(Date.now()+1).toString(),content:I.output||"Sorry, I couldn't process your message.",sender:"ai",timestamp:new Date};u(L=>[...L,M]),Me.success("Message sent successfully!"),v(!0)}catch(N){console.error("Error sending message:",N),Me.error("Failed to send message"),v(!1);const A={id:(Date.now()+1).toString(),content:"Sorry, I'm having trouble connecting right now. Please try again later.",sender:"ai",timestamp:new Date};u(I=>[...I,A])}finally{p(!1)}},S=O=>{O.key==="Enter"&&!O.shiftKey&&(O.preventDefault(),_())},k=()=>{u([{id:"1",content:e||"Halo! 👋 Selamat datang di Okbang Top Up Center~",sender:"ai",timestamp:new Date}]),Me.info("Chat history cleared")},E=()=>{const O=Date.now(),N=Math.random().toString(36).substring(2,15),A=`session_${O}_${N}`;x(A),u([{id:"1",content:e||"Halo! 👋 Selamat datang di Okbang Top Up Center~",sender:"ai",timestamp:new Date}]),Me.success("Session refreshed! New session ID: "+A),console.log("New session ID:",A)};return l.jsxs($e,{className:"flex flex-col h-[600px] border-2 border-primary/20",children:[l.jsxs("div",{className:"flex items-center gap-3 p-4 border-b bg-primary/5",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center",children:l.jsx(eD,{className:"w-4 h-4"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("span",{className:"font-medium",children:"AI Agent Chat"}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["Model: ",n," • Temp: ",o,l.jsx("span",{className:`ml-2 px-1 rounded text-xs ${m?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:m?"Connected":"Disconnected"})]}),y&&l.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Session: ",y.substring(0,20),"..."]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[h&&l.jsx(kt,{className:"w-4 h-4 animate-spin"}),l.jsx(ae,{variant:"ghost",size:"sm",onClick:E,title:"Refresh session",children:l.jsx(ZS,{className:"w-4 h-4"})}),l.jsx(ae,{variant:"ghost",size:"sm",onClick:k,title:"Clear chat history",children:l.jsx($H,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{ref:b,className:"flex-1 p-4 space-y-4 overflow-auto max-h-[400px]",children:[c.map(O=>l.jsx("div",{className:`flex ${O.sender==="user"?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-[80%] p-3 rounded-lg ${O.sender==="user"?"bg-primary text-primary-foreground":"bg-muted"}`,children:[l.jsx("p",{className:"text-sm whitespace-pre-wrap",children:O.content}),l.jsx("p",{className:"text-xs opacity-70 mt-1",children:O.timestamp.toLocaleTimeString()})]})},O.id)),h&&l.jsx("div",{className:"flex justify-start",children:l.jsx("div",{className:"bg-muted p-3 rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(kt,{className:"w-4 h-4 animate-spin"}),l.jsx("span",{className:"text-sm",children:"AI is typing..."})]})})}),l.jsx("div",{ref:w})]}),l.jsxs("div",{className:"p-4 border-t bg-muted/30",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("textarea",{value:f,onChange:O=>d(O.target.value),onKeyPress:S,placeholder:"Type your message...",className:"flex-1 p-3 border rounded-lg text-sm resize-none focus:ring-2 focus:ring-primary/20",rows:2,disabled:h}),l.jsx(ae,{size:"sm",onClick:_,disabled:!f.trim()||h,className:"px-4",children:l.jsx(yf,{className:"w-4 h-4"})})]}),l.jsx("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:"Press Enter to send, Shift+Enter for new line"})]})]})},KNe=({agentName:e,onBack:t,profileId:n})=>{const[r,i]=g.useState("general"),[a,o]=g.useState("text"),[s,c]=g.useState({behavior:!0,welcome:!0,transfer:!1}),u=te=>{c(oe=>({...oe,[te]:!oe[te]}))},f=!n,{hasPermission:d}=Xa(),h="ai_agent_files.manage",p=d(h),{profile:m,loading:v,saving:y,error:x,saveProfile:w}=T6(n),[b,j]=g.useState(f?"You are a helpful AI assistant for customer service. Be friendly, professional, and helpful. Always respond in Indonesian unless the customer speaks in another language.":(m==null?void 0:m.system_prompt)||""),[_,S]=g.useState(f?"Halo! 👋 Selamat datang! Ada yang bisa saya bantu hari ini?":(m==null?void 0:m.welcome_message)||""),[k,E]=g.useState(f?`Transfer to human agent when:
- Customer requests to speak with a human
- Complex technical issues arise
- Customer is dissatisfied or angry
- Payment or billing issues
- Escalation is needed`:(m==null?void 0:m.transfer_conditions)||""),[O,N]=g.useState((m==null?void 0:m.stop_ai_after_handoff)??!0),[A,I]=g.useState([]),[M,L]=g.useState(""),[z,F]=g.useState((m==null?void 0:m.temperature)||.3),[B,D]=g.useState((m==null?void 0:m.auto_resolve_after_minutes)??0),[$,P]=g.useState(!!((m==null?void 0:m.enable_resolve)??!1));g.useEffect(()=>{(async()=>{try{const{data:oe,error:ue}=await so.from("ai_models").select("id, provider, model_name, display_name, is_active").eq("is_active",!0).order("display_name",{ascending:!0});if(ue)throw ue;const Se=oe||[];I(Se),L(_e=>{var Ne;return _e||((Ne=Se[0])==null?void 0:Ne.id)||""})}catch(oe){console.error("Failed to load ai_models",oe)}})()},[]);const R=A.find(te=>te.id===M)||null,[T,C]=g.useState([]),U=g.useRef(null),[G,ne]=g.useState(!1),q=async()=>{const te=(m==null?void 0:m.id)??n;if(!te)throw new Error("Please save the AI Agent first before uploading files.");let oe=(m==null?void 0:m.org_id)??null;if(!oe){const{data:{user:ue}}=await so.auth.getUser();if(ue){const{data:Se}=await so.from("org_members").select("org_id").eq("user_id",ue.id).limit(1).maybeSingle();oe=(Se==null?void 0:Se.org_id)??null}}if(!oe)throw new Error("Could not determine your organization. Please re-login or contact support.");return{orgId:oe,profileId:te}},J=async(te,oe)=>{try{if(!p)throw new Error("You do not have permission to upload agent files.");const ue=((te==null?void 0:te.type)||"").toLowerCase()==="application/pdf",Se=((te==null?void 0:te.name)||"").toLowerCase().endsWith(".pdf");if(!ue&&!Se)throw new Error("Only PDF files are supported");const{orgId:_e,profileId:Ne}=await q(),ct=await te.arrayBuffer(),Qe=await crypto.subtle.digest("SHA-256",ct),Ue=Array.from(new Uint8Array(Qe)).map(cr=>cr.toString(16).padStart(2,"0")).join(""),be=((te==null?void 0:te.name)||"file.pdf").replace(/[^a-zA-Z0-9_.-]/g,"").replace(/\.pdf$/i,""),je=`${Ue}_${be}.pdf`,ze=`org_${_e}/profile_${Ne}/${je}`,we=new FormData;we.append("file",te),we.append("file_name",te.name||"file.pdf"),we.append("org_id",_e),we.append("profile_id",Ne),we.append("hashFile",Ue);const Ce=await fetch(at.buildUrl(at.ENDPOINTS.KNOWLEDGE.FILE_UPLOAD),{method:"POST",body:we});if(!Ce.ok){let cr=`Upload failed (${Ce.status})`;try{const pa=await Ce.json();cr=(pa==null?void 0:pa.message)||cr}catch{}throw new Error(cr)}const He=await Ce.json().catch(()=>({})),sn=(He==null?void 0:He.document_id)||(He==null?void 0:He.documentId)||void 0,tt=String((He==null?void 0:He.status)||"").toLowerCase();if(tt==="duplicate"){const cr=new Error("duplicate");throw cr.code="DUPLICATE_CONTENT",cr}if(tt!=="success")throw new Error(`Upload webhook returned unexpected status: ${tt||"unknown"}`);let ln=null;const{error:gn}=await so.storage.from("ai-agent-files").upload(ze,te,{cacheControl:"31536000",contentType:"application/pdf",upsert:!1});if(gn&&!(typeof(gn==null?void 0:gn.message)=="string"&&/exists|duplicate|409/i.test(gn.message)))throw gn;const{data:en,error:lr}=await so.storage.from("ai-agent-files").createSignedUrl(ze,60*60*24*7);return!lr&&(en!=null&&en.signedUrl)&&(ln=en.signedUrl),{url:ln||"",filePath:ze,documentId:sn}}catch(ue){throw console.error("Error uploading file to Supabase:",ue),new Error(`Failed to upload ${te.name}: ${(ue==null?void 0:ue.message)||"Unknown error"}`)}},K=async()=>{try{ne(!0);const{orgId:te,profileId:oe}=await q(),ue=`org_${te}/profile_${oe}`,Se=`profile_${oe}`,_e=async Ue=>{const{data:ie,error:be}=await so.storage.from("ai-agent-files").list(Ue,{limit:100});return be?[]:(ie||[]).map(je=>({...je,__prefix:Ue}))},[Ne,ct]=await Promise.all([_e(ue),_e(Se)]),Qe=[...Ne,...ct];if(Qe.length===0){C([]);return}const xt=[];for(const Ue of Qe){if(!Ue||!Ue.name)continue;const ie=String(Ue.name);if(ie.endsWith("/")||ie===".emptyFolderPlaceholder"||ie===".emptyfolderplaceholder")continue;const be=`${Ue.__prefix}/${Ue.name}`,je=Ue.metadata&&typeof Ue.metadata.size<"u"?Ue.metadata.size:0,ze=typeof je=="number"?je:Number(je||0);let we="";const{data:Ce}=await so.storage.from("ai-agent-files").createSignedUrl(be,60*60*24*7);we=(Ce==null?void 0:Ce.signedUrl)||"",xt.push({id:Date.now()+Math.random(),name:Ue.name,size:ze,uploadedAt:Ue.updated_at||Ue.created_at||new Date().toISOString(),status:"ready",url:we,filePath:be})}xt.sort((Ue,ie)=>new Date(ie.uploadedAt).getTime()-new Date(Ue.uploadedAt).getTime()),C(xt)}catch(te){console.error("Failed to load knowledge files:",te)}finally{ne(!1)}};g.useEffect(()=>{a==="file"&&K()},[a,m==null?void 0:m.id,n]);const re=async te=>{const oe=Array.from(te.target.files||[]);if(oe.length===0)return;try{await q()}catch(_e){Me.error((_e==null?void 0:_e.message)||"Unable to upload at this time"),U.current&&(U.current.value="");return}const ue=new Date().toISOString(),Se=oe.map(_e=>({id:Date.now()+Math.random(),name:_e.name,size:_e.size,uploadedAt:ue,status:"uploading"}));C(_e=>[...Se,..._e]);for(let _e=0;_e<oe.length;_e++){const Ne=oe[_e],ct=Se[_e];try{const{url:Qe,filePath:xt}=await J(Ne,ct.id);C(Ue=>Ue.map(ie=>ie.id===ct.id?{...ie,status:"ready",url:Qe,filePath:xt}:ie)),Me.success(`${Ne.name} uploaded successfully!`)}catch(Qe){if(String((Qe==null?void 0:Qe.message)||"").toLowerCase().includes("duplicate")||(Qe==null?void 0:Qe.code)==="DUPLICATE_CONTENT"){C(xt=>xt.map(Ue=>Ue.id===ct.id?{...Ue,status:"ready"}:Ue)),setTimeout(()=>{var xt,Ue;(Ue=(xt=K())==null?void 0:xt.catch)==null||Ue.call(xt,()=>{})},0),Me.info(`${Ne.name} already exists. Skipped re-upload.`);continue}C(xt=>xt.map(Ue=>Ue.id===ct.id?{...Ue,status:"failed"}:Ue)),Me.error(Qe.message||`Failed to upload ${Ne.name}`)}}U.current&&(U.current.value="")},Z=async te=>{te.preventDefault();const oe=Array.from(te.dataTransfer.files||[]);if(oe.length===0)return;try{await q()}catch(_e){Me.error((_e==null?void 0:_e.message)||"Unable to upload at this time");return}const ue=new Date().toISOString(),Se=oe.map(_e=>({id:Date.now()+Math.random(),name:_e.name,size:_e.size,uploadedAt:ue,status:"uploading"}));C(_e=>[...Se,..._e]);for(let _e=0;_e<oe.length;_e++){const Ne=oe[_e],ct=Se[_e];try{const{url:Qe,filePath:xt}=await J(Ne,ct.id);C(Ue=>Ue.map(ie=>ie.id===ct.id?{...ie,status:"ready",url:Qe,filePath:xt}:ie)),Me.success(`${Ne.name} uploaded successfully!`)}catch(Qe){C(xt=>xt.map(Ue=>Ue.id===ct.id?{...Ue,status:"failed"}:Ue)),Me.error(Qe.message||`Failed to upload ${Ne.name}`)}}},Y=te=>{te.preventDefault()},he=async te=>{const oe=T.find(ue=>ue.id===te);try{const{orgId:ue,profileId:Se}=await q();if(oe!=null&&oe.filePath){const _e=await fetch(at.buildUrl(at.ENDPOINTS.KNOWLEDGE.FILE_DELETE),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({org_id:ue,profile_id:Se,file_key:oe.filePath,document_id:(oe==null?void 0:oe.documentId)||void 0})});if(!_e.ok){let Qe=`Delete failed (${_e.status})`;try{const xt=await _e.json();Qe=(xt==null?void 0:xt.message)||Qe}catch{}throw new Error(Qe)}let Ne={};try{Ne=await _e.json()}catch{}if(String((Ne==null?void 0:Ne.status)||"").toLowerCase()!=="deleted")throw new Error((Ne==null?void 0:Ne.message)||"Delete not confirmed by webhook")}C(_e=>_e.filter(Ne=>Ne.id!==te)),Me.info(`${(oe==null?void 0:oe.name)||"File"} removed`)}catch(ue){console.error("Error deleting file via webhook:",ue),Me.error((ue==null?void 0:ue.message)||"Failed to delete file")}},W=async te=>{try{const oe=te.filePath;if(!oe)throw new Error("Missing file path");const{data:ue,error:Se}=await so.storage.from("ai-agent-files").createSignedUrl(oe,60*60,{download:te.name||"file.pdf"});if(Se)throw Se;const _e=(ue==null?void 0:ue.signedUrl)||te.url||"";if(!_e)throw new Error("Unable to generate download link");const Ne=document.createElement("a");Ne.href=_e,Ne.download=te.name||"",Ne.target="_blank",Ne.rel="noopener",document.body.appendChild(Ne),Ne.click(),Ne.remove()}catch(oe){Me.error((oe==null?void 0:oe.message)||"Failed to download file")}},ee=async()=>{const te=T.filter(oe=>oe.filePath);if(te.length>0)try{const{orgId:oe,profileId:ue}=await q();await Promise.all(te.map(async Se=>{try{const _e=await fetch(at.buildUrl(at.ENDPOINTS.KNOWLEDGE.FILE_DELETE),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({org_id:oe,profile_id:ue,file_key:Se.filePath,document_id:(Se==null?void 0:Se.documentId)||void 0})});if(_e.ok){let Ne={};try{Ne=await _e.json()}catch{}const ct=String((Ne==null?void 0:Ne.status)||"").toLowerCase();ct!=="deleted"&&console.warn("Delete webhook did not confirm deletion for",Se.filePath,ct)}else{let Ne=`Delete failed (${_e.status})`;try{const ct=await _e.json();Ne=(ct==null?void 0:ct.message)||Ne}catch{}console.warn("Delete webhook failed for",Se.filePath,Ne)}}catch(_e){console.warn("Delete webhook error for",Se.filePath,_e)}}))}catch(oe){console.error("Error clearing files via webhook:",oe)}C([]),Me.info("All files cleared")},[fe,xe]=g.useState([{id:Date.now(),question:"",answer:""}]),[Pe,de]=g.useState([{id:Date.now(),question:"",answer:""}]),Te=()=>{const te={id:Date.now()+Math.random(),question:"",answer:""};xe(oe=>[te,...oe]),de(oe=>[JSON.parse(JSON.stringify(te)),...oe])},Ye=te=>{xe(oe=>oe.filter(ue=>ue.id!==te)),de(oe=>oe.filter(ue=>ue.id!==te))},Xe=(te,oe,ue)=>{xe(Se=>Se.map(_e=>_e.id===te?{..._e,[oe]:ue}:_e))},Je=te=>{const oe=Pe.find(_e=>_e.id===te.id),ue=(te.question||"").trim(),Se=(te.answer||"").trim();return oe?ue!==(oe.question||"").trim()||Se!==(oe.answer||"").trim():ue!==""||Se!==""},[ot,gt]=g.useState([{id:1,prompt:"Hai! Ada yang bisa saya bantu lagi?",delay:60,expanded:!1},{id:2,prompt:"Jika ada pertanyaan lain, jangan ragu untuk bertanya!",delay:120,expanded:!1}]),V=()=>{const te={id:Date.now(),prompt:"",delay:60,expanded:!1};gt([...ot,te])},ce=te=>{gt(ot.filter(oe=>oe.id!==te))},X=(te,oe,ue)=>{gt(ot.map(Se=>Se.id===te?{...Se,[oe]:ue}:Se))},pe=te=>{gt(ot.map(oe=>oe.id===te?{...oe,expanded:!oe.expanded}:oe))};g.useEffect(()=>{if(m&&!f){j(m.system_prompt||""),S(m.welcome_message||""),E(m.transfer_conditions||""),N(m.stop_ai_after_handoff),F(m.temperature||.3),D((m==null?void 0:m.auto_resolve_after_minutes)??0),P(!!((m==null?void 0:m.enable_resolve)??!1));const te=m==null?void 0:m.qna;if(te&&Array.isArray(te)){const oe=te.map((ue,Se)=>({id:Date.now()+Se,question:ue.q??ue.question??"",answer:ue.a??ue.answer??""}));xe(oe),de(JSON.parse(JSON.stringify(oe)))}}},[m,f]),g.useEffect(()=>{f&&de(JSON.parse(JSON.stringify(fe)))},[]);const ke=async()=>{const te={system_prompt:b,welcome_message:_,transfer_conditions:k,stop_ai_after_handoff:O,temperature:z,name:e,auto_resolve_after_minutes:B,enable_resolve:$,qna:fe.filter(oe=>{var ue,Se;return((ue=oe.question)==null?void 0:ue.trim())||((Se=oe.answer)==null?void 0:Se.trim())}).map(({question:oe,answer:ue})=>({q:oe.trim(),a:ue.trim()}))};try{await w(te),Me.success(f?"AI agent created successfully!":"AI agent settings saved successfully!")}catch{Me.error(f?"Failed to create AI agent":"Failed to save AI agent settings")}};return v&&!f?l.jsxs("div",{className:"flex items-center justify-center h-64",children:[l.jsx(kt,{className:"w-8 h-8 animate-spin"}),l.jsx("span",{className:"ml-2",children:"Loading AI profile..."})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(ae,{variant:"ghost",size:"sm",onClick:t,className:"gap-2",children:[l.jsx(Fv,{className:"w-4 h-4"}),"Back"]}),l.jsx("h1",{className:"text-2xl font-bold",children:e}),f?l.jsx(_t,{variant:"outline",className:"text-blue-600 border-blue-600",children:"New Agent"}):m&&l.jsxs(_t,{variant:"secondary",children:["Last Updated: ",new Date(m.created_at).toLocaleDateString()]})]}),x&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:l.jsxs("p",{className:"text-red-800 text-sm",children:["Error: ",x]})}),l.jsxs(qc,{value:r,onValueChange:i,children:[l.jsxs(Xs,{className:"grid w-full grid-cols-2",children:[l.jsxs(Mn,{value:"general",className:"gap-2",children:[l.jsx(pc,{className:"w-4 h-4"}),"General"]}),l.jsxs(Mn,{value:"knowledge",className:"gap-2",children:[l.jsx(wH,{className:"w-4 h-4"}),"Knowledge Sources"]})]}),l.jsx(wn,{value:"general",className:"space-y-6",children:l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-5 gap-6",children:[l.jsxs("div",{className:"xl:col-span-3 space-y-4",children:[l.jsx($e,{className:"p-6",children:l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:e.charAt(0)}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold",children:e}),l.jsx("p",{className:"text-muted-foreground",children:f?"New AI Agent - Configure your settings below":(m==null?void 0:m.description)||"AI Agent"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:f?"Not saved yet":`Last Updated: ${m?new Date(m.created_at).toLocaleString():"Never"}`})]})]})}),l.jsxs($e,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>u("behavior"),children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-primary",children:"AI Agent Behavior"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure AI personality and behavior"})]}),l.jsx(Co,{className:`w-5 h-5 transition-transform ${s.behavior?"rotate-180":""}`})]}),s.behavior&&l.jsxs("div",{className:"mt-4 space-y-4",children:[l.jsx(Gi,{className:"min-h-[120px]",value:b,onChange:te=>j(te.target.value),placeholder:f?"Define your AI's personality, behavior, and capabilities here...":"Enter system prompt..."}),l.jsxs("div",{className:"text-right text-xs text-muted-foreground",children:[b.length,"/15000"]})]})]}),l.jsxs($e,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>u("welcome"),children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-primary",children:"Welcome Message"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"First message sent to users"})]}),l.jsx(Co,{className:`w-5 h-5 transition-transform ${s.welcome?"rotate-180":""}`})]}),s.welcome&&l.jsxs("div",{className:"mt-4 space-y-4",children:[l.jsx(Gi,{className:"min-h-[80px]",value:_,onChange:te=>S(te.target.value),placeholder:f?"This is the first message your AI will send to customers...":"Enter welcome message..."}),l.jsxs("div",{className:"text-right text-xs text-muted-foreground",children:[_.length,"/5000"]})]})]}),l.jsxs($e,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>u("transfer"),children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-primary",children:"Agent Transfer Conditions"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"When to transfer to human agents"})]}),l.jsx(Co,{className:`w-5 h-5 transition-transform ${s.transfer?"rotate-180":""}`})]}),s.transfer&&l.jsxs("div",{className:"mt-4 space-y-4",children:[l.jsx(Gi,{className:"min-h-[80px]",value:k,onChange:te=>E(te.target.value),placeholder:f?"Define when your AI should transfer the conversation to a human agent...":"Enter transfer conditions..."}),l.jsxs("div",{className:"text-right text-xs text-muted-foreground",children:[k.length,"/750"]})]})]}),l.jsx($e,{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Stop AI after Handoff"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Stop AI from sending messages after handoff"})]}),l.jsx(ol,{checked:O,onCheckedChange:N})]})}),l.jsxs($e,{className:"p-4",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4 text-primary",children:"Model Settings"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Temperature"}),l.jsx("input",{type:"number",min:"0",max:"2",step:"0.1",value:z,onChange:te=>F(parseFloat(te.target.value)),className:"w-full p-2 border rounded-lg mt-1"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Enable Auto-resolve"}),l.jsx("div",{className:"mt-2",children:l.jsx(ol,{checked:$,onCheckedChange:P})})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Auto-resolve after (minutes)"}),l.jsx("input",{type:"number",min:"0",step:"1",value:B,onChange:te=>D(Math.max(0,parseInt(te.target.value||"0",10))),disabled:!$,className:`w-full p-2 border rounded-lg mt-1 ${$?"":"opacity-60 cursor-not-allowed bg-muted/50"}`}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:$?"Set 0 to disable auto-resolve.":"Enable Auto-resolve to edit this value."})]})]})]}),l.jsx(ae,{className:"w-full",onClick:ke,disabled:y,children:y?l.jsxs(l.Fragment,{children:[l.jsx(kt,{className:"w-4 h-4 mr-2 animate-spin"}),f?"Creating...":"Saving..."]}):l.jsxs(l.Fragment,{children:[l.jsx(pc,{className:"w-4 h-4 mr-2"}),f?"Create AI Agent":"Save AI Settings"]})})]}),l.jsx("div",{className:"xl:col-span-2",children:l.jsx(VNe,{welcomeMessage:_,systemPrompt:b,modelDisplay:(R==null?void 0:R.display_name)||(R==null?void 0:R.model_name)||"Not selected",profile:m,profileId:n,modelName:(R==null?void 0:R.model_name)||"",temperature:z,transfer_conditions:k})})]})}),l.jsx(wn,{value:"knowledge",className:"space-y-6",children:l.jsx($e,{className:"p-6",children:l.jsxs(qc,{value:a,onValueChange:o,className:"w-full",children:[l.jsxs(Xs,{className:"grid w-full grid-cols-3 mb-6",children:[l.jsxs(Mn,{value:"text",className:"gap-2",children:[l.jsx(TH,{className:"w-4 h-4"}),"Text"]}),l.jsxs(Mn,{value:"file",className:"gap-2",children:[l.jsx(e0,{className:"w-4 h-4"}),"File"]}),l.jsxs(Mn,{value:"qa",className:"gap-2",children:[l.jsx(kw,{className:"w-4 h-4"}),"Q&A"]})]}),l.jsxs(wn,{value:"text",className:"space-y-4",children:[l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsxs(ae,{size:"sm",className:"gap-2",children:[l.jsx(RH,{className:"w-4 h-4"}),"Add"]}),l.jsx(ae,{variant:"outline",size:"sm",children:"Default"})]}),l.jsxs("div",{className:"flex items-center gap-1 p-2 border rounded-md bg-muted/30",children:[l.jsx(ae,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:l.jsx(FH,{className:"w-4 h-4"})}),l.jsx(ae,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:l.jsx(DH,{className:"w-4 h-4"})}),l.jsx("div",{className:"w-px h-6 bg-border mx-1"}),l.jsx(ae,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:l.jsx(bH,{className:"w-4 h-4"})}),l.jsx(ae,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:l.jsx(OH,{className:"w-4 h-4"})}),l.jsx("div",{className:"w-px h-6 bg-border mx-1"}),l.jsx(ae,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:l.jsx(yH,{className:"w-4 h-4"})}),l.jsx(ae,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:l.jsx(gH,{className:"w-4 h-4"})}),l.jsx(ae,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:l.jsx(xH,{className:"w-4 h-4"})}),l.jsx(ae,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:l.jsx(vH,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[l.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-sm flex items-center justify-center",children:l.jsx("span",{className:"text-white text-xs",children:"📖"})}),l.jsx("span",{children:"Panduan Umum: Deposit, Withdraw & Tambah Rekening"})]}),l.jsx("div",{className:"pl-6 space-y-2 text-sm",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-orange-500",children:"⚠️"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Cara Isi Saldo / Deposit"}),l.jsx("p",{className:"text-muted-foreground",children:"Lakukan transfer ke rekening tujuan yang tertera di menu DEPOSIT > REKENING TUJUAN."}),l.jsx("p",{className:"text-muted-foreground",children:"Gunakan metode ATM atau M-Banking (tidak tersedia autodebet)."}),l.jsx("p",{className:"text-muted-foreground",children:"Setelah transfer, wajib upload bukti transfer agar diproses lebih cepat."})]})]})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[l.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-sm flex items-center justify-center",children:l.jsx("span",{className:"text-white text-xs",children:"🏦"})}),l.jsx("span",{children:"Khusus Bank BCA"})]}),l.jsxs("div",{className:"pl-6 text-sm text-muted-foreground",children:[l.jsx("p",{children:"Wajib menggunakan rekening BCA atas nama yang terdaftar di website."}),l.jsx("p",{children:"Tidak bisa menggunakan rekening BCA milik orang lain."})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[l.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-sm flex items-center justify-center",children:l.jsx("span",{className:"text-white text-xs",children:"💳"})}),l.jsx("span",{children:"Tambah Rekening / E-Wallet"})]}),l.jsxs("div",{className:"pl-6 text-sm text-muted-foreground",children:[l.jsx("p",{children:"Bisa menambahkan rekening atau e-wallet selama nama pemiliknya sama dengan yang sudah terdaftar."}),l.jsx("p",{children:"Akses dari halaman utama > klik menu REKENING > TAMBAH REKENING."})]})]}),l.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[l.jsx("p",{children:"Minimal deposit Via Bank BCA, MANDIRI, BRI, BNI, CIMB, OCBC, BANK JAGO, & Dan Semua Jenis E-wallet adalah 5.000"}),l.jsx("p",{children:"Minimal deposit QRIS = 10.000"}),l.jsx("p",{children:"Minimal withdraw Bank & E-wallet = 50.000"}),l.jsx("p",{children:"Jika menggunakan pulsa, akan dikenakan potongan 20%"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[l.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-sm flex items-center justify-center",children:l.jsx("span",{className:"text-white text-xs",children:"🔐"})}),l.jsx("span",{children:"Lupa User ID atau Password?"})]}),l.jsxs("div",{className:"pl-6 text-sm text-muted-foreground",children:[l.jsx("p",{children:"Format reset:"}),l.jsx("p",{children:"Nama Rekening :"}),l.jsx("p",{children:"Nomor Rekening :"}),l.jsx("p",{children:"Bank / E-wallet :"})]})]})]}),l.jsx("div",{className:"text-right text-xs text-muted-foreground",children:"10931 Characters"})]}),l.jsxs(wn,{value:"website",className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Provide Link"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Provide a link to the page you want the AI to learn from."})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ae,{variant:"default",size:"sm",className:"bg-muted text-foreground hover:bg-muted/80",children:"Batch Link"}),l.jsx(ae,{variant:"outline",size:"sm",children:"Single Link"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Web Link Collector"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ht,{placeholder:"Link URL",className:"flex-1"}),l.jsx(ae,{className:"bg-blue-600 hover:bg-blue-700",children:"Collect Link"})]}),l.jsxs("div",{className:"flex items-start gap-2 text-sm text-blue-600",children:[l.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-600 flex items-center justify-center mt-0.5",children:l.jsx("span",{className:"text-white text-xs",children:"!"})}),l.jsxs("p",{children:["Start with URL and this tool will gather up to ",l.jsx("strong",{children:"30 unique"})," links from the site, excluding any files"]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Trained Link"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"select-all",className:"rounded"}),l.jsx("label",{htmlFor:"select-all",className:"text-sm text-blue-600 cursor-pointer",children:"Select"})]}),l.jsx(ht,{placeholder:"Search Links",className:"flex-1"})]})]})]}),l.jsxs(wn,{value:"file",className:"space-y-6",children:[l.jsxs("div",{onDrop:p?Z:void 0,onDragOver:p?Y:void 0,className:`border border-dashed rounded-lg p-6 text-center ${p?"bg-muted/30":"bg-muted/50 opacity-70"}`,children:[l.jsx("input",{ref:U,type:"file",multiple:!0,hidden:!0,onChange:re,disabled:!p}),l.jsx(e0,{className:"w-10 h-10 mx-auto mb-3 text-muted-foreground"}),p?l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Drag & drop documents here, or"}),l.jsx(ae,{size:"sm",onClick:()=>{var te;return(te=U.current)==null?void 0:te.click()},children:"Browse Files"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Supported: PDF"})]}):l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"You don't have permission to upload files."}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Requires permission: ",h]})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h3",{className:"text-sm font-medium",children:["Uploaded Files (",T.length,")"]}),T.length>0&&l.jsx(ae,{variant:"ghost",size:"sm",onClick:ee,className:"text-red-600 hover:text-red-700",children:"Clear All"})]}),G?l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading files..."}):T.length===0?l.jsx("div",{className:"text-sm text-muted-foreground",children:"No files uploaded yet."}):l.jsx("div",{className:"border rounded-md divide-y",children:T.map(te=>l.jsxs("div",{className:"flex items-center justify-between p-3",children:[l.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[l.jsx("div",{className:"w-8 h-8 rounded bg-muted flex items-center justify-center",children:l.jsx(e0,{className:"w-4 h-4"})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("div",{className:"truncate text-sm font-medium",children:te.name}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:[(te.size/1024).toFixed(1)," KB • ",new Date(te.uploadedAt).toLocaleString()]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${te.status==="ready"?"bg-green-100 text-green-700":te.status==="uploading"?"bg-blue-100 text-blue-700":te.status==="processing"?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:te.status==="uploading"?l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(kt,{className:"w-3 h-3 animate-spin"}),"uploading"]}):te.status}),l.jsx(ae,{size:"sm",variant:"outline",onClick:()=>W(te),disabled:te.status==="uploading",children:"Download"}),l.jsx(ae,{size:"sm",variant:"ghost",className:"text-red-600 hover:text-red-700",onClick:()=>he(te.id),disabled:te.status==="uploading",children:l.jsx(mc,{className:"w-4 h-4"})})]})]},te.id))})]})]}),l.jsxs(wn,{value:"qa",className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Q&A Knowledge"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Add question–answer pairs the AI can reference."})]}),l.jsxs(ae,{size:"sm",onClick:()=>{o("qa"),Te()},className:"gap-2",children:[l.jsx(Ua,{className:"w-4 h-4"}),"Add Pair"]})]}),fe.length===0?l.jsx("div",{className:"text-sm text-muted-foreground",children:"No Q&A pairs. Click Add Pair to create one."}):l.jsx("div",{className:"space-y-3",children:fe.map(te=>l.jsx($e,{className:"p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx(ht,{placeholder:"Question",value:te.question,onChange:oe=>Xe(te.id,"question",oe.target.value)}),l.jsx(Gi,{placeholder:"Answer",className:"min-h-[80px]",value:te.answer,onChange:oe=>Xe(te.id,"answer",oe.target.value)})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[Je(te)&&l.jsx(ae,{variant:"outline",size:"sm",onClick:async oe=>{oe.preventDefault(),oe.stopPropagation(),o("qa");try{await w({qna:fe.filter(ue=>{var Se,_e;return((Se=ue.question)==null?void 0:Se.trim())||((_e=ue.answer)==null?void 0:_e.trim())}).map(({question:ue,answer:Se})=>({q:ue.trim(),a:Se.trim()}))}),de(JSON.parse(JSON.stringify(fe))),Me.success("Q&A saved")}catch(ue){Me.error((ue==null?void 0:ue.message)||"Failed to save Q&A")}},children:"Save"}),l.jsx(ae,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",onClick:()=>Ye(te.id),children:l.jsx(mc,{className:"w-4 h-4"})})]})]})},te.id))})]}),l.jsx(wn,{value:"product",children:l.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[l.jsx(IH,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"Product knowledge and catalog integration"})]})})]})})}),l.jsx(wn,{value:"integrations",children:l.jsxs($e,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Integrations"}),l.jsx("p",{className:"text-muted-foreground",children:"Set up integrations with external services."})]})}),l.jsx(wn,{value:"followups",className:"space-y-6",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Followups"}),l.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[l.jsxs("p",{children:["Tambahkan pesan Followup yang akan dikirim kepada ",l.jsx("span",{className:"text-blue-600",children:"pelanggan setelah jeda waktu tertentu"}),"."]}),l.jsx("p",{children:"Isi dengan prompt. Prompt adalah arahan yang AI akan pakai untuk menulis Followup sesuai dengan history chat dan knowledge anda."}),l.jsx("p",{children:"Anda juga bisa menulis kondisi Handoff to Agent anda di Prompt"}),l.jsx("p",{className:"text-blue-600",children:"Anda bisa mengirim gambar di followup. Klik disini untuk Upload gambar."})]})]}),l.jsx("div",{className:"space-y-4",children:ot.map((te,oe)=>l.jsx($e,{className:"p-4",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium",children:"Prompt:"}),l.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>ce(te.id),className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:l.jsx(mc,{className:"w-4 h-4"})})]}),l.jsx(Gi,{value:te.prompt,onChange:ue=>X(te.id,"prompt",ue.target.value),className:"min-h-[80px]",placeholder:"Enter followup message..."}),l.jsx("div",{className:"flex items-center gap-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-medium",children:"Delay (min):"}),l.jsx(ht,{type:"number",value:te.delay,onChange:ue=>X(te.id,"delay",parseInt(ue.target.value)||1),className:"w-20",min:"1"})]})}),l.jsxs(UNe,{children:[l.jsxs(zNe,{onClick:()=>pe(te.id),className:"flex items-center gap-2 text-sm font-medium hover:text-primary",children:[l.jsx(Co,{className:`w-4 h-4 transition-transform ${te.expanded?"rotate-180":""}`}),"Options"]}),l.jsx(WNe,{className:"pt-4",children:l.jsx("div",{className:"text-sm text-muted-foreground",children:"Additional options for this followup message can be configured here."})})]})]})},te.id))}),l.jsxs("div",{className:"flex justify-between",children:[l.jsxs(ae,{onClick:V,className:"gap-2",children:[l.jsx(Ua,{className:"w-4 h-4"}),"Add Followup"]}),l.jsx(ae,{className:"bg-green-600 hover:bg-green-700",children:"Save Followups"})]})]})}),l.jsx(wn,{value:"evaluation",children:l.jsxs($e,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Evaluation"}),l.jsx("p",{className:"text-muted-foreground",children:"Review AI agent performance metrics."})]})})]})]})},GNe=({agent:e,onSettings:t,onDelete:n})=>l.jsxs($e,{className:"p-6 text-center space-y-4 hover:shadow-md transition-shadow",children:[l.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center text-xl font-semibold text-muted-foreground",children:e.initials}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-lg",children:e.name}),l.jsx("p",{className:"text-sm text-muted-foreground",children:e.creator}),e.description&&l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:e.description}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Created: ",new Date(e.created_at).toLocaleDateString()]})]})]}),l.jsxs("div",{className:"flex gap-2 justify-center",children:[l.jsxs(ae,{variant:"outline",size:"sm",className:"gap-2",onClick:()=>t(e),children:[l.jsx(pc,{className:"w-4 h-4"}),"Settings"]}),l.jsxs(ae,{variant:"outline",size:"sm",className:"gap-2 text-destructive hover:text-destructive",onClick:()=>n(e.id),children:[l.jsx(mc,{className:"w-4 h-4"}),"Delete"]})]})]}),YNe=({onClick:e})=>l.jsx($e,{className:"p-6 text-center space-y-4 hover:shadow-md transition-shadow bg-blue-600 text-white cursor-pointer group",onClick:e,children:l.jsxs("div",{className:"flex flex-col items-center justify-center h-full space-y-4",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-white/20 flex items-center justify-center group-hover:bg-white/30 transition-colors",children:l.jsx(Ua,{className:"w-8 h-8"})}),l.jsx("h3",{className:"font-semibold text-lg",children:"Create New"})]})}),XNe=()=>{const[e,t]=g.useState(null),[n,r]=g.useState([]),[i,a]=g.useState(!0),[o,s]=g.useState(null),[c,u]=g.useState(!1),[f,d]=g.useState(""),[h,p]=g.useState("customer-service"),{fetchAllProfiles:m,deleteProfile:v}=T6(),y=async()=>{try{a(!0),s(null);const j=await m();if(j){const _=j.map(S=>({id:S.id,name:S.name,initials:S.name.split(" ").map(k=>k.charAt(0)).join("").toUpperCase().slice(0,2),creator:"Admin",description:S.description,created_at:S.created_at}));r(_)}}catch(j){console.error("Error fetching agents:",j),s("Failed to load AI agents"),Me.error("Failed to load AI agents")}finally{a(!1)}},x=async j=>{const _=n.find(S=>S.id===j);if(window.confirm(`Are you sure you want to delete "${_==null?void 0:_.name}"? This action cannot be undone.`))try{await v(j),await y(),Me.success(`"${_==null?void 0:_.name}" has been deleted successfully`)}catch(S){console.error("Error deleting agent:",S),s("Failed to delete AI agent"),Me.error("Failed to delete AI agent")}},w=()=>{u(!0)},b=()=>{if(!f.trim()){Me.error("Please enter an AI agent name");return}const j={id:"new",name:f.trim(),initials:f.trim().split(" ").map(_=>_.charAt(0)).join("").toUpperCase().slice(0,2),creator:"Admin",created_at:new Date().toISOString()};t(j),u(!1),d(""),p("customer-service"),Me.info("Creating new AI agent...")};return g.useEffect(()=>{y()},[]),e?l.jsx(KNe,{agentName:e.name,onBack:()=>{t(null),y()},profileId:e.id==="new"?void 0:e.id}):i?l.jsxs("div",{className:"flex items-center justify-center h-64",children:[l.jsx(kt,{className:"w-8 h-8 animate-spin"}),l.jsx("span",{className:"ml-2",children:"Loading AI agents..."})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx("h1",{className:"text-3xl font-bold",children:"AI Agents"}),l.jsxs("div",{className:"text-muted-foreground max-w-2xl mx-auto",children:[l.jsx("p",{children:"Ini adalah halaman di mana Anda dapat mengunjungi AI yang telah Anda buat sebelumnya."}),l.jsx("p",{children:"Jangan ragu untuk membuat perubahan dan membuat chatbot sebanyak yang Anda inginkan kapan saja!"})]})]}),o&&l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[l.jsxs("p",{className:"text-red-800 text-sm",children:["Error: ",o]}),l.jsx(ae,{variant:"outline",size:"sm",className:"mt-2",onClick:y,children:"Retry"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs($e,{className:"p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-primary",children:n.length}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Total AI Agents"})]}),l.jsxs($e,{className:"p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:n.filter(j=>j.creator==="Hanna").length}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Agents"})]}),l.jsxs($e,{className:"p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:n.length>0?new Date(Math.max(...n.map(j=>new Date(j.created_at).getTime()))).toLocaleDateString():"N/A"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Last Created"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.map(j=>l.jsx(GNe,{agent:j,onSettings:t,onDelete:x},j.id)),l.jsx(YNe,{onClick:w})]}),n.length===0&&!i&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"w-24 h-24 mx-auto mb-4 rounded-full bg-muted flex items-center justify-center",children:l.jsx(Ua,{className:"w-12 h-12 text-muted-foreground"})}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No AI Agents Yet"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first AI agent to get started with automated customer support."}),l.jsxs(ae,{onClick:w,children:[l.jsx(Ua,{className:"w-4 h-4 mr-2"}),"Create Your First AI Agent"]})]}),l.jsx(Dr,{open:c,onOpenChange:u,children:l.jsxs(vr,{className:"sm:max-w-[425px]",children:[l.jsx(yr,{children:l.jsx(xr,{className:"text-xl font-semibold",children:"Create New AI Agent"})}),l.jsxs("div",{className:"space-y-6 pt-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Name"}),l.jsx(ht,{placeholder:"Enter AI name",value:f,onChange:j=>d(j.target.value),className:"w-full"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Template"}),l.jsxs(It,{value:h,onValueChange:p,children:[l.jsx(Ct,{className:"w-full",children:l.jsx(Rt,{placeholder:"Select a template"})}),l.jsx(Et,{children:l.jsx(Ie,{value:"customer-service",children:l.jsx("div",{className:"space-y-1",children:l.jsx("div",{className:"font-medium",children:"Customer Service AI"})})})})]}),h==="customer-service"&&l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"and sales inquiries for your business."})]}),l.jsx(ae,{onClick:b,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",disabled:!f.trim(),children:"Create AI Agent"})]})]})})]})};function js({permission:e,permissions:t=[],requireAll:n=!1,fallback:r=null,children:i}){const{hasPermission:a,hasAnyPermission:o,hasAllPermissions:s,loading:c}=Xa();if(c)return null;const u=e?[e,...t]:t;return(n?s(u):o(u))?l.jsx(l.Fragment,{children:i}):l.jsx(l.Fragment,{children:r})}const QNe=()=>{const[e,t]=g.useState(!1),[n,r]=g.useState(!1),[i,a]=g.useState(!1),[o,s]=g.useState(null),[c,u]=g.useState(!1),[f,d]=g.useState({enabled:!1,perDay:0,perMonth:0,twoFA:!1}),[h,p]=g.useState("7d"),[m,v]=g.useState(null),[y,x]=g.useState(!1),[w,b]=g.useState(null),[j,_]=g.useState({name:"",email:"",role:"agent"}),[S,k]=g.useState(!1),[E,O]=g.useState(!1),[N,A]=g.useState(null),[I,M]=g.useState(!1),[L,z]=g.useState(!1),[F,B]=g.useState(null),{toast:D}=dl(),{hasPermission:$,hasRole:P}=Xa(),R=j.name.trim()&&j.email.trim()&&(j.role!=="agent"||N),[T,C]=g.useState(null),{aiAgents:U,setFilterBySuper:G,fetchAIAgents:ne}=Du(),{agents:q,loading:J,error:K,fetchAgents:re,createAgent:Z,updateAgentStatus:Y,updateAgentRole:he,deleteAgent:W,setEnable2FAFlagForCreate:ee}=vl(),fe=async()=>{var X,pe;if(!j.name||!j.email){D({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}if(j.role==="agent"&&!N){D({title:"Error",description:"Please select a Super Agent for this agent",variant:"destructive"});return}try{O(!0),ee(S);const ke=await Z({full_name:j.name,email:j.email,role:j.role});try{if(j.role==="agent"){const te=N;if(!te)D({title:"Assignment needed",description:"Select a Super Agent to attach this agent to.",variant:"destructive"});else if(ke!=null&&ke.id){const{data:oe}=await Q.auth.getUser(),{data:ue}=await Q.from("org_members").select("org_id").eq("user_id",((X=oe==null?void 0:oe.user)==null?void 0:X.id)||"").limit(1),Se=((pe=ue==null?void 0:ue[0])==null?void 0:pe.org_id)||null;Se&&await Q.from("super_agent_members").insert({org_id:Se,super_agent_id:te,agent_user_id:ke.id})}}}catch{}_({name:"",email:"",role:"agent"}),A(null),k(!1),t(!1),D({title:"Success",description:"Agent created successfully"})}catch(ke){D({title:"Error",description:ke instanceof Error?ke.message:"Failed to create agent",variant:"destructive"})}finally{O(!1)}},xe=async X=>{try{z(!0),await W(X),D({title:"Success",description:"Agent deleted successfully"}),M(!1),B(null)}catch(pe){D({title:"Error",description:pe instanceof Error?pe.message:"Failed to delete agent",variant:"destructive"})}finally{z(!1)}},Pe=async X=>{try{s(X);const{data:pe,error:ke}=await Q.from("users_profile").select("token_limit_enabled, max_tokens_per_day, max_tokens_per_month, is_2fa_email_enabled").eq("user_id",X.user_id).maybeSingle();if(ke)throw ke;d({enabled:!!(pe!=null&&pe.token_limit_enabled),perDay:Number((pe==null?void 0:pe.max_tokens_per_day)??0),perMonth:Number((pe==null?void 0:pe.max_tokens_per_month)??0),twoFA:!!(pe!=null&&pe.is_2fa_email_enabled)}),r(!0)}catch(pe){D({title:"Error",description:(pe==null?void 0:pe.message)||"Failed to load token limits",variant:"destructive"})}},de=async()=>{if(o)try{u(!0);const{error:X}=await Q.from("users_profile").update({token_limit_enabled:f.enabled,max_tokens_per_day:Math.max(0,Math.floor(f.perDay||0)),max_tokens_per_month:Math.max(0,Math.floor(f.perMonth||0)),is_2fa_email_enabled:f.twoFA}).eq("user_id",o.user_id);if(X)throw X;D({title:"Saved",description:"Token limits updated."}),r(!1)}catch(X){D({title:"Error",description:(X==null?void 0:X.message)||"Failed to save token limits",variant:"destructive"})}finally{u(!1)}},Te=X=>{const pe=new Date;let ke;if(X==="this_month")ke=new Date(Date.UTC(pe.getUTCFullYear(),pe.getUTCMonth(),1,0,0,0));else{const oe=X==="7d"?7:30;ke=new Date(Date.UTC(pe.getUTCFullYear(),pe.getUTCMonth(),pe.getUTCDate(),0,0,0)),ke.setUTCDate(ke.getUTCDate()-(oe-1))}const te=pe;return{start:ke.toISOString(),end:te.toISOString()}},Ye=async X=>{s(X),a(!0),await Xe(X.user_id,h)},Xe=async(X,pe)=>{var ke;try{x(!0);const{start:te,end:oe}=Te(pe),ue=((ke=q.find(we=>we.user_id===X))==null?void 0:ke.super_agent_id)||null,Se=ue?q.filter(we=>we.primaryRole==="agent"&&we.super_agent_id===ue).map(we=>we.user_id):[X],{data:_e}=await Q.from("threads").select("id").in("assignee_user_id",Se).gte("created_at",te).lt("created_at",oe),Ne=(_e||[]).map(we=>we.id),[ct,Qe]=await Promise.all([Ne.length>0?Q.from("token_usage_logs").select("id,total_tokens").in("thread_id",Ne).gte("made_at",te).lt("made_at",oe):Promise.resolve({data:[]}),Q.from("token_usage_logs").select("id,total_tokens").in("user_id",Se).gte("made_at",te).lt("made_at",oe)]),xt=new Set;let Ue=0;for(const we of[...ct.data||[],...Qe.data||[]]){const Ce=String(we.id);xt.has(Ce)||(xt.add(Ce),Ue+=Number(we.total_tokens||0))}v(Ue);const[ie,be,je,ze]=await Promise.all([Q.from("threads").select("id",{count:"exact",head:!0}).gte("created_at",te).lt("created_at",oe).eq("assignee_user_id",X),Q.from("threads").select("id",{count:"exact",head:!0}).gte("created_at",te).lt("created_at",oe).eq("assigned_by_user_id",X),Q.from("threads").select("id",{count:"exact",head:!0}).gte("created_at",te).lt("created_at",oe).eq("resolved_by_user_id",X),Q.from("threads").select("id",{count:"exact",head:!0}).gte("created_at",te).lt("created_at",oe).eq("assignee_user_id",X).not("ai_handoff_at","is",null)]);b({assignedTo:ie.count||0,assignedBy:be.count||0,resolvedBy:je.count||0,handoverFromAI:ze.count||0})}catch(te){v(null),b(null),D({title:"Error",description:(te==null?void 0:te.message)||"Failed to load usage",variant:"destructive"})}finally{x(!1)}},Je=async(X,pe)=>{try{const{error:ke}=await Q.from("users_profile").update({is_active:pe==="Active"}).eq("user_id",X);if(ke)throw ke;D({title:"Success",description:`Status changed to ${pe}`}),await re()}catch(ke){D({title:"Error",description:(ke==null?void 0:ke.message)||"Failed to change status",variant:"destructive"})}},ot=async(X,pe)=>{try{await he(X,pe),D({title:"Success",description:`Agent role updated to ${pe}`})}catch(ke){D({title:"Error",description:ke instanceof Error?ke.message:"Failed to update role",variant:"destructive"})}},gt=X=>X.split(" ").map(pe=>pe[0]).join("").toUpperCase().slice(0,2),V=X=>X==="Active"?"bg-green-500":"bg-gray-400",ce=X=>X==="master_agent"?"bg-blue-100 text-blue-700":X==="super_agent"?"bg-emerald-100 text-emerald-700":"bg-gray-100 text-gray-700";return K?l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Human Agent Settings"}),l.jsx("p",{className:"text-muted-foreground",children:"Manage your human agents and teams"})]})}),l.jsx("div",{className:"rounded-lg border bg-red-50 p-6",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-6 w-6 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),l.jsx("div",{className:"mt-2 text-sm text-red-700",children:l.jsx("p",{children:K})})]})]})})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Human Agent Settings"}),l.jsx("p",{className:"text-muted-foreground",children:"Manage your human agents"})]}),l.jsx(js,{permission:"super_agents.create",children:l.jsxs(Dr,{open:e,onOpenChange:t,children:[l.jsx(ek,{asChild:!0,children:l.jsxs(ae,{className:"gap-2 bg-blue-600 hover:bg-blue-700 text-white",children:[l.jsx(Ua,{className:"h-4 w-4"}),"Create Agent"]})}),l.jsxs(vr,{className:"sm:max-w-md bg-background border",children:[l.jsx(yr,{children:l.jsx(xr,{children:"Create New Agent"})}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ze,{htmlFor:"agent-name",children:["Agent Name ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx(ht,{id:"agent-name",value:j.name,onChange:X=>_({...j,name:X.target.value}),placeholder:"Enter agent name"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ze,{htmlFor:"agent-email",children:["Email ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx(ht,{id:"agent-email",type:"email",value:j.email,onChange:X=>_({...j,email:X.target.value}),placeholder:"Enter email address"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ze,{htmlFor:"agent-phone",children:"Phone (Optional)"}),l.jsx(ht,{id:"agent-phone",type:"tel",value:j.phone||"",onChange:X=>_({...j,phone:X.target.value}),placeholder:"Enter phone number"})]}),l.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[l.jsx(Pa,{id:"agent-2fa",checked:S,onCheckedChange:X=>k(!!X)}),l.jsx(Ze,{htmlFor:"agent-2fa",className:"text-sm",children:"Enable email 2FA for this agent"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ze,{htmlFor:"agent-role",children:"Role"}),l.jsxs(It,{value:j.role,onValueChange:X=>_({...j,role:X}),children:[l.jsx(Ct,{className:"bg-background border",children:l.jsx(Rt,{})}),l.jsxs(Et,{className:"bg-background border z-50",children:[l.jsx(Ie,{value:"agent",children:"Agent"}),l.jsx(Ie,{value:"super_agent",children:"Super Agent"}),l.jsx(js,{permission:"super_agents.create",children:l.jsx(Ie,{value:"master_agent",children:"Master Agent"})})]})]})]}),j.role==="agent"&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ze,{children:["Attach to Super Agent ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs(It,{value:N||"",onValueChange:X=>A(X),children:[l.jsx(Ct,{className:"bg-background border",children:l.jsx(Rt,{placeholder:"Select Super Agent"})}),l.jsx(Et,{className:"bg-background border z-50",children:q.filter(X=>X.primaryRole==="super_agent").map(X=>l.jsx(Ie,{value:X.user_id,children:X.display_name||X.email},X.user_id))})]})]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.jsxs("p",{children:["Fields marked with ",l.jsx("span",{className:"text-red-500",children:"*"})," are required."]}),j.role==="agent"&&l.jsx("p",{className:"mt-1",children:"Agents must be attached to a Super Agent."})]}),l.jsxs("div",{className:"flex gap-2 pt-4",children:[l.jsx(ae,{onClick:fe,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",disabled:E||!R,children:E?l.jsxs("span",{className:"inline-flex items-center gap-2",children:[l.jsx(kt,{className:"h-4 w-4 animate-spin"}),"Creating..."]}):"Create Agent"}),l.jsx(ae,{variant:"outline",onClick:()=>t(!1),className:"flex-1",disabled:E,children:"Cancel"})]})]})]})]})})]}),l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{className:"rounded-lg border bg-card",children:[l.jsxs("div",{className:"grid grid-cols-[200px,1fr,120px,120px,100px] gap-4 p-4 border-b bg-muted/50 font-medium text-sm",children:[l.jsx("div",{children:"Agent Name"}),l.jsx("div",{children:"Email"}),l.jsx("div",{children:"Role"}),l.jsx("div",{children:"Status"}),l.jsx("div",{children:"Action"})]}),l.jsx("div",{className:"divide-y",children:J?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(kt,{className:"w-4 h-4 animate-spin"}),l.jsx("span",{children:"Loading agents..."})]})}):q.length===0?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx(sD,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Agents Yet"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first agent to get started."}),l.jsx(js,{permission:"super_agents.create",children:l.jsxs(ae,{onClick:()=>t(!0),children:[l.jsx(Ua,{className:"h-4 w-4 mr-2"}),"Create Agent"]})})]})}):q.map(X=>l.jsxs("div",{className:"grid grid-cols-[200px,1fr,120px,120px,100px] gap-4 p-4 items-center hover:bg-muted/30 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(ts,{className:"h-8 w-8",children:l.jsx(ns,{className:"text-xs bg-blue-100 text-blue-700",children:gt(X.display_name||"Unknown")})}),l.jsx("span",{className:"font-medium text-blue-600",children:X.display_name||"Unknown User"})]}),l.jsx("div",{className:"text-sm text-muted-foreground",children:X.email||"No email"}),l.jsx("div",{children:$("super_agents.update")&&X.primaryRole!=="master_agent"?l.jsxs(e1,{children:[l.jsx(t1,{asChild:!0,children:l.jsxs(ae,{variant:"ghost",size:"sm",className:"gap-2 h-8",children:[l.jsx(_t,{className:`text-xs ${ce(X.primaryRole)}`,children:X.primaryRole==="master_agent"?"Master Agent":X.primaryRole==="super_agent"?"Super Agent":X.primaryRole==="agent"?"Agent":"No Role"}),l.jsx(Co,{className:"h-3 w-3"})]})}),l.jsxs(ig,{className:"bg-background border z-50",children:[X.primaryRole!=="master_agent"&&l.jsx(rc,{onClick:()=>ot(X.user_id,"agent"),children:l.jsx(_t,{className:`text-xs ${ce("agent")}`,children:"Agent"})}),X.primaryRole!=="master_agent"&&l.jsx(rc,{onClick:()=>ot(X.user_id,"super_agent"),children:l.jsx(_t,{className:`text-xs ${ce("super_agent")}`,children:"Super Agent"})})]})]}):l.jsx(_t,{className:`text-xs ${ce(X.primaryRole)}`,children:X.primaryRole==="master_agent"?"Master Agent":X.primaryRole==="super_agent"?"Super Agent":X.primaryRole==="agent"?"Agent":"No Role"})}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs(e1,{children:[l.jsx(t1,{asChild:!0,children:l.jsxs(ae,{variant:"ghost",size:"sm",className:"gap-2 h-8",children:[l.jsx("div",{className:`h-2 w-2 rounded-full ${V(X.status)}`}),l.jsx("span",{className:"text-xs",children:X.status}),l.jsx(Co,{className:"h-3 w-3"})]})}),l.jsxs(ig,{className:"bg-background border z-50",children:[l.jsx(rc,{onClick:()=>Je(X.user_id,"Active"),children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"}),"Active"]})}),l.jsx(rc,{onClick:()=>Je(X.user_id,"Inactive"),children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-2 w-2 rounded-full bg-gray-400"}),"Inactive"]})})]})]})}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(js,{permission:"users_profile.update_token_limit",children:l.jsx(ae,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50",onClick:()=>Pe(X),children:l.jsx(aD,{className:"h-4 w-4"})})}),P(p1.MASTER_AGENT)&&l.jsx(ae,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-emerald-600 hover:text-emerald-700 hover:bg-emerald-50",onClick:()=>Ye(X),title:"View token usage",children:l.jsx(_H,{className:"h-4 w-4"})}),l.jsx(js,{permission:"super_agents.delete",children:l.jsx(ae,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>{B(X),M(!0)},children:l.jsx(mc,{className:"h-4 w-4"})})})]})]},X.user_id))})]})}),l.jsxs("div",{className:"rounded-lg border bg-card",children:[l.jsx("div",{className:"p-4 border-b bg-muted/50 font-medium text-sm",children:"Clustering: Super Agents → Agents & AI Agents"}),l.jsx("div",{className:"p-4 space-y-4",children:l.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ze,{children:"Select Super Agent"}),l.jsxs(It,{value:T||"",onValueChange:X=>{C(X),G(X)},children:[l.jsx(Ct,{className:"bg-background border",children:l.jsx(Rt,{placeholder:"Choose a super agent"})}),l.jsx(Et,{className:"bg-background border z-50",children:q.filter(X=>X.primaryRole==="super_agent").map(X=>l.jsx(Ie,{value:X.user_id,children:X.display_name||X.email},X.user_id))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ze,{children:"Agents"}),l.jsx("div",{className:"rounded-md border p-2 max-h-64 overflow-auto",children:T?l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"text-xs text-muted-foreground",children:"Assigned to this Super"}),q.filter(X=>X.primaryRole==="agent"&&X.super_agent_id===T).map(X=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{children:X.display_name||X.email}),l.jsx(ae,{size:"sm",variant:"outline",onClick:async()=>{var pe,ke;try{const{data:te}=await Q.auth.getUser(),{data:oe}=await Q.from("org_members").select("org_id").eq("user_id",((pe=te==null?void 0:te.user)==null?void 0:pe.id)||"").limit(1),ue=((ke=oe==null?void 0:oe[0])==null?void 0:ke.org_id)||null;ue&&await Q.from("super_agent_members").delete().eq("org_id",ue).eq("agent_user_id",X.user_id),D({title:"Unassigned",description:"Agent removed from Super Agent"}),await re({force:!0})}catch(te){D({title:"Error",description:(te==null?void 0:te.message)||"Failed",variant:"destructive"})}},children:"Remove"})]},X.user_id)),l.jsx("div",{className:"h-px bg-border my-2"}),l.jsx("div",{className:"text-xs text-muted-foreground",children:"Available (Unassigned)"}),q.filter(X=>X.primaryRole==="agent"&&!X.super_agent_id).map(X=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{children:X.display_name||X.email}),l.jsx(ae,{size:"sm",onClick:async()=>{var pe,ke;try{const{data:te}=await Q.auth.getUser(),{data:oe}=await Q.from("org_members").select("org_id").eq("user_id",((pe=te==null?void 0:te.user)==null?void 0:pe.id)||"").limit(1),ue=((ke=oe==null?void 0:oe[0])==null?void 0:ke.org_id)||null;ue&&T&&await Q.from("super_agent_members").insert({org_id:ue,super_agent_id:T,agent_user_id:X.user_id}),D({title:"Assigned",description:"Agent assigned to Super Agent"}),await re({force:!0})}catch(te){D({title:"Error",description:(te==null?void 0:te.message)||"Failed",variant:"destructive"})}},children:"Assign"})]},X.user_id))]}):l.jsx("div",{className:"text-sm text-muted-foreground",children:"Select a Super Agent."})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ze,{children:"AI Agents"}),l.jsx("div",{className:"rounded-md border p-2 max-h-64 overflow-auto",children:l.jsx("div",{className:"text-sm text-muted-foreground",children:"AI Agents are now independent and can be assigned to channels directly in the Platforms section. Super Agents are assigned to channels, not to AI Agents."})})]})]})})]}),l.jsx(Dr,{open:I,onOpenChange:X=>{L||M(X)},children:l.jsxs(vr,{className:"sm:max-w-md bg-background border",children:[l.jsx(yr,{children:l.jsx(xr,{children:"Delete Agent"})}),l.jsxs("div",{className:"space-y-3 py-2",children:[l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Are you sure you want to permanently delete ",(F==null?void 0:F.display_name)||"this agent","? This will remove their profile and role assignments. This action cannot be undone."]}),l.jsxs("div",{className:"rounded-md border p-3 bg-muted/30 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Name:"})," ",(F==null?void 0:F.display_name)||"—"]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Email:"})," ",(F==null?void 0:F.email)||"—"]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Role:"})," ",(F==null?void 0:F.primaryRole)||"—"]})]}),l.jsxs("div",{className:"flex gap-2 pt-2",children:[l.jsx(ae,{variant:"destructive",className:"flex-1",onClick:()=>F&&xe(F.user_id),disabled:L,children:L?l.jsxs("span",{className:"inline-flex items-center gap-2",children:[l.jsx(kt,{className:"h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete"}),l.jsx(ae,{variant:"outline",className:"flex-1",onClick:()=>M(!1),disabled:L,children:"Cancel"})]})]})]})}),l.jsx(Dr,{open:n,onOpenChange:r,children:l.jsxs(vr,{className:"sm:max-w-md bg-background border",children:[l.jsx(yr,{children:l.jsxs(xr,{children:["Token Limits",o?` — ${o.display_name||o.email}`:""]})}),l.jsxs("div",{className:"space-y-4 py-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(Ze,{className:"text-sm font-medium",children:"Enable Limits"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Block token-consuming actions when exceeded."})]}),l.jsx(ol,{checked:f.enabled,onCheckedChange:X=>d({...f,enabled:!!X})})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(Ze,{className:"text-sm font-medium",children:"Require Email 2FA"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"User must enter a one-time code at sign-in."})]}),l.jsx(ol,{checked:f.twoFA,onCheckedChange:X=>d({...f,twoFA:!!X})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ze,{htmlFor:"limit-day",children:"Max Tokens / Day"}),l.jsx(ht,{id:"limit-day",type:"number",min:0,value:f.perDay,onChange:X=>d({...f,perDay:Number(X.target.value)})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ze,{htmlFor:"limit-month",children:"Max Tokens / Month"}),l.jsx(ht,{id:"limit-month",type:"number",min:0,value:f.perMonth,onChange:X=>d({...f,perMonth:Number(X.target.value)})})]})]}),l.jsxs("div",{className:"flex gap-2 pt-2",children:[l.jsx(ae,{onClick:de,disabled:c,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",children:"Save"}),l.jsx(ae,{variant:"outline",onClick:()=>r(!1),className:"flex-1",children:"Cancel"})]})]})]})}),l.jsx(Dr,{open:i,onOpenChange:a,children:l.jsxs(vr,{className:"sm:max-w-md bg-background border",children:[l.jsx(yr,{children:l.jsxs(xr,{children:["Token Usage",o?` — ${o.display_name||o.email}`:""]})}),l.jsxs("div",{className:"space-y-4 py-2",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ze,{children:"Timeframe"}),l.jsxs(It,{value:h,onValueChange:async X=>{const pe=X;p(pe),o&&await Xe(o.user_id,pe)},children:[l.jsx(Ct,{className:"bg-background border",children:l.jsx(Rt,{})}),l.jsxs(Et,{className:"bg-background border z-50",children:[l.jsx(Ie,{value:"7d",children:"Last 7 days"}),l.jsx(Ie,{value:"30d",children:"Last 30 days"}),l.jsx(Ie,{value:"this_month",children:"This month"})]})]})]}),l.jsxs("div",{className:"rounded-md border p-4",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Tokens"}),l.jsx("div",{className:"text-2xl font-bold",children:y?"…":(m==null?void 0:m.toLocaleString())??0})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsxs("div",{className:"rounded-md border p-3",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Assigned To Agent"}),l.jsx("div",{className:"text-xl font-semibold",children:(w==null?void 0:w.assignedTo)??0})]}),l.jsxs("div",{className:"rounded-md border p-3",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Takeovers Initiated"}),l.jsx("div",{className:"text-xl font-semibold",children:(w==null?void 0:w.assignedBy)??0})]}),l.jsxs("div",{className:"rounded-md border p-3",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Resolved by Agent"}),l.jsx("div",{className:"text-xl font-semibold",children:(w==null?void 0:w.resolvedBy)??0})]}),l.jsxs("div",{className:"rounded-md border p-3",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"AI→Agent Handovers"}),l.jsx("div",{className:"text-xl font-semibold",children:(w==null?void 0:w.handoverFromAI)??0})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx(ae,{variant:"outline",onClick:()=>a(!1),children:"Close"})})]})]})})]})},Kp=["create","read","update","delete"],wd=e=>{const t=(e||"").toLowerCase();return t==="edit"?"update":t==="remove"?"delete":t},JNe=()=>{const[e,t]=g.useState([]),[n,r]=g.useState([]),[i,a]=g.useState([]),[o,s]=g.useState(!0),[c,u]=g.useState(null),[f,d]=g.useState("roles"),{toast:h}=dl(),{refreshRBAC:p}=Xa(),[m,v]=g.useState({}),y=["conversations","users","channels","analytics","topup","config"],x=["view","create","update","delete","export"],[w,b]=g.useState({}),[j,_]=g.useState(!1),[S,k]=g.useState(!1),E=async()=>{try{s(!0);const{data:R,error:T}=await Q.from("roles").select("*").order("name");if(T)throw T;t(R||[]);const{data:C,error:U}=await Q.from("permissions").select("*").order("resource",{ascending:!0});if(U)throw U;r(C||[]);const{data:G,error:ne}=await Q.from("role_permissions").select("*");if(ne)throw ne;a(G||[])}catch(R){console.error("Error fetching RBAC data:",R),h({title:"Error",description:"Failed to fetch permissions data",variant:"destructive"})}finally{s(!1)}};g.useEffect(()=>{E()},[]),g.useEffect(()=>{(async()=>{if(c)try{_(!0);const{data:T,error:C}=await Q.rpc("get_role_policy",{p_role:c.id});if(C)throw C;const G=(T||{}).resources||{},ne={};for(const q of y)ne[q]=new Set(Array.isArray(G[q])?G[q]:[]);b(ne)}catch(T){console.warn("Failed to load policy",T),b({})}finally{_(!1)}})()},[c==null?void 0:c.id]);const O=(R,T)=>{b(C=>{const U=new Set(C[R]||[]);return U.has(T)?U.delete(T):U.add(T),{...C,[R]:U}})},N=async()=>{if(c)try{k(!0);const R={resources:{}};for(const C of y)R.resources[C]=Array.from(w[C]||[]);const{error:T}=await Q.rpc("put_role_policy",{p_role:c.id,p_policy:R});if(T)throw T;await Mt({action:"rbac.policy_update",resource:"rbac",context:{role_id:c.id,policy:R}}),h({title:"Saved",description:"Policy updated"})}catch(R){console.error(R),h({title:"Error",description:"Failed to save policy",variant:"destructive"})}finally{k(!1)}},A=(R,T)=>i.some(C=>C.role_id===R&&C.permission_id===T),I=async(R,T)=>{try{const C=A(R,T),U=`${R}:${T}`;if(v(G=>({...G,[U]:!0})),C){const{error:G}=await Q.rpc("revoke_role_permission",{p_role:R,p_perm:T});if(G)throw G;a(ne=>ne.filter(q=>!(q.role_id===R&&q.permission_id===T)));try{await Mt({action:"rbac.revoke",resource:"rbac",context:{role_id:R,permission_id:T}})}catch{}}else{const{error:G}=await Q.rpc("grant_role_permission",{p_role:R,p_perm:T});if(G)throw G;a(ne=>[...ne,{role_id:R,permission_id:T}]);try{await Mt({action:"rbac.grant",resource:"rbac",context:{role_id:R,permission_id:T}})}catch{}}await p(),h({title:"Success",description:`Permission ${C?"removed from":"added to"} role`})}catch(C){console.error("Error updating role permission:",C),h({title:"Error",description:"Failed to update permission",variant:"destructive"})}finally{const C=`${R}:${T}`;v(U=>({...U,[C]:!1}))}},M=n.filter(R=>Kp.includes(wd(R.action))),L=n.filter(R=>!Kp.includes(wd(R.action))).sort((R,T)=>{if(R.resource!==T.resource)return R.resource.localeCompare(T.resource);const C=wd(R.action),U=wd(T.action);return C.localeCompare(U)}),z=M.reduce((R,T)=>{R[T.resource]||(R[T.resource]={});const C=wd(T.action);return R[T.resource][C]=T,R},{}),F=L.reduce((R,T)=>(R[T.resource]||(R[T.resource]=[]),R[T.resource].push(T),R),{}),B=R=>i.filter(C=>C.role_id===R).length,D=R=>R.replace("_"," ").toUpperCase(),$=R=>R.replace(/_/g," ").replace(/\b\w/g,T=>T.toUpperCase()),P=R=>{const T=R.name||"",C=T.indexOf(": ");if(C!==-1)return T.slice(C+2)};return o?l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Role Permissions"}),l.jsx("p",{className:"text-muted-foreground",children:"Manage role permissions"})]})}),l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Vm,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4 animate-pulse"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading roles..."})]})})]}):f==="roles"?l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Role Permissions"}),l.jsx("p",{className:"text-muted-foreground",children:"Manage role permissions"})]})}),l.jsxs($e,{children:[l.jsxs(ut,{children:[l.jsx(dt,{children:"Roles"}),l.jsx(Si,{children:"Click on a role to manage its permissions"})]}),l.jsx(et,{children:l.jsxs(xc,{children:[l.jsx(bc,{children:l.jsxs(Ir,{children:[l.jsx(Ut,{children:"Role Name"}),l.jsx(Ut,{children:"Description"}),l.jsx(Ut,{children:"Permissions"}),l.jsx(Ut,{children:"Actions"})]})}),l.jsx(wc,{children:e.map(R=>l.jsxs(Ir,{children:[l.jsx(Tt,{className:"font-medium",children:l.jsx(_t,{variant:"outline",children:D(R.name)})}),l.jsx(Tt,{children:R.description}),l.jsx(Tt,{children:l.jsxs(_t,{variant:"secondary",children:[B(R.id)," permissions"]})}),l.jsx(Tt,{children:l.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>{u(R),d("configure")},children:[l.jsx(pc,{className:"h-4 w-4 mr-2"}),"Configure"]})})]},R.id))})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs($e,{children:[l.jsxs(ut,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(dt,{className:"text-sm font-medium",children:"Total Roles"}),l.jsx(Vm,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsx(et,{children:l.jsx("div",{className:"text-2xl font-bold",children:e.length})})]}),l.jsxs($e,{children:[l.jsxs(ut,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(dt,{className:"text-sm font-medium",children:"Total Permissions"}),l.jsx(pc,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(et,{children:[l.jsx("div",{className:"text-2xl font-bold",children:n.length}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[M.length," CRUD + ",L.length," special"]})]})]}),l.jsxs($e,{children:[l.jsxs(ut,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(dt,{className:"text-sm font-medium",children:"Resources"}),l.jsx(pc,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(et,{children:[l.jsx("div",{className:"text-2xl font-bold",children:Object.keys(z).length}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"CRUD resources"})]})]})]})]}):f==="configure"&&c?l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsx(ae,{variant:"ghost",onClick:()=>d("roles"),className:"mb-2",children:"← Back to Roles"}),l.jsxs("h1",{className:"text-2xl font-bold tracking-tight",children:["Configure ",D(c.name)]}),l.jsx("p",{className:"text-muted-foreground",children:c.description})]})}),l.jsxs($e,{children:[l.jsxs(ut,{children:[l.jsx(dt,{children:"CRUD Permissions"}),l.jsx(Si,{children:"Standard Create, Read, Update, and Delete permissions"})]}),l.jsx(et,{children:l.jsx("div",{className:"w-full overflow-x-auto rounded-md border",children:l.jsxs(xc,{children:[l.jsx(bc,{children:l.jsxs(Ir,{children:[l.jsx(Ut,{className:"w-1/3",children:"Resource"}),Kp.map(R=>l.jsx(Ut,{className:"capitalize text-center",children:R},R))]})}),l.jsx(wc,{children:Object.entries(z).map(([R,T])=>l.jsxs(Ir,{children:[l.jsx(Tt,{className:"font-medium",children:$(R)}),Kp.map(C=>{const U=T[C];return l.jsx(Tt,{className:"text-center",children:U?l.jsx("div",{className:"inline-flex items-center gap-2",children:l.jsx(Pa,{id:`${R}-${C}`,checked:A(c.id,U.id),onCheckedChange:()=>I(c.id,U.id),disabled:!!m[`${c.id}:${U.id}`],className:"border-blue-300 focus-visible:ring-blue-400 data-[state=checked]:bg-blue-100 data-[state=checked]:border-blue-400 data-[state=checked]:text-blue-600"})}):l.jsx("div",{className:"inline-flex items-center gap-2",children:l.jsx(Pa,{disabled:!0,checked:!1,className:"border-blue-300 data-[state=checked]:bg-blue-100 data-[state=checked]:border-blue-400 data-[state=checked]:text-blue-600"})})},C)})]},R))})]})})})]}),l.jsxs($e,{children:[l.jsxs(ut,{children:[l.jsx(dt,{children:"Policy Rules (Matrix)"}),l.jsx(Si,{children:"Fine-grained allow-list per resource and action"})]}),l.jsxs(et,{children:[j?l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading policy…"}):l.jsx("div",{className:"w-full overflow-x-auto rounded-md border",children:l.jsxs(xc,{children:[l.jsx(bc,{children:l.jsxs(Ir,{children:[l.jsx(Ut,{className:"w-1/3",children:"Resource"}),x.map(R=>l.jsx(Ut,{className:"capitalize text-center",children:R},R))]})}),l.jsx(wc,{children:y.map(R=>l.jsxs(Ir,{children:[l.jsx(Tt,{className:"font-medium",children:$(R)}),x.map(T=>{var C;return l.jsx(Tt,{className:"text-center",children:l.jsx(Pa,{checked:!!((C=w[R])!=null&&C.has(T)),onCheckedChange:()=>O(R,T),className:"border-blue-300 focus-visible:ring-blue-400 data-[state=checked]:bg-blue-100 data-[state=checked]:border-blue-400 data-[state=checked]:text-blue-600"})},T)})]},R))})]})}),l.jsx("div",{className:"mt-3",children:l.jsx(ae,{onClick:N,disabled:S,children:S?"Saving…":"Save Policy"})})]})]}),l.jsxs($e,{children:[l.jsxs(ut,{children:[l.jsx(dt,{children:"Special Permissions"}),l.jsx(Si,{children:"Advanced permissions that don't follow the standard CRUD pattern"})]}),l.jsx(et,{children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(F).map(([R,T])=>l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"font-medium text-sm uppercase tracking-wide text-muted-foreground border-b pb-2",children:$(R)}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:T.map(C=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Pa,{id:C.id,checked:A(c.id,C.id),onCheckedChange:()=>I(c.id,C.id),disabled:!!m[`${c.id}:${C.id}`],className:"border-blue-300 focus-visible:ring-blue-400 data-[state=checked]:bg-blue-100 data-[state=checked]:border-blue-400 data-[state=checked]:text-blue-600"}),l.jsx(Ze,{htmlFor:C.id,className:"text-sm font-normal cursor-pointer",children:P(C)})]},C.id))})]},R))})})]}),l.jsxs($e,{children:[l.jsxs(ut,{children:[l.jsx(dt,{children:"Permission Summary"}),l.jsxs(Si,{children:["Current permissions assigned to ",D(c.name)]})]}),l.jsx(et,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"CRUD Permissions"}),l.jsxs(_t,{variant:"secondary",children:[i.filter(R=>R.role_id===c.id&&M.some(T=>T.id===R.permission_id)).length," assigned"]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Special Permissions"}),l.jsxs(_t,{variant:"secondary",children:[i.filter(R=>R.role_id===c.id&&L.some(T=>T.id===R.permission_id)).length," assigned"]})]})]})})]})]}):null};function ZNe(){var L,z;Mi();const[e,t]=g.useState([]),[n,r]=g.useState(20),[i,a]=g.useState(1),[o,s]=g.useState(0),[c,u]=g.useState("all"),[f,d]=g.useState("all"),[h,p]=g.useState(""),[m,v]=g.useState(""),[y,x]=g.useState([]),[w,b]=g.useState([]),[j,_]=g.useState({}),[S,k]=g.useState(!1),[E,O]=g.useState(null),N=g.useMemo(()=>({from:h?new Date(h).toISOString():null,to:m?new Date(m).toISOString():null}),[h,m]),A=async()=>{const{data:F}=await Q.from("audit_logs").select("user_id").not("user_id","is",null).limit(1e3),B=Array.from(new Set((F||[]).map($=>$.user_id)));if(B.length>0){const{data:$}=await Q.from("v_users").select("id,email,display_name").in("id",B),P=($||[]).map(T=>({id:T.id,email:T.email}));x(P);const R={};for(const T of $||[])R[T.id]={email:T.email,display_name:T.display_name};_(T=>({...T,...R}))}else x([]);const{data:D}=await Q.from("audit_logs").select("action").limit(1e3);b(Array.from(new Set((D||[]).map($=>$.action))))},I=async()=>{const F=(i-1)*n,{data:B,error:D}=await Q.rpc("get_audit_logs",{p_user_id:c!=="all"?c:null,p_action:f!=="all"?f:null,p_from:N.from,p_to:N.to,p_limit:n,p_offset:F});if(!D){const $=B||[];t($);let P=Q.from("audit_logs").select("id",{count:"exact"});c!=="all"&&(P=P.eq("user_id",c)),f!=="all"&&(P=P.eq("action",f)),N.from&&(P=P.gte("created_at",N.from)),N.to&&(P=P.lte("created_at",N.to));const{count:R}=await P;s(R||0);const C=Array.from(new Set($.map(U=>U.user_id).filter(Boolean))).filter(U=>!j[U]);if(C.length>0){const{data:U}=await Q.from("v_users").select("id,email,display_name").in("id",C),G={};for(const ne of U||[])G[ne.id]={email:ne.email,display_name:ne.display_name};Object.keys(G).length&&_(ne=>({...ne,...G}))}}};g.useEffect(()=>{A()},[]),g.useEffect(()=>{I()},[i,n,c,f,N.from,N.to]),g.useEffect(()=>{const F=Q.channel("realtime:logs").on("postgres_changes",{event:"INSERT",schema:"public",table:"audit_logs"},B=>{const D=B.new;t(P=>[D,...P].slice(0,n));const $=D.user_id;$&&!j[$]&&Q.from("v_users").select("id,email,display_name").eq("id",$).maybeSingle().then(({data:P})=>{P&&_(R=>({...R,[P.id]:{email:P.email,display_name:P.display_name}}))}),s(P=>P+1)}).subscribe();return()=>{Q.removeChannel(F)}},[n]);const M=Math.max(1,Math.ceil(o/n));return l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsx("h1",{className:"text-2xl font-semibold",children:"Logs"}),l.jsxs($e,{children:[l.jsx(ut,{children:l.jsx(dt,{children:"Filters"})}),l.jsxs(et,{className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-muted-foreground",children:"User"}),l.jsxs(It,{value:c,onValueChange:u,children:[l.jsx(Ct,{className:"h-9",children:l.jsx(Rt,{placeholder:"All"})}),l.jsxs(Et,{children:[l.jsx(Ie,{value:"all",children:"All"}),y.map(F=>l.jsx(Ie,{value:F.id,children:F.email},F.id))]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-muted-foreground",children:"Action"}),l.jsxs(It,{value:f,onValueChange:d,children:[l.jsx(Ct,{className:"h-9",children:l.jsx(Rt,{placeholder:"All"})}),l.jsxs(Et,{children:[l.jsx(Ie,{value:"all",children:"All"}),w.map(F=>l.jsx(Ie,{value:F,children:F},F))]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-muted-foreground",children:"From"}),l.jsx(ht,{type:"date",value:h,onChange:F=>p(F.target.value),className:"h-9"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-muted-foreground",children:"To"}),l.jsx(ht,{type:"date",value:m,onChange:F=>v(F.target.value),className:"h-9"})]}),l.jsxs("div",{className:"flex items-end gap-2",children:[l.jsxs(It,{value:String(n),onValueChange:F=>r(Number(F)),children:[l.jsx(Ct,{className:"h-9",children:l.jsx(Rt,{placeholder:"Page size"})}),l.jsx(Et,{children:[10,20,50,100].map(F=>l.jsxs(Ie,{value:String(F),children:[F," / page"]},F))})]}),l.jsx(ae,{variant:"outline",onClick:()=>{const F=e.map(B=>{var D;return{time:new Date(B.created_at).toISOString(),user:B.user_id?((D=j[B.user_id])==null?void 0:D.email)||B.user_id:"",action:B.action,resource:B.resource,resource_id:B.resource_id||"",ip:B.ip?B.ip.replace(/(\d+\.\d+\.\d+)\.\d+/,"$1.*"):"",context:JSON.stringify(hD(B.context||{}))}});xq(`logs_${new Date().toISOString()}.csv`,F)},children:"Export CSV"})]})]})]}),l.jsxs($e,{children:[l.jsx(ut,{children:l.jsxs(dt,{children:["Entries (",o,")"]})}),l.jsxs(et,{children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs(xc,{children:[l.jsx(bc,{children:l.jsxs(Ir,{children:[l.jsx(Ut,{children:"Time"}),l.jsx(Ut,{children:"User"}),l.jsx(Ut,{children:"Action"}),l.jsx(Ut,{children:"Resource"}),l.jsx(Ut,{children:"Resource ID"}),l.jsx(Ut,{children:"IP"}),l.jsx(Ut,{})]})}),l.jsx(wc,{children:e.map(F=>{var B,D;return l.jsxs(Ir,{children:[l.jsx(Tt,{children:new Date(F.created_at).toLocaleString()}),l.jsx(Tt,{children:F.user_id?((B=j[F.user_id])==null?void 0:B.display_name)||((D=j[F.user_id])==null?void 0:D.email)||F.user_id:"—"}),l.jsx(Tt,{children:F.action}),l.jsx(Tt,{children:F.resource}),l.jsx(Tt,{children:F.resource_id||"—"}),l.jsx(Tt,{children:F.ip||"—"}),l.jsx(Tt,{className:"text-right",children:l.jsx(ae,{variant:"outline",size:"sm",onClick:()=>{O(F),k(!0)},children:"Details"})})]},F.id)})})]})}),l.jsxs("div",{className:"flex items-center justify-between mt-4",children:[l.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",i," of ",M]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ae,{variant:"outline",disabled:i<=1,onClick:()=>a(F=>Math.max(1,F-1)),children:"Prev"}),l.jsx(ae,{variant:"outline",disabled:i>=M,onClick:()=>a(F=>Math.min(M,F+1)),children:"Next"})]})]})]})]}),l.jsx(Dr,{open:S,onOpenChange:k,children:l.jsxs(vr,{className:"max-w-2xl",children:[l.jsxs(yr,{children:[l.jsx(xr,{children:"Log Details"}),l.jsx(Ru,{children:E?new Date(E.created_at).toLocaleString():""})]}),E&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-muted-foreground",children:"User"}),l.jsx("div",{children:E.user_id?((L=j[E.user_id])==null?void 0:L.display_name)||((z=j[E.user_id])==null?void 0:z.email)||E.user_id:"—"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-muted-foreground",children:"Action"}),l.jsx("div",{children:E.action})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-muted-foreground",children:"Resource"}),l.jsx("div",{children:E.resource})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-muted-foreground",children:"Resource ID"}),l.jsx("div",{children:E.resource_id||"—"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-muted-foreground",children:"IP"}),l.jsx("div",{children:E.ip||"—"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-muted-foreground",children:"User Agent"}),l.jsx("div",{className:"truncate",title:E.user_agent||void 0,children:E.user_agent||"—"})]})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Context"}),l.jsx("pre",{className:"max-h-64 overflow-auto rounded bg-muted p-3 text-xs",children:JSON.stringify(E.context??{},null,2)})]})]}),l.jsx(bF,{children:l.jsx(ae,{variant:"outline",onClick:()=>k(!1),children:"Close"})})]})})]})}const o2=({children:e})=>{var u,f,d,h;const{user:t,signOut:n}=Mi();g.useState("profile");const[r,i]=g.useState(!0),[a,o]=g.useState(!1),s=(p,m)=>p?p.split(" ").map(v=>v[0]).join("").toUpperCase().slice(0,2):m.substring(0,2).toUpperCase(),c=async()=>{try{await n()}catch(p){console.error("Error signing out:",p)}};return l.jsxs(Aa,{children:[l.jsx(Na,{asChild:!0,children:e}),l.jsx(Qi,{className:"w-[300px] h-[320px] p-0 overflow-hidden",side:"left",align:"start",children:l.jsx("div",{className:"flex h-full",children:l.jsx("div",{className:"flex-1 p-4",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs(ts,{className:"h-10 w-10",children:[l.jsx(Iu,{src:(u=t==null?void 0:t.user_metadata)==null?void 0:u.avatar_url,alt:((f=t==null?void 0:t.user_metadata)==null?void 0:f.full_name)||(t==null?void 0:t.email)}),l.jsx(ns,{className:"text-sm bg-blue-100 text-blue-600",children:s((d=t==null?void 0:t.user_metadata)==null?void 0:d.full_name,(t==null?void 0:t.email)||"")})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-sm font-semibold",children:((h=t==null?void 0:t.user_metadata)==null?void 0:h.full_name)||"Audit 4"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:t==null?void 0:t.email})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-xs text-muted-foreground",children:"Online Status"}),l.jsx("div",{className:"text-xs font-medium",children:"Online"})]}),l.jsx(ol,{checked:r,onCheckedChange:i,className:"scale-75"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-xs text-muted-foreground",children:"Notifications"}),l.jsx("div",{className:"text-xs font-medium",children:"Disabled"})]}),l.jsx(ol,{checked:a,onCheckedChange:o,className:"scale-75"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs font-medium",children:"Reset Password"}),l.jsx(ae,{variant:"ghost",size:"sm",className:"p-1 h-6 w-6",children:l.jsx(Wm,{className:"h-3 w-3 text-muted-foreground"})})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs font-medium",children:"Log Out"}),l.jsx(ae,{variant:"ghost",size:"sm",className:"p-1 h-6 w-6",onClick:c,children:l.jsx(JS,{className:"h-3 w-3 text-muted-foreground"})})]})]})]})})})})]})};function ePe({icon:e,label:t,active:n=!1,onClick:r,collapsed:i,permissions:a,requireAll:o=!1,resourceAny:s=[]}){const{hasAnyPermission:c,hasAllPermissions:u,userPermissions:f,loading:d}=Xa();return d||!(o?u(a):c(a))?null:l.jsxs("button",{type:"button",onClick:r,className:ge("group grid h-10 w-full grid-cols-[1.125rem,1fr] items-center rounded-md px-3 text-left text-sm transition-all duration-200 gap-2",n?"bg-blue-100 text-blue-700 border border-blue-200":"text-muted-foreground hover:bg-blue-50 hover:text-blue-600 hover:border hover:border-blue-100",i&&"grid-cols-[1.125rem,0fr]"),"aria-current":n?"page":void 0,title:i?t:void 0,children:[l.jsx(e,{className:`h-4 w-4 shrink-0 transition-colors ${n?"text-blue-600":"group-hover:text-blue-600"}`}),l.jsx("span",{className:ge("overflow-hidden whitespace-nowrap text-ellipsis transition-opacity duration-200",i&&"opacity-0 pointer-events-none"),children:t})]})}const fb={chat:{key:"chat",label:"Chat",icon:Hm,permissions:["messages.read","threads.read"],requireAll:!1,description:"View and manage conversations"},analytics:{key:"analytics",label:"Analytics",icon:SH,permissions:["analytics.view_kpi","analytics.view_containment_rate","analytics.view_handover_rate"],requireAll:!1,description:"View performance metrics and insights"},logs:{key:"logs",label:"Logs",icon:AH,permissions:["audit_logs.read"],requireAll:!0,description:"View user action logs"},contacts:{key:"contacts",label:"Contacts",icon:sD,permissions:["contacts.read","contact_identities.read"],requireAll:!1,description:"Manage customer contacts and identities"},platforms:{key:"platforms",label:"Connected Platforms",icon:MH,permissions:["channels.read"],requireAll:!0,description:"Manage connected channels and integrations"},aiagents:{key:"aiagents",label:"AI Agents",icon:eD,permissions:["ai_profiles.read"],requireAll:!1,description:"Configure and manage AI agents"},humanagents:{key:"humanagents",label:"Human Agents",icon:LH,permissions:["super_agents.read"],requireAll:!0,description:"Manage human agent assignments and roles"},permissions:{key:"permissions",label:"Permissions",icon:Vm,permissions:["access_rules.configure"],requireAll:!0,description:"Manage roles and permissions"}},L_=["chat","analytics","logs","contacts","platforms","aiagents","humanagents","permissions"];function tPe(){const{hasAnyPermission:e,hasAllPermissions:t}=Xa(),n=o=>{const s=fb[o];return s?s.requireAll?t(s.permissions):e(s.permissions):!1},r=()=>L_.filter(o=>n(o));return{canAccessNavItem:n,getAccessibleNavItems:r,getDefaultNavItem:()=>{const o=r();return o.length>0?o[0]:null},getNavItem:o=>fb[o],navigationConfig:fb}}const Gp=({step:e,title:t,description:n,emoji:r})=>l.jsxs("div",{className:"flex items-start gap-4 rounded-lg border border-border bg-card p-4 shadow-sm transition-transform hover:-translate-y-0.5",children:[l.jsx("div",{className:"text-2xl animate-float","aria-hidden":!0,children:r}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(_t,{variant:"secondary",children:[e,"."]}),l.jsx("h3",{className:"text-base font-semibold text-foreground",children:t})]}),l.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:n})]})]}),nPe=()=>{var y,x,w,b,j;const[e,t]=g.useState("chat"),[n,r]=g.useState(!1),{user:i,signOut:a}=Mi();Ya();const[o,s]=pG(),{getDefaultNavItem:c,getNavItem:u,canAccessNavItem:f}=tPe(),{loading:d}=Xa(),h=L_,p=(_,S)=>{const k=new URLSearchParams(o);k.set("menu",_),s(k,S)};g.useEffect(()=>{if(d)return;const _=o.get("menu");if(_&&h.includes(_)){const S=_;if(f(S))S!==e&&t(S);else{const k=c();k&&k!==e&&(t(k),p(k,{replace:!0}))}}else _||p("chat",{replace:!0})},[o,f,c,d]),g.useEffect(()=>{if(d)return;const _=c();(!h.includes(e)||!f(e))&&_&&(t(_),p(_,{replace:!0}))},[c,f,e,h,d]);const m=async()=>{try{await a()}catch(_){console.error("Error signing out:",_)}},v=(_,S)=>_?_.split(" ").map(k=>k[0]).join("").toUpperCase().slice(0,2):S.substring(0,2).toUpperCase();return l.jsx("div",{className:"min-h-screen bg-background text-foreground",children:l.jsxs("div",{className:"mx-auto flex min-h-screen",children:[l.jsxs("aside",{className:`shrink-0 border-r border-sidebar-border bg-sidebar transition-all duration-300 ease-in-out ${n?"w-64":"w-20"} md:flex md:flex-col p-4 sticky top-0 h-screen overflow-y-auto`,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[l.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 transition-all duration-200",children:[l.jsx("div",{className:"h-8 w-8 shrink-0 rounded-full bg-gradient-to-tr from-brand to-primary","aria-hidden":!0}),l.jsx("span",{className:`text-lg font-semibold transition-opacity duration-200 whitespace-nowrap ${n?"opacity-100":"opacity-0 w-0 overflow-hidden"}`,children:"Cekat AI"})]}),l.jsx(Pf,{className:"my-4"}),l.jsx("nav",{className:"flex flex-col gap-1 flex-1",children:L_.map(_=>{const S=u(_);return l.jsx(ePe,{icon:S.icon,label:S.label,active:e===_,onClick:()=>{t(_),p(_)},collapsed:!n,permissions:S.permissions,requireAll:S.requireAll,resourceAny:S.resourceAny},_)})}),l.jsxs("div",{className:"mt-auto flex flex-col gap-1 pt-6",children:[l.jsx(Pf,{className:"mb-3"}),l.jsx(o2,{children:l.jsxs("button",{type:"button",className:ge("group grid h-10 w-full grid-cols-[1.125rem,1fr] items-center rounded-md px-3 text-left text-sm transition-all duration-200 gap-2","text-muted-foreground hover:bg-blue-50 hover:text-blue-600 hover:border hover:border-blue-100",!n&&"grid-cols-[1.125rem,0fr]"),title:n?void 0:"Profile",children:[l.jsx(BH,{className:"h-4 w-4 shrink-0 transition-colors group-hover:text-blue-600"}),l.jsx("span",{className:ge("overflow-hidden whitespace-nowrap text-ellipsis transition-opacity duration-200",!n&&"opacity-0 pointer-events-none"),children:"Profile"})]})})]})]}),l.jsxs("main",{className:"flex-1",children:[l.jsx("header",{className:"sticky top-0 z-10 border-b border-border bg-background/80 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:l.jsxs("div",{className:"flex items-center justify-between gap-4 px-4 py-3 md:px-6",children:[l.jsx("div",{className:"flex items-center gap-2 md:gap-3"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(_t,{className:"hidden sm:inline-flex bg-success text-success-foreground",children:"Online"}),l.jsxs("div",{className:"text-right hidden sm:block",children:[l.jsx("div",{className:"text-sm font-medium",children:((y=i==null?void 0:i.user_metadata)==null?void 0:y.full_name)||"User"}),l.jsx("div",{className:"text-xs text-muted-foreground",children:i==null?void 0:i.email})]}),l.jsxs(e1,{children:[l.jsx(t1,{asChild:!0,children:l.jsx(ae,{variant:"ghost",className:"relative h-9 w-9 rounded-full",children:l.jsxs(ts,{className:"h-9 w-9",children:[l.jsx(Iu,{src:(x=i==null?void 0:i.user_metadata)==null?void 0:x.avatar_url,alt:((w=i==null?void 0:i.user_metadata)==null?void 0:w.full_name)||(i==null?void 0:i.email)}),l.jsx(ns,{className:"text-sm",children:v((b=i==null?void 0:i.user_metadata)==null?void 0:b.full_name,(i==null?void 0:i.email)||"")})]})})}),l.jsxs(ig,{className:"w-56",align:"end",forceMount:!0,children:[l.jsx(u4,{className:"font-normal",children:l.jsxs("div",{className:"flex flex-col space-y-1",children:[l.jsx("p",{className:"text-sm font-medium leading-none",children:((j=i==null?void 0:i.user_metadata)==null?void 0:j.full_name)||"User"}),l.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:i==null?void 0:i.email})]})}),l.jsx(n1,{}),l.jsx(o2,{children:l.jsxs("button",{className:"flex items-center w-full px-2 py-1.5 text-sm text-left hover:bg-accent hover:text-accent-foreground rounded-sm",children:[l.jsx(oD,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Profile"})]})}),l.jsx(n1,{}),l.jsxs(rc,{onClick:m,children:[l.jsx(JS,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Log out"})]})]})]})]})]})}),l.jsx("section",{className:"px-4 py-6 md:px-8",children:e==="chat"?l.jsxs(l.Fragment,{children:[l.jsx("h1",{className:"sr-only",children:"Chat Inbox"}),l.jsx(aie,{})]}):e==="analytics"?l.jsxs(l.Fragment,{children:[l.jsx("h1",{className:"sr-only",children:"Analytics Dashboard"}),l.jsx(TNe,{})]}):e==="contacts"?l.jsxs(l.Fragment,{children:[l.jsx("h1",{className:"sr-only",children:"Contacts Management"}),l.jsx(Cie,{})]}):e==="platforms"?l.jsxs(l.Fragment,{children:[l.jsx("h1",{className:"sr-only",children:"Connected Platforms"}),l.jsx(Oie,{})]}):e==="aiagents"?l.jsxs(l.Fragment,{children:[l.jsx("h1",{className:"sr-only",children:"AI Agents"}),l.jsx(XNe,{})]}):e==="humanagents"?l.jsxs(l.Fragment,{children:[l.jsx("h1",{className:"sr-only",children:"Human Agents"}),l.jsx(QNe,{})]}):e==="permissions"?l.jsxs(js,{permission:"access_rules.configure",fallback:l.jsx("div",{className:"text-sm text-muted-foreground",children:"You do not have access to Permissions."}),children:[l.jsx("h1",{className:"sr-only",children:"Permissions"}),l.jsx(JNe,{})]}):e==="logs"?l.jsxs(js,{permission:"audit_logs.read",fallback:l.jsx("div",{className:"text-sm text-muted-foreground",children:"You do not have access to Logs."}),children:[l.jsx("h1",{className:"sr-only",children:"Logs"}),l.jsx(ZNe,{})]}):l.jsxs(l.Fragment,{children:[l.jsx("h1",{className:"text-2xl font-bold tracking-tight md:text-3xl",children:"Selamat datang kembali di Cekat AI!"}),l.jsxs("div",{className:"mt-6 grid gap-4 md:max-w-2xl",children:[l.jsx(Gp,{step:1,title:"Hubungkan Platform",description:"Mulai terima pesan dari Whatsapp, IG, dan FB Anda!",emoji:"📨"}),l.jsx(Gp,{step:2,title:"Buat AI Agent",description:"Jawab pesan masuk dengan Agent AI Anda.",emoji:"🤖"}),l.jsx(Gp,{step:3,title:"Undang Agen Manusia",description:"Undang tim Anda untuk membantu menjawab chat.",emoji:"🧑‍💼"}),l.jsx(Gp,{step:4,title:"Konek AI Agent ke Inbox",description:"Hubungkan AI Agent dan Human Agent ke platform.",emoji:"🔗"})]}),l.jsxs("p",{className:"mt-4 text-sm text-muted-foreground",children:["Butuh bantuan lebih? ",l.jsx("a",{className:"text-brand underline underline-offset-4",href:"#",children:"Lihat Tutorial Youtube kami"})]})]})})]})]})})};function rPe(){var s,c,u,f;const{user:e,signOut:t}=Mi(),[n,r]=g.useState(!1),i=async()=>{r(!0);try{await t(),Me.success("Signed out successfully")}catch{Me.error("Failed to sign out")}finally{r(!1)}};if(!e)return null;const a=(d,h)=>d?d.split(" ").map(p=>p[0]).join("").toUpperCase().slice(0,2):h.substring(0,2).toUpperCase(),o=d=>new Date(d).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return l.jsxs($e,{className:"w-full max-w-md mx-auto",children:[l.jsxs(ut,{className:"text-center",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsxs(ts,{className:"h-20 w-20",children:[l.jsx(Iu,{src:(s=e.user_metadata)==null?void 0:s.avatar_url,alt:((c=e.user_metadata)==null?void 0:c.full_name)||e.email}),l.jsx(ns,{className:"text-lg",children:a((u=e.user_metadata)==null?void 0:u.full_name,e.email||"")})]})}),l.jsx(dt,{className:"text-xl",children:((f=e.user_metadata)==null?void 0:f.full_name)||"User"}),l.jsx(Si,{children:e.email}),l.jsx("div",{className:"flex justify-center mt-2",children:l.jsxs(_t,{variant:"secondary",className:"flex items-center gap-1",children:[l.jsx(Vm,{className:"w-3 h-3"}),e.email_confirmed_at?"Verified":"Unverified"]})})]}),l.jsxs(et,{className:"space-y-4",children:[l.jsx(Pf,{}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Cw,{className:"w-4 h-4 text-muted-foreground"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Email"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:e.email})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(jw,{className:"w-4 h-4 text-muted-foreground"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Member since"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:o(e.created_at)})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(oD,{className:"w-4 h-4 text-muted-foreground"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"User ID"}),l.jsxs("p",{className:"text-sm text-muted-foreground font-mono",children:[e.id.substring(0,8),"..."]})]})]})]}),l.jsx(Pf,{}),l.jsxs(ae,{variant:"outline",className:"w-full",onClick:i,disabled:n,children:[l.jsx(JS,{className:"w-4 h-4 mr-2"}),n?"Signing out...":"Sign Out"]})]})]})}function iPe(){const e=Ya();return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs(ae,{variant:"ghost",onClick:()=>e("/"),className:"mb-4",children:[l.jsx(Fv,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Profile"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your account settings and preferences"})]}),l.jsx(rPe,{})]})})}function s2(){const[e,t]=g.useState(""),[n,r]=g.useState(""),[i,a]=g.useState(!1),[o,s]=g.useState(!1),[c,u]=g.useState(null),[f,d]=g.useState(!1),h=Ya();g.useEffect(()=>{(async()=>{try{const y=new URL(window.location.href).searchParams.get("code");y&&await Q.auth.exchangeCodeForSession(y);const{data:{session:x}}=await Q.auth.getSession();x||u("Invalid or expired reset link. Please request a new password reset.")}catch(v){console.warn("Password setup init failed",v)}})()},[]);const p=async m=>{if(m.preventDefault(),s(!0),u(null),e!==n){u("Passwords do not match"),s(!1);return}try{const{error:v}=await Q.auth.updateUser({password:e});if(v)throw v;try{const{data:{user:y}}=await Q.auth.getUser();y&&await Q.from("users_profile").update({password_set:!0}).eq("user_id",y.id)}catch(y){console.warn("Failed to update password_set flag:",y)}d(!0),Me.success("Password updated successfully!");try{await Q.auth.signOut()}catch{}try{localStorage.removeItem("otpVerified"),localStorage.removeItem("otpRequired"),localStorage.removeItem("app.lastAuthEvent"),localStorage.removeItem("auth.intent")}catch{}setTimeout(()=>{h("/")},1500)}catch(v){console.error("Password reset error:",v),u(v instanceof Error?v.message:"Failed to update password"),Me.error("Failed to update password")}finally{s(!1)}};return f?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:l.jsxs($e,{className:"w-full max-w-md",children:[l.jsxs(ut,{className:"text-center",children:[l.jsx(dt,{className:"text-2xl font-bold text-green-600",children:"Success!"}),l.jsx(Si,{children:"Your password has been updated successfully. You will be redirected to the login page shortly."})]}),l.jsx(et,{className:"text-center",children:l.jsx(ae,{onClick:()=>h("/"),className:"w-full",children:"Go to Login"})})]})}):l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:l.jsxs($e,{className:"w-full max-w-md",children:[l.jsxs(ut,{className:"space-y-1",children:[l.jsxs(ae,{variant:"ghost",size:"sm",onClick:()=>h("/"),className:"absolute top-4 left-4",children:[l.jsx(Fv,{className:"w-4 h-4 mr-2"}),"Back to Login"]}),l.jsxs("div",{className:"text-center",children:[l.jsx(dt,{className:"text-2xl font-bold",children:"Reset Password"}),l.jsx(Si,{children:"Enter your new password below"})]})]}),l.jsxs(et,{children:[c&&l.jsx(Af,{className:"mb-4 border-red-200 bg-red-50",children:l.jsx(Nf,{className:"text-red-800",children:c})}),l.jsxs("form",{onSubmit:p,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ze,{htmlFor:"password",children:"New Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(Wm,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(ht,{id:"password",type:i?"text":"password",placeholder:"Enter new password",value:e,onChange:m=>t(m.target.value),className:"pl-10 pr-10",required:!0,minLength:6}),l.jsx(ae,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>a(!i),children:i?l.jsx(nD,{className:"h-4 w-4"}):l.jsx(rD,{className:"h-4 w-4"})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ze,{htmlFor:"confirm-password",children:"Confirm New Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(Wm,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(ht,{id:"confirm-password",type:i?"text":"password",placeholder:"Confirm new password",value:n,onChange:m=>r(m.target.value),className:"pl-10",required:!0})]})]}),l.jsx(ae,{type:"submit",className:"w-full",disabled:o,children:o?l.jsxs(l.Fragment,{children:[l.jsx(kt,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating password..."]}):"Update Password"})]})]})]})})}var aPe=Object.defineProperty,oPe=Object.defineProperties,sPe=Object.getOwnPropertyDescriptors,mv=Object.getOwnPropertySymbols,O6=Object.prototype.hasOwnProperty,I6=Object.prototype.propertyIsEnumerable,l2=(e,t,n)=>t in e?aPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lPe=(e,t)=>{for(var n in t||(t={}))O6.call(t,n)&&l2(e,n,t[n]);if(mv)for(var n of mv(t))I6.call(t,n)&&l2(e,n,t[n]);return e},cPe=(e,t)=>oPe(e,sPe(t)),uPe=(e,t)=>{var n={};for(var r in e)O6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&mv)for(var r of mv(e))t.indexOf(r)<0&&I6.call(e,r)&&(n[r]=e[r]);return n};function dPe(e){let t=setTimeout(e,0),n=setTimeout(e,10),r=setTimeout(e,50);return[t,n,r]}function fPe(e){let t=g.useRef();return g.useEffect(()=>{t.current=e}),t.current}var hPe=18,R6=40,pPe=`${R6}px`,mPe=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function gPe({containerRef:e,inputRef:t,pushPasswordManagerStrategy:n,isFocused:r}){let[i,a]=g.useState(!1),[o,s]=g.useState(!1),[c,u]=g.useState(!1),f=g.useMemo(()=>n==="none"?!1:(n==="increase-width"||n==="experimental-no-flickering")&&i&&o,[i,o,n]),d=g.useCallback(()=>{let h=e.current,p=t.current;if(!h||!p||c||n==="none")return;let m=h,v=m.getBoundingClientRect().left+m.offsetWidth,y=m.getBoundingClientRect().top+m.offsetHeight/2,x=v-hPe,w=y;document.querySelectorAll(mPe).length===0&&document.elementFromPoint(x,w)===h||(a(!0),u(!0))},[e,t,c,n]);return g.useEffect(()=>{let h=e.current;if(!h||n==="none")return;function p(){let v=window.innerWidth-h.getBoundingClientRect().right;s(v>=R6)}p();let m=setInterval(p,1e3);return()=>{clearInterval(m)}},[e,n]),g.useEffect(()=>{let h=r||document.activeElement===t.current;if(n==="none"||!h)return;let p=setTimeout(d,0),m=setTimeout(d,2e3),v=setTimeout(d,5e3),y=setTimeout(()=>{u(!0)},6e3);return()=>{clearTimeout(p),clearTimeout(m),clearTimeout(v),clearTimeout(y)}},[t,r,n,d]),{hasPWMBadge:i,willPushPWMBadge:f,PWM_BADGE_SPACE_WIDTH:pPe}}var M6=g.createContext({}),D6=g.forwardRef((e,t)=>{var n=e,{value:r,onChange:i,maxLength:a,textAlign:o="left",pattern:s,placeholder:c,inputMode:u="numeric",onComplete:f,pushPasswordManagerStrategy:d="increase-width",pasteTransformer:h,containerClassName:p,noScriptCSSFallback:m=vPe,render:v,children:y}=n,x=uPe(n,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),w,b,j,_,S;let[k,E]=g.useState(typeof x.defaultValue=="string"?x.defaultValue:""),O=r??k,N=fPe(O),A=g.useCallback(W=>{i==null||i(W),E(W)},[i]),I=g.useMemo(()=>s?typeof s=="string"?new RegExp(s):s:null,[s]),M=g.useRef(null),L=g.useRef(null),z=g.useRef({value:O,onChange:A,isIOS:typeof window<"u"&&((b=(w=window==null?void 0:window.CSS)==null?void 0:w.supports)==null?void 0:b.call(w,"-webkit-touch-callout","none"))}),F=g.useRef({prev:[(j=M.current)==null?void 0:j.selectionStart,(_=M.current)==null?void 0:_.selectionEnd,(S=M.current)==null?void 0:S.selectionDirection]});g.useImperativeHandle(t,()=>M.current,[]),g.useEffect(()=>{let W=M.current,ee=L.current;if(!W||!ee)return;z.current.value!==W.value&&z.current.onChange(W.value),F.current.prev=[W.selectionStart,W.selectionEnd,W.selectionDirection];function fe(){if(document.activeElement!==W){T(null),U(null);return}let de=W.selectionStart,Te=W.selectionEnd,Ye=W.selectionDirection,Xe=W.maxLength,Je=W.value,ot=F.current.prev,gt=-1,V=-1,ce;if(Je.length!==0&&de!==null&&Te!==null){let te=de===Te,oe=de===Je.length&&Je.length<Xe;if(te&&!oe){let ue=de;if(ue===0)gt=0,V=1,ce="forward";else if(ue===Xe)gt=ue-1,V=ue,ce="backward";else if(Xe>1&&Je.length>1){let Se=0;if(ot[0]!==null&&ot[1]!==null){ce=ue<ot[1]?"backward":"forward";let _e=ot[0]===ot[1]&&ot[0]<Xe;ce==="backward"&&!_e&&(Se=-1)}gt=Se+ue,V=Se+ue+1}}gt!==-1&&V!==-1&&gt!==V&&M.current.setSelectionRange(gt,V,ce)}let X=gt!==-1?gt:de,pe=V!==-1?V:Te,ke=ce??Ye;T(X),U(pe),F.current.prev=[X,pe,ke]}if(document.addEventListener("selectionchange",fe,{capture:!0}),fe(),document.activeElement===W&&P(!0),!document.getElementById("input-otp-style")){let de=document.createElement("style");if(de.id="input-otp-style",document.head.appendChild(de),de.sheet){let Te="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";_d(de.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),_d(de.sheet,`[data-input-otp]:autofill { ${Te} }`),_d(de.sheet,`[data-input-otp]:-webkit-autofill { ${Te} }`),_d(de.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),_d(de.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let xe=()=>{ee&&ee.style.setProperty("--root-height",`${W.clientHeight}px`)};xe();let Pe=new ResizeObserver(xe);return Pe.observe(W),()=>{document.removeEventListener("selectionchange",fe,{capture:!0}),Pe.disconnect()}},[]);let[B,D]=g.useState(!1),[$,P]=g.useState(!1),[R,T]=g.useState(null),[C,U]=g.useState(null);g.useEffect(()=>{dPe(()=>{var W,ee,fe,xe;(W=M.current)==null||W.dispatchEvent(new Event("input"));let Pe=(ee=M.current)==null?void 0:ee.selectionStart,de=(fe=M.current)==null?void 0:fe.selectionEnd,Te=(xe=M.current)==null?void 0:xe.selectionDirection;Pe!==null&&de!==null&&(T(Pe),U(de),F.current.prev=[Pe,de,Te])})},[O,$]),g.useEffect(()=>{N!==void 0&&O!==N&&N.length<a&&O.length===a&&(f==null||f(O))},[a,f,N,O]);let G=gPe({containerRef:L,inputRef:M,pushPasswordManagerStrategy:d,isFocused:$}),ne=g.useCallback(W=>{let ee=W.currentTarget.value.slice(0,a);if(ee.length>0&&I&&!I.test(ee)){W.preventDefault();return}typeof N=="string"&&ee.length<N.length&&document.dispatchEvent(new Event("selectionchange")),A(ee)},[a,A,N,I]),q=g.useCallback(()=>{var W;if(M.current){let ee=Math.min(M.current.value.length,a-1),fe=M.current.value.length;(W=M.current)==null||W.setSelectionRange(ee,fe),T(ee),U(fe)}P(!0)},[a]),J=g.useCallback(W=>{var ee,fe;let xe=M.current;if(!h&&(!z.current.isIOS||!W.clipboardData||!xe))return;let Pe=W.clipboardData.getData("text/plain"),de=h?h(Pe):Pe;W.preventDefault();let Te=(ee=M.current)==null?void 0:ee.selectionStart,Ye=(fe=M.current)==null?void 0:fe.selectionEnd,Xe=(Te!==Ye?O.slice(0,Te)+de+O.slice(Ye):O.slice(0,Te)+de+O.slice(Te)).slice(0,a);if(Xe.length>0&&I&&!I.test(Xe))return;xe.value=Xe,A(Xe);let Je=Math.min(Xe.length,a-1),ot=Xe.length;xe.setSelectionRange(Je,ot),T(Je),U(ot)},[a,A,I,O]),K=g.useMemo(()=>({position:"relative",cursor:x.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[x.disabled]),re=g.useMemo(()=>({position:"absolute",inset:0,width:G.willPushPWMBadge?`calc(100% + ${G.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:G.willPushPWMBadge?`inset(0 ${G.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:o,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[G.PWM_BADGE_SPACE_WIDTH,G.willPushPWMBadge,o]),Z=g.useMemo(()=>g.createElement("input",cPe(lPe({autoComplete:x.autoComplete||"one-time-code"},x),{"data-input-otp":!0,"data-input-otp-placeholder-shown":O.length===0||void 0,"data-input-otp-mss":R,"data-input-otp-mse":C,inputMode:u,pattern:I==null?void 0:I.source,"aria-placeholder":c,style:re,maxLength:a,value:O,ref:M,onPaste:W=>{var ee;J(W),(ee=x.onPaste)==null||ee.call(x,W)},onChange:ne,onMouseOver:W=>{var ee;D(!0),(ee=x.onMouseOver)==null||ee.call(x,W)},onMouseLeave:W=>{var ee;D(!1),(ee=x.onMouseLeave)==null||ee.call(x,W)},onFocus:W=>{var ee;q(),(ee=x.onFocus)==null||ee.call(x,W)},onBlur:W=>{var ee;P(!1),(ee=x.onBlur)==null||ee.call(x,W)}})),[ne,q,J,u,re,a,C,R,x,I==null?void 0:I.source,O]),Y=g.useMemo(()=>({slots:Array.from({length:a}).map((W,ee)=>{var fe;let xe=$&&R!==null&&C!==null&&(R===C&&ee===R||ee>=R&&ee<C),Pe=O[ee]!==void 0?O[ee]:null,de=O[0]!==void 0?null:(fe=c==null?void 0:c[ee])!=null?fe:null;return{char:Pe,placeholderChar:de,isActive:xe,hasFakeCaret:xe&&Pe===null}}),isFocused:$,isHovering:!x.disabled&&B}),[$,B,a,C,R,x.disabled,O]),he=g.useMemo(()=>v?v(Y):g.createElement(M6.Provider,{value:Y},y),[y,Y,v]);return g.createElement(g.Fragment,null,m!==null&&g.createElement("noscript",null,g.createElement("style",null,m)),g.createElement("div",{ref:L,"data-input-otp-container":!0,style:K,className:p},he,g.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},Z)))});D6.displayName="Input";function _d(e,t){try{e.insertRule(t)}catch{console.error("input-otp could not insert CSS rule:",t)}}var vPe=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const $6=g.forwardRef(({className:e,containerClassName:t,...n},r)=>l.jsx(D6,{ref:r,containerClassName:ge("flex items-center gap-2 has-[:disabled]:opacity-50",t),className:ge("disabled:cursor-not-allowed",e),...n}));$6.displayName="InputOTP";const L6=g.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:ge("flex items-center",e),...t}));L6.displayName="InputOTPGroup";const _s=g.forwardRef(({index:e,className:t,...n},r)=>{const i=g.useContext(M6),{char:a,hasFakeCaret:o,isActive:s}=i.slots[e];return l.jsxs("div",{ref:r,className:ge("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",s&&"z-10 ring-2 ring-ring ring-offset-background",t),...n,children:[a,o&&l.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:l.jsx("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})})]})});_s.displayName="InputOTPSlot";const yPe=g.forwardRef(({...e},t)=>l.jsx("div",{ref:t,role:"separator",...e,children:l.jsx(PH,{})}));yPe.displayName="InputOTPSeparator";function xPe(){const e=Ya(),t=Zo(),{user:n,session:r,otpRequired:i,setOtpVerified:a}=Mi(),[o,s]=g.useState(""),[c,u]=g.useState(!1),[f,d]=g.useState(!1),[h,p]=g.useState(null),[m,v]=g.useState(null),[y,x]=g.useState(!1),[w,b]=g.useState(0),[j,_]=g.useState(0);g.useEffect(()=>{v((n==null?void 0:n.email)??null),(!n||!i)&&e("/",{replace:!0});try{const O=new URL(window.location.href),N=O.searchParams.get("type"),A=!!O.searchParams.get("code"),M=(window.location.hash||"").includes("access_token=");x(N==="recovery"||A||M);const L=localStorage.getItem("otpCooldownUntil"),z=L?parseInt(L,10):0;z&&z>Date.now()&&b(z)}catch{}},[n,i,e]),g.useEffect(()=>{if(!w){_(0);return}const O=()=>{const A=Math.ceil((w-Date.now())/1e3);if(A<=0){_(0),b(0);try{localStorage.removeItem("otpCooldownUntil")}catch{}}else _(A)};O();const N=setInterval(O,1e3);return()=>clearInterval(N)},[w]);const S=async O=>{var N,A;O.preventDefault(),u(!0),p(null);try{const I=n==null?void 0:n.email,{data:M,error:L}=await Q.rpc("verify_email_2fa",{p_code:o,p_session_minutes:10,p_user:n==null?void 0:n.id});if(L)throw L;if(!M)throw new Error("Invalid code");a(!0);try{localStorage.setItem("otpVerified","true"),localStorage.removeItem("auth.intent")}catch{}if(Me.success("Verification successful"),(((N=t==null?void 0:t.state)==null?void 0:N.intent)||null)==="recovery"||y)e("/reset-password",{replace:!0});else{const F=((A=t==null?void 0:t.state)==null?void 0:A.from)||"/";e(F,{replace:!0})}}catch(I){p((I==null?void 0:I.message)||"Verification failed"),Me.error("Verification failed")}finally{u(!1)}},k=async()=>{if(!(j>0)){d(!0);try{await Q.functions.invoke("send-2fa-email",{headers:r!=null&&r.access_token?{Authorization:`Bearer ${r.access_token}`}:void 0}),Me.success("A new code was sent");const O=Date.now()+3e4;b(O);try{localStorage.setItem("otpCooldownUntil",String(O))}catch{}}catch{Me.error("Could not resend code")}finally{d(!1)}}},E=async()=>{try{await Q.auth.signOut()}catch{}try{localStorage.removeItem("otpVerified"),localStorage.removeItem("otpRequired"),localStorage.removeItem("auth.intent"),localStorage.removeItem("otpCooldownUntil")}catch{}e("/",{replace:!0})};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:l.jsxs($e,{className:"w-full max-w-md",children:[l.jsxs(ut,{className:"space-y-1 text-center",children:[l.jsx(dt,{className:"text-2xl font-bold",children:"Enter verification code"}),l.jsxs(Si,{children:["We sent a 6-digit code to ",m?l.jsx("span",{className:"font-medium",children:m}):"your email","."]})]}),l.jsxs(et,{children:[h&&l.jsx(Af,{className:"mb-4 border-red-200 bg-red-50",children:l.jsx(Nf,{className:"text-red-800",children:h})}),l.jsxs("form",{onSubmit:S,className:"space-y-6",children:[l.jsx("div",{className:"flex justify-center",children:l.jsx($6,{maxLength:6,value:o,onChange:s,autoFocus:!0,children:l.jsxs(L6,{children:[l.jsx(_s,{index:0}),l.jsx(_s,{index:1}),l.jsx(_s,{index:2}),l.jsx(_s,{index:3}),l.jsx(_s,{index:4}),l.jsx(_s,{index:5})]})})}),l.jsx(ae,{type:"submit",className:"w-full",disabled:c||o.length!==6,children:c?l.jsxs(l.Fragment,{children:[l.jsx(kt,{className:"mr-2 h-4 w-4 animate-spin"}),"Verifying..."]}):"Verify"}),l.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[l.jsx("span",{children:"Didn't get the code?"}),l.jsx(ae,{type:"button",variant:"link",className:"px-0",onClick:k,disabled:f||j>0,children:f?"Resending...":j>0?`Resend in ${j}s`:"Resend code"})]}),l.jsx("div",{className:"flex items-center justify-center",children:l.jsx(ae,{type:"button",variant:"ghost",onClick:E,children:"Sign out"})})]})]})]})})}function bPe(){const e=Ya();return g.useEffect(()=>{(async()=>{try{await Q.auth.signOut()}catch{}try{localStorage.removeItem("otpVerified"),localStorage.removeItem("otpRequired")}catch{}e("/",{replace:!0})})()},[e]),null}const wPe=()=>{const e=Zo();return g.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),l.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};function _Pe(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const SPe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,jPe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,kPe={};function c2(e,t){return(kPe.jsx?jPe:SPe).test(e)}const CPe=/[ \t\n\f\r]/g;function EPe(e){return typeof e=="object"?e.type==="text"?u2(e.value):!1:u2(e)}function u2(e){return e.replace(CPe,"")===""}class Xh{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Xh.prototype.normal={};Xh.prototype.property={};Xh.prototype.space=void 0;function F6(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Xh(n,r,t)}function F_(e){return e.toLowerCase()}class Er{constructor(t,n){this.attribute=n,this.property=t}}Er.prototype.attribute="";Er.prototype.booleanish=!1;Er.prototype.boolean=!1;Er.prototype.commaOrSpaceSeparated=!1;Er.prototype.commaSeparated=!1;Er.prototype.defined=!1;Er.prototype.mustUseProperty=!1;Er.prototype.number=!1;Er.prototype.overloadedBoolean=!1;Er.prototype.property="";Er.prototype.spaceSeparated=!1;Er.prototype.space=void 0;let APe=0;const Ge=_l(),dn=_l(),B_=_l(),ye=_l(),Ft=_l(),Cc=_l(),Ar=_l();function _l(){return 2**++APe}const U_=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ge,booleanish:dn,commaOrSpaceSeparated:Ar,commaSeparated:Cc,number:ye,overloadedBoolean:B_,spaceSeparated:Ft},Symbol.toStringTag,{value:"Module"})),hb=Object.keys(U_);class pC extends Er{constructor(t,n,r,i){let a=-1;if(super(t,n),d2(this,"space",i),typeof r=="number")for(;++a<hb.length;){const o=hb[a];d2(this,hb[a],(r&U_[o])===U_[o])}}}pC.prototype.defined=!0;function d2(e,t,n){n&&(e[t]=n)}function Yu(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const a=new pC(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[F_(r)]=r,n[F_(a.attribute)]=r}return new Xh(t,n,e.space)}const B6=Yu({properties:{ariaActiveDescendant:null,ariaAtomic:dn,ariaAutoComplete:null,ariaBusy:dn,ariaChecked:dn,ariaColCount:ye,ariaColIndex:ye,ariaColSpan:ye,ariaControls:Ft,ariaCurrent:null,ariaDescribedBy:Ft,ariaDetails:null,ariaDisabled:dn,ariaDropEffect:Ft,ariaErrorMessage:null,ariaExpanded:dn,ariaFlowTo:Ft,ariaGrabbed:dn,ariaHasPopup:null,ariaHidden:dn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ft,ariaLevel:ye,ariaLive:null,ariaModal:dn,ariaMultiLine:dn,ariaMultiSelectable:dn,ariaOrientation:null,ariaOwns:Ft,ariaPlaceholder:null,ariaPosInSet:ye,ariaPressed:dn,ariaReadOnly:dn,ariaRelevant:null,ariaRequired:dn,ariaRoleDescription:Ft,ariaRowCount:ye,ariaRowIndex:ye,ariaRowSpan:ye,ariaSelected:dn,ariaSetSize:ye,ariaSort:null,ariaValueMax:ye,ariaValueMin:ye,ariaValueNow:ye,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function U6(e,t){return t in e?e[t]:t}function z6(e,t){return U6(e,t.toLowerCase())}const NPe=Yu({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Cc,acceptCharset:Ft,accessKey:Ft,action:null,allow:null,allowFullScreen:Ge,allowPaymentRequest:Ge,allowUserMedia:Ge,alt:null,as:null,async:Ge,autoCapitalize:null,autoComplete:Ft,autoFocus:Ge,autoPlay:Ge,blocking:Ft,capture:null,charSet:null,checked:Ge,cite:null,className:Ft,cols:ye,colSpan:null,content:null,contentEditable:dn,controls:Ge,controlsList:Ft,coords:ye|Cc,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ge,defer:Ge,dir:null,dirName:null,disabled:Ge,download:B_,draggable:dn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ge,formTarget:null,headers:Ft,height:ye,hidden:B_,high:ye,href:null,hrefLang:null,htmlFor:Ft,httpEquiv:Ft,id:null,imageSizes:null,imageSrcSet:null,inert:Ge,inputMode:null,integrity:null,is:null,isMap:Ge,itemId:null,itemProp:Ft,itemRef:Ft,itemScope:Ge,itemType:Ft,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ge,low:ye,manifest:null,max:null,maxLength:ye,media:null,method:null,min:null,minLength:ye,multiple:Ge,muted:Ge,name:null,nonce:null,noModule:Ge,noValidate:Ge,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ge,optimum:ye,pattern:null,ping:Ft,placeholder:null,playsInline:Ge,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ge,referrerPolicy:null,rel:Ft,required:Ge,reversed:Ge,rows:ye,rowSpan:ye,sandbox:Ft,scope:null,scoped:Ge,seamless:Ge,selected:Ge,shadowRootClonable:Ge,shadowRootDelegatesFocus:Ge,shadowRootMode:null,shape:null,size:ye,sizes:null,slot:null,span:ye,spellCheck:dn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ye,step:null,style:null,tabIndex:ye,target:null,title:null,translate:null,type:null,typeMustMatch:Ge,useMap:null,value:dn,width:ye,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ft,axis:null,background:null,bgColor:null,border:ye,borderColor:null,bottomMargin:ye,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ge,declare:Ge,event:null,face:null,frame:null,frameBorder:null,hSpace:ye,leftMargin:ye,link:null,longDesc:null,lowSrc:null,marginHeight:ye,marginWidth:ye,noResize:Ge,noHref:Ge,noShade:Ge,noWrap:Ge,object:null,profile:null,prompt:null,rev:null,rightMargin:ye,rules:null,scheme:null,scrolling:dn,standby:null,summary:null,text:null,topMargin:ye,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ye,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ge,disableRemotePlayback:Ge,prefix:null,property:null,results:ye,security:null,unselectable:null},space:"html",transform:z6}),PPe=Yu({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ar,accentHeight:ye,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ye,amplitude:ye,arabicForm:null,ascent:ye,attributeName:null,attributeType:null,azimuth:ye,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ye,by:null,calcMode:null,capHeight:ye,className:Ft,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ye,diffuseConstant:ye,direction:null,display:null,dur:null,divisor:ye,dominantBaseline:null,download:Ge,dx:null,dy:null,edgeMode:null,editable:null,elevation:ye,enableBackground:null,end:null,event:null,exponent:ye,externalResourcesRequired:null,fill:null,fillOpacity:ye,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Cc,g2:Cc,glyphName:Cc,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ye,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ye,horizOriginX:ye,horizOriginY:ye,id:null,ideographic:ye,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ye,k:ye,k1:ye,k2:ye,k3:ye,k4:ye,kernelMatrix:Ar,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ye,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ye,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ye,overlineThickness:ye,paintOrder:null,panose1:null,path:null,pathLength:ye,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ft,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ye,pointsAtY:ye,pointsAtZ:ye,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ar,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ar,rev:Ar,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ar,requiredFeatures:Ar,requiredFonts:Ar,requiredFormats:Ar,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ye,specularExponent:ye,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ye,strikethroughThickness:ye,string:null,stroke:null,strokeDashArray:Ar,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ye,strokeOpacity:ye,strokeWidth:null,style:null,surfaceScale:ye,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ar,tabIndex:ye,tableValues:null,target:null,targetX:ye,targetY:ye,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ar,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ye,underlineThickness:ye,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ye,values:null,vAlphabetic:ye,vMathematical:ye,vectorEffect:null,vHanging:ye,vIdeographic:ye,version:null,vertAdvY:ye,vertOriginX:ye,vertOriginY:ye,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ye,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:U6}),W6=Yu({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),H6=Yu({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:z6}),q6=Yu({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),TPe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},OPe=/[A-Z]/g,f2=/-[a-z]/g,IPe=/^data[-\w.:]+$/i;function RPe(e,t){const n=F_(t);let r=t,i=Er;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&IPe.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(f2,DPe);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!f2.test(a)){let o=a.replace(OPe,MPe);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=pC}return new i(r,t)}function MPe(e){return"-"+e.toLowerCase()}function DPe(e){return e.charAt(1).toUpperCase()}const $Pe=F6([B6,NPe,W6,H6,q6],"html"),mC=F6([B6,PPe,W6,H6,q6],"svg");function LPe(e){return e.join(" ").trim()}var gC={},h2=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,FPe=/\n/g,BPe=/^\s*/,UPe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,zPe=/^:\s*/,WPe=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,HPe=/^[;\s]*/,qPe=/^\s+|\s+$/g,VPe=`
`,p2="/",m2="*",ks="",KPe="comment",GPe="declaration",YPe=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(m){var v=m.match(FPe);v&&(n+=v.length);var y=m.lastIndexOf(VPe);r=~y?m.length-y:r+m.length}function a(){var m={line:n,column:r};return function(v){return v.position=new o(m),u(),v}}function o(m){this.start=m,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function s(m){var v=new Error(t.source+":"+n+":"+r+": "+m);if(v.reason=m,v.filename=t.source,v.line=n,v.column=r,v.source=e,!t.silent)throw v}function c(m){var v=m.exec(e);if(v){var y=v[0];return i(y),e=e.slice(y.length),v}}function u(){c(BPe)}function f(m){var v;for(m=m||[];v=d();)v!==!1&&m.push(v);return m}function d(){var m=a();if(!(p2!=e.charAt(0)||m2!=e.charAt(1))){for(var v=2;ks!=e.charAt(v)&&(m2!=e.charAt(v)||p2!=e.charAt(v+1));)++v;if(v+=2,ks===e.charAt(v-1))return s("End of comment missing");var y=e.slice(2,v-2);return r+=2,i(y),e=e.slice(v),r+=2,m({type:KPe,comment:y})}}function h(){var m=a(),v=c(UPe);if(v){if(d(),!c(zPe))return s("property missing ':'");var y=c(WPe),x=m({type:GPe,property:g2(v[0].replace(h2,ks)),value:y?g2(y[0].replace(h2,ks)):ks});return c(HPe),x}}function p(){var m=[];f(m);for(var v;v=h();)v!==!1&&(m.push(v),f(m));return m}return u(),p()};function g2(e){return e?e.replace(qPe,ks):ks}var XPe=hn&&hn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gC,"__esModule",{value:!0});gC.default=JPe;var QPe=XPe(YPe);function JPe(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,QPe.default)(e),i=typeof t=="function";return r.forEach(function(a){if(a.type==="declaration"){var o=a.property,s=a.value;i?t(o,s,a):s&&(n=n||{},n[o]=s)}}),n}var yx={};Object.defineProperty(yx,"__esModule",{value:!0});yx.camelCase=void 0;var ZPe=/^--[a-zA-Z0-9_-]+$/,eTe=/-([a-z])/g,tTe=/^[^-]+$/,nTe=/^-(webkit|moz|ms|o|khtml)-/,rTe=/^-(ms)-/,iTe=function(e){return!e||tTe.test(e)||ZPe.test(e)},aTe=function(e,t){return t.toUpperCase()},v2=function(e,t){return"".concat(t,"-")},oTe=function(e,t){return t===void 0&&(t={}),iTe(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(rTe,v2):e=e.replace(nTe,v2),e.replace(eTe,aTe))};yx.camelCase=oTe;var sTe=hn&&hn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},lTe=sTe(gC),cTe=yx;function z_(e,t){var n={};return!e||typeof e!="string"||(0,lTe.default)(e,function(r,i){r&&i&&(n[(0,cTe.camelCase)(r,t)]=i)}),n}z_.default=z_;var uTe=z_;const dTe=Nt(uTe),V6=K6("end"),vC=K6("start");function K6(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function fTe(e){const t=vC(e),n=V6(e);if(t&&n)return{start:t,end:n}}function Qd(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?y2(e.position):"start"in e||"end"in e?y2(e):"line"in e||"column"in e?W_(e):""}function W_(e){return x2(e&&e.line)+":"+x2(e&&e.column)}function y2(e){return W_(e&&e.start)+"-"+W_(e&&e.end)}function x2(e){return e&&typeof e=="number"?e:1}class Yn extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},o=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?i=t:!a.cause&&t&&(o=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?a.ruleId=r:(a.source=r.slice(0,c),a.ruleId=r.slice(c+1))}if(!a.place&&a.ancestors&&a.ancestors){const c=a.ancestors[a.ancestors.length-1];c&&(a.place=c.position)}const s=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=Qd(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Yn.prototype.file="";Yn.prototype.name="";Yn.prototype.reason="";Yn.prototype.message="";Yn.prototype.stack="";Yn.prototype.column=void 0;Yn.prototype.line=void 0;Yn.prototype.ancestors=void 0;Yn.prototype.cause=void 0;Yn.prototype.fatal=void 0;Yn.prototype.place=void 0;Yn.prototype.ruleId=void 0;Yn.prototype.source=void 0;const yC={}.hasOwnProperty,hTe=new Map,pTe=/[A-Z]/g,mTe=new Set(["table","tbody","thead","tfoot","tr"]),gTe=new Set(["td","th"]),G6="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function vTe(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=kTe(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=jTe(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?mC:$Pe,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=Y6(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function Y6(e,t,n){if(t.type==="element")return yTe(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return xTe(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return wTe(e,t,n);if(t.type==="mdxjsEsm")return bTe(e,t);if(t.type==="root")return _Te(e,t,n);if(t.type==="text")return STe(e,t)}function yTe(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=mC,e.schema=i),e.ancestors.push(t);const a=Q6(e,t.tagName,!1),o=CTe(e,t);let s=bC(e,t);return mTe.has(t.tagName)&&(s=s.filter(function(c){return typeof c=="string"?!EPe(c):!0})),X6(e,o,a,t),xC(o,s),e.ancestors.pop(),e.schema=r,e.create(t,a,o,n)}function xTe(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}mh(e,t.position)}function bTe(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);mh(e,t.position)}function wTe(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=mC,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:Q6(e,t.name,!0),o=ETe(e,t),s=bC(e,t);return X6(e,o,a,t),xC(o,s),e.ancestors.pop(),e.schema=r,e.create(t,a,o,n)}function _Te(e,t,n){const r={};return xC(r,bC(e,t)),e.create(t,e.Fragment,r,n)}function STe(e,t){return t.value}function X6(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function xC(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function jTe(e,t,n){return r;function r(i,a,o,s){const u=Array.isArray(o.children)?n:t;return s?u(a,o,s):u(a,o)}}function kTe(e,t){return n;function n(r,i,a,o){const s=Array.isArray(a.children),c=vC(r);return t(i,a,o,s,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function CTe(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&yC.call(t.properties,i)){const a=ATe(e,i,t.properties[i]);if(a){const[o,s]=a;e.tableCellAlignToStyle&&o==="align"&&typeof s=="string"&&gTe.has(t.tagName)?r=s:n[o]=s}}if(r){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function ETe(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const o=a.expression;o.type;const s=o.properties[0];s.type,Object.assign(n,e.evaluater.evaluateExpression(s.argument))}else mh(e,t.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const s=r.value.data.estree.body[0];s.type,a=e.evaluater.evaluateExpression(s.expression)}else mh(e,t.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function bC(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:hTe;for(;++r<t.children.length;){const a=t.children[r];let o;if(e.passKeys){const c=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(c){const u=i.get(c)||0;o=c+"-"+u,i.set(c,u+1)}}const s=Y6(e,a,o);s!==void 0&&n.push(s)}return n}function ATe(e,t,n){const r=RPe(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?_Pe(n):LPe(n)),r.property==="style"){let i=typeof n=="object"?n:NTe(e,String(n));return e.stylePropertyNameCase==="css"&&(i=PTe(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?TPe[r.property]||r.property:r.attribute,n]}}function NTe(e,t){try{return dTe(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Yn("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=G6+"#cannot-parse-style-attribute",i}}function Q6(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,o;for(;++a<i.length;){const s=c2(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};o=o?{type:"MemberExpression",object:o,property:s,computed:!!(a&&s.type==="Literal"),optional:!1}:s}r=o}else r=c2(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return yC.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);mh(e)}function mh(e,t){const n=new Yn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=G6+"#cannot-handle-mdx-estrees-without-createevaluater",n}function PTe(e){const t={};let n;for(n in e)yC.call(e,n)&&(t[TTe(n)]=e[n]);return t}function TTe(e){let t=e.replace(pTe,OTe);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function OTe(e){return"-"+e.toLowerCase()}const pb={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},ITe={};function wC(e,t){const n=ITe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return J6(e,r,i)}function J6(e,t,n){if(RTe(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return b2(e.children,t,n)}return Array.isArray(e)?b2(e,t,n):""}function b2(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=J6(e[i],t,n);return r.join("")}function RTe(e){return!!(e&&typeof e=="object")}const w2=document.createElement("i");function _C(e){const t="&"+e+";";w2.innerHTML=t;const n=w2.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Fr(e,t,n,r){const i=e.length;let a=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);a<r.length;)o=r.slice(a,a+1e4),o.unshift(t,0),e.splice(...o),a+=1e4,t+=1e4}function Xr(e,t){return e.length>0?(Fr(e,e.length,0,t),e):t}const _2={}.hasOwnProperty;function Z6(e){const t={};let n=-1;for(;++n<e.length;)MTe(t,e[n]);return t}function MTe(e,t){let n;for(n in t){const i=(_2.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let o;if(a)for(o in a){_2.call(i,o)||(i[o]=[]);const s=a[o];DTe(i[o],Array.isArray(s)?s:s?[s]:[])}}}function DTe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Fr(e,0,0,r)}function ez(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Ni(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const nr=us(/[A-Za-z]/),Kn=us(/[\dA-Za-z]/),$Te=us(/[#-'*+\--9=?A-Z^-~]/);function gv(e){return e!==null&&(e<32||e===127)}const H_=us(/\d/),LTe=us(/[\dA-Fa-f]/),FTe=us(/[!-/:-@[-`{-~]/);function Le(e){return e!==null&&e<-2}function $t(e){return e!==null&&(e<0||e===32)}function rt(e){return e===-2||e===-1||e===32}const xx=us(new RegExp("\\p{P}|\\p{S}","u")),sl=us(/\s/);function us(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Xu(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let o="";if(a===37&&Kn(e.charCodeAt(n+1))&&Kn(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const s=e.charCodeAt(n+1);a<56320&&s>56319&&s<57344?(o=String.fromCharCode(a,s),i=1):o="�"}else o=String.fromCharCode(a);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function lt(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(c){return rt(c)?(e.enter(n),s(c)):t(c)}function s(c){return rt(c)&&a++<i?(e.consume(c),s):(e.exit(n),t(c))}}const BTe={tokenize:UTe};function UTe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),lt(e,t,"linePrefix")}function i(s){return e.enter("paragraph"),a(s)}function a(s){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return Le(s)?(e.consume(s),e.exit("chunkText"),a):(e.consume(s),o)}}const zTe={tokenize:WTe},S2={tokenize:HTe};function WTe(e){const t=this,n=[];let r=0,i,a,o;return s;function s(b){if(r<n.length){const j=n[r];return t.containerState=j[1],e.attempt(j[0].continuation,c,u)(b)}return u(b)}function c(b){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&w();const j=t.events.length;let _=j,S;for(;_--;)if(t.events[_][0]==="exit"&&t.events[_][1].type==="chunkFlow"){S=t.events[_][1].end;break}x(r);let k=j;for(;k<t.events.length;)t.events[k][1].end={...S},k++;return Fr(t.events,_+1,0,t.events.slice(j)),t.events.length=k,u(b)}return s(b)}function u(b){if(r===n.length){if(!i)return h(b);if(i.currentConstruct&&i.currentConstruct.concrete)return m(b);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(S2,f,d)(b)}function f(b){return i&&w(),x(r),h(b)}function d(b){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,m(b)}function h(b){return t.containerState={},e.attempt(S2,p,m)(b)}function p(b){return r++,n.push([t.currentConstruct,t.containerState]),h(b)}function m(b){if(b===null){i&&w(),x(0),e.consume(b);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),v(b)}function v(b){if(b===null){y(e.exit("chunkFlow"),!0),x(0),e.consume(b);return}return Le(b)?(e.consume(b),y(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(b),v)}function y(b,j){const _=t.sliceStream(b);if(j&&_.push(null),b.previous=a,a&&(a.next=b),a=b,i.defineSkip(b.start),i.write(_),t.parser.lazy[b.start.line]){let S=i.events.length;for(;S--;)if(i.events[S][1].start.offset<o&&(!i.events[S][1].end||i.events[S][1].end.offset>o))return;const k=t.events.length;let E=k,O,N;for(;E--;)if(t.events[E][0]==="exit"&&t.events[E][1].type==="chunkFlow"){if(O){N=t.events[E][1].end;break}O=!0}for(x(r),S=k;S<t.events.length;)t.events[S][1].end={...N},S++;Fr(t.events,E+1,0,t.events.slice(k)),t.events.length=S}}function x(b){let j=n.length;for(;j-- >b;){const _=n[j];t.containerState=_[1],_[0].exit.call(t,e)}n.length=b}function w(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function HTe(e,t,n){return lt(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function _u(e){if(e===null||$t(e)||sl(e))return 1;if(xx(e))return 2}function bx(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const q_={name:"attention",resolveAll:qTe,tokenize:VTe};function qTe(e,t){let n=-1,r,i,a,o,s,c,u,f;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d={...e[r][1].end},h={...e[n][1].start};j2(d,-c),j2(h,c),o={type:c>1?"strongSequence":"emphasisSequence",start:d,end:{...e[r][1].end}},s={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},a={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...o.start},end:{...s.end}},e[r][1].end={...o.start},e[n][1].start={...s.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Xr(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Xr(u,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",a,t]]),u=Xr(u,bx(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Xr(u,[["exit",a,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(f=2,u=Xr(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):f=0,Fr(e,r-1,n-r+3,u),n=r+u.length-f-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function VTe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=_u(r);let a;return o;function o(c){return a=c,e.enter("attentionSequence"),s(c)}function s(c){if(c===a)return e.consume(c),s;const u=e.exit("attentionSequence"),f=_u(c),d=!f||f===2&&i||n.includes(c),h=!i||i===2&&f||n.includes(r);return u._open=!!(a===42?d:d&&(i||!h)),u._close=!!(a===42?h:h&&(f||!d)),t(c)}}function j2(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const KTe={name:"autolink",tokenize:GTe};function GTe(e,t,n){let r=0;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(p){return nr(p)?(e.consume(p),o):p===64?n(p):u(p)}function o(p){return p===43||p===45||p===46||Kn(p)?(r=1,s(p)):u(p)}function s(p){return p===58?(e.consume(p),r=0,c):(p===43||p===45||p===46||Kn(p))&&r++<32?(e.consume(p),s):(r=0,u(p))}function c(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||gv(p)?n(p):(e.consume(p),c)}function u(p){return p===64?(e.consume(p),f):$Te(p)?(e.consume(p),u):n(p)}function f(p){return Kn(p)?d(p):n(p)}function d(p){return p===46?(e.consume(p),r=0,f):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):h(p)}function h(p){if((p===45||Kn(p))&&r++<63){const m=p===45?h:d;return e.consume(p),m}return n(p)}}const Qh={partial:!0,tokenize:YTe};function YTe(e,t,n){return r;function r(a){return rt(a)?lt(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||Le(a)?t(a):n(a)}}const tz={continuation:{tokenize:QTe},exit:JTe,name:"blockQuote",tokenize:XTe};function XTe(e,t,n){const r=this;return i;function i(o){if(o===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),a}return n(o)}function a(o){return rt(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function QTe(e,t,n){const r=this;return i;function i(o){return rt(o)?lt(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return e.attempt(tz,t,n)(o)}}function JTe(e){e.exit("blockQuote")}const nz={name:"characterEscape",tokenize:ZTe};function ZTe(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return FTe(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const rz={name:"characterReference",tokenize:eOe};function eOe(e,t,n){const r=this;let i=0,a,o;return s;function s(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),c}function c(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),a=31,o=Kn,f(d))}function u(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,o=LTe,f):(e.enter("characterReferenceValue"),a=7,o=H_,f(d))}function f(d){if(d===59&&i){const h=e.exit("characterReferenceValue");return o===Kn&&!_C(r.sliceSerialize(h))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(d)&&i++<a?(e.consume(d),f):n(d)}}const k2={partial:!0,tokenize:nOe},C2={concrete:!0,name:"codeFenced",tokenize:tOe};function tOe(e,t,n){const r=this,i={partial:!0,tokenize:_};let a=0,o=0,s;return c;function c(S){return u(S)}function u(S){const k=r.events[r.events.length-1];return a=k&&k[1].type==="linePrefix"?k[2].sliceSerialize(k[1],!0).length:0,s=S,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),f(S)}function f(S){return S===s?(o++,e.consume(S),f):o<3?n(S):(e.exit("codeFencedFenceSequence"),rt(S)?lt(e,d,"whitespace")(S):d(S))}function d(S){return S===null||Le(S)?(e.exit("codeFencedFence"),r.interrupt?t(S):e.check(k2,v,j)(S)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(S))}function h(S){return S===null||Le(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(S)):rt(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),lt(e,p,"whitespace")(S)):S===96&&S===s?n(S):(e.consume(S),h)}function p(S){return S===null||Le(S)?d(S):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),m(S))}function m(S){return S===null||Le(S)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(S)):S===96&&S===s?n(S):(e.consume(S),m)}function v(S){return e.attempt(i,j,y)(S)}function y(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),x}function x(S){return a>0&&rt(S)?lt(e,w,"linePrefix",a+1)(S):w(S)}function w(S){return S===null||Le(S)?e.check(k2,v,j)(S):(e.enter("codeFlowValue"),b(S))}function b(S){return S===null||Le(S)?(e.exit("codeFlowValue"),w(S)):(e.consume(S),b)}function j(S){return e.exit("codeFenced"),t(S)}function _(S,k,E){let O=0;return N;function N(z){return S.enter("lineEnding"),S.consume(z),S.exit("lineEnding"),A}function A(z){return S.enter("codeFencedFence"),rt(z)?lt(S,I,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):I(z)}function I(z){return z===s?(S.enter("codeFencedFenceSequence"),M(z)):E(z)}function M(z){return z===s?(O++,S.consume(z),M):O>=o?(S.exit("codeFencedFenceSequence"),rt(z)?lt(S,L,"whitespace")(z):L(z)):E(z)}function L(z){return z===null||Le(z)?(S.exit("codeFencedFence"),k(z)):E(z)}}}function nOe(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const mb={name:"codeIndented",tokenize:iOe},rOe={partial:!0,tokenize:aOe};function iOe(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),lt(e,a,"linePrefix",5)(u)}function a(u){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?c(u):Le(u)?e.attempt(rOe,o,c)(u):(e.enter("codeFlowValue"),s(u))}function s(u){return u===null||Le(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),s)}function c(u){return e.exit("codeIndented"),t(u)}}function aOe(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):Le(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):lt(e,a,"linePrefix",5)(o)}function a(o){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):Le(o)?i(o):n(o)}}const oOe={name:"codeText",previous:lOe,resolve:sOe,tokenize:cOe};function sOe(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function lOe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function cOe(e,t,n){let r=0,i,a;return o;function o(d){return e.enter("codeText"),e.enter("codeTextSequence"),s(d)}function s(d){return d===96?(e.consume(d),r++,s):(e.exit("codeTextSequence"),c(d))}function c(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),c):d===96?(a=e.enter("codeTextSequence"),i=0,f(d)):Le(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),c):(e.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||Le(d)?(e.exit("codeTextData"),c(d)):(e.consume(d),u)}function f(d){return d===96?(e.consume(d),i++,f):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(a.type="codeTextData",u(d))}}class uOe{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Sd(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Sd(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Sd(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Sd(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Sd(this.left,n.reverse())}}}function Sd(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function iz(e){const t={};let n=-1,r,i,a,o,s,c,u;const f=new uOe(e);for(;++n<f.length;){for(;n in t;)n=t[n];if(r=f.get(n),n&&r[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,a=0,a<c.length&&c[a][1].type==="lineEndingBlank"&&(a+=2),a<c.length&&c[a][1].type==="content"))for(;++a<c.length&&c[a][1].type!=="content";)c[a][1].type==="chunkText"&&(c[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,dOe(f,n)),n=t[n],u=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(o=f.get(a),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=a);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...f.get(i)[1].start},s=f.slice(i,n),s.unshift(r),f.splice(i,n-i+1,s))}}return Fr(e,0,Number.POSITIVE_INFINITY,f.slice(0)),!u}function dOe(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const a=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const s=o.events,c=[],u={};let f,d,h=-1,p=n,m=0,v=0;const y=[v];for(;p;){for(;e.get(++i)[1]!==p;);a.push(i),p._tokenizer||(f=r.sliceStream(p),p.next||f.push(null),d&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(f),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++h<s.length;)s[h][0]==="exit"&&s[h-1][0]==="enter"&&s[h][1].type===s[h-1][1].type&&s[h][1].start.line!==s[h][1].end.line&&(v=h+1,y.push(v),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):y.pop(),h=y.length;h--;){const x=s.slice(y[h],y[h+1]),w=a.pop();c.push([w,w+x.length-1]),e.splice(w,2,x)}for(c.reverse(),h=-1;++h<c.length;)u[m+c[h][0]]=m+c[h][1],m+=c[h][1]-c[h][0]-1;return u}const fOe={resolve:pOe,tokenize:mOe},hOe={partial:!0,tokenize:gOe};function pOe(e){return iz(e),e}function mOe(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?a(s):Le(s)?e.check(hOe,o,a)(s):(e.consume(s),i)}function a(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function gOe(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),lt(e,a,"linePrefix")}function a(o){if(o===null||Le(o))return n(o);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function az(e,t,n,r,i,a,o,s,c){const u=c||Number.POSITIVE_INFINITY;let f=0;return d;function d(x){return x===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(x),e.exit(a),h):x===null||x===32||x===41||gv(x)?n(x):(e.enter(r),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),v(x))}function h(x){return x===62?(e.enter(a),e.consume(x),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),p(x))}function p(x){return x===62?(e.exit("chunkString"),e.exit(s),h(x)):x===null||x===60||Le(x)?n(x):(e.consume(x),x===92?m:p)}function m(x){return x===60||x===62||x===92?(e.consume(x),p):p(x)}function v(x){return!f&&(x===null||x===41||$t(x))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(r),t(x)):f<u&&x===40?(e.consume(x),f++,v):x===41?(e.consume(x),f--,v):x===null||x===32||x===40||gv(x)?n(x):(e.consume(x),x===92?y:v)}function y(x){return x===40||x===41||x===92?(e.consume(x),v):v(x)}}function oz(e,t,n,r,i,a){const o=this;let s=0,c;return u;function u(p){return e.enter(r),e.enter(i),e.consume(p),e.exit(i),e.enter(a),f}function f(p){return s>999||p===null||p===91||p===93&&!c||p===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(p):p===93?(e.exit(a),e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):Le(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),f):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===null||p===91||p===93||Le(p)||s++>999?(e.exit("chunkString"),f(p)):(e.consume(p),c||(c=!rt(p)),p===92?h:d)}function h(p){return p===91||p===92||p===93?(e.consume(p),s++,d):d(p)}}function sz(e,t,n,r,i,a){let o;return s;function s(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),o=h===40?41:h,c):n(h)}function c(h){return h===o?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(a),u(h))}function u(h){return h===o?(e.exit(a),c(o)):h===null?n(h):Le(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),lt(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===o||h===null||Le(h)?(e.exit("chunkString"),u(h)):(e.consume(h),h===92?d:f)}function d(h){return h===o||h===92?(e.consume(h),f):f(h)}}function Jd(e,t){let n;return r;function r(i){return Le(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):rt(i)?lt(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const vOe={name:"definition",tokenize:xOe},yOe={partial:!0,tokenize:bOe};function xOe(e,t,n){const r=this;let i;return a;function a(p){return e.enter("definition"),o(p)}function o(p){return oz.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function s(p){return i=Ni(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),c):n(p)}function c(p){return $t(p)?Jd(e,u)(p):u(p)}function u(p){return az(e,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function f(p){return e.attempt(yOe,d,d)(p)}function d(p){return rt(p)?lt(e,h,"whitespace")(p):h(p)}function h(p){return p===null||Le(p)?(e.exit("definition"),r.parser.defined.push(i),t(p)):n(p)}}function bOe(e,t,n){return r;function r(s){return $t(s)?Jd(e,i)(s):n(s)}function i(s){return sz(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function a(s){return rt(s)?lt(e,o,"whitespace")(s):o(s)}function o(s){return s===null||Le(s)?t(s):n(s)}}const wOe={name:"hardBreakEscape",tokenize:_Oe};function _Oe(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return Le(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const SOe={name:"headingAtx",resolve:jOe,tokenize:kOe};function jOe(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Fr(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function kOe(e,t,n){let r=0;return i;function i(f){return e.enter("atxHeading"),a(f)}function a(f){return e.enter("atxHeadingSequence"),o(f)}function o(f){return f===35&&r++<6?(e.consume(f),o):f===null||$t(f)?(e.exit("atxHeadingSequence"),s(f)):n(f)}function s(f){return f===35?(e.enter("atxHeadingSequence"),c(f)):f===null||Le(f)?(e.exit("atxHeading"),t(f)):rt(f)?lt(e,s,"whitespace")(f):(e.enter("atxHeadingText"),u(f))}function c(f){return f===35?(e.consume(f),c):(e.exit("atxHeadingSequence"),s(f))}function u(f){return f===null||f===35||$t(f)?(e.exit("atxHeadingText"),s(f)):(e.consume(f),u)}}const COe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],E2=["pre","script","style","textarea"],EOe={concrete:!0,name:"htmlFlow",resolveTo:POe,tokenize:TOe},AOe={partial:!0,tokenize:IOe},NOe={partial:!0,tokenize:OOe};function POe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function TOe(e,t,n){const r=this;let i,a,o,s,c;return u;function u(C){return f(C)}function f(C){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(C),d}function d(C){return C===33?(e.consume(C),h):C===47?(e.consume(C),a=!0,v):C===63?(e.consume(C),i=3,r.interrupt?t:P):nr(C)?(e.consume(C),o=String.fromCharCode(C),y):n(C)}function h(C){return C===45?(e.consume(C),i=2,p):C===91?(e.consume(C),i=5,s=0,m):nr(C)?(e.consume(C),i=4,r.interrupt?t:P):n(C)}function p(C){return C===45?(e.consume(C),r.interrupt?t:P):n(C)}function m(C){const U="CDATA[";return C===U.charCodeAt(s++)?(e.consume(C),s===U.length?r.interrupt?t:I:m):n(C)}function v(C){return nr(C)?(e.consume(C),o=String.fromCharCode(C),y):n(C)}function y(C){if(C===null||C===47||C===62||$t(C)){const U=C===47,G=o.toLowerCase();return!U&&!a&&E2.includes(G)?(i=1,r.interrupt?t(C):I(C)):COe.includes(o.toLowerCase())?(i=6,U?(e.consume(C),x):r.interrupt?t(C):I(C)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(C):a?w(C):b(C))}return C===45||Kn(C)?(e.consume(C),o+=String.fromCharCode(C),y):n(C)}function x(C){return C===62?(e.consume(C),r.interrupt?t:I):n(C)}function w(C){return rt(C)?(e.consume(C),w):N(C)}function b(C){return C===47?(e.consume(C),N):C===58||C===95||nr(C)?(e.consume(C),j):rt(C)?(e.consume(C),b):N(C)}function j(C){return C===45||C===46||C===58||C===95||Kn(C)?(e.consume(C),j):_(C)}function _(C){return C===61?(e.consume(C),S):rt(C)?(e.consume(C),_):b(C)}function S(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),c=C,k):rt(C)?(e.consume(C),S):E(C)}function k(C){return C===c?(e.consume(C),c=null,O):C===null||Le(C)?n(C):(e.consume(C),k)}function E(C){return C===null||C===34||C===39||C===47||C===60||C===61||C===62||C===96||$t(C)?_(C):(e.consume(C),E)}function O(C){return C===47||C===62||rt(C)?b(C):n(C)}function N(C){return C===62?(e.consume(C),A):n(C)}function A(C){return C===null||Le(C)?I(C):rt(C)?(e.consume(C),A):n(C)}function I(C){return C===45&&i===2?(e.consume(C),F):C===60&&i===1?(e.consume(C),B):C===62&&i===4?(e.consume(C),R):C===63&&i===3?(e.consume(C),P):C===93&&i===5?(e.consume(C),$):Le(C)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(AOe,T,M)(C)):C===null||Le(C)?(e.exit("htmlFlowData"),M(C)):(e.consume(C),I)}function M(C){return e.check(NOe,L,T)(C)}function L(C){return e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),z}function z(C){return C===null||Le(C)?M(C):(e.enter("htmlFlowData"),I(C))}function F(C){return C===45?(e.consume(C),P):I(C)}function B(C){return C===47?(e.consume(C),o="",D):I(C)}function D(C){if(C===62){const U=o.toLowerCase();return E2.includes(U)?(e.consume(C),R):I(C)}return nr(C)&&o.length<8?(e.consume(C),o+=String.fromCharCode(C),D):I(C)}function $(C){return C===93?(e.consume(C),P):I(C)}function P(C){return C===62?(e.consume(C),R):C===45&&i===2?(e.consume(C),P):I(C)}function R(C){return C===null||Le(C)?(e.exit("htmlFlowData"),T(C)):(e.consume(C),R)}function T(C){return e.exit("htmlFlow"),t(C)}}function OOe(e,t,n){const r=this;return i;function i(o){return Le(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):n(o)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function IOe(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Qh,t,n)}}const ROe={name:"htmlText",tokenize:MOe};function MOe(e,t,n){const r=this;let i,a,o;return s;function s(P){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(P),c}function c(P){return P===33?(e.consume(P),u):P===47?(e.consume(P),_):P===63?(e.consume(P),b):nr(P)?(e.consume(P),E):n(P)}function u(P){return P===45?(e.consume(P),f):P===91?(e.consume(P),a=0,m):nr(P)?(e.consume(P),w):n(P)}function f(P){return P===45?(e.consume(P),p):n(P)}function d(P){return P===null?n(P):P===45?(e.consume(P),h):Le(P)?(o=d,B(P)):(e.consume(P),d)}function h(P){return P===45?(e.consume(P),p):d(P)}function p(P){return P===62?F(P):P===45?h(P):d(P)}function m(P){const R="CDATA[";return P===R.charCodeAt(a++)?(e.consume(P),a===R.length?v:m):n(P)}function v(P){return P===null?n(P):P===93?(e.consume(P),y):Le(P)?(o=v,B(P)):(e.consume(P),v)}function y(P){return P===93?(e.consume(P),x):v(P)}function x(P){return P===62?F(P):P===93?(e.consume(P),x):v(P)}function w(P){return P===null||P===62?F(P):Le(P)?(o=w,B(P)):(e.consume(P),w)}function b(P){return P===null?n(P):P===63?(e.consume(P),j):Le(P)?(o=b,B(P)):(e.consume(P),b)}function j(P){return P===62?F(P):b(P)}function _(P){return nr(P)?(e.consume(P),S):n(P)}function S(P){return P===45||Kn(P)?(e.consume(P),S):k(P)}function k(P){return Le(P)?(o=k,B(P)):rt(P)?(e.consume(P),k):F(P)}function E(P){return P===45||Kn(P)?(e.consume(P),E):P===47||P===62||$t(P)?O(P):n(P)}function O(P){return P===47?(e.consume(P),F):P===58||P===95||nr(P)?(e.consume(P),N):Le(P)?(o=O,B(P)):rt(P)?(e.consume(P),O):F(P)}function N(P){return P===45||P===46||P===58||P===95||Kn(P)?(e.consume(P),N):A(P)}function A(P){return P===61?(e.consume(P),I):Le(P)?(o=A,B(P)):rt(P)?(e.consume(P),A):O(P)}function I(P){return P===null||P===60||P===61||P===62||P===96?n(P):P===34||P===39?(e.consume(P),i=P,M):Le(P)?(o=I,B(P)):rt(P)?(e.consume(P),I):(e.consume(P),L)}function M(P){return P===i?(e.consume(P),i=void 0,z):P===null?n(P):Le(P)?(o=M,B(P)):(e.consume(P),M)}function L(P){return P===null||P===34||P===39||P===60||P===61||P===96?n(P):P===47||P===62||$t(P)?O(P):(e.consume(P),L)}function z(P){return P===47||P===62||$t(P)?O(P):n(P)}function F(P){return P===62?(e.consume(P),e.exit("htmlTextData"),e.exit("htmlText"),t):n(P)}function B(P){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),D}function D(P){return rt(P)?lt(e,$,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):$(P)}function $(P){return e.enter("htmlTextData"),o(P)}}const SC={name:"labelEnd",resolveAll:FOe,resolveTo:BOe,tokenize:UOe},DOe={tokenize:zOe},$Oe={tokenize:WOe},LOe={tokenize:HOe};function FOe(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Fr(e,0,e.length,n),e}function BOe(e,t){let n=e.length,r=0,i,a,o,s;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const c={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[a][1].start},end:{...e[o][1].end}},f={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[o-2][1].start}};return s=[["enter",c,t],["enter",u,t]],s=Xr(s,e.slice(a+1,a+r+3)),s=Xr(s,[["enter",f,t]]),s=Xr(s,bx(t.parser.constructs.insideSpan.null,e.slice(a+r+4,o-3),t)),s=Xr(s,[["exit",f,t],e[o-2],e[o-1],["exit",u,t]]),s=Xr(s,e.slice(o+1)),s=Xr(s,[["exit",c,t]]),Fr(e,a,e.length,s),e}function UOe(e,t,n){const r=this;let i=r.events.length,a,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return s;function s(h){return a?a._inactive?d(h):(o=r.parser.defined.includes(Ni(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),c):n(h)}function c(h){return h===40?e.attempt(DOe,f,o?f:d)(h):h===91?e.attempt($Oe,f,o?u:d)(h):o?f(h):d(h)}function u(h){return e.attempt(LOe,f,d)(h)}function f(h){return t(h)}function d(h){return a._balanced=!0,n(h)}}function zOe(e,t,n){return r;function r(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),i}function i(d){return $t(d)?Jd(e,a)(d):a(d)}function a(d){return d===41?f(d):az(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return $t(d)?Jd(e,c)(d):f(d)}function s(d){return n(d)}function c(d){return d===34||d===39||d===40?sz(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):f(d)}function u(d){return $t(d)?Jd(e,f)(d):f(d)}function f(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function WOe(e,t,n){const r=this;return i;function i(s){return oz.call(r,e,a,o,"reference","referenceMarker","referenceString")(s)}function a(s){return r.parser.defined.includes(Ni(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function o(s){return n(s)}}function HOe(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const qOe={name:"labelStartImage",resolveAll:SC.resolveAll,tokenize:VOe};function VOe(e,t,n){const r=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),a}function a(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const KOe={name:"labelStartLink",resolveAll:SC.resolveAll,tokenize:GOe};function GOe(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const gb={name:"lineEnding",tokenize:YOe};function YOe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),lt(e,t,"linePrefix")}}const vm={name:"thematicBreak",tokenize:XOe};function XOe(e,t,n){let r=0,i;return a;function a(u){return e.enter("thematicBreak"),o(u)}function o(u){return i=u,s(u)}function s(u){return u===i?(e.enter("thematicBreakSequence"),c(u)):r>=3&&(u===null||Le(u))?(e.exit("thematicBreak"),t(u)):n(u)}function c(u){return u===i?(e.consume(u),r++,c):(e.exit("thematicBreakSequence"),rt(u)?lt(e,s,"whitespace")(u):s(u))}}const ur={continuation:{tokenize:e2e},exit:n2e,name:"list",tokenize:ZOe},QOe={partial:!0,tokenize:r2e},JOe={partial:!0,tokenize:t2e};function ZOe(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return s;function s(p){const m=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:H_(p)){if(r.containerState.type||(r.containerState.type=m,e.enter(m,{_container:!0})),m==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(vm,n,u)(p):u(p);if(!r.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(p)}return n(p)}function c(p){return H_(p)&&++o<10?(e.consume(p),c):(!r.interrupt||o<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),u(p)):n(p)}function u(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,e.check(Qh,r.interrupt?n:f,e.attempt(QOe,h,d))}function f(p){return r.containerState.initialBlankLine=!0,a++,h(p)}function d(p){return rt(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),h):n(p)}function h(p){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function e2e(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Qh,i,a);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,lt(e,t,"listItemIndent",r.containerState.size+1)(s)}function a(s){return r.containerState.furtherBlankLines||!rt(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(JOe,t,o)(s))}function o(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,lt(e,e.attempt(ur,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function t2e(e,t,n){const r=this;return lt(e,i,"listItemIndent",r.containerState.size+1);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(a):n(a)}}function n2e(e){e.exit(this.containerState.type)}function r2e(e,t,n){const r=this;return lt(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const o=r.events[r.events.length-1];return!rt(a)&&o&&o[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const A2={name:"setextUnderline",resolveTo:i2e,tokenize:a2e};function i2e(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",o,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function a2e(e,t,n){const r=this;let i;return a;function a(u){let f=r.events.length,d;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){d=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(e.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),s(u)}function s(u){return u===i?(e.consume(u),s):(e.exit("setextHeadingLineSequence"),rt(u)?lt(e,c,"lineSuffix")(u):c(u))}function c(u){return u===null||Le(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const o2e={tokenize:s2e};function s2e(e){const t=this,n=e.attempt(Qh,r,e.attempt(this.parser.constructs.flowInitial,i,lt(e,e.attempt(this.parser.constructs.flow,i,e.attempt(fOe,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const l2e={resolveAll:cz()},c2e=lz("string"),u2e=lz("text");function lz(e){return{resolveAll:cz(e==="text"?d2e:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,o,s);return o;function o(f){return u(f)?a(f):s(f)}function s(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),c}function c(f){return u(f)?(n.exit("data"),a(f)):(n.consume(f),c)}function u(f){if(f===null)return!0;const d=i[f];let h=-1;if(d)for(;++h<d.length;){const p=d[h];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function cz(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function d2e(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,o=-1,s=0,c;for(;a--;){const u=i[a];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(u===-2)c=!0,s++;else if(u!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const u={type:n===e.length||c||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?o:r.start._bufferIndex+o,_index:r.start._index+a,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const f2e={42:ur,43:ur,45:ur,48:ur,49:ur,50:ur,51:ur,52:ur,53:ur,54:ur,55:ur,56:ur,57:ur,62:tz},h2e={91:vOe},p2e={[-2]:mb,[-1]:mb,32:mb},m2e={35:SOe,42:vm,45:[A2,vm],60:EOe,61:A2,95:vm,96:C2,126:C2},g2e={38:rz,92:nz},v2e={[-5]:gb,[-4]:gb,[-3]:gb,33:qOe,38:rz,42:q_,60:[KTe,ROe],91:KOe,92:[wOe,nz],93:SC,95:q_,96:oOe},y2e={null:[q_,l2e]},x2e={null:[42,95]},b2e={null:[]},w2e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:x2e,contentInitial:h2e,disable:b2e,document:f2e,flow:m2e,flowInitial:p2e,insideSpan:y2e,string:g2e,text:v2e},Symbol.toStringTag,{value:"Module"}));function _2e(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let o=[],s=[];const c={attempt:k(_),check:k(S),consume:w,enter:b,exit:j,interrupt:k(S,{interrupt:!0})},u={code:null,containerState:{},defineSkip:v,events:[],now:m,parser:e,previous:null,sliceSerialize:h,sliceStream:p,write:d};let f=t.tokenize.call(u,c);return t.resolveAll&&a.push(t),u;function d(A){return o=Xr(o,A),y(),o[o.length-1]!==null?[]:(E(t,0),u.events=bx(a,u.events,u),u.events)}function h(A,I){return j2e(p(A),I)}function p(A){return S2e(o,A)}function m(){const{_bufferIndex:A,_index:I,line:M,column:L,offset:z}=r;return{_bufferIndex:A,_index:I,line:M,column:L,offset:z}}function v(A){i[A.line]=A.column,N()}function y(){let A;for(;r._index<o.length;){const I=o[r._index];if(typeof I=="string")for(A=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===A&&r._bufferIndex<I.length;)x(I.charCodeAt(r._bufferIndex));else x(I)}}function x(A){f=f(A)}function w(A){Le(A)?(r.line++,r.column=1,r.offset+=A===-3?2:1,N()):A!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=A}function b(A,I){const M=I||{};return M.type=A,M.start=m(),u.events.push(["enter",M,u]),s.push(M),M}function j(A){const I=s.pop();return I.end=m(),u.events.push(["exit",I,u]),I}function _(A,I){E(A,I.from)}function S(A,I){I.restore()}function k(A,I){return M;function M(L,z,F){let B,D,$,P;return Array.isArray(L)?T(L):"tokenize"in L?T([L]):R(L);function R(ne){return q;function q(J){const K=J!==null&&ne[J],re=J!==null&&ne.null,Z=[...Array.isArray(K)?K:K?[K]:[],...Array.isArray(re)?re:re?[re]:[]];return T(Z)(J)}}function T(ne){return B=ne,D=0,ne.length===0?F:C(ne[D])}function C(ne){return q;function q(J){return P=O(),$=ne,ne.partial||(u.currentConstruct=ne),ne.name&&u.parser.constructs.disable.null.includes(ne.name)?G():ne.tokenize.call(I?Object.assign(Object.create(u),I):u,c,U,G)(J)}}function U(ne){return A($,P),z}function G(ne){return P.restore(),++D<B.length?C(B[D]):F}}}function E(A,I){A.resolveAll&&!a.includes(A)&&a.push(A),A.resolve&&Fr(u.events,I,u.events.length-I,A.resolve(u.events.slice(I),u)),A.resolveTo&&(u.events=A.resolveTo(u.events,u))}function O(){const A=m(),I=u.previous,M=u.currentConstruct,L=u.events.length,z=Array.from(s);return{from:L,restore:F};function F(){r=A,u.previous=I,u.currentConstruct=M,u.events.length=L,s=z,N()}}function N(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function S2e(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,a)];else{if(o=e.slice(n,i),r>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(r):o.shift()}a>0&&o.push(e[i].slice(0,a))}return o}function j2e(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(a)}i=a===-2,r.push(o)}return r.join("")}function k2e(e){const r={constructs:Z6([w2e,...(e||{}).extensions||[]]),content:i(BTe),defined:[],document:i(zTe),flow:i(o2e),lazy:{},string:i(c2e),text:i(u2e)};return r;function i(a){return o;function o(s){return _2e(r,a,s)}}}function C2e(e){for(;!iz(e););return e}const N2=/[\0\t\n\r]/g;function E2e(){let e=1,t="",n=!0,r;return i;function i(a,o,s){const c=[];let u,f,d,h,p;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),d=0,t="",n&&(a.charCodeAt(0)===65279&&d++,n=void 0);d<a.length;){if(N2.lastIndex=d,u=N2.exec(a),h=u&&u.index!==void 0?u.index:a.length,p=a.charCodeAt(h),!u){t=a.slice(d);break}if(p===10&&d===h&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),d<h&&(c.push(a.slice(d,h)),e+=h-d),p){case 0:{c.push(65533),e++;break}case 9:{for(f=Math.ceil(e/4)*4,c.push(-2);e++<f;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}d=h+1}return s&&(r&&c.push(-5),t&&c.push(t),c.push(null)),c}}const A2e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function N2e(e){return e.replace(A2e,P2e)}function P2e(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return ez(n.slice(a?2:1),a?16:10)}return _C(n)||e}const uz={}.hasOwnProperty;function T2e(e,t,n){return typeof t!="string"&&(n=t,t=void 0),O2e(n)(C2e(k2e(n).document().write(E2e()(e,t,!0))))}function O2e(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(de),autolinkProtocol:O,autolinkEmail:O,atxHeading:a(ee),blockQuote:a(re),characterEscape:O,characterReference:O,codeFenced:a(Z),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(Z,o),codeText:a(Y,o),codeTextData:O,data:O,codeFlowValue:O,definition:a(he),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a(W),hardBreakEscape:a(fe),hardBreakTrailing:a(fe),htmlFlow:a(xe,o),htmlFlowData:O,htmlText:a(xe,o),htmlTextData:O,image:a(Pe),label:o,link:a(de),listItem:a(Ye),listItemValue:h,listOrdered:a(Te,d),listUnordered:a(Te),paragraph:a(Xe),reference:C,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(ee),strong:a(Je),thematicBreak:a(gt)},exit:{atxHeading:c(),atxHeadingSequence:_,autolink:c(),autolinkEmail:K,autolinkProtocol:J,blockQuote:c(),characterEscapeValue:N,characterReferenceMarkerHexadecimal:G,characterReferenceMarkerNumeric:G,characterReferenceValue:ne,characterReference:q,codeFenced:c(y),codeFencedFence:v,codeFencedFenceInfo:p,codeFencedFenceMeta:m,codeFlowValue:N,codeIndented:c(x),codeText:c(z),codeTextData:N,data:N,definition:c(),definitionDestinationString:j,definitionLabelString:w,definitionTitleString:b,emphasis:c(),hardBreakEscape:c(I),hardBreakTrailing:c(I),htmlFlow:c(M),htmlFlowData:N,htmlText:c(L),htmlTextData:N,image:c(B),label:$,labelText:D,lineEnding:A,link:c(F),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:U,resourceDestinationString:P,resourceTitleString:R,resource:T,setextHeading:c(E),setextHeadingLineSequence:k,setextHeadingText:S,strong:c(),thematicBreak:c()}};dz(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(V){let ce={type:"root",children:[]};const X={stack:[ce],tokenStack:[],config:t,enter:s,exit:u,buffer:o,resume:f,data:n},pe=[];let ke=-1;for(;++ke<V.length;)if(V[ke][1].type==="listOrdered"||V[ke][1].type==="listUnordered")if(V[ke][0]==="enter")pe.push(ke);else{const te=pe.pop();ke=i(V,te,ke)}for(ke=-1;++ke<V.length;){const te=t[V[ke][0]];uz.call(te,V[ke][1].type)&&te[V[ke][1].type].call(Object.assign({sliceSerialize:V[ke][2].sliceSerialize},X),V[ke][1])}if(X.tokenStack.length>0){const te=X.tokenStack[X.tokenStack.length-1];(te[1]||P2).call(X,void 0,te[0])}for(ce.position={start:lo(V.length>0?V[0][1].start:{line:1,column:1,offset:0}),end:lo(V.length>0?V[V.length-2][1].end:{line:1,column:1,offset:0})},ke=-1;++ke<t.transforms.length;)ce=t.transforms[ke](ce)||ce;return ce}function i(V,ce,X){let pe=ce-1,ke=-1,te=!1,oe,ue,Se,_e;for(;++pe<=X;){const Ne=V[pe];switch(Ne[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ne[0]==="enter"?ke++:ke--,_e=void 0;break}case"lineEndingBlank":{Ne[0]==="enter"&&(oe&&!_e&&!ke&&!Se&&(Se=pe),_e=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:_e=void 0}if(!ke&&Ne[0]==="enter"&&Ne[1].type==="listItemPrefix"||ke===-1&&Ne[0]==="exit"&&(Ne[1].type==="listUnordered"||Ne[1].type==="listOrdered")){if(oe){let ct=pe;for(ue=void 0;ct--;){const Qe=V[ct];if(Qe[1].type==="lineEnding"||Qe[1].type==="lineEndingBlank"){if(Qe[0]==="exit")continue;ue&&(V[ue][1].type="lineEndingBlank",te=!0),Qe[1].type="lineEnding",ue=ct}else if(!(Qe[1].type==="linePrefix"||Qe[1].type==="blockQuotePrefix"||Qe[1].type==="blockQuotePrefixWhitespace"||Qe[1].type==="blockQuoteMarker"||Qe[1].type==="listItemIndent"))break}Se&&(!ue||Se<ue)&&(oe._spread=!0),oe.end=Object.assign({},ue?V[ue][1].start:Ne[1].end),V.splice(ue||pe,0,["exit",oe,Ne[2]]),pe++,X++}if(Ne[1].type==="listItemPrefix"){const ct={type:"listItem",_spread:!1,start:Object.assign({},Ne[1].start),end:void 0};oe=ct,V.splice(pe,0,["enter",ct,Ne[2]]),pe++,X++,Se=void 0,_e=!0}}}return V[ce][1]._spread=te,X}function a(V,ce){return X;function X(pe){s.call(this,V(pe),pe),ce&&ce.call(this,pe)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(V,ce,X){this.stack[this.stack.length-1].children.push(V),this.stack.push(V),this.tokenStack.push([ce,X||void 0]),V.position={start:lo(ce.start),end:void 0}}function c(V){return ce;function ce(X){V&&V.call(this,X),u.call(this,X)}}function u(V,ce){const X=this.stack.pop(),pe=this.tokenStack.pop();if(pe)pe[0].type!==V.type&&(ce?ce.call(this,V,pe[0]):(pe[1]||P2).call(this,V,pe[0]));else throw new Error("Cannot close `"+V.type+"` ("+Qd({start:V.start,end:V.end})+"): it’s not open");X.position.end=lo(V.end)}function f(){return wC(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function h(V){if(this.data.expectingFirstListItemValue){const ce=this.stack[this.stack.length-2];ce.start=Number.parseInt(this.sliceSerialize(V),10),this.data.expectingFirstListItemValue=void 0}}function p(){const V=this.resume(),ce=this.stack[this.stack.length-1];ce.lang=V}function m(){const V=this.resume(),ce=this.stack[this.stack.length-1];ce.meta=V}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){const V=this.resume(),ce=this.stack[this.stack.length-1];ce.value=V.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const V=this.resume(),ce=this.stack[this.stack.length-1];ce.value=V.replace(/(\r?\n|\r)$/g,"")}function w(V){const ce=this.resume(),X=this.stack[this.stack.length-1];X.label=ce,X.identifier=Ni(this.sliceSerialize(V)).toLowerCase()}function b(){const V=this.resume(),ce=this.stack[this.stack.length-1];ce.title=V}function j(){const V=this.resume(),ce=this.stack[this.stack.length-1];ce.url=V}function _(V){const ce=this.stack[this.stack.length-1];if(!ce.depth){const X=this.sliceSerialize(V).length;ce.depth=X}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function k(V){const ce=this.stack[this.stack.length-1];ce.depth=this.sliceSerialize(V).codePointAt(0)===61?1:2}function E(){this.data.setextHeadingSlurpLineEnding=void 0}function O(V){const X=this.stack[this.stack.length-1].children;let pe=X[X.length-1];(!pe||pe.type!=="text")&&(pe=ot(),pe.position={start:lo(V.start),end:void 0},X.push(pe)),this.stack.push(pe)}function N(V){const ce=this.stack.pop();ce.value+=this.sliceSerialize(V),ce.position.end=lo(V.end)}function A(V){const ce=this.stack[this.stack.length-1];if(this.data.atHardBreak){const X=ce.children[ce.children.length-1];X.position.end=lo(V.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ce.type)&&(O.call(this,V),N.call(this,V))}function I(){this.data.atHardBreak=!0}function M(){const V=this.resume(),ce=this.stack[this.stack.length-1];ce.value=V}function L(){const V=this.resume(),ce=this.stack[this.stack.length-1];ce.value=V}function z(){const V=this.resume(),ce=this.stack[this.stack.length-1];ce.value=V}function F(){const V=this.stack[this.stack.length-1];if(this.data.inReference){const ce=this.data.referenceType||"shortcut";V.type+="Reference",V.referenceType=ce,delete V.url,delete V.title}else delete V.identifier,delete V.label;this.data.referenceType=void 0}function B(){const V=this.stack[this.stack.length-1];if(this.data.inReference){const ce=this.data.referenceType||"shortcut";V.type+="Reference",V.referenceType=ce,delete V.url,delete V.title}else delete V.identifier,delete V.label;this.data.referenceType=void 0}function D(V){const ce=this.sliceSerialize(V),X=this.stack[this.stack.length-2];X.label=N2e(ce),X.identifier=Ni(ce).toLowerCase()}function $(){const V=this.stack[this.stack.length-1],ce=this.resume(),X=this.stack[this.stack.length-1];if(this.data.inReference=!0,X.type==="link"){const pe=V.children;X.children=pe}else X.alt=ce}function P(){const V=this.resume(),ce=this.stack[this.stack.length-1];ce.url=V}function R(){const V=this.resume(),ce=this.stack[this.stack.length-1];ce.title=V}function T(){this.data.inReference=void 0}function C(){this.data.referenceType="collapsed"}function U(V){const ce=this.resume(),X=this.stack[this.stack.length-1];X.label=ce,X.identifier=Ni(this.sliceSerialize(V)).toLowerCase(),this.data.referenceType="full"}function G(V){this.data.characterReferenceType=V.type}function ne(V){const ce=this.sliceSerialize(V),X=this.data.characterReferenceType;let pe;X?(pe=ez(ce,X==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):pe=_C(ce);const ke=this.stack[this.stack.length-1];ke.value+=pe}function q(V){const ce=this.stack.pop();ce.position.end=lo(V.end)}function J(V){N.call(this,V);const ce=this.stack[this.stack.length-1];ce.url=this.sliceSerialize(V)}function K(V){N.call(this,V);const ce=this.stack[this.stack.length-1];ce.url="mailto:"+this.sliceSerialize(V)}function re(){return{type:"blockquote",children:[]}}function Z(){return{type:"code",lang:null,meta:null,value:""}}function Y(){return{type:"inlineCode",value:""}}function he(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function W(){return{type:"emphasis",children:[]}}function ee(){return{type:"heading",depth:0,children:[]}}function fe(){return{type:"break"}}function xe(){return{type:"html",value:""}}function Pe(){return{type:"image",title:null,url:"",alt:null}}function de(){return{type:"link",title:null,url:"",children:[]}}function Te(V){return{type:"list",ordered:V.type==="listOrdered",start:null,spread:V._spread,children:[]}}function Ye(V){return{type:"listItem",spread:V._spread,checked:null,children:[]}}function Xe(){return{type:"paragraph",children:[]}}function Je(){return{type:"strong",children:[]}}function ot(){return{type:"text",value:""}}function gt(){return{type:"thematicBreak"}}}function lo(e){return{line:e.line,column:e.column,offset:e.offset}}function dz(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?dz(e,r):I2e(e,r)}}function I2e(e,t){let n;for(n in t)if(uz.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function P2(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Qd({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Qd({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Qd({start:t.start,end:t.end})+") is still open")}function R2e(e){const t=this;t.parser=n;function n(r){return T2e(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function M2e(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function D2e(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function $2e(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function L2e(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function F2e(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function B2e(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Xu(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let o,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=a+1,s+=1,e.footnoteCounts.set(r,s);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,u),e.applyData(t,u)}function U2e(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function z2e(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function fz(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function W2e(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return fz(e,t);const i={src:Xu(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function H2e(e,t){const n={src:Xu(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function q2e(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function V2e(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return fz(e,t);const i={href:Xu(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function K2e(e,t){const n={href:Xu(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function G2e(e,t,n){const r=e.all(t),i=n?Y2e(n):hz(t),a={},o=[];if(typeof t.checked=="boolean"){const f=r[0];let d;f&&f.type==="element"&&f.tagName==="p"?d=f:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const f=r[s];(i||s!==0||f.type!=="element"||f.tagName!=="p")&&o.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?o.push(...f.children):o.push(f)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:a,children:o};return e.patch(t,u),e.applyData(t,u)}function Y2e(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=hz(n[r])}return t}function hz(e){const t=e.spread;return t??e.children.length>1}function X2e(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function Q2e(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function J2e(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Z2e(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function eIe(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=vC(t.children[1]),c=V6(t.children[t.children.length-1]);s&&c&&(o.position={start:s,end:c}),i.push(o)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function tIe(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,s=o?o.length:t.children.length;let c=-1;const u=[];for(;++c<s;){const d=t.children[c],h={},p=o?o[c]:void 0;p&&(h.align=p);let m={type:"element",tagName:a,properties:h,children:[]};d&&(m.children=e.all(d),e.patch(d,m),m=e.applyData(d,m)),u.push(m)}const f={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,f),e.applyData(t,f)}function nIe(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const T2=9,O2=32;function rIe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(I2(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(I2(t.slice(i),i>0,!1)),a.join("")}function I2(e,t,n){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===T2||a===O2;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(i-1);for(;a===T2||a===O2;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function iIe(e,t){const n={type:"text",value:rIe(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function aIe(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const oIe={blockquote:M2e,break:D2e,code:$2e,delete:L2e,emphasis:F2e,footnoteReference:B2e,heading:U2e,html:z2e,imageReference:W2e,image:H2e,inlineCode:q2e,linkReference:V2e,link:K2e,listItem:G2e,list:X2e,paragraph:Q2e,root:J2e,strong:Z2e,table:eIe,tableCell:nIe,tableRow:tIe,text:iIe,thematicBreak:aIe,toml:Yp,yaml:Yp,definition:Yp,footnoteDefinition:Yp};function Yp(){}const pz=-1,wx=0,Zd=1,vv=2,jC=3,kC=4,CC=5,EC=6,mz=7,gz=8,R2=typeof self=="object"?self:globalThis,sIe=(e,t)=>{const n=(i,a)=>(e.set(a,i),i),r=i=>{if(e.has(i))return e.get(i);const[a,o]=t[i];switch(a){case wx:case pz:return n(o,i);case Zd:{const s=n([],i);for(const c of o)s.push(r(c));return s}case vv:{const s=n({},i);for(const[c,u]of o)s[r(c)]=r(u);return s}case jC:return n(new Date(o),i);case kC:{const{source:s,flags:c}=o;return n(new RegExp(s,c),i)}case CC:{const s=n(new Map,i);for(const[c,u]of o)s.set(r(c),r(u));return s}case EC:{const s=n(new Set,i);for(const c of o)s.add(r(c));return s}case mz:{const{name:s,message:c}=o;return n(new R2[s](c),i)}case gz:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:s}=new Uint8Array(o);return n(new DataView(s),o)}}return n(new R2[a](o),i)};return r},M2=e=>sIe(new Map,e)(0),Ll="",{toString:lIe}={},{keys:cIe}=Object,jd=e=>{const t=typeof e;if(t!=="object"||!e)return[wx,t];const n=lIe.call(e).slice(8,-1);switch(n){case"Array":return[Zd,Ll];case"Object":return[vv,Ll];case"Date":return[jC,Ll];case"RegExp":return[kC,Ll];case"Map":return[CC,Ll];case"Set":return[EC,Ll];case"DataView":return[Zd,n]}return n.includes("Array")?[Zd,n]:n.includes("Error")?[mz,n]:[vv,n]},Xp=([e,t])=>e===wx&&(t==="function"||t==="symbol"),uIe=(e,t,n,r)=>{const i=(o,s)=>{const c=r.push(o)-1;return n.set(s,c),c},a=o=>{if(n.has(o))return n.get(o);let[s,c]=jd(o);switch(s){case wx:{let f=o;switch(c){case"bigint":s=gz,f=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);f=null;break;case"undefined":return i([pz],o)}return i([s,f],o)}case Zd:{if(c){let h=o;return c==="DataView"?h=new Uint8Array(o.buffer):c==="ArrayBuffer"&&(h=new Uint8Array(o)),i([c,[...h]],o)}const f=[],d=i([s,f],o);for(const h of o)f.push(a(h));return d}case vv:{if(c)switch(c){case"BigInt":return i([c,o.toString()],o);case"Boolean":case"Number":case"String":return i([c,o.valueOf()],o)}if(t&&"toJSON"in o)return a(o.toJSON());const f=[],d=i([s,f],o);for(const h of cIe(o))(e||!Xp(jd(o[h])))&&f.push([a(h),a(o[h])]);return d}case jC:return i([s,o.toISOString()],o);case kC:{const{source:f,flags:d}=o;return i([s,{source:f,flags:d}],o)}case CC:{const f=[],d=i([s,f],o);for(const[h,p]of o)(e||!(Xp(jd(h))||Xp(jd(p))))&&f.push([a(h),a(p)]);return d}case EC:{const f=[],d=i([s,f],o);for(const h of o)(e||!Xp(jd(h)))&&f.push(a(h));return d}}const{message:u}=o;return i([s,{name:c,message:u}],o)};return a},D2=(e,{json:t,lossy:n}={})=>{const r=[];return uIe(!(t||n),!!t,new Map,r)(e),r},yv=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?M2(D2(e,t)):structuredClone(e):(e,t)=>M2(D2(e,t));function dIe(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function fIe(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function hIe(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||dIe,r=e.options.footnoteBackLabel||fIe,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let c=-1;for(;++c<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[c]);if(!u)continue;const f=e.all(u),d=String(u.identifier).toUpperCase(),h=Xu(d.toLowerCase());let p=0;const m=[],v=e.footnoteCounts.get(d);for(;v!==void 0&&++p<=v;){m.length>0&&m.push({type:"text",value:" "});let w=typeof n=="string"?n:n(c,p);typeof w=="string"&&(w={type:"text",value:w}),m.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,p),className:["data-footnote-backref"]},children:Array.isArray(w)?w:[w]})}const y=f[f.length-1];if(y&&y.type==="element"&&y.tagName==="p"){const w=y.children[y.children.length-1];w&&w.type==="text"?w.value+=" ":y.children.push({type:"text",value:" "}),y.children.push(...m)}else f.push(...m);const x={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(f,!0)};e.patch(u,x),s.push(x)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...yv(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const _x=function(e){if(e==null)return vIe;if(typeof e=="function")return Sx(e);if(typeof e=="object")return Array.isArray(e)?pIe(e):mIe(e);if(typeof e=="string")return gIe(e);throw new Error("Expected function, string, or object as test")};function pIe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=_x(e[n]);return Sx(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function mIe(e){const t=e;return Sx(n);function n(r){const i=r;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function gIe(e){return Sx(t);function t(n){return n&&n.type===e}}function Sx(e){return t;function t(n,r,i){return!!(yIe(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function vIe(){return!0}function yIe(e){return e!==null&&typeof e=="object"&&"type"in e}const vz=[],xIe=!0,V_=!1,bIe="skip";function yz(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const a=_x(i),o=r?-1:1;s(e,void 0,[])();function s(c,u,f){const d=c&&typeof c=="object"?c:{};if(typeof d.type=="string"){const p=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(c.type+(p?"<"+p+">":""))+")"})}return h;function h(){let p=vz,m,v,y;if((!t||a(c,u,f[f.length-1]||void 0))&&(p=wIe(n(c,f)),p[0]===V_))return p;if("children"in c&&c.children){const x=c;if(x.children&&p[0]!==bIe)for(v=(r?x.children.length:-1)+o,y=f.concat(x);v>-1&&v<x.children.length;){const w=x.children[v];if(m=s(w,v,y)(),m[0]===V_)return m;v=typeof m[1]=="number"?m[1]:v+o}}return p}}}function wIe(e){return Array.isArray(e)?e:typeof e=="number"?[xIe,e]:e==null?vz:[e]}function AC(e,t,n,r){let i,a,o;typeof t=="function"&&typeof n!="function"?(a=void 0,o=t,i=n):(a=t,o=n,i=r),yz(e,a,s,i);function s(c,u){const f=u[u.length-1],d=f?f.children.indexOf(c):void 0;return o(c,d,f)}}const K_={}.hasOwnProperty,_Ie={};function SIe(e,t){const n=t||_Ie,r=new Map,i=new Map,a=new Map,o={...oIe,...n.handlers},s={all:u,applyData:kIe,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:o,one:c,options:n,patch:jIe,wrap:EIe};return AC(e,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const d=f.type==="definition"?r:i,h=String(f.identifier).toUpperCase();d.has(h)||d.set(h,f)}}),s;function c(f,d){const h=f.type,p=s.handlers[h];if(K_.call(s.handlers,h)&&p)return p(s,f,d);if(s.options.passThrough&&s.options.passThrough.includes(h)){if("children"in f){const{children:v,...y}=f,x=yv(y);return x.children=s.all(f),x}return yv(f)}return(s.options.unknownHandler||CIe)(s,f,d)}function u(f){const d=[];if("children"in f){const h=f.children;let p=-1;for(;++p<h.length;){const m=s.one(h[p],f);if(m){if(p&&h[p-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=$2(m.value)),!Array.isArray(m)&&m.type==="element")){const v=m.children[0];v&&v.type==="text"&&(v.value=$2(v.value))}Array.isArray(m)?d.push(...m):d.push(m)}}}return d}}function jIe(e,t){e.position&&(t.position=fTe(e))}function kIe(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&a&&Object.assign(n.properties,yv(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function CIe(e,t){const n=t.data||{},r="value"in t&&!(K_.call(n,"hProperties")||K_.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function EIe(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function $2(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function L2(e,t){const n=SIe(e,t),r=n.one(e,void 0),i=hIe(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function AIe(e,t){return e&&"run"in e?async function(n,r){const i=L2(n,{file:r,...t});await e.run(i,r)}:function(n,r){return L2(n,{file:r,...e||t})}}function F2(e){if(e)throw e}var ym=Object.prototype.hasOwnProperty,xz=Object.prototype.toString,B2=Object.defineProperty,U2=Object.getOwnPropertyDescriptor,z2=function(t){return typeof Array.isArray=="function"?Array.isArray(t):xz.call(t)==="[object Array]"},W2=function(t){if(!t||xz.call(t)!=="[object Object]")return!1;var n=ym.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&ym.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||ym.call(t,i)},H2=function(t,n){B2&&n.name==="__proto__"?B2(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},q2=function(t,n){if(n==="__proto__")if(ym.call(t,n)){if(U2)return U2(t,n).value}else return;return t[n]},NIe=function e(){var t,n,r,i,a,o,s=arguments[0],c=1,u=arguments.length,f=!1;for(typeof s=="boolean"&&(f=s,s=arguments[1]||{},c=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});c<u;++c)if(t=arguments[c],t!=null)for(n in t)r=q2(s,n),i=q2(t,n),s!==i&&(f&&i&&(W2(i)||(a=z2(i)))?(a?(a=!1,o=r&&z2(r)?r:[]):o=r&&W2(r)?r:{},H2(s,{name:n,newValue:e(f,o,i)})):typeof i<"u"&&H2(s,{name:n,newValue:i}));return s};const vb=Nt(NIe);function G_(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function PIe(){const e=[],t={run:n,use:r};return t;function n(...i){let a=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...i);function s(c,...u){const f=e[++a];let d=-1;if(c){o(c);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,f?TIe(f,s)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function TIe(e,t){let n;return r;function r(...o){const s=e.length>o.length;let c;s&&o.push(i);try{c=e.apply(this,o)}catch(u){const f=u;if(s&&n)throw f;return i(f)}s||(c&&c.then&&typeof c.then=="function"?c.then(a,i):c instanceof Error?i(c):a(c))}function i(o,...s){n||(n=!0,t(o,...s))}function a(o){i(null,o)}}const zi={basename:OIe,dirname:IIe,extname:RIe,join:MIe,sep:"/"};function OIe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Jh(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else o<0&&(a=!0,o=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(r=i):(s=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function IIe(e){if(Jh(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function RIe(e){Jh(e);let t=e.length,n=-1,r=0,i=-1,a=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),s===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function MIe(...e){let t=-1,n;for(;++t<e.length;)Jh(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":DIe(n)}function DIe(e){Jh(e);const t=e.codePointAt(0)===47;let n=$Ie(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function $Ie(e,t){let n="",r=0,i=-1,a=0,o=-1,s,c;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=o,a=0;continue}}else if(n.length>0){n="",r=0,i=o,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,a=0}else s===46&&a>-1?a++:a=-1}return n}function Jh(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const LIe={cwd:FIe};function FIe(){return"/"}function Y_(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function BIe(e){if(typeof e=="string")e=new URL(e);else if(!Y_(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return UIe(e)}function UIe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const yb=["history","path","basename","stem","extname","dirname"];class bz{constructor(t){let n;t?Y_(t)?n={path:t}:typeof t=="string"||zIe(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":LIe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<yb.length;){const a=yb[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)yb.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?zi.basename(this.path):void 0}set basename(t){bb(t,"basename"),xb(t,"basename"),this.path=zi.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?zi.dirname(this.path):void 0}set dirname(t){V2(this.basename,"dirname"),this.path=zi.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?zi.extname(this.path):void 0}set extname(t){if(xb(t,"extname"),V2(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=zi.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Y_(t)&&(t=BIe(t)),bb(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?zi.basename(this.path,this.extname):void 0}set stem(t){bb(t,"stem"),xb(t,"stem"),this.path=zi.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Yn(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function xb(e,t){if(e&&e.includes(zi.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+zi.sep+"`")}function bb(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function V2(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function zIe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const WIe=function(e){const r=this.constructor.prototype,i=r[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},HIe={}.hasOwnProperty;class NC extends WIe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=PIe()}copy(){const t=new NC;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(vb(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Sb("data",this.frozen),this.namespace[t]=n,this):HIe.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Sb("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Qp(t),r=this.parser||this.Parser;return wb("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),wb("process",this.parser||this.Parser),_b("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,o){const s=Qp(t),c=r.parse(s);r.run(c,s,function(f,d,h){if(f||!d||!h)return u(f);const p=d,m=r.stringify(p,h);KIe(m)?h.value=m:h.result=m,u(f,h)});function u(f,d){f||!d?o(f):a?a(d):n(void 0,d)}}}processSync(t){let n=!1,r;return this.freeze(),wb("processSync",this.parser||this.Parser),_b("processSync",this.compiler||this.Compiler),this.process(t,i),G2("processSync","process",n),r;function i(a,o){n=!0,F2(a),r=o}}run(t,n,r){K2(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(o,s){const c=Qp(n);i.run(t,c,u);function u(f,d,h){const p=d||t;f?s(f):o?o(p):r(void 0,p,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,a),G2("runSync","run",r),i;function a(o,s){F2(o),i=s,r=!0}}stringify(t,n){this.freeze();const r=Qp(n),i=this.compiler||this.Compiler;return _b("stringify",i),K2(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(Sb("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[f,...d]=u;c(f,d)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(u.plugins),u.settings&&(i.settings=vb(!0,i.settings,u.settings))}function s(u){let f=-1;if(u!=null)if(Array.isArray(u))for(;++f<u.length;){const d=u[f];a(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,f){let d=-1,h=-1;for(;++d<r.length;)if(r[d][0]===u){h=d;break}if(h===-1)r.push([u,...f]);else if(f.length>0){let[p,...m]=f;const v=r[h][1];G_(v)&&G_(p)&&(p=vb(!0,v,p)),r[h]=[u,p,...m]}}}}const qIe=new NC().freeze();function wb(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function _b(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Sb(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function K2(e){if(!G_(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function G2(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Qp(e){return VIe(e)?e:new bz(e)}function VIe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function KIe(e){return typeof e=="string"||GIe(e)}function GIe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const YIe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Y2=[],X2={allowDangerousHtml:!0},XIe=/^(https?|ircs?|mailto|xmpp)$/i,QIe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function JIe(e){const t=ZIe(e),n=eRe(e);return tRe(t.runSync(t.parse(n),n),e)}function ZIe(e){const t=e.rehypePlugins||Y2,n=e.remarkPlugins||Y2,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...X2}:X2;return qIe().use(R2e).use(n).use(AIe,r).use(t)}function eRe(e){const t=e.children||"",n=new bz;return typeof t=="string"&&(n.value=t),n}function tRe(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,a=t.disallowedElements,o=t.skipHtml,s=t.unwrapDisallowed,c=t.urlTransform||nRe;for(const f of QIe)Object.hasOwn(t,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+YIe+f.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),AC(e,u),vTe(e,{Fragment:l.Fragment,components:i,ignoreInvalidStyle:!0,jsx:l.jsx,jsxs:l.jsxs,passKeys:!0,passNode:!0});function u(f,d,h){if(f.type==="raw"&&h&&typeof d=="number")return o?h.children.splice(d,1):h.children[d]={type:"text",value:f.value},d;if(f.type==="element"){let p;for(p in pb)if(Object.hasOwn(pb,p)&&Object.hasOwn(f.properties,p)){const m=f.properties[p],v=pb[p];(v===null||v.includes(f.tagName))&&(f.properties[p]=c(String(m||""),p,f))}}if(f.type==="element"){let p=n?!n.includes(f.tagName):a?a.includes(f.tagName):!1;if(!p&&r&&typeof d=="number"&&(p=!r(f,d,h)),p&&h&&typeof d=="number")return s&&f.children?h.children.splice(d,1,...f.children):h.children.splice(d,1),d}}}function nRe(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||XIe.test(e.slice(0,t))?e:""}function Q2(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function rRe(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function iRe(e,t,n){const i=_x((n||{}).ignore||[]),a=aRe(t);let o=-1;for(;++o<a.length;)yz(e,"text",s);function s(u,f){let d=-1,h;for(;++d<f.length;){const p=f[d],m=h?h.children:void 0;if(i(p,m?m.indexOf(p):void 0,h))return;h=p}if(h)return c(u,f)}function c(u,f){const d=f[f.length-1],h=a[o][0],p=a[o][1];let m=0;const y=d.children.indexOf(u);let x=!1,w=[];h.lastIndex=0;let b=h.exec(u.value);for(;b;){const j=b.index,_={index:b.index,input:b.input,stack:[...f,u]};let S=p(...b,_);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?h.lastIndex=j+1:(m!==j&&w.push({type:"text",value:u.value.slice(m,j)}),Array.isArray(S)?w.push(...S):S&&w.push(S),m=j+b[0].length,x=!0),!h.global)break;b=h.exec(u.value)}return x?(m<u.value.length&&w.push({type:"text",value:u.value.slice(m)}),d.children.splice(y,1,...w)):w=[u],y+w.length}}function aRe(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([oRe(i[0]),sRe(i[1])])}return t}function oRe(e){return typeof e=="string"?new RegExp(rRe(e),"g"):e}function sRe(e){return typeof e=="function"?e:function(){return e}}const jb="phrasing",kb=["autolink","link","image","label"];function lRe(){return{transforms:[mRe],enter:{literalAutolink:uRe,literalAutolinkEmail:Cb,literalAutolinkHttp:Cb,literalAutolinkWww:Cb},exit:{literalAutolink:pRe,literalAutolinkEmail:hRe,literalAutolinkHttp:dRe,literalAutolinkWww:fRe}}}function cRe(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:jb,notInConstruct:kb},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:jb,notInConstruct:kb},{character:":",before:"[ps]",after:"\\/",inConstruct:jb,notInConstruct:kb}]}}function uRe(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Cb(e){this.config.enter.autolinkProtocol.call(this,e)}function dRe(e){this.config.exit.autolinkProtocol.call(this,e)}function fRe(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function hRe(e){this.config.exit.autolinkEmail.call(this,e)}function pRe(e){this.exit(e)}function mRe(e){iRe(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,gRe],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),vRe]],{ignore:["link","linkReference"]})}function gRe(e,t,n,r,i){let a="";if(!wz(i)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!yRe(n)))return!1;const o=xRe(n+r);if(!o[0])return!1;const s={type:"link",title:null,url:a+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[s,{type:"text",value:o[1]}]:s}function vRe(e,t,n,r){return!wz(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function yRe(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function xRe(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=Q2(e,"(");let a=Q2(e,")");for(;r!==-1&&i>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[e,n]}function wz(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||sl(n)||xx(n))&&(!t||n!==47)}_z.peek=ARe;function bRe(){this.buffer()}function wRe(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function _Re(){this.buffer()}function SRe(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function jRe(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ni(this.sliceSerialize(e)).toLowerCase(),n.label=t}function kRe(e){this.exit(e)}function CRe(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ni(this.sliceSerialize(e)).toLowerCase(),n.label=t}function ERe(e){this.exit(e)}function ARe(){return"["}function _z(e,t,n,r){const i=n.createTracker(r);let a=i.move("[^");const o=n.enter("footnoteReference"),s=n.enter("reference");return a+=i.move(n.safe(n.associationId(e),{after:"]",before:a})),s(),o(),a+=i.move("]"),a}function NRe(){return{enter:{gfmFootnoteCallString:bRe,gfmFootnoteCall:wRe,gfmFootnoteDefinitionLabelString:_Re,gfmFootnoteDefinition:SRe},exit:{gfmFootnoteCallString:jRe,gfmFootnoteCall:kRe,gfmFootnoteDefinitionLabelString:CRe,gfmFootnoteDefinition:ERe}}}function PRe(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:_z},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,a,o){const s=a.createTracker(o);let c=s.move("[^");const u=a.enter("footnoteDefinition"),f=a.enter("label");return c+=s.move(a.safe(a.associationId(r),{before:c,after:"]"})),f(),c+=s.move("]:"),r.children&&r.children.length>0&&(s.shift(4),c+=s.move((t?`
`:" ")+a.indentLines(a.containerFlow(r,s.current()),t?Sz:TRe))),u(),c}}function TRe(e,t,n){return t===0?e:Sz(e,t,n)}function Sz(e,t,n){return(n?"":"    ")+e}const ORe=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];jz.peek=$Re;function IRe(){return{canContainEols:["delete"],enter:{strikethrough:MRe},exit:{strikethrough:DRe}}}function RRe(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:ORe}],handlers:{delete:jz}}}function MRe(e){this.enter({type:"delete",children:[]},e)}function DRe(e){this.exit(e)}function jz(e,t,n,r){const i=n.createTracker(r),a=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),a(),o}function $Re(){return"~"}function LRe(e){return e.length}function FRe(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||LRe,a=[],o=[],s=[],c=[];let u=0,f=-1;for(;++f<e.length;){const v=[],y=[];let x=-1;for(e[f].length>u&&(u=e[f].length);++x<e[f].length;){const w=BRe(e[f][x]);if(n.alignDelimiters!==!1){const b=i(w);y[x]=b,(c[x]===void 0||b>c[x])&&(c[x]=b)}v.push(w)}o[f]=v,s[f]=y}let d=-1;if(typeof r=="object"&&"length"in r)for(;++d<u;)a[d]=J2(r[d]);else{const v=J2(r);for(;++d<u;)a[d]=v}d=-1;const h=[],p=[];for(;++d<u;){const v=a[d];let y="",x="";v===99?(y=":",x=":"):v===108?y=":":v===114&&(x=":");let w=n.alignDelimiters===!1?1:Math.max(1,c[d]-y.length-x.length);const b=y+"-".repeat(w)+x;n.alignDelimiters!==!1&&(w=y.length+w+x.length,w>c[d]&&(c[d]=w),p[d]=w),h[d]=b}o.splice(1,0,h),s.splice(1,0,p),f=-1;const m=[];for(;++f<o.length;){const v=o[f],y=s[f];d=-1;const x=[];for(;++d<u;){const w=v[d]||"";let b="",j="";if(n.alignDelimiters!==!1){const _=c[d]-(y[d]||0),S=a[d];S===114?b=" ".repeat(_):S===99?_%2?(b=" ".repeat(_/2+.5),j=" ".repeat(_/2-.5)):(b=" ".repeat(_/2),j=b):j=" ".repeat(_)}n.delimiterStart!==!1&&!d&&x.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&w==="")&&(n.delimiterStart!==!1||d)&&x.push(" "),n.alignDelimiters!==!1&&x.push(b),x.push(w),n.alignDelimiters!==!1&&x.push(j),n.padding!==!1&&x.push(" "),(n.delimiterEnd!==!1||d!==u-1)&&x.push("|")}m.push(n.delimiterEnd===!1?x.join("").replace(/ +$/,""):x.join(""))}return m.join(`
`)}function BRe(e){return e==null?"":String(e)}function J2(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function URe(e,t,n,r){const i=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const o=n.indentLines(n.containerFlow(e,a.current()),zRe);return i(),o}function zRe(e,t,n){return">"+(n?"":" ")+e}function WRe(e,t){return Z2(e,t.inConstruct,!0)&&!Z2(e,t.notInConstruct,!1)}function Z2(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function eI(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&WRe(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function HRe(e,t){const n=String(e);let r=n.indexOf(t),i=r,a=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++a>o&&(o=a):a=1,i=r+t.length,r=n.indexOf(t,i);return o}function qRe(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function VRe(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function KRe(e,t,n,r){const i=VRe(n),a=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(qRe(e,n)){const d=n.enter("codeIndented"),h=n.indentLines(a,GRe);return d(),h}const s=n.createTracker(r),c=i.repeat(Math.max(HRe(a,i)+1,3)),u=n.enter("codeFenced");let f=s.move(c);if(e.lang){const d=n.enter(`codeFencedLang${o}`);f+=s.move(n.safe(e.lang,{before:f,after:" ",encode:["`"],...s.current()})),d()}if(e.lang&&e.meta){const d=n.enter(`codeFencedMeta${o}`);f+=s.move(" "),f+=s.move(n.safe(e.meta,{before:f,after:`
`,encode:["`"],...s.current()})),d()}return f+=s.move(`
`),a&&(f+=s.move(a+`
`)),f+=s.move(c),u(),f}function GRe(e,t,n){return(n?"":"    ")+e}function PC(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function YRe(e,t,n,r){const i=PC(n),a=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let s=n.enter("label");const c=n.createTracker(r);let u=c.move("[");return u+=c.move(n.safe(n.associationId(e),{before:u,after:"]",...c.current()})),u+=c.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(s=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...c.current()}))),s(),e.title&&(s=n.enter(`title${a}`),u+=c.move(" "+i),u+=c.move(n.safe(e.title,{before:u,after:i,...c.current()})),u+=c.move(i),s()),o(),u}function XRe(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function gh(e){return"&#x"+e.toString(16).toUpperCase()+";"}function xv(e,t,n){const r=_u(e),i=_u(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}kz.peek=QRe;function kz(e,t,n,r){const i=XRe(n),a=n.enter("emphasis"),o=n.createTracker(r),s=o.move(i);let c=o.move(n.containerPhrasing(e,{after:i,before:s,...o.current()}));const u=c.charCodeAt(0),f=xv(r.before.charCodeAt(r.before.length-1),u,i);f.inside&&(c=gh(u)+c.slice(1));const d=c.charCodeAt(c.length-1),h=xv(r.after.charCodeAt(0),d,i);h.inside&&(c=c.slice(0,-1)+gh(d));const p=o.move(i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:f.outside},s+c+p}function QRe(e,t,n){return n.options.emphasis||"*"}function JRe(e,t){let n=!1;return AC(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,V_}),!!((!e.depth||e.depth<3)&&wC(e)&&(t.options.setext||n))}function ZRe(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if(JRe(e,n)){const f=n.enter("headingSetext"),d=n.enter("phrasing"),h=n.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return d(),f(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const o="#".repeat(i),s=n.enter("headingAtx"),c=n.enter("phrasing");a.move(o+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(u)&&(u=gh(u.charCodeAt(0))+u.slice(1)),u=u?o+" "+u:o,n.options.closeAtx&&(u+=" "+o),c(),s(),u}Cz.peek=eMe;function Cz(e){return e.value||""}function eMe(){return"<"}Ez.peek=tMe;function Ez(e,t,n,r){const i=PC(n),a=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let s=n.enter("label");const c=n.createTracker(r);let u=c.move("![");return u+=c.move(n.safe(e.alt,{before:u,after:"]",...c.current()})),u+=c.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(s=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":")",...c.current()}))),s(),e.title&&(s=n.enter(`title${a}`),u+=c.move(" "+i),u+=c.move(n.safe(e.title,{before:u,after:i,...c.current()})),u+=c.move(i),s()),u+=c.move(")"),o(),u}function tMe(){return"!"}Az.peek=nMe;function Az(e,t,n,r){const i=e.referenceType,a=n.enter("imageReference");let o=n.enter("label");const s=n.createTracker(r);let c=s.move("![");const u=n.safe(e.alt,{before:c,after:"]",...s.current()});c+=s.move(u+"]["),o();const f=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),{before:c,after:"]",...s.current()});return o(),n.stack=f,a(),i==="full"||!u||u!==d?c+=s.move(d+"]"):i==="shortcut"?c=c.slice(0,-1):c+=s.move("]"),c}function nMe(){return"!"}Nz.peek=rMe;function Nz(e,t,n){let r=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const o=n.unsafe[a],s=n.compilePattern(o);let c;if(o.atBreak)for(;c=s.exec(r);){let u=c.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(c.index+1)}}return i+r+i}function rMe(){return"`"}function Pz(e,t){const n=wC(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}Tz.peek=iMe;function Tz(e,t,n,r){const i=PC(n),a=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let s,c;if(Pz(e,n)){const f=n.stack;n.stack=[],s=n.enter("autolink");let d=o.move("<");return d+=o.move(n.containerPhrasing(e,{before:d,after:">",...o.current()})),d+=o.move(">"),s(),n.stack=f,d}s=n.enter("link"),c=n.enter("label");let u=o.move("[");return u+=o.move(n.containerPhrasing(e,{before:u,after:"](",...o.current()})),u+=o.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(n.safe(e.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(c=n.enter("destinationRaw"),u+=o.move(n.safe(e.url,{before:u,after:e.title?" ":")",...o.current()}))),c(),e.title&&(c=n.enter(`title${a}`),u+=o.move(" "+i),u+=o.move(n.safe(e.title,{before:u,after:i,...o.current()})),u+=o.move(i),c()),u+=o.move(")"),s(),u}function iMe(e,t,n){return Pz(e,n)?"<":"["}Oz.peek=aMe;function Oz(e,t,n,r){const i=e.referenceType,a=n.enter("linkReference");let o=n.enter("label");const s=n.createTracker(r);let c=s.move("[");const u=n.containerPhrasing(e,{before:c,after:"]",...s.current()});c+=s.move(u+"]["),o();const f=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),{before:c,after:"]",...s.current()});return o(),n.stack=f,a(),i==="full"||!u||u!==d?c+=s.move(d+"]"):i==="shortcut"?c=c.slice(0,-1):c+=s.move("]"),c}function aMe(){return"["}function TC(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function oMe(e){const t=TC(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function sMe(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function Iz(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function lMe(e,t,n,r){const i=n.enter("list"),a=n.bulletCurrent;let o=e.ordered?sMe(n):TC(n);const s=e.ordered?o==="."?")":".":oMe(n);let c=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const f=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&f&&(!f.children||!f.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),Iz(n)===o&&f){let d=-1;for(;++d<e.children.length;){const h=e.children[d];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(o=s),n.bulletCurrent=o;const u=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=a,i(),u}function cMe(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function uMe(e,t,n,r){const i=cMe(n);let a=n.bulletCurrent||TC(n);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let o=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const s=n.createTracker(r);s.move(a+" ".repeat(o-a.length)),s.shift(o);const c=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,s.current()),f);return c(),u;function f(d,h,p){return h?(p?"":" ".repeat(o))+d:(p?a:a+" ".repeat(o-a.length))+d}}function dMe(e,t,n,r){const i=n.enter("paragraph"),a=n.enter("phrasing"),o=n.containerPhrasing(e,r);return a(),i(),o}const fMe=_x(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function hMe(e,t,n,r){return(e.children.some(function(o){return fMe(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function pMe(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}Rz.peek=mMe;function Rz(e,t,n,r){const i=pMe(n),a=n.enter("strong"),o=n.createTracker(r),s=o.move(i+i);let c=o.move(n.containerPhrasing(e,{after:i,before:s,...o.current()}));const u=c.charCodeAt(0),f=xv(r.before.charCodeAt(r.before.length-1),u,i);f.inside&&(c=gh(u)+c.slice(1));const d=c.charCodeAt(c.length-1),h=xv(r.after.charCodeAt(0),d,i);h.inside&&(c=c.slice(0,-1)+gh(d));const p=o.move(i+i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:f.outside},s+c+p}function mMe(e,t,n){return n.options.strong||"*"}function gMe(e,t,n,r){return n.safe(e.value,r)}function vMe(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function yMe(e,t,n){const r=(Iz(n)+(n.options.ruleSpaces?" ":"")).repeat(vMe(n));return n.options.ruleSpaces?r.slice(0,-1):r}const Mz={blockquote:URe,break:eI,code:KRe,definition:YRe,emphasis:kz,hardBreak:eI,heading:ZRe,html:Cz,image:Ez,imageReference:Az,inlineCode:Nz,link:Tz,linkReference:Oz,list:lMe,listItem:uMe,paragraph:dMe,root:hMe,strong:Rz,text:gMe,thematicBreak:yMe};function xMe(){return{enter:{table:bMe,tableData:tI,tableHeader:tI,tableRow:_Me},exit:{codeText:SMe,table:wMe,tableData:Eb,tableHeader:Eb,tableRow:Eb}}}function bMe(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function wMe(e){this.exit(e),this.data.inTable=void 0}function _Me(e){this.enter({type:"tableRow",children:[]},e)}function Eb(e){this.exit(e)}function tI(e){this.enter({type:"tableCell",children:[]},e)}function SMe(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,jMe));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function jMe(e,t){return t==="|"?t:e}function kMe(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:o,tableCell:c,tableRow:s}};function o(p,m,v,y){return u(f(p,v,y),p.align)}function s(p,m,v,y){const x=d(p,v,y),w=u([x]);return w.slice(0,w.indexOf(`
`))}function c(p,m,v,y){const x=v.enter("tableCell"),w=v.enter("phrasing"),b=v.containerPhrasing(p,{...y,before:a,after:a});return w(),x(),b}function u(p,m){return FRe(p,{align:m,alignDelimiters:r,padding:n,stringLength:i})}function f(p,m,v){const y=p.children;let x=-1;const w=[],b=m.enter("table");for(;++x<y.length;)w[x]=d(y[x],m,v);return b(),w}function d(p,m,v){const y=p.children;let x=-1;const w=[],b=m.enter("tableRow");for(;++x<y.length;)w[x]=c(y[x],p,m,v);return b(),w}function h(p,m,v){let y=Mz.inlineCode(p,m,v);return v.stack.includes("tableCell")&&(y=y.replace(/\|/g,"\\$&")),y}}function CMe(){return{exit:{taskListCheckValueChecked:nI,taskListCheckValueUnchecked:nI,paragraph:AMe}}}function EMe(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:NMe}}}function nI(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function AMe(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let a=-1,o;for(;++a<i.length;){const s=i[a];if(s.type==="paragraph"){o=s;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function NMe(e,t,n,r){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",s=n.createTracker(r);a&&s.move(o);let c=Mz.listItem(e,t,n,{...r,...s.current()});return a&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),c;function u(f){return f+o}}function PMe(){return[lRe(),NRe(),IRe(),xMe(),CMe()]}function TMe(e){return{extensions:[cRe(),PRe(e),RRe(),kMe(e),EMe()]}}const OMe={tokenize:LMe,partial:!0},Dz={tokenize:FMe,partial:!0},$z={tokenize:BMe,partial:!0},Lz={tokenize:UMe,partial:!0},IMe={tokenize:zMe,partial:!0},Fz={name:"wwwAutolink",tokenize:DMe,previous:Uz},Bz={name:"protocolAutolink",tokenize:$Me,previous:zz},to={name:"emailAutolink",tokenize:MMe,previous:Wz},ha={};function RMe(){return{text:ha}}let ps=48;for(;ps<123;)ha[ps]=to,ps++,ps===58?ps=65:ps===91&&(ps=97);ha[43]=to;ha[45]=to;ha[46]=to;ha[95]=to;ha[72]=[to,Bz];ha[104]=[to,Bz];ha[87]=[to,Fz];ha[119]=[to,Fz];function MMe(e,t,n){const r=this;let i,a;return o;function o(d){return!X_(d)||!Wz.call(r,r.previous)||OC(r.events)?n(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(d))}function s(d){return X_(d)?(e.consume(d),s):d===64?(e.consume(d),c):n(d)}function c(d){return d===46?e.check(IMe,f,u)(d):d===45||d===95||Kn(d)?(a=!0,e.consume(d),c):f(d)}function u(d){return e.consume(d),i=!0,c}function f(d){return a&&i&&nr(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(d)):n(d)}}function DMe(e,t,n){const r=this;return i;function i(o){return o!==87&&o!==119||!Uz.call(r,r.previous)||OC(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(OMe,e.attempt(Dz,e.attempt($z,a),n),n)(o))}function a(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function $Me(e,t,n){const r=this;let i="",a=!1;return o;function o(d){return(d===72||d===104)&&zz.call(r,r.previous)&&!OC(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),e.consume(d),s):n(d)}function s(d){if(nr(d)&&i.length<5)return i+=String.fromCodePoint(d),e.consume(d),s;if(d===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(d),c}return n(d)}function c(d){return d===47?(e.consume(d),a?u:(a=!0,c)):n(d)}function u(d){return d===null||gv(d)||$t(d)||sl(d)||xx(d)?n(d):e.attempt(Dz,e.attempt($z,f),n)(d)}function f(d){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(d)}}function LMe(e,t,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),i):o===46&&r===3?(e.consume(o),a):n(o)}function a(o){return o===null?n(o):t(o)}}function FMe(e,t,n){let r,i,a;return o;function o(u){return u===46||u===95?e.check(Lz,c,s)(u):u===null||$t(u)||sl(u)||u!==45&&xx(u)?c(u):(a=!0,e.consume(u),o)}function s(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),o}function c(u){return i||r||!a?n(u):t(u)}}function BMe(e,t){let n=0,r=0;return i;function i(o){return o===40?(n++,e.consume(o),i):o===41&&r<n?a(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(Lz,t,a)(o):o===null||$t(o)||sl(o)?t(o):(e.consume(o),i)}function a(o){return o===41&&r++,e.consume(o),i}}function UMe(e,t,n){return r;function r(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),r):s===38?(e.consume(s),a):s===93?(e.consume(s),i):s===60||s===null||$t(s)||sl(s)?t(s):n(s)}function i(s){return s===null||s===40||s===91||$t(s)||sl(s)?t(s):r(s)}function a(s){return nr(s)?o(s):n(s)}function o(s){return s===59?(e.consume(s),r):nr(s)?(e.consume(s),o):n(s)}}function zMe(e,t,n){return r;function r(a){return e.consume(a),i}function i(a){return Kn(a)?n(a):t(a)}}function Uz(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||$t(e)}function zz(e){return!nr(e)}function Wz(e){return!(e===47||X_(e))}function X_(e){return e===43||e===45||e===46||e===95||Kn(e)}function OC(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const WMe={tokenize:QMe,partial:!0};function HMe(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:GMe,continuation:{tokenize:YMe},exit:XMe}},text:{91:{name:"gfmFootnoteCall",tokenize:KMe},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:qMe,resolveTo:VMe}}}}function qMe(e,t,n){const r=this;let i=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const c=r.events[i][1];if(c.type==="labelImage"){o=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return s;function s(c){if(!o||!o._balanced)return n(c);const u=Ni(r.sliceSerialize({start:o.end,end:r.now()}));return u.codePointAt(0)!==94||!a.includes(u.slice(1))?n(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function VMe(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},s=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",o,t],["exit",o,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...s),e}function KMe(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,o;return s;function s(d){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),c}function c(d){return d!==94?n(d):(e.enter("gfmFootnoteCallMarker"),e.consume(d),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(d){if(a>999||d===93&&!o||d===null||d===91||$t(d))return n(d);if(d===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(Ni(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(d)}return $t(d)||(o=!0),a++,e.consume(d),d===92?f:u}function f(d){return d===91||d===92||d===93?(e.consume(d),a++,u):u(d)}}function GMe(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,o=0,s;return c;function c(m){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(m){return m===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",f):n(m)}function f(m){if(o>999||m===93&&!s||m===null||m===91||$t(m))return n(m);if(m===93){e.exit("chunkString");const v=e.exit("gfmFootnoteDefinitionLabelString");return a=Ni(r.sliceSerialize(v)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return $t(m)||(s=!0),o++,e.consume(m),m===92?d:f}function d(m){return m===91||m===92||m===93?(e.consume(m),o++,f):f(m)}function h(m){return m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),i.includes(a)||i.push(a),lt(e,p,"gfmFootnoteDefinitionWhitespace")):n(m)}function p(m){return t(m)}}function YMe(e,t,n){return e.check(Qh,t,e.attempt(WMe,t,n))}function XMe(e){e.exit("gfmFootnoteDefinition")}function QMe(e,t,n){const r=this;return lt(e,i,"gfmFootnoteDefinitionIndent",5);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(a):n(a)}}function JMe(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:a,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,s){let c=-1;for(;++c<o.length;)if(o[c][0]==="enter"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._close){let u=c;for(;u--;)if(o[u][0]==="exit"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._open&&o[c][1].end.offset-o[c][1].start.offset===o[u][1].end.offset-o[u][1].start.offset){o[c][1].type="strikethroughSequence",o[u][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},o[u][1].start),end:Object.assign({},o[c][1].end)},d={type:"strikethroughText",start:Object.assign({},o[u][1].end),end:Object.assign({},o[c][1].start)},h=[["enter",f,s],["enter",o[u][1],s],["exit",o[u][1],s],["enter",d,s]],p=s.parser.constructs.insideSpan.null;p&&Fr(h,h.length,0,bx(p,o.slice(u+1,c),s)),Fr(h,h.length,0,[["exit",d,s],["enter",o[c][1],s],["exit",o[c][1],s],["exit",f,s]]),Fr(o,u-1,c-u+3,h),c=u+h.length-2;break}}for(c=-1;++c<o.length;)o[c][1].type==="strikethroughSequenceTemporary"&&(o[c][1].type="data");return o}function a(o,s,c){const u=this.previous,f=this.events;let d=0;return h;function h(m){return u===126&&f[f.length-1][1].type!=="characterEscape"?c(m):(o.enter("strikethroughSequenceTemporary"),p(m))}function p(m){const v=_u(u);if(m===126)return d>1?c(m):(o.consume(m),d++,p);if(d<2&&!n)return c(m);const y=o.exit("strikethroughSequenceTemporary"),x=_u(m);return y._open=!x||x===2&&!!v,y._close=!v||v===2&&!!x,s(m)}}}class ZMe{constructor(){this.map=[]}add(t,n,r){eDe(this,t,n,r)}consume(t){if(this.map.sort(function(a,o){return a[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const a of i)t.push(a);i=r.pop()}this.map.length=0}}function eDe(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function tDe(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function nDe(){return{flow:{null:{name:"table",tokenize:rDe,resolveAll:iDe}}}}function rDe(e,t,n){const r=this;let i=0,a=0,o;return s;function s(N){let A=r.events.length-1;for(;A>-1;){const L=r.events[A][1].type;if(L==="lineEnding"||L==="linePrefix")A--;else break}const I=A>-1?r.events[A][1].type:null,M=I==="tableHead"||I==="tableRow"?S:c;return M===S&&r.parser.lazy[r.now().line]?n(N):M(N)}function c(N){return e.enter("tableHead"),e.enter("tableRow"),u(N)}function u(N){return N===124||(o=!0,a+=1),f(N)}function f(N){return N===null?n(N):Le(N)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),p):n(N):rt(N)?lt(e,f,"whitespace")(N):(a+=1,o&&(o=!1,i+=1),N===124?(e.enter("tableCellDivider"),e.consume(N),e.exit("tableCellDivider"),o=!0,f):(e.enter("data"),d(N)))}function d(N){return N===null||N===124||$t(N)?(e.exit("data"),f(N)):(e.consume(N),N===92?h:d)}function h(N){return N===92||N===124?(e.consume(N),d):d(N)}function p(N){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(N):(e.enter("tableDelimiterRow"),o=!1,rt(N)?lt(e,m,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(N):m(N))}function m(N){return N===45||N===58?y(N):N===124?(o=!0,e.enter("tableCellDivider"),e.consume(N),e.exit("tableCellDivider"),v):_(N)}function v(N){return rt(N)?lt(e,y,"whitespace")(N):y(N)}function y(N){return N===58?(a+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(N),e.exit("tableDelimiterMarker"),x):N===45?(a+=1,x(N)):N===null||Le(N)?j(N):_(N)}function x(N){return N===45?(e.enter("tableDelimiterFiller"),w(N)):_(N)}function w(N){return N===45?(e.consume(N),w):N===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(N),e.exit("tableDelimiterMarker"),b):(e.exit("tableDelimiterFiller"),b(N))}function b(N){return rt(N)?lt(e,j,"whitespace")(N):j(N)}function j(N){return N===124?m(N):N===null||Le(N)?!o||i!==a?_(N):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(N)):_(N)}function _(N){return n(N)}function S(N){return e.enter("tableRow"),k(N)}function k(N){return N===124?(e.enter("tableCellDivider"),e.consume(N),e.exit("tableCellDivider"),k):N===null||Le(N)?(e.exit("tableRow"),t(N)):rt(N)?lt(e,k,"whitespace")(N):(e.enter("data"),E(N))}function E(N){return N===null||N===124||$t(N)?(e.exit("data"),k(N)):(e.consume(N),N===92?O:E)}function O(N){return N===92||N===124?(e.consume(N),E):E(N)}}function iDe(e,t){let n=-1,r=!0,i=0,a=[0,0,0,0],o=[0,0,0,0],s=!1,c=0,u,f,d;const h=new ZMe;for(;++n<e.length;){const p=e[n],m=p[1];p[0]==="enter"?m.type==="tableHead"?(s=!1,c!==0&&(rI(h,t,c,u,f),f=void 0,c=0),u={type:"table",start:Object.assign({},m.start),end:Object.assign({},m.end)},h.add(n,0,[["enter",u,t]])):m.type==="tableRow"||m.type==="tableDelimiterRow"?(r=!0,d=void 0,a=[0,0,0,0],o=[0,n+1,0,0],s&&(s=!1,f={type:"tableBody",start:Object.assign({},m.start),end:Object.assign({},m.end)},h.add(n,0,[["enter",f,t]])),i=m.type==="tableDelimiterRow"?2:f?3:1):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(a[1]!==0&&(o[0]=o[1],d=Jp(h,t,a,i,void 0,d),a=[0,0,0,0]),o[2]=n)):m.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(o[0]=o[1],d=Jp(h,t,a,i,void 0,d)),a=o,o=[a[1],n,0,0])):m.type==="tableHead"?(s=!0,c=n):m.type==="tableRow"||m.type==="tableDelimiterRow"?(c=n,a[1]!==0?(o[0]=o[1],d=Jp(h,t,a,i,n,d)):o[1]!==0&&(d=Jp(h,t,o,i,n,d)),i=0):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")&&(o[3]=n)}for(c!==0&&rI(h,t,c,u,f),h.consume(t.events),n=-1;++n<t.events.length;){const p=t.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=tDe(t.events,n))}return e}function Jp(e,t,n,r,i,a){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",s="tableContent";n[0]!==0&&(a.end=Object.assign({},Hl(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const c=Hl(t.events,n[1]);if(a={type:o,start:Object.assign({},c),end:Object.assign({},c)},e.add(n[1],0,[["enter",a,t]]),n[2]!==0){const u=Hl(t.events,n[2]),f=Hl(t.events,n[3]),d={type:s,start:Object.assign({},u),end:Object.assign({},f)};if(e.add(n[2],0,[["enter",d,t]]),r!==2){const h=t.events[n[2]],p=t.events[n[3]];if(h[1].end=Object.assign({},p[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const m=n[2]+1,v=n[3]-n[2]-1;e.add(m,v,[])}}e.add(n[3]+1,0,[["exit",d,t]])}return i!==void 0&&(a.end=Object.assign({},Hl(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function rI(e,t,n,r,i){const a=[],o=Hl(t.events,n);i&&(i.end=Object.assign({},o),a.push(["exit",i,t])),r.end=Object.assign({},o),a.push(["exit",r,t]),e.add(n+1,0,a)}function Hl(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const aDe={name:"tasklistCheck",tokenize:sDe};function oDe(){return{text:{91:aDe}}}function sDe(e,t,n){const r=this;return i;function i(c){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),a)}function a(c){return $t(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),o):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),o):n(c)}function o(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):n(c)}function s(c){return Le(c)?t(c):rt(c)?e.check({tokenize:lDe},t,n)(c):n(c)}}function lDe(e,t,n){return lt(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function cDe(e){return Z6([RMe(),HMe(),JMe(e),nDe(),oDe()])}const uDe={};function dDe(e){const t=this,n=e||uDe,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(cDe(n)),a.push(PMe()),o.push(TMe(n))}const fDe=`# Change Log\r
# [0.0.32] FE WEB CEKAT 2025-10-04\r
### Updates\r
- Fixed Live chat error and detail chat\r
\r
# [0.0.31] FE WEB CEKAT 2025-10-04\r
### Updates\r
- Introduced a new endpoint \`CHAT_TEST\` for testing AI agent chat settings.\r
- Updated \`AIAgentSettings\` component to include profile handling and improved UI with collapsible sections for behavior, welcome message, and transfer conditions.\r
- Enhanced \`ChatPreview\` to support profile ID and adjusted styling for better user experience.\r
- Refactored platform forms to remove profile photo upload functionality.\r
\r
# [0.0.30] FE WEB CEKAT 2025-10-04\r
### Updates\r
- Fix invite\r
\r
# [0.0.29] FE WEB CEKAT 2025-10-04\r
Commit: Invite flow fixes, required field validation, form improvements\r
### Updates\r
- Invite Flow Fixes\r
  - Fixed invite flow to redirect users directly to password creation page instead of 2FA page\r
  - Added invite flow detection to skip 2FA requirements for invited users\r
  - Prevented duplicate 2FA emails for invited users\r
  - Added \`/invite\` route for proper invite handling\r
  - Enhanced ProtectedRoute to detect and redirect invite flows appropriately\r
- Form Validation Improvements\r
  - Made "Attach to Super Agent" field required for regular agents\r
  - Added visual indicators (red asterisks) for all required fields\r
  - Implemented real-time form validation with disabled submit button\r
  - Added contextual help text explaining field requirements\r
  - Enhanced error messages with specific validation feedback\r
- User Experience Enhancements\r
  - Submit button now disabled until all required fields are filled\r
  - Clear visual hierarchy distinguishing required vs optional fields\r
  - Real-time validation feedback as users type/select\r
  - Improved form accessibility with proper labeling\r
- Bug Fixes\r
  - Fixed invite users being incorrectly redirected to 2FA page\r
  - Resolved duplicate 2FA email sending for invited users\r
  - Corrected form submission logic for agent creation\r
  - Enhanced error handling for missing required fields\r
\r
# [0.0.28] FE WEB CEKAT 2025-10-04\r
Commit: Auto-resolve functionality, thread timestamp fixes, audio notifications, UI improvements\r
### Updates\r
- Auto-Resolve System\r
  - Fixed auto-resolve functionality to work correctly with AI agents\r
  - Database triggers now properly set \`auto_resolve_at\` timestamp when AI responds\r
  - Auto-resolve function uses correct enum value \`'closed'\` instead of \`'resolved'\`\r
  - Periodic checking every 30 seconds for threads ready to auto-resolve\r
  - Real-time auto-resolve checks on message events\r
  - Threads auto-resolve after specified minutes of inactivity without user response\r
- Thread List Improvements\r
  - Fixed thread list to show latest message timestamp instead of first message timestamp\r
  - WhatsApp-style conversation sorting with unreplied threads at top\r
  - Real-time conversation preview updates without full list refresh\r
- Audio Notifications\r
  - Added audio notification system for new messages in opened threads\r
  - Two notification sounds: incoming (\`mixkit-message-pop-alert-2354.mp3\`) and outgoing (\`mixkit-long-pop-2358.wav\`)\r
  - Debounced notifications to prevent duplicate sounds\r
  - Tab visibility checks to only play sounds when tab is active\r
  - User controls: enable/disable audio notifications, test notification\r
- UI Improvements\r
  - Removed clock icon from chat message bubbles for cleaner appearance\r
  - Enhanced message streaming with better real-time updates\r
  - Improved conversation list performance with optimized refresh logic\r
- Database Schema Updates\r
  - Added \`channel_id\` to \`token_usage_logs\` table for better analytics\r
  - Added \`super_agent_id\` to \`channels\` table (moved from \`ai_profiles\`)\r
  - Updated RLS policies to use \`channels.super_agent_id\` for proper clustering\r
  - Fixed foreign key constraints and relationships\r
- Bug Fixes\r
  - Fixed page reload issues when alt+tabbing between browser tabs\r
  - Resolved conversation data leakage between different super agents\r
  - Fixed AI Agent dropdown filtering logic\r
  - Corrected thread timestamp display in conversation list\r
\r
# [0.0.27] FE WEB CEKAT 2025-10-03\r
- Enabling AI Profiles fetch instead of using cache \r
\r
# [0.0.26] FE WEB CEKAT 2025-10-03\r
Commit: Live Chat realtime + anon policies, auto-resolve with enable flag, reopen on user reply, UI polish\r
### Updates\r
- Live Chat (Embed)\r
  - Messages now stream from Supabase realtime (\`public.messages\`); webhook response is ignored for content.\r
  - Sends \`channel_id\`, \`session_id\`, and a persistent friendly \`username\` (stored per host in localStorage). Removed \`platform_id\` from payload.\r
  - Ringtones wired to \`public/tones\` assets; low = \`mixkit-message-pop-alert-2354.mp3\`, high = \`mixkit-long-pop-2358.wav\`.\r
  - Thread lookup uses \`contacts(name)\` with \`maybeSingle()\` (fixes PGRST116 when 0 rows).\r
- Database (Supabase)\r
  - Added anon SELECT RLS for web embed:\r
    - \`channels\`: \`allow_public_select_web_channels\` (provider='web' and active only).\r
    - \`threads\`: \`public_read_web_threads\` (via web channels).\r
    - \`messages\`: \`public_read_web_messages\` (via web channels).\r
    - Fixes 401/42501 when opening standalone live chat.\r
  - Auto-resolve framework:\r
    - \`ai_profiles.auto_resolve_after_minutes\` (int) and \`enable_resolve\` (bool).\r
    - \`threads.auto_resolve_at\` scheduled by trigger \`set_thread_auto_resolve_after_message\` on agent/assistant replies; cleared on user replies.\r
    - Function \`auto_close_due_threads()\` (cron-friendly) and helper \`schedule_auto_resolve_for_open_threads()\` for backfill.\r
  - Auto-reopen: trigger \`reopen_thread_on_user_message\` reopens closed threads and unassigns when a new user message arrives.\r
- AI Agent Settings\r
  - “Enable Auto-resolve” switch added; “Auto-resolve after (minutes)” is disabled when switch is off.\r
  - Removed sending \`system_prompt\` to webhook; UI still saves prompt to profile.\r
- Conversations UI\r
  - “Unreplied” badge restyled (soft red background, darker red text) to match “Assigned” styling.\r
\r
# [0.0.25] FE WEB CEKAT 2025-10-02\r
Commit: Human vs AI handover analytics, WAHA sessions fetch, realtime chats, Platforms loop fix, UI polish\r
### Updates\r
- Analytics (Human Agent)\r
  - Handover rate redefined as Human/(Human+AI) across all conversations (not only resolved).\r
  - Added breakdowns: by Super Agent and by Agent, with Super Agent filter.\r
- Database (Supabase)\r
  - New/updated RPCs: \`get_handover_by_super_agent\`, \`get_handover_by_agent\`, \`get_agent_kpis\`.\r
  - Enabled realtime by adding \`public.threads\` and \`public.messages\` to \`supabase_realtime\`.\r
- Platforms (WhatsApp)\r
  - Fetch sessions from WAHA (\`/api/sessions\` and \`/api/sessions/{name}\`); removed dependency on webhook \`/get_sessions\` calls in UI.\r
  - Filter sessions to selected channel; debounced refresh; fixed infinite refresh loop on Platforms page.\r
  - QR polling uses WAHA session endpoint; Disconnect/Delete refresh safely.\r
- Conversations\r
  - Live-updating conversation list and counts via realtime subscriptions to \`threads\` and \`messages\` (debounced).\r
- UI\r
  - Delete Channel button shows spinner + “Deleting…” and subtle pulse while processing.\r
- Changelog\r
  - Source from root \`CHANGELOG.md\` only; removed \`public/CHANGELOG.md\`; scripts updated to skip copy.\r
\r
# [0.0.24] FE WEB CEKAT 2025-09-30\r
### Updates\r
- Enhance message handling in ConversationPage and useConversations hooks.\r
- Optimistic UI updates for message status\r
\r
# [0.0.23] FE WEB CEKAT 2025-10-02\r
### Updates\r
- Live Chat\r
  - New embedded-only chat page at \`/livechat/:platform_id\` with blue-white palette, gradient background, glassy card, and clearer borders.\r
  - Sound notifications: low note on send, high note on AI reply; ringtone-style sequences; support external audio and synthesized chimes.\r
  - Netlify SPA routing for \`/livechat/*\` via redirects in \`netlify.toml\` and \`public/_redirects\`.\r
\r
- Connected Platforms\r
  - Live chat link and embed now use \`https://classy-frangollo-337599.netlify.app/livechat/{platform_id}\`.\r
  - Added Super Agent section (single-select; master-only). Human Agents now a searchable multi-select of regular agents only.\r
  - Removed “Teams” card. Agent chips show proper names and can be removed.\r
\r
- Platform Forms (Web, WhatsApp, Telegram)\r
  - Enforce Super Agent selection; filter AI/Human Agents by the selected Super Agent.\r
  - Fixed Telegram \`useEffect\` import error; safer webhook response handling.\r
  - Only selected human agents are attached on create.\r
\r
- Hooks and data\r
  - \`usePlatforms\`: join \`channel_agents\`; insert/remove on create/update; read/update \`channels.credentials.super_agent_id\`.\r
  - \`useAIAgents\`/\`LiveChat\`: dropped non-existent \`model\`; filter by \`super_agent_id\`.\r
  - \`useHumanAgents\`: include \`super_agent_id\` via \`super_agent_members\`.\r
\r
- Human Agents page\r
  - Clustering UI to manage Super Agents → Agents & AI Agents; token totals by cluster.\r
\r
- Database (Supabase)\r
  - New \`super_agent_members\` table (RLS) and \`ai_profiles.super_agent_id\` (NOT NULL).\r
  - Added \`users_profile.used_tokens\` plus \`refresh_used_tokens_for_super_agents\` function and trigger to aggregate token usage per super agent.\r
  - Deployed and backfilled via Supabase MCP; membership mappings added where needed.\r
\r
- Fixes\r
  - Resolved SPA 404s for \`/livechat/*\`.\r
  - Fixed \`users_profile.email\` and \`ai_profiles.model\` 42703 errors.\r
  - Ensured agent removal updates \`channel_agents\` and access.\r
\r
# [0.0.22] FE WEB CEKAT 2025-09-30\r
### Updates\r
- Fix platform creating for telegram\r
- Add saving functionality for selected AI agent in ConnectedPlatforms and prevent duplicate Telegram bot tokens in TelegramPlatform Form\r
- Enhance AI Agent Settings: Implement file upload functionality with Supabase integration, including upload progress tracking and error handling. Update UI to reflect file statuses and permissions. Add new knowledgebase endpoints for file management.\r
- Enhance file upload process in AIAgentSettings: pre-compute content hash for stable key, include additional metadata (storageName, storageSize, storageUpdatedAt) in upload response, and improve file validation checks.\r
\r
# [0.0.21] FE WEB CEKAT 2025-09-30\r
### Updates\r
- Update CHANGELOG and enhance Analytics and HumanAgents components. \r
- Added token usage tracking in Analytics with visualizations for daily usage and top models. \r
- Improved token aggregation logic in HumanAgents to account for super-agent clusters.\r
\r
# [0.0.20] FE WEB CEKAT 2025-09-30\r
### Updates\r
- Platform agent assignment\r
  - Persist selected agents on create to \`channel_agents\`; updates replace assignments.\r
  - Agents now only see platforms they’re assigned to; master/super see all.\r
  - Platforms list shows only attached human agents (no more org-wide members).\r
\r
- Platform details UI\r
  - New Super Agent section: shows assigned super agent; single-select; editable by master agents only; stored in \`channels.credentials.super_agent_id\`.\r
  - Human Agent manager: chips with remove (X) + searchable multi-select to add; lists only regular agents (excludes super/master).\r
  - Removed unused “Teams” card; unified details behavior across providers.\r
\r
- Telegram platform creation\r
  - Hits \`POST /telegram/create-platform\` (CREATE_PLATFORM) before channel insert.\r
  - Sends \`brand_name, display_name, description, telegram_bot_token, ai_profile_id, human_agent_ids, org_id\`.\r
  - Robust response handling for empty/non-JSON bodies; emits refresh after success.\r
\r
- Data fetching and names\r
  - Human agent names prefer \`users_profile.display_name\` with fallback to \`v_users.display_name\`; email sourced from \`v_users\`.\r
  - Fixed error when \`users_profile.email\` was selected (column doesn’t exist).\r
\r
- Components\r
  - Added \`ui/multi-select\` (popover + search + checkbox) for multi-add of agents.\r
\r
- Fixes\r
  - Agent chips now display the correct agent name (not internal IDs).\r
  - Only the agents selected during platform creation are attached (no more “all agents” issue).\r
  - Resolved Telegram JSON parse errors and \`42703 users_profile.email\` error.\r
\r
# [0.0.19] FE WEB CEKAT 2025-09-23\r
### Updates\r
- Automatically switch to the Resolved tab when only closed conversations are present\r
- Updated Resolved tab UI to display the count of closed conversations.\r
\r
# [0.0.18] FE WEB CEKAT 2025-09-20\r
### Updates\r
- Added provider tabs (WhatsApp, Telegram, Live Chat) to filter the list; auto-select first item in active tab\r
- Replaced black status dot with green (active) / gray (inactive) indicator\r
\r
# [0.0.17] FE WEB CEKAT 2025-09-20\r
### Updates\r
- Scope data fetching and realtime to visible pages and active routes (Conversations, Human Agents, Platforms, Contacts, AI Agents, RBAC, Analytics)\r
- Add tab-visibility guards to avoid background fetch on tab-restore; hydrate from cache first where applicable\r
- Standardize React Query defaults (staleTime=60s, gc=5m, disable refetch on focus/reconnect)\r
- Reduce audit log verbosity: ignore refresh/update events; add 3s debounce in \`logAction\`; include current route in log context\r
- Analytics\r
  - Default to last 30 days and align to full-day UTC boundaries\r
  - Prevent invalid date ranges (From ≤ To; To ≥ From) with input min/max and clamping\r
  - Fetch once per change; removed duplicate initial fetch\r
- UI consistency: set Telegram Platform create button to blue\r
- Utilities: add \`isDocumentHidden\` and \`onDocumentVisible\` helpers\r
\r
# [0.0.16] FE WEB CEKAT 2025-09-19\r
### Updates\r
- Enhance real-time synchronization for conversations and messages; always fetch fresh data on mount\r
\r
# [0.0.15] FE WEB CEKAT 2025-09-19\r
### Updates\r
- Auth/OTP: eliminate redirect flicker by gating on \`otpEvaluated\`; \`ProtectedRoute\` and \`Otp\` now wait for evaluation; \`ResetPassword\` handles magic-link \`?code=\` with \`exchangeCodeForSession\`.\r
- Changelog page: render Markdown (react-markdown + GFM), Tailwind Typography, compact heading sizes; added Netlify \`public/_redirects\`; added \`prebuild\`/\`predev\` to copy root \`CHANGELOG.md\` to \`public/\`.\r
- Build: remove top-level await in \`main.tsx\` (wrap in async IIFE).\r
- Analytics (global): add graceful fallback when \`get_containment_and_handover\` is missing; improved handover reason labels; added per-user analytics (Assigned To, Takeovers Initiated, Resolved By, AI→Agent Handovers).\r
- Human Agents:\r
  - Create Agent dialog with loader; 2FA enable checkbox on create; colored CTAs.\r
  - Add confirmation dialog with loader for deletion; wire hard delete.\r
  - Status changed to Active/Inactive; add \`users_profile.is_active\` column and update UI/actions.\r
  - Edit dialog shows “Require Email 2FA” switch and token limits; loads/saves \`is_2fa_email_enabled\`.\r
  - Role badges and submenu restyled (blue/green/gray).\r
- Edge Functions: \`admin-create-user\` (invite + profile + role, CORS) and \`admin-delete-user\` (hard delete auth user and related rows).\r
- Logging: \`logAction\` falls back to default org when \`org_id\` cannot be resolved (fixes audit log NOT NULL).\r
- UI theming: replaced remaining dark/black buttons with blue/green/red where appropriate.\r
\r
# [0.0.14] FE WEB CEKAT 2025-09-19\r
### Updates\r
- Fix changelog is not accessible in staging\r
\r
# [0.0.13] FE WEB CEKAT 2025-09-19\r
### Updates\r
- Implement OTP flow for login and enhance ProtectedRoute for OTP verification. \r
- Added new Otp and Logout pages\r
- Updated AuthContext to manage OTP state \r
- Modified Login component to handle OTP requirements.\r
\r
# [0.0.12] FE WEB CEKAT 2025-09-18\r
### Updates\r
- Enhance authentication flow with local storage caching and session restoration\r
- Implemented local storage caching for AI agents and conversations to improve performance and reduce flicker on refresh.\r
- Added session restoration from local storage to ensure user authentication state is maintained across page reloads.\r
- Updated AuthContext to prioritize local storage for session data before reconciling with Supabase.\r
- Introduced a loading state management to handle UI updates more smoothly during data fetching.\r
\r
# [0.0.11] FE WEB CEKAT 2025-09-17\r
### Updates\r
- Audit Logs self-read policy for non-master users.\r
- Added \`get_audit_logs\` RPC with server-side filters, paging, and master-only org-wide access.\r
- Analytics foundations: date-range controls and labeled charts; wired to secure RPCs.\r
- KPI RPCs: \`get_chats_timeseries\` and \`get_response_time_stats\` (avg/median/p90) with Asia/Jakarta bucketing.\r
- RBAC and conversation label changes now emit audit log entries.\r
- Analytics UI now uses new KPI RPCs with channel filter, time-series, and labeled bars.\r
- Containment/Handover groundwork: added \`threads.resolution\`, \`end_reason\`, \`handover_reason\`, AI auto-resolution trigger.\r
- Analytics RPCs: \`get_containment\` (with previous period) and \`get_handover_stats\` (reason breakdown).\r
- Server-side validation: handover reason now required when handover happens; added helpful indexes for analytics.\r
- Added \`get_non_contained\` RPC for drilldown of non-contained conversations.\r
- Containment/Handover dashboard cards with drilldown and reason pie chart.\r
- RBAC policy engine scaffold: \`rbac_policies\` table, RPCs (\`get_role_policy\`, \`put_role_policy\`, \`apply_role_policy\`), extended \`has_perm\` to honor policies.\r
- Role Policy editor UI (matrix) to manage per-resource actions; policy changes logged.\r
- Added docs/ANALYTICS_AND_LOGS.md covering RPCs, validation, and telemetry.\r
- Added PII sanitization tests for log CSV export.\r
- Added analytics time-series, containment, handover, and RBAC policy tests; basic E2E seed.\r
- TODO roadmap (server-validated) added for Analytics KPIs, Containment/Handover, RBAC policies, indexes, docs, and tests.\r
- implement OTP flow in login\r
- enhance ProtectedRoute for OTP verification\r
\r
# [0.0.10] FE WEB CEKAT 2025-09-16\r
### Updates\r
- fix: remove duplicate import of useRBAC in ConversationPage component\r
\r
# [0.0.9] FE WEB CEKAT 2025-09-16\r
### Updates\r
- Created loggings for every users, and only admin can access.\r
- Made Role Management for admins to setting the role.\r
\r
# [0.0.8] FE WEB CEKAT 2025-09-14\r
### Updates\r
- Replaced thread participants with collaborators in the database schema.\r
- Implemented checks for user collaboration status on conversations.\r
- Enhanced thread assignment logic to ensure proper user assignment and audit fields.\r
- Updated UI elements for chat takeover functionality to reflect new collaborator roles.\r
\r
# [0.0.7] FE WEB CEKAT 2025-09-13\r
### Updates\r
- Removed static permission constants in favor of direct string references for better alignment with database values.\r
- Updated components to utilize new permission string format, enhancing consistency across the application.\r
- Improved navigation logic to enforce permission checks when syncing active tabs, ensuring users only access permitted items.\r
- Streamlined permission-related code in various components, enhancing maintainability and readability.\r
\r
# [0.0.6] FE WEB CEKAT 2025-09-03\r
### Updates\r
- Implement OpenAI usage tracking and enhance analytics component\r
- Added OpenAI API key configuration to .env for usage tracking.\r
- Refactored vite.config.ts to include a usage proxy plugin for fetching OpenAI usage data.\r
- Enhanced Analytics component to display OpenAI token usage with dynamic date range selection and improved UI elements.\r
- Integrated charts to visualize input, output, and total tokens over selected time ranges.\r
- Implemented error handling and loading states for better user experience during data fetching.\r
\r
# [0.0.5] FE WEB CEKAT 2025-09-03\r
### Updates\r
- Updated PermissionNavItem and NavigationItem interfaces to use string arrays for permissions instead of PermissionName type for better flexibility.\r
- Modified NAVIGATION_CONFIG to replace permission constants with string representations for improved readability and consistency.\r
- Enhanced RBACProvider's hasPermission function to support various permission formats, including direct matches and synonyms for better user experience.\r
- Integrated a new PermissionsPage component into the main Index page, ensuring proper permission checks with PermissionGate.\r
\r
\r
# [0.0.4] FE WEB CEKAT 2025-09-03\r
### Updates\r
- Integrate RBAC and enhance agent management features\r
- Added RBACProvider to App component for role-based access control.\r
- Updated HumanAgents component to utilize PermissionGate for role management and agent creation.\r
- Refactored agent role handling to support new roles: master_agent and super_agent.\r
- Enhanced ConversationPage to display channel provider information for better context.\r
- Improved useHumanAgents hook to fetch agents from the new v_users view, streamlining data retrieval and role assignment.\r
\r
# [0.0.3] FE WEB CEKAT 2025-09-03\r
### Updates\r
- Implement WhatsApp session polling and enhance deletion handling\r
- Added polling mechanism to check WhatsApp session status while the QR modal is open, improving user feedback on connection status.\r
- Introduced loading state management for channel deletion actions to prevent multiple submissions and enhance user experience.\r
- Removed phone number input from WhatsAppPlatformForm as per updated requirements, streamlining the form submission process.\r
\r
# [0.0.2] FE WEB CEKAT 2025-09-01\r
### Updates\r
- Deleted AUTHENTICATION_SETUP.md, CHAT_SETUP.md, HUMAN_AGENTS_SETUP.md, sample_data.sql, and simple_sample_data.sql as they are no longer relevant to the current project structure.\r
- Updated package.json version to 0.0.1 and removed unnecessary dev dependencies from package-lock.json.\r
- Enhanced Login component to display the current version of the application.\r
- Enhanced Whatsapp channel connecting flow and validation\r
\r
# [0.0.1] FE WEB CEKAT 2025-09-01\r
### Updates\r
- Enhance ClientEditProfileForm: Make company industry selection read-only for non-admin users`;function hDe(){const e=fDe;return l.jsx("div",{className:"min-h-screen bg-background text-foreground p-6 flex justify-center",children:l.jsx($e,{className:"w-full max-w-2xl",children:l.jsx(et,{children:l.jsx("article",{className:"prose prose-sm md:prose-base dark:prose-invert max-w-none prose-headings:font-semibold prose-h1:text-2xl prose-h2:text-xl prose-h3:text-lg prose-h1:mt-4 prose-h1:mb-2 prose-h2:mt-2 prose-h2:mb-2 prose-h3:mt-1 prose-h3:mb-1 prose-p:my-1 prose-li:my-0 prose-ul:my-2",children:l.jsx(JIe,{remarkPlugins:[dDe],children:e})})})})})}function iI(){const{platform_id:e,platformId:t}=UK(),n=g.useMemo(()=>e||t||"unknown",[e,t]),[r,i]=g.useState([]),[a,o]=g.useState(""),[s,c]=g.useState(!1),[u,f]=g.useState(!0),[d,h]=g.useState("session_"+Date.now()),[p,m]=g.useState(null),[v,y]=g.useState(""),[x,w]=g.useState(null),[b,j]=g.useState(!1),[_,S]=g.useState(null),k=g.useRef(null),E=g.useRef(null),O=g.useRef(null),N=g.useRef(null),A="/tones/mixkit-message-pop-alert-2354.mp3",I="/tones/mixkit-long-pop-2358.wav",M=()=>{const T=window.AudioContext||window.webkitAudioContext;return E.current=E.current??new T,E.current},L=(T,C,U,G,ne=.05,q="sine")=>{const J=T.createOscillator(),K=T.createGain();J.type=q,J.frequency.value=U,K.gain.value=1e-4,J.connect(K),K.connect(T.destination);const re=C+G/1e3;K.gain.setValueAtTime(1e-4,C),K.gain.exponentialRampToValueAtTime(ne,C+.02),K.gain.setValueAtTime(ne,Math.max(C+.02,re-.05)),K.gain.exponentialRampToValueAtTime(1e-4,re),J.start(C),J.stop(re)},z=(T,C=110,U=.06)=>{try{const G=M(),ne=G.currentTime+.01;T.forEach((q,J)=>{const K=ne+J*C/1e3,re=C*.9;Array.isArray(q)?q.forEach(Z=>L(G,K,Z,re,U,"sine")):L(G,K,q,re,U,"triangle")})}catch{}},F=async T=>{var C,U;try{const ne=(T==="low"?(C=window.chatConfig)==null?void 0:C.sendToneUrl:(U=window.chatConfig)==null?void 0:U.replyToneUrl)||(T==="low"?A:I),q=T==="low"?O.current??(O.current=new Audio(ne)):N.current??(N.current=new Audio(ne));return q.src!==ne&&(q.src=ne),q.currentTime=0,q.volume=T==="low"?.35:.45,await q.play(),!0}catch{return!1}},B=async()=>{await F("low")||z([493.88,523.25,493.88,523.25],110,.045)},D=async()=>{await F("high")||z([1046.5,1318.5,1568,[1046.5,1318.5,1568,2093]],120,.06)};g.useEffect(()=>{try{const T=typeof window<"u"?window.location.host:"unknown",C=`livechat_username_${n}_${T}`;let U="";try{U=localStorage.getItem(C)||""}catch{}if(!U){const G=["Happy","Bright","Calm","Brave","Kind","Sunny","Lucky","Cheerful","Swift","Clever"],ne=["User","Visitor","Friend","Guest","Buddy","Pal","Explorer","Champion","Star","Hero"],q=G[Math.floor(Math.random()*G.length)],J=ne[Math.floor(Math.random()*ne.length)],K=Math.floor(100+Math.random()*900);U=`${q} ${J} ${K}`;try{localStorage.setItem(C,U)}catch{}}y(U)}catch{}},[n]),g.useEffect(()=>{var T;(T=k.current)==null||T.scrollIntoView({behavior:"smooth"})},[r.length]),g.useEffect(()=>{(async()=>{try{const{data:C,error:U}=await Q.from("channels").select("count").limit(1);U?(console.error("Supabase connection error:",U),console.log("This might be due to RLS policies or missing permissions")):console.log("Supabase connection successful")}catch(C){console.error("Supabase connection test failed:",C)}})()},[]),g.useEffect(()=>()=>{_&&S(null)},[_]),g.useEffect(()=>{if(!p)return;const C=setInterval(async()=>{try{const{data:U}=await Q.from("messages").select("id, role, body, created_at").eq("thread_id",p).order("created_at",{ascending:!0});Array.isArray(U)&&i(G=>{const ne=new Map;G.forEach(J=>ne.set(J.id,J));for(const J of U){if(!(J!=null&&J.id))continue;const K=J.role==="agent"||J.role==="assistant"?"assistant":"user";if(K==="user"){console.log("Skipping user message from periodic refresh:",J.id);continue}const re={id:J.id,role:K,body:J.body||"",at:J.created_at||new Date().toISOString()};ne.set(re.id,re)}const q=Array.from(ne.values());return q.sort((J,K)=>new Date(J.at).getTime()-new Date(K.at).getTime()),q})}catch(U){console.error("Error refreshing messages:",U)}},2e3);return()=>clearInterval(C)},[p]),g.useEffect(()=>{n&&n!=="unknown"&&(async()=>{try{console.log("Fetching AI profile ID for platform:",n);const{data:C,error:U}=await Q.from("channels").select("ai_profile_id").eq("id",n).single();U?(console.error("Error fetching channel:",U),U.code==="42501"&&(console.log("Permission denied - this might be due to RLS policies"),console.log("Please check Supabase RLS policies for the channels table"),j(!0))):(console.log("Channel data:",C),C!=null&&C.ai_profile_id&&(w(C.ai_profile_id),console.log("Set AI profile ID:",C.ai_profile_id)))}catch(C){console.error("Error fetching AI profile ID:",C)}})()},[n]),g.useEffect(()=>{let T=null,C=null;const U=q=>{!q||q.length===0||(console.log("Upserting rows:",q),i(J=>{const K=new Map;J.forEach(Z=>K.set(Z.id,Z));for(const Z of q){if(!(Z!=null&&Z.id))continue;const Y=Z.role==="agent"||Z.role==="assistant"?"assistant":"user",he={id:Z.id,role:Y,body:Z.body||"",at:Z.created_at||new Date().toISOString()};if(Y==="user"){for(const[W,ee]of K.entries())if(ee.id.startsWith("temp-")&&ee.role==="user"&&ee.body===Z.body&&Math.abs(new Date(ee.at).getTime()-new Date(Z.created_at).getTime())<1e4){K.delete(W),console.log("Replaced temp user message with real one:",W,"->",Z.id);break}}if(Y==="assistant"&&_){for(const[W,ee]of K.entries())if(ee.id===_){K.delete(W),console.log("Removed streaming message:",W);break}}K.has(he.id)?console.log("Skipped duplicate message:",he.id):(K.set(he.id,he),console.log("Added new message:",he.id,he.role,he.body.substring(0,50)))}const re=Array.from(K.values());return re.sort((Z,Y)=>new Date(Z.at).getTime()-new Date(Y.at).getTime()),console.log("Updated messages:",re.map(Z=>({id:Z.id,role:Z.role,body:Z.body.substring(0,20)}))),re}))},G=async q=>{m(q);try{const{data:J}=await Q.from("messages").select("id, role, body, created_at").eq("thread_id",q).order("created_at",{ascending:!0});Array.isArray(J)&&U(J)}catch{}T=Q.channel(`livechat-msgs-${q}`).on("postgres_changes",{event:"*",schema:"public",table:"messages",filter:`thread_id=eq.${q}`},J=>{const K=J==null?void 0:J.eventType,re=(J==null?void 0:J.new)||(J==null?void 0:J.old);if(re){if(console.log("Realtime message received:",{ev:K,row:re,streamingMessageId:_}),(re==null?void 0:re.role)==="user"){console.log("Skipping ALL user messages from realtime to prevent duplicates:",re.id);return}((re==null?void 0:re.role)==="agent"||(re==null?void 0:re.role)==="assistant")&&(console.log("Processing agent message from realtime:",re.id),U([re])),K==="INSERT"&&(re==null?void 0:re.role)==="agent"&&_&&S(null)}}).subscribe(),f(!1)};return(async()=>{try{const{data:q}=await Q.from("threads").select("id, contact_id, contacts(name)").eq("channel_id",n).eq("contacts.name",v).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(q!=null&&q.id){await G(q.id);return}}catch{}C=Q.channel(`livechat-threads-${n}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"threads",filter:`channel_id=eq.${n}`},async q=>{var re,Z;const J=(re=q==null?void 0:q.new)==null?void 0:re.id,K=(Z=q==null?void 0:q.new)==null?void 0:Z.contact_id;if(!(!J||!K))try{const{data:Y}=await Q.from("contacts").select("id, name").eq("id",K).maybeSingle();Y!=null&&Y.name&&v&&Y.name===v&&await G(J)}catch{}}).subscribe(()=>f(!1))})(),()=>{try{T&&Q.removeChannel(T)}catch{}try{C&&Q.removeChannel(C)}catch{}}},[n,v]);const $=async()=>{const T=a.trim();if(!T)return;o("");const C=`temp-${Date.now()}`;i(q=>[...q,{id:C,role:"user",body:T,at:new Date().toISOString()}]),B(),c(!0);const U=setTimeout(()=>{i(q=>(q.findIndex(K=>K.id===C)>=0&&console.log("User message timeout: keeping temp message visible"),q))},3e3),G=`streaming-${Date.now()}`;S(G);const ne=setTimeout(()=>{_===G&&(console.log("Streaming timeout, falling back to realtime"),S(null),i(q=>q.map(J=>J.id===G?{...J,streaming:!1,body:J.body||"Waiting for response..."}:J)))},1e4);try{const q={message:T,session_id:d,timestamp:new Date().toISOString(),channel_id:n,username:v||void 0,ai_profile_id:x,stream:!0};console.log("Sending request to webhook:",at.buildUrl(at.ENDPOINTS.AI_AGENT.CHAT_SETTINGS)),console.log("Request body:",q);const J=await fetch(at.buildUrl(at.ENDPOINTS.AI_AGENT.CHAT_SETTINGS),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(q)});if(console.log("Webhook response status:",J.status),console.log("Webhook response headers:",J.headers),!J.ok)throw new Error(`Webhook failed ${J.status}`);if(J.body){console.log("Processing streaming response...");const K=J.body.getReader(),re=new TextDecoder;let Z="";try{for(;;){const{done:Y,value:he}=await K.read();if(Y)break;Z+=re.decode(he,{stream:!0});const W=Z.split(`
`);Z=W.pop()||"";for(const ee of W)if(ee.trim()!=="")try{if(ee.startsWith("data: ")){const fe=ee.slice(6);if(fe==="[DONE]"){i(Pe=>Pe.map(de=>de.id===G?{...de,streaming:!1}:de)),S(null);break}const xe=JSON.parse(fe);if(console.log("Parsed streaming data:",xe),xe.content||xe.delta){const Pe=xe.content||xe.delta;console.log("Streaming content:",Pe),i(de=>{const Te=de.findIndex(Ye=>Ye.id===G);if(Te>=0){const Ye=de.slice();return Ye[Te]={...Ye[Te],body:Ye[Te].body+Pe},Ye}else return[...de,{id:G,role:"assistant",body:Pe,at:new Date().toISOString(),streaming:!0}]})}}else{const fe=JSON.parse(ee);if(fe.content||fe.delta){const xe=fe.content||fe.delta;i(Pe=>{const de=Pe.findIndex(Te=>Te.id===G);if(de>=0){const Te=Pe.slice();return Te[de]={...Te[de],body:Te[de].body+xe},Te}else return[...Pe,{id:G,role:"assistant",body:xe,at:new Date().toISOString(),streaming:!0}]})}}}catch{i(xe=>{const Pe=xe.findIndex(de=>de.id===G);if(Pe>=0){const de=xe.slice();return de[Pe]={...de[Pe],body:de[Pe].body+ee},de}else return[...xe,{id:G,role:"assistant",body:ee,at:new Date().toISOString(),streaming:!0}]})}}}finally{K.releaseLock()}}else{console.log("No streaming response body, trying JSON response...");try{const K=await J.json();console.log("Non-streaming response data:",K);const re=K.output||K.content||K.message||"Sorry, I couldn't process your message.";i(Z=>{const Y=Z.findIndex(he=>he.id===G);if(Y>=0){const he=Z.slice();return he[Y]={...he[Y],body:re,streaming:!1},he}else return[...Z,{id:G,role:"assistant",body:re,at:new Date().toISOString(),streaming:!1}]}),S(null)}catch(K){console.error("Failed to parse JSON response:",K),i(re=>[...re,{id:G,role:"assistant",body:"I'm processing your message, please wait...",at:new Date().toISOString(),streaming:!1}]),S(null)}}D(),setTimeout(()=>{p&&Q.from("messages").select("id, role, body, created_at").eq("thread_id",p).order("created_at",{ascending:!0}).then(({data:K})=>{Array.isArray(K)&&i(re=>{const Z=new Map;re.forEach(he=>Z.set(he.id,he));for(const he of K){if(!(he!=null&&he.id))continue;const W=he.role==="agent"||he.role==="assistant"?"assistant":"user";if(W==="user"){console.log("Skipping user message from immediate refresh:",he.id);continue}const ee={id:he.id,role:W,body:he.body||"",at:he.created_at||new Date().toISOString()};Z.set(ee.id,ee)}const Y=Array.from(Z.values());return Y.sort((he,W)=>new Date(he.at).getTime()-new Date(W.at).getTime()),Y})})},1e3)}catch(q){console.error("Streaming error:",q),i(J=>J.filter(K=>K.id!==G).concat({id:crypto.randomUUID(),role:"assistant",body:"Sorry, I'm having trouble right now. Please try again later.",at:new Date().toISOString()})),S(null),D()}finally{clearTimeout(ne),clearTimeout(U),c(!1)}},P=T=>{T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),$())},R=T=>new Date(T).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white flex items-center justify-center",children:l.jsx("div",{className:"mx-auto w-full max-w-xl h-full",children:l.jsx($e,{className:"border border-blue-100 shadow-xl rounded-2xl bg-white/90 backdrop-blur",children:l.jsxs(et,{className:"p-0",children:[l.jsx("div",{className:"flex items-center justify-between px-4 py-3 rounded-t-2xl bg-gradient-to-r from-blue-600 to-blue-500 text-white",children:l.jsx("div",{className:"text-sm font-medium tracking-wide",children:"Live Chat"})}),l.jsx(ic,{className:"h-[450px] p-4",children:l.jsxs("div",{className:"space-y-3",children:[u&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[l.jsx(kt,{className:"h-4 w-4 animate-spin text-blue-600"}),"Preparing chat…"]}),b&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-500 bg-red-50 p-3 rounded-lg",children:[l.jsx("div",{className:"w-4 h-4 text-red-500",children:"⚠️"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Database Permission Error"}),l.jsx("div",{className:"text-xs",children:"Please check Supabase RLS policies. See console for details."})]})]}),r.map(T=>!T.body||T.streaming&&T.body.trim()===""?null:l.jsx("div",{className:`flex ${T.role==="user"?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:"max-w-[80%] space-y-1",children:[l.jsx("div",{className:`px-4 py-2 text-sm rounded-2xl shadow-sm transition-colors ${T.role==="user"?"bg-blue-600 text-white rounded-br-md":"bg-white text-slate-900 border border-blue-100 rounded-bl-md"}`,children:l.jsx("span",{className:"whitespace-pre-wrap",children:T.body})}),l.jsx("div",{className:`text-[10px] ${T.role==="user"?"text-blue-200 text-right":"text-slate-400"}`,children:R(T.at)})]})},T.id)),s&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[l.jsx(kt,{className:"h-4 w-4 animate-spin text-blue-600"}),"Typing…"]}),l.jsx("div",{ref:k})]})}),l.jsx("div",{className:"p-3 border-t border-blue-100 rounded-b-2xl bg-blue-50/40",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ht,{placeholder:"Type a message",value:a,onChange:T=>o(T.target.value),onKeyPress:P,className:"rounded-full h-10 px-4 border-blue-200 focus-visible:ring-blue-500 placeholder:text-slate-400"}),l.jsx(ae,{onClick:$,disabled:!a.trim(),className:"rounded-full h-10 w-10 p-0 bg-blue-600 hover:bg-blue-700 text-white",children:l.jsx(yf,{className:"h-4 w-4"})})]})})]})})})})}const pDe=new uK({defaultOptions:{queries:{staleTime:6e4,gcTime:5*6e4,refetchOnWindowFocus:!1,refetchOnReconnect:!1,retry:1},mutations:{retry:0}}}),mDe=()=>l.jsx(fK,{client:pDe,children:l.jsx(OX,{children:l.jsx(IX,{children:l.jsxs(UV,{children:[l.jsx(Sq,{}),l.jsx(t7,{}),l.jsx(uG,{children:l.jsxs(nG,{children:[l.jsx(fi,{path:"/",element:l.jsx(g0,{children:l.jsx(nPe,{})})}),l.jsx(fi,{path:"/profile",element:l.jsx(g0,{children:l.jsx(iPe,{})})}),l.jsx(fi,{path:"/reset-password",element:l.jsx(s2,{})}),l.jsx(fi,{path:"/invite",element:l.jsx(s2,{})}),l.jsx(fi,{path:"/otp",element:l.jsx(g0,{children:l.jsx(xPe,{})})}),l.jsx(fi,{path:"/logout",element:l.jsx(bPe,{})}),l.jsx(fi,{path:"/changelog",element:l.jsx(hDe,{})}),l.jsx(fi,{path:"/livechat/:platform_id",element:l.jsx(iI,{})}),l.jsx(fi,{path:"/livechat/:platformId",element:l.jsx(iI,{})}),l.jsx(fi,{path:"*",element:l.jsx(wPe,{})})]})})]})})})}),gDe="sb-tgrmxlbnutxpewfmofdx-auth-token";async function vDe(){var e,t;try{const n=localStorage.getItem(gDe);if(!n)return;const r=JSON.parse(n),i=(r==null?void 0:r.access_token)||((e=r==null?void 0:r.currentSession)==null?void 0:e.access_token),a=(r==null?void 0:r.refresh_token)||((t=r==null?void 0:r.currentSession)==null?void 0:t.refresh_token);i&&a&&await Q.auth.setSession({access_token:i,refresh_token:a})}catch{}}(async()=>{try{await vDe()}catch{}CM(document.getElementById("root")).render(l.jsx(mDe,{}))})();
