var IC=e=>{throw TypeError(e)};var kx=(e,t,n)=>t.has(e)||IC("Cannot "+n);var se=(e,t,n)=>(kx(e,t,"read from private field"),n?n.call(e):t.get(e)),pt=(e,t,n)=>t.has(e)?IC("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),We=(e,t,n,r)=>(kx(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Fn=(e,t,n)=>(kx(e,t,"access private method"),n);var Zh=(e,t,n,r)=>({set _(i){We(e,t,i,n)},get _(){return se(e,t,r)}});function Hz(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var fn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Et(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function qz(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var fI={exports:{}},bv={},hI={exports:{}},nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yh=Symbol.for("react.element"),Vz=Symbol.for("react.portal"),Kz=Symbol.for("react.fragment"),Gz=Symbol.for("react.strict_mode"),Yz=Symbol.for("react.profiler"),Xz=Symbol.for("react.provider"),Qz=Symbol.for("react.context"),Jz=Symbol.for("react.forward_ref"),Zz=Symbol.for("react.suspense"),e8=Symbol.for("react.memo"),t8=Symbol.for("react.lazy"),RC=Symbol.iterator;function n8(e){return e===null||typeof e!="object"?null:(e=RC&&e[RC]||e["@@iterator"],typeof e=="function"?e:null)}var pI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mI=Object.assign,gI={};function wu(e,t,n){this.props=e,this.context=t,this.refs=gI,this.updater=n||pI}wu.prototype.isReactComponent={};wu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};wu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function vI(){}vI.prototype=wu.prototype;function Q_(e,t,n){this.props=e,this.context=t,this.refs=gI,this.updater=n||pI}var J_=Q_.prototype=new vI;J_.constructor=Q_;mI(J_,wu.prototype);J_.isPureReactComponent=!0;var MC=Array.isArray,yI=Object.prototype.hasOwnProperty,Z_={current:null},xI={key:!0,ref:!0,__self:!0,__source:!0};function bI(e,t,n){var r,i={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)yI.call(t,r)&&!xI.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var c=Array(s),u=0;u<s;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:yh,type:e,key:a,ref:o,props:i,_owner:Z_.current}}function r8(e,t){return{$$typeof:yh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function eS(e){return typeof e=="object"&&e!==null&&e.$$typeof===yh}function i8(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var $C=/\/+/g;function Cx(e,t){return typeof e=="object"&&e!==null&&e.key!=null?i8(""+e.key):t.toString(36)}function Zp(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case yh:case Vz:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Cx(o,0):r,MC(i)?(n="",e!=null&&(n=e.replace($C,"$&/")+"/"),Zp(i,t,n,"",function(u){return u})):i!=null&&(eS(i)&&(i=r8(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace($C,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",MC(e))for(var s=0;s<e.length;s++){a=e[s];var c=r+Cx(a,s);o+=Zp(a,t,n,c,i)}else if(c=n8(e),typeof c=="function")for(e=c.call(e),s=0;!(a=e.next()).done;)a=a.value,c=r+Cx(a,s++),o+=Zp(a,t,n,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ep(e,t,n){if(e==null)return e;var r=[],i=0;return Zp(e,r,"","",function(a){return t.call(n,a,i++)}),r}function a8(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ir={current:null},em={transition:null},o8={ReactCurrentDispatcher:ir,ReactCurrentBatchConfig:em,ReactCurrentOwner:Z_};function wI(){throw Error("act(...) is not supported in production builds of React.")}nt.Children={map:ep,forEach:function(e,t,n){ep(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ep(e,function(){t++}),t},toArray:function(e){return ep(e,function(t){return t})||[]},only:function(e){if(!eS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};nt.Component=wu;nt.Fragment=Kz;nt.Profiler=Yz;nt.PureComponent=Q_;nt.StrictMode=Gz;nt.Suspense=Zz;nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o8;nt.act=wI;nt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=mI({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Z_.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)yI.call(t,c)&&!xI.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&s!==void 0?s[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){s=Array(c);for(var u=0;u<c;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:yh,type:e.type,key:i,ref:a,props:r,_owner:o}};nt.createContext=function(e){return e={$$typeof:Qz,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Xz,_context:e},e.Consumer=e};nt.createElement=bI;nt.createFactory=function(e){var t=bI.bind(null,e);return t.type=e,t};nt.createRef=function(){return{current:null}};nt.forwardRef=function(e){return{$$typeof:Jz,render:e}};nt.isValidElement=eS;nt.lazy=function(e){return{$$typeof:t8,_payload:{_status:-1,_result:e},_init:a8}};nt.memo=function(e,t){return{$$typeof:e8,type:e,compare:t===void 0?null:t}};nt.startTransition=function(e){var t=em.transition;em.transition={};try{e()}finally{em.transition=t}};nt.unstable_act=wI;nt.useCallback=function(e,t){return ir.current.useCallback(e,t)};nt.useContext=function(e){return ir.current.useContext(e)};nt.useDebugValue=function(){};nt.useDeferredValue=function(e){return ir.current.useDeferredValue(e)};nt.useEffect=function(e,t){return ir.current.useEffect(e,t)};nt.useId=function(){return ir.current.useId()};nt.useImperativeHandle=function(e,t,n){return ir.current.useImperativeHandle(e,t,n)};nt.useInsertionEffect=function(e,t){return ir.current.useInsertionEffect(e,t)};nt.useLayoutEffect=function(e,t){return ir.current.useLayoutEffect(e,t)};nt.useMemo=function(e,t){return ir.current.useMemo(e,t)};nt.useReducer=function(e,t,n){return ir.current.useReducer(e,t,n)};nt.useRef=function(e){return ir.current.useRef(e)};nt.useState=function(e){return ir.current.useState(e)};nt.useSyncExternalStore=function(e,t,n){return ir.current.useSyncExternalStore(e,t,n)};nt.useTransition=function(){return ir.current.useTransition()};nt.version="18.3.1";hI.exports=nt;var g=hI.exports;const H=Et(g),tS=Hz({__proto__:null,default:H},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s8=g,l8=Symbol.for("react.element"),c8=Symbol.for("react.fragment"),u8=Object.prototype.hasOwnProperty,d8=s8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f8={key:!0,ref:!0,__self:!0,__source:!0};function _I(e,t,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)u8.call(t,r)&&!f8.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:l8,type:e,key:a,ref:o,props:i,_owner:d8.current}}bv.Fragment=c8;bv.jsx=_I;bv.jsxs=_I;fI.exports=bv;var l=fI.exports,SI={exports:{}},Br={},jI={exports:{}},kI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,L){var A=$.length;$.push(L);e:for(;0<A;){var M=A-1>>>1,T=$[M];if(0<i(T,L))$[M]=L,$[A]=T,A=M;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var L=$[0],A=$.pop();if(A!==L){$[0]=A;e:for(var M=0,T=$.length,C=T>>>1;M<C;){var U=2*(M+1)-1,K=$[U],Q=U+1,Y=$[Q];if(0>i(K,A))Q<T&&0>i(Y,K)?($[M]=Y,$[Q]=A,M=Q):($[M]=K,$[U]=A,M=U);else if(Q<T&&0>i(Y,A))$[M]=Y,$[Q]=A,M=Q;else break e}}return L}function i($,L){var A=$.sortIndex-L.sortIndex;return A!==0?A:$.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var c=[],u=[],f=1,d=null,h=3,p=!1,m=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b($){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=$)r(u),L.sortIndex=L.expirationTime,t(c,L);else break;L=n(u)}}function S($){if(v=!1,b($),!m)if(n(c)!==null)m=!0,D(j);else{var L=n(u);L!==null&&B(S,L.startTime-$)}}function j($,L){m=!1,v&&(v=!1,x(E),E=-1),p=!0;var A=h;try{for(b(L),d=n(c);d!==null&&(!(d.expirationTime>L)||$&&!N());){var M=d.callback;if(typeof M=="function"){d.callback=null,h=d.priorityLevel;var T=M(d.expirationTime<=L);L=e.unstable_now(),typeof T=="function"?d.callback=T:d===n(c)&&r(c),b(L)}else r(c);d=n(c)}if(d!==null)var C=!0;else{var U=n(u);U!==null&&B(S,U.startTime-L),C=!1}return C}finally{d=null,h=A,p=!1}}var _=!1,k=null,E=-1,I=5,P=-1;function N(){return!(e.unstable_now()-P<I)}function O(){if(k!==null){var $=e.unstable_now();P=$;var L=!0;try{L=k(!0,$)}finally{L?R():(_=!1,k=null)}}else _=!1}var R;if(typeof w=="function")R=function(){w(O)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,W=F.port2;F.port1.onmessage=O,R=function(){W.postMessage(null)}}else R=function(){y(O,0)};function D($){k=$,_||(_=!0,R())}function B($,L){E=y(function(){$(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,D(j))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function($){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var A=h;h=L;try{return $()}finally{h=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,L){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var A=h;h=$;try{return L()}finally{h=A}},e.unstable_scheduleCallback=function($,L,A){var M=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?M+A:M):A=M,$){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=A+T,$={id:f++,callback:L,priorityLevel:$,startTime:A,expirationTime:T,sortIndex:-1},A>M?($.sortIndex=A,t(u,$),n(c)===null&&$===n(u)&&(v?(x(E),E=-1):v=!0,B(S,A-M))):($.sortIndex=T,t(c,$),m||p||(m=!0,D(j))),$},e.unstable_shouldYield=N,e.unstable_wrapCallback=function($){var L=h;return function(){var A=h;h=L;try{return $.apply(this,arguments)}finally{h=A}}}})(kI);jI.exports=kI;var h8=jI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p8=g,Lr=h8;function he(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var CI=new Set,Zd={};function al(e,t){Oc(e,t),Oc(e+"Capture",t)}function Oc(e,t){for(Zd[e]=t,e=0;e<t.length;e++)CI.add(t[e])}var Ra=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ab=Object.prototype.hasOwnProperty,m8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,DC={},LC={};function g8(e){return Ab.call(LC,e)?!0:Ab.call(DC,e)?!1:m8.test(e)?LC[e]=!0:(DC[e]=!0,!1)}function v8(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function y8(e,t,n,r){if(t===null||typeof t>"u"||v8(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ar(e,t,n,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var $n={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$n[e]=new ar(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$n[t]=new ar(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$n[e]=new ar(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$n[e]=new ar(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$n[e]=new ar(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$n[e]=new ar(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$n[e]=new ar(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$n[e]=new ar(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$n[e]=new ar(e,5,!1,e.toLowerCase(),null,!1,!1)});var nS=/[\-:]([a-z])/g;function rS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(nS,rS);$n[t]=new ar(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(nS,rS);$n[t]=new ar(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(nS,rS);$n[t]=new ar(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$n[e]=new ar(e,1,!1,e.toLowerCase(),null,!1,!1)});$n.xlinkHref=new ar("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$n[e]=new ar(e,1,!1,e.toLowerCase(),null,!0,!0)});function iS(e,t,n,r){var i=$n.hasOwnProperty(t)?$n[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(y8(t,n,i,r)&&(n=null),r||i===null?g8(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Va=p8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tp=Symbol.for("react.element"),zl=Symbol.for("react.portal"),Wl=Symbol.for("react.fragment"),aS=Symbol.for("react.strict_mode"),Nb=Symbol.for("react.profiler"),EI=Symbol.for("react.provider"),AI=Symbol.for("react.context"),oS=Symbol.for("react.forward_ref"),Pb=Symbol.for("react.suspense"),Tb=Symbol.for("react.suspense_list"),sS=Symbol.for("react.memo"),uo=Symbol.for("react.lazy"),NI=Symbol.for("react.offscreen"),FC=Symbol.iterator;function Xu(e){return e===null||typeof e!="object"?null:(e=FC&&e[FC]||e["@@iterator"],typeof e=="function"?e:null)}var Jt=Object.assign,Ex;function jd(e){if(Ex===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ex=t&&t[1]||""}return`
`+Ex+e}var Ax=!1;function Nx(e,t){if(!e||Ax)return"";Ax=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=s);break}}}finally{Ax=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?jd(e):""}function x8(e){switch(e.tag){case 5:return jd(e.type);case 16:return jd("Lazy");case 13:return jd("Suspense");case 19:return jd("SuspenseList");case 0:case 2:case 15:return e=Nx(e.type,!1),e;case 11:return e=Nx(e.type.render,!1),e;case 1:return e=Nx(e.type,!0),e;default:return""}}function Ob(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wl:return"Fragment";case zl:return"Portal";case Nb:return"Profiler";case aS:return"StrictMode";case Pb:return"Suspense";case Tb:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case AI:return(e.displayName||"Context")+".Consumer";case EI:return(e._context.displayName||"Context")+".Provider";case oS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case sS:return t=e.displayName||null,t!==null?t:Ob(e.type)||"Memo";case uo:t=e._payload,e=e._init;try{return Ob(e(t))}catch{}}return null}function b8(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ob(t);case 8:return t===aS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Lo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function PI(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function w8(e){var t=PI(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function np(e){e._valueTracker||(e._valueTracker=w8(e))}function TI(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=PI(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function xm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ib(e,t){var n=t.checked;return Jt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function BC(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Lo(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function OI(e,t){t=t.checked,t!=null&&iS(e,"checked",t,!1)}function Rb(e,t){OI(e,t);var n=Lo(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Mb(e,t.type,n):t.hasOwnProperty("defaultValue")&&Mb(e,t.type,Lo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function UC(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Mb(e,t,n){(t!=="number"||xm(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var kd=Array.isArray;function ac(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Lo(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function $b(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(he(91));return Jt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zC(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(he(92));if(kd(n)){if(1<n.length)throw Error(he(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Lo(n)}}function II(e,t){var n=Lo(t.value),r=Lo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function WC(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function RI(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Db(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?RI(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var rp,MI=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(rp=rp||document.createElement("div"),rp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=rp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ef(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Id={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_8=["Webkit","ms","Moz","O"];Object.keys(Id).forEach(function(e){_8.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Id[t]=Id[e]})});function $I(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Id.hasOwnProperty(e)&&Id[e]?(""+t).trim():t+"px"}function DI(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=$I(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var S8=Jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lb(e,t){if(t){if(S8[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(he(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(he(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(he(61))}if(t.style!=null&&typeof t.style!="object")throw Error(he(62))}}function Fb(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bb=null;function lS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ub=null,oc=null,sc=null;function HC(e){if(e=wh(e)){if(typeof Ub!="function")throw Error(he(280));var t=e.stateNode;t&&(t=kv(t),Ub(e.stateNode,e.type,t))}}function LI(e){oc?sc?sc.push(e):sc=[e]:oc=e}function FI(){if(oc){var e=oc,t=sc;if(sc=oc=null,HC(e),t)for(e=0;e<t.length;e++)HC(t[e])}}function BI(e,t){return e(t)}function UI(){}var Px=!1;function zI(e,t,n){if(Px)return e(t,n);Px=!0;try{return BI(e,t,n)}finally{Px=!1,(oc!==null||sc!==null)&&(UI(),FI())}}function tf(e,t){var n=e.stateNode;if(n===null)return null;var r=kv(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(he(231,t,typeof n));return n}var zb=!1;if(Ra)try{var Qu={};Object.defineProperty(Qu,"passive",{get:function(){zb=!0}}),window.addEventListener("test",Qu,Qu),window.removeEventListener("test",Qu,Qu)}catch{zb=!1}function j8(e,t,n,r,i,a,o,s,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var Rd=!1,bm=null,wm=!1,Wb=null,k8={onError:function(e){Rd=!0,bm=e}};function C8(e,t,n,r,i,a,o,s,c){Rd=!1,bm=null,j8.apply(k8,arguments)}function E8(e,t,n,r,i,a,o,s,c){if(C8.apply(this,arguments),Rd){if(Rd){var u=bm;Rd=!1,bm=null}else throw Error(he(198));wm||(wm=!0,Wb=u)}}function ol(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function WI(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qC(e){if(ol(e)!==e)throw Error(he(188))}function A8(e){var t=e.alternate;if(!t){if(t=ol(e),t===null)throw Error(he(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return qC(i),e;if(a===r)return qC(i),t;a=a.sibling}throw Error(he(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(he(189))}}if(n.alternate!==r)throw Error(he(190))}if(n.tag!==3)throw Error(he(188));return n.stateNode.current===n?e:t}function HI(e){return e=A8(e),e!==null?qI(e):null}function qI(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qI(e);if(t!==null)return t;e=e.sibling}return null}var VI=Lr.unstable_scheduleCallback,VC=Lr.unstable_cancelCallback,N8=Lr.unstable_shouldYield,P8=Lr.unstable_requestPaint,sn=Lr.unstable_now,T8=Lr.unstable_getCurrentPriorityLevel,cS=Lr.unstable_ImmediatePriority,KI=Lr.unstable_UserBlockingPriority,_m=Lr.unstable_NormalPriority,O8=Lr.unstable_LowPriority,GI=Lr.unstable_IdlePriority,wv=null,Zi=null;function I8(e){if(Zi&&typeof Zi.onCommitFiberRoot=="function")try{Zi.onCommitFiberRoot(wv,e,void 0,(e.current.flags&128)===128)}catch{}}var ki=Math.clz32?Math.clz32:$8,R8=Math.log,M8=Math.LN2;function $8(e){return e>>>=0,e===0?32:31-(R8(e)/M8|0)|0}var ip=64,ap=4194304;function Cd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Sm(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=Cd(s):(a&=o,a!==0&&(r=Cd(a)))}else o=n&~i,o!==0?r=Cd(o):a!==0&&(r=Cd(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ki(t),i=1<<n,r|=e[n],t&=~i;return r}function D8(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L8(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ki(a),s=1<<o,c=i[o];c===-1?(!(s&n)||s&r)&&(i[o]=D8(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}}function Hb(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function YI(){var e=ip;return ip<<=1,!(ip&4194240)&&(ip=64),e}function Tx(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xh(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ki(t),e[t]=n}function F8(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ki(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function uS(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ki(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ct=0;function XI(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var QI,dS,JI,ZI,eR,qb=!1,op=[],Co=null,Eo=null,Ao=null,nf=new Map,rf=new Map,po=[],B8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function KC(e,t){switch(e){case"focusin":case"focusout":Co=null;break;case"dragenter":case"dragleave":Eo=null;break;case"mouseover":case"mouseout":Ao=null;break;case"pointerover":case"pointerout":nf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rf.delete(t.pointerId)}}function Ju(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=wh(t),t!==null&&dS(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function U8(e,t,n,r,i){switch(t){case"focusin":return Co=Ju(Co,e,t,n,r,i),!0;case"dragenter":return Eo=Ju(Eo,e,t,n,r,i),!0;case"mouseover":return Ao=Ju(Ao,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return nf.set(a,Ju(nf.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,rf.set(a,Ju(rf.get(a)||null,e,t,n,r,i)),!0}return!1}function tR(e){var t=Ss(e.target);if(t!==null){var n=ol(t);if(n!==null){if(t=n.tag,t===13){if(t=WI(n),t!==null){e.blockedOn=t,eR(e.priority,function(){JI(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Vb(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Bb=r,n.target.dispatchEvent(r),Bb=null}else return t=wh(n),t!==null&&dS(t),e.blockedOn=n,!1;t.shift()}return!0}function GC(e,t,n){tm(e)&&n.delete(t)}function z8(){qb=!1,Co!==null&&tm(Co)&&(Co=null),Eo!==null&&tm(Eo)&&(Eo=null),Ao!==null&&tm(Ao)&&(Ao=null),nf.forEach(GC),rf.forEach(GC)}function Zu(e,t){e.blockedOn===t&&(e.blockedOn=null,qb||(qb=!0,Lr.unstable_scheduleCallback(Lr.unstable_NormalPriority,z8)))}function af(e){function t(i){return Zu(i,e)}if(0<op.length){Zu(op[0],e);for(var n=1;n<op.length;n++){var r=op[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Co!==null&&Zu(Co,e),Eo!==null&&Zu(Eo,e),Ao!==null&&Zu(Ao,e),nf.forEach(t),rf.forEach(t),n=0;n<po.length;n++)r=po[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<po.length&&(n=po[0],n.blockedOn===null);)tR(n),n.blockedOn===null&&po.shift()}var lc=Va.ReactCurrentBatchConfig,jm=!0;function W8(e,t,n,r){var i=Ct,a=lc.transition;lc.transition=null;try{Ct=1,fS(e,t,n,r)}finally{Ct=i,lc.transition=a}}function H8(e,t,n,r){var i=Ct,a=lc.transition;lc.transition=null;try{Ct=4,fS(e,t,n,r)}finally{Ct=i,lc.transition=a}}function fS(e,t,n,r){if(jm){var i=Vb(e,t,n,r);if(i===null)Ux(e,t,r,km,n),KC(e,r);else if(U8(i,e,t,n,r))r.stopPropagation();else if(KC(e,r),t&4&&-1<B8.indexOf(e)){for(;i!==null;){var a=wh(i);if(a!==null&&QI(a),a=Vb(e,t,n,r),a===null&&Ux(e,t,r,km,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Ux(e,t,r,null,n)}}var km=null;function Vb(e,t,n,r){if(km=null,e=lS(r),e=Ss(e),e!==null)if(t=ol(e),t===null)e=null;else if(n=t.tag,n===13){if(e=WI(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return km=e,null}function nR(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(T8()){case cS:return 1;case KI:return 4;case _m:case O8:return 16;case GI:return 536870912;default:return 16}default:return 16}}var _o=null,hS=null,nm=null;function rR(){if(nm)return nm;var e,t=hS,n=t.length,r,i="value"in _o?_o.value:_o.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return nm=i.slice(e,1<r?1-r:void 0)}function rm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function sp(){return!0}function YC(){return!1}function Ur(e){function t(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?sp:YC,this.isPropagationStopped=YC,this}return Jt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sp)},persist:function(){},isPersistent:sp}),t}var _u={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pS=Ur(_u),bh=Jt({},_u,{view:0,detail:0}),q8=Ur(bh),Ox,Ix,ed,_v=Jt({},bh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mS,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ed&&(ed&&e.type==="mousemove"?(Ox=e.screenX-ed.screenX,Ix=e.screenY-ed.screenY):Ix=Ox=0,ed=e),Ox)},movementY:function(e){return"movementY"in e?e.movementY:Ix}}),XC=Ur(_v),V8=Jt({},_v,{dataTransfer:0}),K8=Ur(V8),G8=Jt({},bh,{relatedTarget:0}),Rx=Ur(G8),Y8=Jt({},_u,{animationName:0,elapsedTime:0,pseudoElement:0}),X8=Ur(Y8),Q8=Jt({},_u,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),J8=Ur(Q8),Z8=Jt({},_u,{data:0}),QC=Ur(Z8),eW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rW(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=nW[e])?!!t[e]:!1}function mS(){return rW}var iW=Jt({},bh,{key:function(e){if(e.key){var t=eW[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tW[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mS,charCode:function(e){return e.type==="keypress"?rm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),aW=Ur(iW),oW=Jt({},_v,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),JC=Ur(oW),sW=Jt({},bh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mS}),lW=Ur(sW),cW=Jt({},_u,{propertyName:0,elapsedTime:0,pseudoElement:0}),uW=Ur(cW),dW=Jt({},_v,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fW=Ur(dW),hW=[9,13,27,32],gS=Ra&&"CompositionEvent"in window,Md=null;Ra&&"documentMode"in document&&(Md=document.documentMode);var pW=Ra&&"TextEvent"in window&&!Md,iR=Ra&&(!gS||Md&&8<Md&&11>=Md),ZC=" ",eE=!1;function aR(e,t){switch(e){case"keyup":return hW.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oR(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hl=!1;function mW(e,t){switch(e){case"compositionend":return oR(t);case"keypress":return t.which!==32?null:(eE=!0,ZC);case"textInput":return e=t.data,e===ZC&&eE?null:e;default:return null}}function gW(e,t){if(Hl)return e==="compositionend"||!gS&&aR(e,t)?(e=rR(),nm=hS=_o=null,Hl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return iR&&t.locale!=="ko"?null:t.data;default:return null}}var vW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!vW[e.type]:t==="textarea"}function sR(e,t,n,r){LI(r),t=Cm(t,"onChange"),0<t.length&&(n=new pS("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $d=null,of=null;function yW(e){yR(e,0)}function Sv(e){var t=Kl(e);if(TI(t))return e}function xW(e,t){if(e==="change")return t}var lR=!1;if(Ra){var Mx;if(Ra){var $x="oninput"in document;if(!$x){var nE=document.createElement("div");nE.setAttribute("oninput","return;"),$x=typeof nE.oninput=="function"}Mx=$x}else Mx=!1;lR=Mx&&(!document.documentMode||9<document.documentMode)}function rE(){$d&&($d.detachEvent("onpropertychange",cR),of=$d=null)}function cR(e){if(e.propertyName==="value"&&Sv(of)){var t=[];sR(t,of,e,lS(e)),zI(yW,t)}}function bW(e,t,n){e==="focusin"?(rE(),$d=t,of=n,$d.attachEvent("onpropertychange",cR)):e==="focusout"&&rE()}function wW(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sv(of)}function _W(e,t){if(e==="click")return Sv(t)}function SW(e,t){if(e==="input"||e==="change")return Sv(t)}function jW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ni=typeof Object.is=="function"?Object.is:jW;function sf(e,t){if(Ni(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ab.call(t,i)||!Ni(e[i],t[i]))return!1}return!0}function iE(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function aE(e,t){var n=iE(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=iE(n)}}function uR(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?uR(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dR(){for(var e=window,t=xm();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xm(e.document)}return t}function vS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function kW(e){var t=dR(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&uR(n.ownerDocument.documentElement,n)){if(r!==null&&vS(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=aE(n,a);var o=aE(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var CW=Ra&&"documentMode"in document&&11>=document.documentMode,ql=null,Kb=null,Dd=null,Gb=!1;function oE(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gb||ql==null||ql!==xm(r)||(r=ql,"selectionStart"in r&&vS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Dd&&sf(Dd,r)||(Dd=r,r=Cm(Kb,"onSelect"),0<r.length&&(t=new pS("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ql)))}function lp(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Vl={animationend:lp("Animation","AnimationEnd"),animationiteration:lp("Animation","AnimationIteration"),animationstart:lp("Animation","AnimationStart"),transitionend:lp("Transition","TransitionEnd")},Dx={},fR={};Ra&&(fR=document.createElement("div").style,"AnimationEvent"in window||(delete Vl.animationend.animation,delete Vl.animationiteration.animation,delete Vl.animationstart.animation),"TransitionEvent"in window||delete Vl.transitionend.transition);function jv(e){if(Dx[e])return Dx[e];if(!Vl[e])return e;var t=Vl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in fR)return Dx[e]=t[n];return e}var hR=jv("animationend"),pR=jv("animationiteration"),mR=jv("animationstart"),gR=jv("transitionend"),vR=new Map,sE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qo(e,t){vR.set(e,t),al(t,[e])}for(var Lx=0;Lx<sE.length;Lx++){var Fx=sE[Lx],EW=Fx.toLowerCase(),AW=Fx[0].toUpperCase()+Fx.slice(1);qo(EW,"on"+AW)}qo(hR,"onAnimationEnd");qo(pR,"onAnimationIteration");qo(mR,"onAnimationStart");qo("dblclick","onDoubleClick");qo("focusin","onFocus");qo("focusout","onBlur");qo(gR,"onTransitionEnd");Oc("onMouseEnter",["mouseout","mouseover"]);Oc("onMouseLeave",["mouseout","mouseover"]);Oc("onPointerEnter",["pointerout","pointerover"]);Oc("onPointerLeave",["pointerout","pointerover"]);al("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));al("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));al("onBeforeInput",["compositionend","keypress","textInput","paste"]);al("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));al("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));al("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ed="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NW=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ed));function lE(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,E8(r,t,void 0,e),e.currentTarget=null}function yR(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break e;lE(i,s,u),a=c}else for(o=0;o<r.length;o++){if(s=r[o],c=s.instance,u=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break e;lE(i,s,u),a=c}}}if(wm)throw e=Wb,wm=!1,Wb=null,e}function Ht(e,t){var n=t[Zb];n===void 0&&(n=t[Zb]=new Set);var r=e+"__bubble";n.has(r)||(xR(t,e,2,!1),n.add(r))}function Bx(e,t,n){var r=0;t&&(r|=4),xR(n,e,r,t)}var cp="_reactListening"+Math.random().toString(36).slice(2);function lf(e){if(!e[cp]){e[cp]=!0,CI.forEach(function(n){n!=="selectionchange"&&(NW.has(n)||Bx(n,!1,e),Bx(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cp]||(t[cp]=!0,Bx("selectionchange",!1,t))}}function xR(e,t,n,r){switch(nR(t)){case 1:var i=W8;break;case 4:i=H8;break;default:i=fS}n=i.bind(null,t,n,e),i=void 0,!zb||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ux(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Ss(s),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}s=s.parentNode}}r=r.return}zI(function(){var u=a,f=lS(n),d=[];e:{var h=vR.get(e);if(h!==void 0){var p=pS,m=e;switch(e){case"keypress":if(rm(n)===0)break e;case"keydown":case"keyup":p=aW;break;case"focusin":m="focus",p=Rx;break;case"focusout":m="blur",p=Rx;break;case"beforeblur":case"afterblur":p=Rx;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=XC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=K8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=lW;break;case hR:case pR:case mR:p=X8;break;case gR:p=uW;break;case"scroll":p=q8;break;case"wheel":p=fW;break;case"copy":case"cut":case"paste":p=J8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=JC}var v=(t&4)!==0,y=!v&&e==="scroll",x=v?h!==null?h+"Capture":null:h;v=[];for(var w=u,b;w!==null;){b=w;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,x!==null&&(S=tf(w,x),S!=null&&v.push(cf(w,S,b)))),y)break;w=w.return}0<v.length&&(h=new p(h,m,null,n,f),d.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==Bb&&(m=n.relatedTarget||n.fromElement)&&(Ss(m)||m[Ma]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?Ss(m):null,m!==null&&(y=ol(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(v=XC,S="onMouseLeave",x="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(v=JC,S="onPointerLeave",x="onPointerEnter",w="pointer"),y=p==null?h:Kl(p),b=m==null?h:Kl(m),h=new v(S,w+"leave",p,n,f),h.target=y,h.relatedTarget=b,S=null,Ss(f)===u&&(v=new v(x,w+"enter",m,n,f),v.target=b,v.relatedTarget=y,S=v),y=S,p&&m)t:{for(v=p,x=m,w=0,b=v;b;b=bl(b))w++;for(b=0,S=x;S;S=bl(S))b++;for(;0<w-b;)v=bl(v),w--;for(;0<b-w;)x=bl(x),b--;for(;w--;){if(v===x||x!==null&&v===x.alternate)break t;v=bl(v),x=bl(x)}v=null}else v=null;p!==null&&cE(d,h,p,v,!1),m!==null&&y!==null&&cE(d,y,m,v,!0)}}e:{if(h=u?Kl(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var j=xW;else if(tE(h))if(lR)j=SW;else{j=wW;var _=bW}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=_W);if(j&&(j=j(e,u))){sR(d,j,n,f);break e}_&&_(e,h,u),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&Mb(h,"number",h.value)}switch(_=u?Kl(u):window,e){case"focusin":(tE(_)||_.contentEditable==="true")&&(ql=_,Kb=u,Dd=null);break;case"focusout":Dd=Kb=ql=null;break;case"mousedown":Gb=!0;break;case"contextmenu":case"mouseup":case"dragend":Gb=!1,oE(d,n,f);break;case"selectionchange":if(CW)break;case"keydown":case"keyup":oE(d,n,f)}var k;if(gS)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Hl?aR(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(iR&&n.locale!=="ko"&&(Hl||E!=="onCompositionStart"?E==="onCompositionEnd"&&Hl&&(k=rR()):(_o=f,hS="value"in _o?_o.value:_o.textContent,Hl=!0)),_=Cm(u,E),0<_.length&&(E=new QC(E,e,null,n,f),d.push({event:E,listeners:_}),k?E.data=k:(k=oR(n),k!==null&&(E.data=k)))),(k=pW?mW(e,n):gW(e,n))&&(u=Cm(u,"onBeforeInput"),0<u.length&&(f=new QC("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:u}),f.data=k))}yR(d,t)})}function cf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Cm(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=tf(e,n),a!=null&&r.unshift(cf(e,a,i)),a=tf(e,t),a!=null&&r.push(cf(e,a,i))),e=e.return}return r}function bl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cE(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,c=s.alternate,u=s.stateNode;if(c!==null&&c===r)break;s.tag===5&&u!==null&&(s=u,i?(c=tf(n,a),c!=null&&o.unshift(cf(n,c,s))):i||(c=tf(n,a),c!=null&&o.push(cf(n,c,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var PW=/\r\n?/g,TW=/\u0000|\uFFFD/g;function uE(e){return(typeof e=="string"?e:""+e).replace(PW,`
`).replace(TW,"")}function up(e,t,n){if(t=uE(t),uE(e)!==t&&n)throw Error(he(425))}function Em(){}var Yb=null,Xb=null;function Qb(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Jb=typeof setTimeout=="function"?setTimeout:void 0,OW=typeof clearTimeout=="function"?clearTimeout:void 0,dE=typeof Promise=="function"?Promise:void 0,IW=typeof queueMicrotask=="function"?queueMicrotask:typeof dE<"u"?function(e){return dE.resolve(null).then(e).catch(RW)}:Jb;function RW(e){setTimeout(function(){throw e})}function zx(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),af(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);af(t)}function No(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fE(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Su=Math.random().toString(36).slice(2),qi="__reactFiber$"+Su,uf="__reactProps$"+Su,Ma="__reactContainer$"+Su,Zb="__reactEvents$"+Su,MW="__reactListeners$"+Su,$W="__reactHandles$"+Su;function Ss(e){var t=e[qi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ma]||n[qi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=fE(e);e!==null;){if(n=e[qi])return n;e=fE(e)}return t}e=n,n=e.parentNode}return null}function wh(e){return e=e[qi]||e[Ma],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Kl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(he(33))}function kv(e){return e[uf]||null}var ew=[],Gl=-1;function Vo(e){return{current:e}}function Kt(e){0>Gl||(e.current=ew[Gl],ew[Gl]=null,Gl--)}function Ut(e,t){Gl++,ew[Gl]=e.current,e.current=t}var Fo={},Kn=Vo(Fo),xr=Vo(!1),Us=Fo;function Ic(e,t){var n=e.type.contextTypes;if(!n)return Fo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function br(e){return e=e.childContextTypes,e!=null}function Am(){Kt(xr),Kt(Kn)}function hE(e,t,n){if(Kn.current!==Fo)throw Error(he(168));Ut(Kn,t),Ut(xr,n)}function bR(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(he(108,b8(e)||"Unknown",i));return Jt({},n,r)}function Nm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fo,Us=Kn.current,Ut(Kn,e),Ut(xr,xr.current),!0}function pE(e,t,n){var r=e.stateNode;if(!r)throw Error(he(169));n?(e=bR(e,t,Us),r.__reactInternalMemoizedMergedChildContext=e,Kt(xr),Kt(Kn),Ut(Kn,e)):Kt(xr),Ut(xr,n)}var ba=null,Cv=!1,Wx=!1;function wR(e){ba===null?ba=[e]:ba.push(e)}function DW(e){Cv=!0,wR(e)}function Ko(){if(!Wx&&ba!==null){Wx=!0;var e=0,t=Ct;try{var n=ba;for(Ct=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ba=null,Cv=!1}catch(i){throw ba!==null&&(ba=ba.slice(e+1)),VI(cS,Ko),i}finally{Ct=t,Wx=!1}}return null}var Yl=[],Xl=0,Pm=null,Tm=0,Kr=[],Gr=0,zs=null,ja=1,ka="";function fs(e,t){Yl[Xl++]=Tm,Yl[Xl++]=Pm,Pm=e,Tm=t}function _R(e,t,n){Kr[Gr++]=ja,Kr[Gr++]=ka,Kr[Gr++]=zs,zs=e;var r=ja;e=ka;var i=32-ki(r)-1;r&=~(1<<i),n+=1;var a=32-ki(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ja=1<<32-ki(t)+i|n<<i|r,ka=a+e}else ja=1<<a|n<<i|r,ka=e}function yS(e){e.return!==null&&(fs(e,1),_R(e,1,0))}function xS(e){for(;e===Pm;)Pm=Yl[--Xl],Yl[Xl]=null,Tm=Yl[--Xl],Yl[Xl]=null;for(;e===zs;)zs=Kr[--Gr],Kr[Gr]=null,ka=Kr[--Gr],Kr[Gr]=null,ja=Kr[--Gr],Kr[Gr]=null}var Mr=null,Ir=null,Gt=!1,wi=null;function SR(e,t){var n=Xr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function mE(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Mr=e,Ir=No(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Mr=e,Ir=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=zs!==null?{id:ja,overflow:ka}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Xr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Mr=e,Ir=null,!0):!1;default:return!1}}function tw(e){return(e.mode&1)!==0&&(e.flags&128)===0}function nw(e){if(Gt){var t=Ir;if(t){var n=t;if(!mE(e,t)){if(tw(e))throw Error(he(418));t=No(n.nextSibling);var r=Mr;t&&mE(e,t)?SR(r,n):(e.flags=e.flags&-4097|2,Gt=!1,Mr=e)}}else{if(tw(e))throw Error(he(418));e.flags=e.flags&-4097|2,Gt=!1,Mr=e}}}function gE(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mr=e}function dp(e){if(e!==Mr)return!1;if(!Gt)return gE(e),Gt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Qb(e.type,e.memoizedProps)),t&&(t=Ir)){if(tw(e))throw jR(),Error(he(418));for(;t;)SR(e,t),t=No(t.nextSibling)}if(gE(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(he(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ir=No(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ir=null}}else Ir=Mr?No(e.stateNode.nextSibling):null;return!0}function jR(){for(var e=Ir;e;)e=No(e.nextSibling)}function Rc(){Ir=Mr=null,Gt=!1}function bS(e){wi===null?wi=[e]:wi.push(e)}var LW=Va.ReactCurrentBatchConfig;function td(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(he(309));var r=n.stateNode}if(!r)throw Error(he(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(he(284));if(!n._owner)throw Error(he(290,e))}return e}function fp(e,t){throw e=Object.prototype.toString.call(t),Error(he(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vE(e){var t=e._init;return t(e._payload)}function kR(e){function t(x,w){if(e){var b=x.deletions;b===null?(x.deletions=[w],x.flags|=16):b.push(w)}}function n(x,w){if(!e)return null;for(;w!==null;)t(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=Io(x,w),x.index=0,x.sibling=null,x}function a(x,w,b){return x.index=b,e?(b=x.alternate,b!==null?(b=b.index,b<w?(x.flags|=2,w):b):(x.flags|=2,w)):(x.flags|=1048576,w)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function s(x,w,b,S){return w===null||w.tag!==6?(w=Xx(b,x.mode,S),w.return=x,w):(w=i(w,b),w.return=x,w)}function c(x,w,b,S){var j=b.type;return j===Wl?f(x,w,b.props.children,S,b.key):w!==null&&(w.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===uo&&vE(j)===w.type)?(S=i(w,b.props),S.ref=td(x,w,b),S.return=x,S):(S=um(b.type,b.key,b.props,null,x.mode,S),S.ref=td(x,w,b),S.return=x,S)}function u(x,w,b,S){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=Qx(b,x.mode,S),w.return=x,w):(w=i(w,b.children||[]),w.return=x,w)}function f(x,w,b,S,j){return w===null||w.tag!==7?(w=Ds(b,x.mode,S,j),w.return=x,w):(w=i(w,b),w.return=x,w)}function d(x,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Xx(""+w,x.mode,b),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case tp:return b=um(w.type,w.key,w.props,null,x.mode,b),b.ref=td(x,null,w),b.return=x,b;case zl:return w=Qx(w,x.mode,b),w.return=x,w;case uo:var S=w._init;return d(x,S(w._payload),b)}if(kd(w)||Xu(w))return w=Ds(w,x.mode,b,null),w.return=x,w;fp(x,w)}return null}function h(x,w,b,S){var j=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return j!==null?null:s(x,w,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case tp:return b.key===j?c(x,w,b,S):null;case zl:return b.key===j?u(x,w,b,S):null;case uo:return j=b._init,h(x,w,j(b._payload),S)}if(kd(b)||Xu(b))return j!==null?null:f(x,w,b,S,null);fp(x,b)}return null}function p(x,w,b,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(b)||null,s(w,x,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case tp:return x=x.get(S.key===null?b:S.key)||null,c(w,x,S,j);case zl:return x=x.get(S.key===null?b:S.key)||null,u(w,x,S,j);case uo:var _=S._init;return p(x,w,b,_(S._payload),j)}if(kd(S)||Xu(S))return x=x.get(b)||null,f(w,x,S,j,null);fp(w,S)}return null}function m(x,w,b,S){for(var j=null,_=null,k=w,E=w=0,I=null;k!==null&&E<b.length;E++){k.index>E?(I=k,k=null):I=k.sibling;var P=h(x,k,b[E],S);if(P===null){k===null&&(k=I);break}e&&k&&P.alternate===null&&t(x,k),w=a(P,w,E),_===null?j=P:_.sibling=P,_=P,k=I}if(E===b.length)return n(x,k),Gt&&fs(x,E),j;if(k===null){for(;E<b.length;E++)k=d(x,b[E],S),k!==null&&(w=a(k,w,E),_===null?j=k:_.sibling=k,_=k);return Gt&&fs(x,E),j}for(k=r(x,k);E<b.length;E++)I=p(k,x,E,b[E],S),I!==null&&(e&&I.alternate!==null&&k.delete(I.key===null?E:I.key),w=a(I,w,E),_===null?j=I:_.sibling=I,_=I);return e&&k.forEach(function(N){return t(x,N)}),Gt&&fs(x,E),j}function v(x,w,b,S){var j=Xu(b);if(typeof j!="function")throw Error(he(150));if(b=j.call(b),b==null)throw Error(he(151));for(var _=j=null,k=w,E=w=0,I=null,P=b.next();k!==null&&!P.done;E++,P=b.next()){k.index>E?(I=k,k=null):I=k.sibling;var N=h(x,k,P.value,S);if(N===null){k===null&&(k=I);break}e&&k&&N.alternate===null&&t(x,k),w=a(N,w,E),_===null?j=N:_.sibling=N,_=N,k=I}if(P.done)return n(x,k),Gt&&fs(x,E),j;if(k===null){for(;!P.done;E++,P=b.next())P=d(x,P.value,S),P!==null&&(w=a(P,w,E),_===null?j=P:_.sibling=P,_=P);return Gt&&fs(x,E),j}for(k=r(x,k);!P.done;E++,P=b.next())P=p(k,x,E,P.value,S),P!==null&&(e&&P.alternate!==null&&k.delete(P.key===null?E:P.key),w=a(P,w,E),_===null?j=P:_.sibling=P,_=P);return e&&k.forEach(function(O){return t(x,O)}),Gt&&fs(x,E),j}function y(x,w,b,S){if(typeof b=="object"&&b!==null&&b.type===Wl&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case tp:e:{for(var j=b.key,_=w;_!==null;){if(_.key===j){if(j=b.type,j===Wl){if(_.tag===7){n(x,_.sibling),w=i(_,b.props.children),w.return=x,x=w;break e}}else if(_.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===uo&&vE(j)===_.type){n(x,_.sibling),w=i(_,b.props),w.ref=td(x,_,b),w.return=x,x=w;break e}n(x,_);break}else t(x,_);_=_.sibling}b.type===Wl?(w=Ds(b.props.children,x.mode,S,b.key),w.return=x,x=w):(S=um(b.type,b.key,b.props,null,x.mode,S),S.ref=td(x,w,b),S.return=x,x=S)}return o(x);case zl:e:{for(_=b.key;w!==null;){if(w.key===_)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){n(x,w.sibling),w=i(w,b.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else t(x,w);w=w.sibling}w=Qx(b,x.mode,S),w.return=x,x=w}return o(x);case uo:return _=b._init,y(x,w,_(b._payload),S)}if(kd(b))return m(x,w,b,S);if(Xu(b))return v(x,w,b,S);fp(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(n(x,w.sibling),w=i(w,b),w.return=x,x=w):(n(x,w),w=Xx(b,x.mode,S),w.return=x,x=w),o(x)):n(x,w)}return y}var Mc=kR(!0),CR=kR(!1),Om=Vo(null),Im=null,Ql=null,wS=null;function _S(){wS=Ql=Im=null}function SS(e){var t=Om.current;Kt(Om),e._currentValue=t}function rw(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function cc(e,t){Im=e,wS=Ql=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(hr=!0),e.firstContext=null)}function ti(e){var t=e._currentValue;if(wS!==e)if(e={context:e,memoizedValue:t,next:null},Ql===null){if(Im===null)throw Error(he(308));Ql=e,Im.dependencies={lanes:0,firstContext:e}}else Ql=Ql.next=e;return t}var js=null;function jS(e){js===null?js=[e]:js.push(e)}function ER(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,jS(t)):(n.next=i.next,i.next=n),t.interleaved=n,$a(e,r)}function $a(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var fo=!1;function kS(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function AR(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ta(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Po(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,dt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,$a(e,n)}return i=r.interleaved,i===null?(t.next=t,jS(r)):(t.next=i.next,i.next=t),r.interleaved=t,$a(e,n)}function im(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,uS(e,n)}}function yE(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Rm(e,t,n,r){var i=e.updateQueue;fo=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var f=e.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==o&&(s===null?f.firstBaseUpdate=u:s.next=u,f.lastBaseUpdate=c))}if(a!==null){var d=i.baseState;o=0,f=u=c=null,s=a;do{var h=s.lane,p=s.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,v=s;switch(h=t,p=n,v.tag){case 1:if(m=v.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=Jt({},d,h);break e;case 2:fo=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(u=f=p,c=d):f=f.next=p,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(f===null&&(c=d),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Hs|=o,e.lanes=o,e.memoizedState=d}}function xE(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(he(191,i));i.call(r)}}}var _h={},ea=Vo(_h),df=Vo(_h),ff=Vo(_h);function ks(e){if(e===_h)throw Error(he(174));return e}function CS(e,t){switch(Ut(ff,t),Ut(df,e),Ut(ea,_h),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Db(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Db(t,e)}Kt(ea),Ut(ea,t)}function $c(){Kt(ea),Kt(df),Kt(ff)}function NR(e){ks(ff.current);var t=ks(ea.current),n=Db(t,e.type);t!==n&&(Ut(df,e),Ut(ea,n))}function ES(e){df.current===e&&(Kt(ea),Kt(df))}var Xt=Vo(0);function Mm(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hx=[];function AS(){for(var e=0;e<Hx.length;e++)Hx[e]._workInProgressVersionPrimary=null;Hx.length=0}var am=Va.ReactCurrentDispatcher,qx=Va.ReactCurrentBatchConfig,Ws=0,Qt=null,bn=null,En=null,$m=!1,Ld=!1,hf=0,FW=0;function Bn(){throw Error(he(321))}function NS(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ni(e[n],t[n]))return!1;return!0}function PS(e,t,n,r,i,a){if(Ws=a,Qt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,am.current=e===null||e.memoizedState===null?WW:HW,e=n(r,i),Ld){a=0;do{if(Ld=!1,hf=0,25<=a)throw Error(he(301));a+=1,En=bn=null,t.updateQueue=null,am.current=qW,e=n(r,i)}while(Ld)}if(am.current=Dm,t=bn!==null&&bn.next!==null,Ws=0,En=bn=Qt=null,$m=!1,t)throw Error(he(300));return e}function TS(){var e=hf!==0;return hf=0,e}function Fi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?Qt.memoizedState=En=e:En=En.next=e,En}function ni(){if(bn===null){var e=Qt.alternate;e=e!==null?e.memoizedState:null}else e=bn.next;var t=En===null?Qt.memoizedState:En.next;if(t!==null)En=t,bn=e;else{if(e===null)throw Error(he(310));bn=e,e={memoizedState:bn.memoizedState,baseState:bn.baseState,baseQueue:bn.baseQueue,queue:bn.queue,next:null},En===null?Qt.memoizedState=En=e:En=En.next=e}return En}function pf(e,t){return typeof t=="function"?t(e):t}function Vx(e){var t=ni(),n=t.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=e;var r=bn,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var s=o=null,c=null,u=a;do{var f=u.lane;if((Ws&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(s=c=d,o=r):c=c.next=d,Qt.lanes|=f,Hs|=f}u=u.next}while(u!==null&&u!==a);c===null?o=r:c.next=s,Ni(r,t.memoizedState)||(hr=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,Qt.lanes|=a,Hs|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Kx(e){var t=ni(),n=t.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Ni(a,t.memoizedState)||(hr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function PR(){}function TR(e,t){var n=Qt,r=ni(),i=t(),a=!Ni(r.memoizedState,i);if(a&&(r.memoizedState=i,hr=!0),r=r.queue,OS(RR.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||En!==null&&En.memoizedState.tag&1){if(n.flags|=2048,mf(9,IR.bind(null,n,r,i,t),void 0,null),Nn===null)throw Error(he(349));Ws&30||OR(n,t,i)}return i}function OR(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Qt.updateQueue,t===null?(t={lastEffect:null,stores:null},Qt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function IR(e,t,n,r){t.value=n,t.getSnapshot=r,MR(t)&&$R(e)}function RR(e,t,n){return n(function(){MR(t)&&$R(e)})}function MR(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ni(e,n)}catch{return!0}}function $R(e){var t=$a(e,1);t!==null&&Ci(t,e,1,-1)}function bE(e){var t=Fi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pf,lastRenderedState:e},t.queue=e,e=e.dispatch=zW.bind(null,Qt,e),[t.memoizedState,e]}function mf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Qt.updateQueue,t===null?(t={lastEffect:null,stores:null},Qt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function DR(){return ni().memoizedState}function om(e,t,n,r){var i=Fi();Qt.flags|=e,i.memoizedState=mf(1|t,n,void 0,r===void 0?null:r)}function Ev(e,t,n,r){var i=ni();r=r===void 0?null:r;var a=void 0;if(bn!==null){var o=bn.memoizedState;if(a=o.destroy,r!==null&&NS(r,o.deps)){i.memoizedState=mf(t,n,a,r);return}}Qt.flags|=e,i.memoizedState=mf(1|t,n,a,r)}function wE(e,t){return om(8390656,8,e,t)}function OS(e,t){return Ev(2048,8,e,t)}function LR(e,t){return Ev(4,2,e,t)}function FR(e,t){return Ev(4,4,e,t)}function BR(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function UR(e,t,n){return n=n!=null?n.concat([e]):null,Ev(4,4,BR.bind(null,t,e),n)}function IS(){}function zR(e,t){var n=ni();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&NS(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function WR(e,t){var n=ni();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&NS(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function HR(e,t,n){return Ws&21?(Ni(n,t)||(n=YI(),Qt.lanes|=n,Hs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,hr=!0),e.memoizedState=n)}function BW(e,t){var n=Ct;Ct=n!==0&&4>n?n:4,e(!0);var r=qx.transition;qx.transition={};try{e(!1),t()}finally{Ct=n,qx.transition=r}}function qR(){return ni().memoizedState}function UW(e,t,n){var r=Oo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},VR(e))KR(t,n);else if(n=ER(e,t,n,r),n!==null){var i=rr();Ci(n,e,r,i),GR(n,t,r)}}function zW(e,t,n){var r=Oo(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(VR(e))KR(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Ni(s,o)){var c=t.interleaved;c===null?(i.next=i,jS(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=ER(e,t,i,r),n!==null&&(i=rr(),Ci(n,e,r,i),GR(n,t,r))}}function VR(e){var t=e.alternate;return e===Qt||t!==null&&t===Qt}function KR(e,t){Ld=$m=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function GR(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,uS(e,n)}}var Dm={readContext:ti,useCallback:Bn,useContext:Bn,useEffect:Bn,useImperativeHandle:Bn,useInsertionEffect:Bn,useLayoutEffect:Bn,useMemo:Bn,useReducer:Bn,useRef:Bn,useState:Bn,useDebugValue:Bn,useDeferredValue:Bn,useTransition:Bn,useMutableSource:Bn,useSyncExternalStore:Bn,useId:Bn,unstable_isNewReconciler:!1},WW={readContext:ti,useCallback:function(e,t){return Fi().memoizedState=[e,t===void 0?null:t],e},useContext:ti,useEffect:wE,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,om(4194308,4,BR.bind(null,t,e),n)},useLayoutEffect:function(e,t){return om(4194308,4,e,t)},useInsertionEffect:function(e,t){return om(4,2,e,t)},useMemo:function(e,t){var n=Fi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Fi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=UW.bind(null,Qt,e),[r.memoizedState,e]},useRef:function(e){var t=Fi();return e={current:e},t.memoizedState=e},useState:bE,useDebugValue:IS,useDeferredValue:function(e){return Fi().memoizedState=e},useTransition:function(){var e=bE(!1),t=e[0];return e=BW.bind(null,e[1]),Fi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Qt,i=Fi();if(Gt){if(n===void 0)throw Error(he(407));n=n()}else{if(n=t(),Nn===null)throw Error(he(349));Ws&30||OR(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,wE(RR.bind(null,r,a,e),[e]),r.flags|=2048,mf(9,IR.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Fi(),t=Nn.identifierPrefix;if(Gt){var n=ka,r=ja;n=(r&~(1<<32-ki(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=hf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=FW++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},HW={readContext:ti,useCallback:zR,useContext:ti,useEffect:OS,useImperativeHandle:UR,useInsertionEffect:LR,useLayoutEffect:FR,useMemo:WR,useReducer:Vx,useRef:DR,useState:function(){return Vx(pf)},useDebugValue:IS,useDeferredValue:function(e){var t=ni();return HR(t,bn.memoizedState,e)},useTransition:function(){var e=Vx(pf)[0],t=ni().memoizedState;return[e,t]},useMutableSource:PR,useSyncExternalStore:TR,useId:qR,unstable_isNewReconciler:!1},qW={readContext:ti,useCallback:zR,useContext:ti,useEffect:OS,useImperativeHandle:UR,useInsertionEffect:LR,useLayoutEffect:FR,useMemo:WR,useReducer:Kx,useRef:DR,useState:function(){return Kx(pf)},useDebugValue:IS,useDeferredValue:function(e){var t=ni();return bn===null?t.memoizedState=e:HR(t,bn.memoizedState,e)},useTransition:function(){var e=Kx(pf)[0],t=ni().memoizedState;return[e,t]},useMutableSource:PR,useSyncExternalStore:TR,useId:qR,unstable_isNewReconciler:!1};function pi(e,t){if(e&&e.defaultProps){t=Jt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function iw(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Jt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Av={isMounted:function(e){return(e=e._reactInternals)?ol(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=rr(),i=Oo(e),a=Ta(r,i);a.payload=t,n!=null&&(a.callback=n),t=Po(e,a,i),t!==null&&(Ci(t,e,i,r),im(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=rr(),i=Oo(e),a=Ta(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Po(e,a,i),t!==null&&(Ci(t,e,i,r),im(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=rr(),r=Oo(e),i=Ta(n,r);i.tag=2,t!=null&&(i.callback=t),t=Po(e,i,r),t!==null&&(Ci(t,e,r,n),im(t,e,r))}};function _E(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!sf(n,r)||!sf(i,a):!0}function YR(e,t,n){var r=!1,i=Fo,a=t.contextType;return typeof a=="object"&&a!==null?a=ti(a):(i=br(t)?Us:Kn.current,r=t.contextTypes,a=(r=r!=null)?Ic(e,i):Fo),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Av,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function SE(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Av.enqueueReplaceState(t,t.state,null)}function aw(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},kS(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=ti(a):(a=br(t)?Us:Kn.current,i.context=Ic(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(iw(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Av.enqueueReplaceState(i,i.state,null),Rm(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Dc(e,t){try{var n="",r=t;do n+=x8(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Gx(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ow(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var VW=typeof WeakMap=="function"?WeakMap:Map;function XR(e,t,n){n=Ta(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Fm||(Fm=!0,gw=r),ow(e,t)},n}function QR(e,t,n){n=Ta(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ow(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){ow(e,t),typeof r!="function"&&(To===null?To=new Set([this]):To.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function jE(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new VW;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=o9.bind(null,e,t,n),t.then(e,e))}function kE(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function CE(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ta(-1,1),t.tag=2,Po(n,t,1))),n.lanes|=1),e)}var KW=Va.ReactCurrentOwner,hr=!1;function Qn(e,t,n,r){t.child=e===null?CR(t,null,n,r):Mc(t,e.child,n,r)}function EE(e,t,n,r,i){n=n.render;var a=t.ref;return cc(t,i),r=PS(e,t,n,r,a,i),n=TS(),e!==null&&!hr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Da(e,t,i)):(Gt&&n&&yS(t),t.flags|=1,Qn(e,t,r,i),t.child)}function AE(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!US(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,JR(e,t,a,r,i)):(e=um(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:sf,n(o,r)&&e.ref===t.ref)return Da(e,t,i)}return t.flags|=1,e=Io(a,r),e.ref=t.ref,e.return=t,t.child=e}function JR(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(sf(a,r)&&e.ref===t.ref)if(hr=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(hr=!0);else return t.lanes=e.lanes,Da(e,t,i)}return sw(e,t,n,r,i)}function ZR(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ut(Zl,Ar),Ar|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ut(Zl,Ar),Ar|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Ut(Zl,Ar),Ar|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ut(Zl,Ar),Ar|=r;return Qn(e,t,i,n),t.child}function eM(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function sw(e,t,n,r,i){var a=br(n)?Us:Kn.current;return a=Ic(t,a),cc(t,i),n=PS(e,t,n,r,a,i),r=TS(),e!==null&&!hr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Da(e,t,i)):(Gt&&r&&yS(t),t.flags|=1,Qn(e,t,n,i),t.child)}function NE(e,t,n,r,i){if(br(n)){var a=!0;Nm(t)}else a=!1;if(cc(t,i),t.stateNode===null)sm(e,t),YR(t,n,r),aw(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ti(u):(u=br(n)?Us:Kn.current,u=Ic(t,u));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||c!==u)&&SE(t,o,r,u),fo=!1;var h=t.memoizedState;o.state=h,Rm(t,r,o,i),c=t.memoizedState,s!==r||h!==c||xr.current||fo?(typeof f=="function"&&(iw(t,n,f,r),c=t.memoizedState),(s=fo||_E(t,n,s,r,h,c,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,AR(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:pi(t.type,s),o.props=u,d=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=ti(c):(c=br(n)?Us:Kn.current,c=Ic(t,c));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==d||h!==c)&&SE(t,o,r,c),fo=!1,h=t.memoizedState,o.state=h,Rm(t,r,o,i);var m=t.memoizedState;s!==d||h!==m||xr.current||fo?(typeof p=="function"&&(iw(t,n,p,r),m=t.memoizedState),(u=fo||_E(t,n,u,r,h,m,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return lw(e,t,n,r,a,i)}function lw(e,t,n,r,i,a){eM(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&pE(t,n,!1),Da(e,t,a);r=t.stateNode,KW.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Mc(t,e.child,null,a),t.child=Mc(t,null,s,a)):Qn(e,t,s,a),t.memoizedState=r.state,i&&pE(t,n,!0),t.child}function tM(e){var t=e.stateNode;t.pendingContext?hE(e,t.pendingContext,t.pendingContext!==t.context):t.context&&hE(e,t.context,!1),CS(e,t.containerInfo)}function PE(e,t,n,r,i){return Rc(),bS(i),t.flags|=256,Qn(e,t,n,r),t.child}var cw={dehydrated:null,treeContext:null,retryLane:0};function uw(e){return{baseLanes:e,cachePool:null,transitions:null}}function nM(e,t,n){var r=t.pendingProps,i=Xt.current,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ut(Xt,i&1),e===null)return nw(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Tv(o,r,0,null),e=Ds(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=uw(n),t.memoizedState=cw,e):RS(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return GW(e,t,o,r,s,i,n);if(a){a=r.fallback,o=t.mode,i=e.child,s=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Io(i,c),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=Io(s,a):(a=Ds(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?uw(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=cw,r}return a=e.child,e=a.sibling,r=Io(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function RS(e,t){return t=Tv({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function hp(e,t,n,r){return r!==null&&bS(r),Mc(t,e.child,null,n),e=RS(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function GW(e,t,n,r,i,a,o){if(n)return t.flags&256?(t.flags&=-257,r=Gx(Error(he(422))),hp(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Tv({mode:"visible",children:r.children},i,0,null),a=Ds(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Mc(t,e.child,null,o),t.child.memoizedState=uw(o),t.memoizedState=cw,a);if(!(t.mode&1))return hp(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(he(419)),r=Gx(a,r,void 0),hp(e,t,o,r)}if(s=(o&e.childLanes)!==0,hr||s){if(r=Nn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,$a(e,i),Ci(r,e,i,-1))}return BS(),r=Gx(Error(he(421))),hp(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=s9.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Ir=No(i.nextSibling),Mr=t,Gt=!0,wi=null,e!==null&&(Kr[Gr++]=ja,Kr[Gr++]=ka,Kr[Gr++]=zs,ja=e.id,ka=e.overflow,zs=t),t=RS(t,r.children),t.flags|=4096,t)}function TE(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),rw(e.return,t,n)}function Yx(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function rM(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Qn(e,t,r.children,n),r=Xt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&TE(e,n,t);else if(e.tag===19)TE(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ut(Xt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Mm(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Yx(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Mm(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Yx(t,!0,n,null,a);break;case"together":Yx(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function sm(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Da(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Hs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(he(153));if(t.child!==null){for(e=t.child,n=Io(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Io(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function YW(e,t,n){switch(t.tag){case 3:tM(t),Rc();break;case 5:NR(t);break;case 1:br(t.type)&&Nm(t);break;case 4:CS(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ut(Om,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ut(Xt,Xt.current&1),t.flags|=128,null):n&t.child.childLanes?nM(e,t,n):(Ut(Xt,Xt.current&1),e=Da(e,t,n),e!==null?e.sibling:null);Ut(Xt,Xt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return rM(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ut(Xt,Xt.current),r)break;return null;case 22:case 23:return t.lanes=0,ZR(e,t,n)}return Da(e,t,n)}var iM,dw,aM,oM;iM=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};dw=function(){};aM=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ks(ea.current);var a=null;switch(n){case"input":i=Ib(e,i),r=Ib(e,r),a=[];break;case"select":i=Jt({},i,{value:void 0}),r=Jt({},r,{value:void 0}),a=[];break;case"textarea":i=$b(e,i),r=$b(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Em)}Lb(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Zd.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==s&&(c!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&s[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,s=s?s.__html:void 0,c!=null&&s!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Zd.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ht("scroll",e),a||s===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};oM=function(e,t,n,r){n!==r&&(t.flags|=4)};function nd(e,t){if(!Gt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Un(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function XW(e,t,n){var r=t.pendingProps;switch(xS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Un(t),null;case 1:return br(t.type)&&Am(),Un(t),null;case 3:return r=t.stateNode,$c(),Kt(xr),Kt(Kn),AS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(dp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,wi!==null&&(xw(wi),wi=null))),dw(e,t),Un(t),null;case 5:ES(t);var i=ks(ff.current);if(n=t.type,e!==null&&t.stateNode!=null)aM(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(he(166));return Un(t),null}if(e=ks(ea.current),dp(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[qi]=t,r[uf]=a,e=(t.mode&1)!==0,n){case"dialog":Ht("cancel",r),Ht("close",r);break;case"iframe":case"object":case"embed":Ht("load",r);break;case"video":case"audio":for(i=0;i<Ed.length;i++)Ht(Ed[i],r);break;case"source":Ht("error",r);break;case"img":case"image":case"link":Ht("error",r),Ht("load",r);break;case"details":Ht("toggle",r);break;case"input":BC(r,a),Ht("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ht("invalid",r);break;case"textarea":zC(r,a),Ht("invalid",r)}Lb(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&up(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&up(r.textContent,s,e),i=["children",""+s]):Zd.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Ht("scroll",r)}switch(n){case"input":np(r),UC(r,a,!0);break;case"textarea":np(r),WC(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Em)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=RI(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[qi]=t,e[uf]=r,iM(e,t,!1,!1),t.stateNode=e;e:{switch(o=Fb(n,r),n){case"dialog":Ht("cancel",e),Ht("close",e),i=r;break;case"iframe":case"object":case"embed":Ht("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ed.length;i++)Ht(Ed[i],e);i=r;break;case"source":Ht("error",e),i=r;break;case"img":case"image":case"link":Ht("error",e),Ht("load",e),i=r;break;case"details":Ht("toggle",e),i=r;break;case"input":BC(e,r),i=Ib(e,r),Ht("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Jt({},r,{value:void 0}),Ht("invalid",e);break;case"textarea":zC(e,r),i=$b(e,r),Ht("invalid",e);break;default:i=r}Lb(n,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var c=s[a];a==="style"?DI(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&MI(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ef(e,c):typeof c=="number"&&ef(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Zd.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Ht("scroll",e):c!=null&&iS(e,a,c,o))}switch(n){case"input":np(e),UC(e,r,!1);break;case"textarea":np(e),WC(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Lo(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?ac(e,!!r.multiple,a,!1):r.defaultValue!=null&&ac(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Em)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Un(t),null;case 6:if(e&&t.stateNode!=null)oM(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(he(166));if(n=ks(ff.current),ks(ea.current),dp(t)){if(r=t.stateNode,n=t.memoizedProps,r[qi]=t,(a=r.nodeValue!==n)&&(e=Mr,e!==null))switch(e.tag){case 3:up(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&up(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qi]=t,t.stateNode=r}return Un(t),null;case 13:if(Kt(Xt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Gt&&Ir!==null&&t.mode&1&&!(t.flags&128))jR(),Rc(),t.flags|=98560,a=!1;else if(a=dp(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(he(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(he(317));a[qi]=t}else Rc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Un(t),a=!1}else wi!==null&&(xw(wi),wi=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Xt.current&1?wn===0&&(wn=3):BS())),t.updateQueue!==null&&(t.flags|=4),Un(t),null);case 4:return $c(),dw(e,t),e===null&&lf(t.stateNode.containerInfo),Un(t),null;case 10:return SS(t.type._context),Un(t),null;case 17:return br(t.type)&&Am(),Un(t),null;case 19:if(Kt(Xt),a=t.memoizedState,a===null)return Un(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)nd(a,!1);else{if(wn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Mm(e),o!==null){for(t.flags|=128,nd(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ut(Xt,Xt.current&1|2),t.child}e=e.sibling}a.tail!==null&&sn()>Lc&&(t.flags|=128,r=!0,nd(a,!1),t.lanes=4194304)}else{if(!r)if(e=Mm(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),nd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Gt)return Un(t),null}else 2*sn()-a.renderingStartTime>Lc&&n!==1073741824&&(t.flags|=128,r=!0,nd(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=sn(),t.sibling=null,n=Xt.current,Ut(Xt,r?n&1|2:n&1),t):(Un(t),null);case 22:case 23:return FS(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ar&1073741824&&(Un(t),t.subtreeFlags&6&&(t.flags|=8192)):Un(t),null;case 24:return null;case 25:return null}throw Error(he(156,t.tag))}function QW(e,t){switch(xS(t),t.tag){case 1:return br(t.type)&&Am(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $c(),Kt(xr),Kt(Kn),AS(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ES(t),null;case 13:if(Kt(Xt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(he(340));Rc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Kt(Xt),null;case 4:return $c(),null;case 10:return SS(t.type._context),null;case 22:case 23:return FS(),null;case 24:return null;default:return null}}var pp=!1,Hn=!1,JW=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function Jl(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tn(e,t,r)}else n.current=null}function fw(e,t,n){try{n()}catch(r){tn(e,t,r)}}var OE=!1;function ZW(e,t){if(Yb=jm,e=dR(),vS(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,c=-1,u=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(s=o+i),d!==a||r!==0&&d.nodeType!==3||(c=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++u===i&&(s=o),h===a&&++f===r&&(c=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=s===-1||c===-1?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xb={focusedElem:e,selectionRange:n},jm=!1,Ee=t;Ee!==null;)if(t=Ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ee=e;else for(;Ee!==null;){t=Ee;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,y=m.memoizedState,x=t.stateNode,w=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:pi(t.type,v),y);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(S){tn(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,Ee=e;break}Ee=t.return}return m=OE,OE=!1,m}function Fd(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&fw(t,n,a)}i=i.next}while(i!==r)}}function Nv(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function hw(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function sM(e){var t=e.alternate;t!==null&&(e.alternate=null,sM(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[qi],delete t[uf],delete t[Zb],delete t[MW],delete t[$W])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lM(e){return e.tag===5||e.tag===3||e.tag===4}function IE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lM(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pw(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Em));else if(r!==4&&(e=e.child,e!==null))for(pw(e,t,n),e=e.sibling;e!==null;)pw(e,t,n),e=e.sibling}function mw(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(mw(e,t,n),e=e.sibling;e!==null;)mw(e,t,n),e=e.sibling}var On=null,yi=!1;function eo(e,t,n){for(n=n.child;n!==null;)cM(e,t,n),n=n.sibling}function cM(e,t,n){if(Zi&&typeof Zi.onCommitFiberUnmount=="function")try{Zi.onCommitFiberUnmount(wv,n)}catch{}switch(n.tag){case 5:Hn||Jl(n,t);case 6:var r=On,i=yi;On=null,eo(e,t,n),On=r,yi=i,On!==null&&(yi?(e=On,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):On.removeChild(n.stateNode));break;case 18:On!==null&&(yi?(e=On,n=n.stateNode,e.nodeType===8?zx(e.parentNode,n):e.nodeType===1&&zx(e,n),af(e)):zx(On,n.stateNode));break;case 4:r=On,i=yi,On=n.stateNode.containerInfo,yi=!0,eo(e,t,n),On=r,yi=i;break;case 0:case 11:case 14:case 15:if(!Hn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&fw(n,t,o),i=i.next}while(i!==r)}eo(e,t,n);break;case 1:if(!Hn&&(Jl(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){tn(n,t,s)}eo(e,t,n);break;case 21:eo(e,t,n);break;case 22:n.mode&1?(Hn=(r=Hn)||n.memoizedState!==null,eo(e,t,n),Hn=r):eo(e,t,n);break;default:eo(e,t,n)}}function RE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new JW),t.forEach(function(r){var i=l9.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function li(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:On=s.stateNode,yi=!1;break e;case 3:On=s.stateNode.containerInfo,yi=!0;break e;case 4:On=s.stateNode.containerInfo,yi=!0;break e}s=s.return}if(On===null)throw Error(he(160));cM(a,o,i),On=null,yi=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){tn(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)uM(t,e),t=t.sibling}function uM(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(li(t,e),Di(e),r&4){try{Fd(3,e,e.return),Nv(3,e)}catch(v){tn(e,e.return,v)}try{Fd(5,e,e.return)}catch(v){tn(e,e.return,v)}}break;case 1:li(t,e),Di(e),r&512&&n!==null&&Jl(n,n.return);break;case 5:if(li(t,e),Di(e),r&512&&n!==null&&Jl(n,n.return),e.flags&32){var i=e.stateNode;try{ef(i,"")}catch(v){tn(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,s=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&OI(i,a),Fb(s,o);var u=Fb(s,a);for(o=0;o<c.length;o+=2){var f=c[o],d=c[o+1];f==="style"?DI(i,d):f==="dangerouslySetInnerHTML"?MI(i,d):f==="children"?ef(i,d):iS(i,f,d,u)}switch(s){case"input":Rb(i,a);break;case"textarea":II(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?ac(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?ac(i,!!a.multiple,a.defaultValue,!0):ac(i,!!a.multiple,a.multiple?[]:"",!1))}i[uf]=a}catch(v){tn(e,e.return,v)}}break;case 6:if(li(t,e),Di(e),r&4){if(e.stateNode===null)throw Error(he(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){tn(e,e.return,v)}}break;case 3:if(li(t,e),Di(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{af(t.containerInfo)}catch(v){tn(e,e.return,v)}break;case 4:li(t,e),Di(e);break;case 13:li(t,e),Di(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(DS=sn())),r&4&&RE(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Hn=(u=Hn)||f,li(t,e),Hn=u):li(t,e),Di(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(Ee=e,f=e.child;f!==null;){for(d=Ee=f;Ee!==null;){switch(h=Ee,p=h.child,h.tag){case 0:case 11:case 14:case 15:Fd(4,h,h.return);break;case 1:Jl(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){tn(r,n,v)}}break;case 5:Jl(h,h.return);break;case 22:if(h.memoizedState!==null){$E(d);continue}}p!==null?(p.return=h,Ee=p):$E(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{i=d.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,s.style.display=$I("display",o))}catch(v){tn(e,e.return,v)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){tn(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:li(t,e),Di(e),r&4&&RE(e);break;case 21:break;default:li(t,e),Di(e)}}function Di(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(lM(n)){var r=n;break e}n=n.return}throw Error(he(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ef(i,""),r.flags&=-33);var a=IE(e);mw(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=IE(e);pw(e,s,o);break;default:throw Error(he(161))}}catch(c){tn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function e9(e,t,n){Ee=e,dM(e)}function dM(e,t,n){for(var r=(e.mode&1)!==0;Ee!==null;){var i=Ee,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||pp;if(!o){var s=i.alternate,c=s!==null&&s.memoizedState!==null||Hn;s=pp;var u=Hn;if(pp=o,(Hn=c)&&!u)for(Ee=i;Ee!==null;)o=Ee,c=o.child,o.tag===22&&o.memoizedState!==null?DE(i):c!==null?(c.return=o,Ee=c):DE(i);for(;a!==null;)Ee=a,dM(a),a=a.sibling;Ee=i,pp=s,Hn=u}ME(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ee=a):ME(e)}}function ME(e){for(;Ee!==null;){var t=Ee;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Hn||Nv(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Hn)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:pi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&xE(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}xE(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&af(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}Hn||t.flags&512&&hw(t)}catch(h){tn(t,t.return,h)}}if(t===e){Ee=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ee=n;break}Ee=t.return}}function $E(e){for(;Ee!==null;){var t=Ee;if(t===e){Ee=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ee=n;break}Ee=t.return}}function DE(e){for(;Ee!==null;){var t=Ee;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Nv(4,t)}catch(c){tn(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){tn(t,i,c)}}var a=t.return;try{hw(t)}catch(c){tn(t,a,c)}break;case 5:var o=t.return;try{hw(t)}catch(c){tn(t,o,c)}}}catch(c){tn(t,t.return,c)}if(t===e){Ee=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Ee=s;break}Ee=t.return}}var t9=Math.ceil,Lm=Va.ReactCurrentDispatcher,MS=Va.ReactCurrentOwner,Jr=Va.ReactCurrentBatchConfig,dt=0,Nn=null,dn=null,Mn=0,Ar=0,Zl=Vo(0),wn=0,gf=null,Hs=0,Pv=0,$S=0,Bd=null,dr=null,DS=0,Lc=1/0,ya=null,Fm=!1,gw=null,To=null,mp=!1,So=null,Bm=0,Ud=0,vw=null,lm=-1,cm=0;function rr(){return dt&6?sn():lm!==-1?lm:lm=sn()}function Oo(e){return e.mode&1?dt&2&&Mn!==0?Mn&-Mn:LW.transition!==null?(cm===0&&(cm=YI()),cm):(e=Ct,e!==0||(e=window.event,e=e===void 0?16:nR(e.type)),e):1}function Ci(e,t,n,r){if(50<Ud)throw Ud=0,vw=null,Error(he(185));xh(e,n,r),(!(dt&2)||e!==Nn)&&(e===Nn&&(!(dt&2)&&(Pv|=n),wn===4&&mo(e,Mn)),wr(e,r),n===1&&dt===0&&!(t.mode&1)&&(Lc=sn()+500,Cv&&Ko()))}function wr(e,t){var n=e.callbackNode;L8(e,t);var r=Sm(e,e===Nn?Mn:0);if(r===0)n!==null&&VC(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&VC(n),t===1)e.tag===0?DW(LE.bind(null,e)):wR(LE.bind(null,e)),IW(function(){!(dt&6)&&Ko()}),n=null;else{switch(XI(r)){case 1:n=cS;break;case 4:n=KI;break;case 16:n=_m;break;case 536870912:n=GI;break;default:n=_m}n=xM(n,fM.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function fM(e,t){if(lm=-1,cm=0,dt&6)throw Error(he(327));var n=e.callbackNode;if(uc()&&e.callbackNode!==n)return null;var r=Sm(e,e===Nn?Mn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Um(e,r);else{t=r;var i=dt;dt|=2;var a=pM();(Nn!==e||Mn!==t)&&(ya=null,Lc=sn()+500,$s(e,t));do try{i9();break}catch(s){hM(e,s)}while(!0);_S(),Lm.current=a,dt=i,dn!==null?t=0:(Nn=null,Mn=0,t=wn)}if(t!==0){if(t===2&&(i=Hb(e),i!==0&&(r=i,t=yw(e,i))),t===1)throw n=gf,$s(e,0),mo(e,r),wr(e,sn()),n;if(t===6)mo(e,r);else{if(i=e.current.alternate,!(r&30)&&!n9(i)&&(t=Um(e,r),t===2&&(a=Hb(e),a!==0&&(r=a,t=yw(e,a))),t===1))throw n=gf,$s(e,0),mo(e,r),wr(e,sn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(he(345));case 2:hs(e,dr,ya);break;case 3:if(mo(e,r),(r&130023424)===r&&(t=DS+500-sn(),10<t)){if(Sm(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){rr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Jb(hs.bind(null,e,dr,ya),t);break}hs(e,dr,ya);break;case 4:if(mo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-ki(r);a=1<<o,o=t[o],o>i&&(i=o),r&=~a}if(r=i,r=sn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*t9(r/1960))-r,10<r){e.timeoutHandle=Jb(hs.bind(null,e,dr,ya),r);break}hs(e,dr,ya);break;case 5:hs(e,dr,ya);break;default:throw Error(he(329))}}}return wr(e,sn()),e.callbackNode===n?fM.bind(null,e):null}function yw(e,t){var n=Bd;return e.current.memoizedState.isDehydrated&&($s(e,t).flags|=256),e=Um(e,t),e!==2&&(t=dr,dr=n,t!==null&&xw(t)),e}function xw(e){dr===null?dr=e:dr.push.apply(dr,e)}function n9(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Ni(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mo(e,t){for(t&=~$S,t&=~Pv,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ki(t),r=1<<n;e[n]=-1,t&=~r}}function LE(e){if(dt&6)throw Error(he(327));uc();var t=Sm(e,0);if(!(t&1))return wr(e,sn()),null;var n=Um(e,t);if(e.tag!==0&&n===2){var r=Hb(e);r!==0&&(t=r,n=yw(e,r))}if(n===1)throw n=gf,$s(e,0),mo(e,t),wr(e,sn()),n;if(n===6)throw Error(he(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hs(e,dr,ya),wr(e,sn()),null}function LS(e,t){var n=dt;dt|=1;try{return e(t)}finally{dt=n,dt===0&&(Lc=sn()+500,Cv&&Ko())}}function qs(e){So!==null&&So.tag===0&&!(dt&6)&&uc();var t=dt;dt|=1;var n=Jr.transition,r=Ct;try{if(Jr.transition=null,Ct=1,e)return e()}finally{Ct=r,Jr.transition=n,dt=t,!(dt&6)&&Ko()}}function FS(){Ar=Zl.current,Kt(Zl)}function $s(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,OW(n)),dn!==null)for(n=dn.return;n!==null;){var r=n;switch(xS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Am();break;case 3:$c(),Kt(xr),Kt(Kn),AS();break;case 5:ES(r);break;case 4:$c();break;case 13:Kt(Xt);break;case 19:Kt(Xt);break;case 10:SS(r.type._context);break;case 22:case 23:FS()}n=n.return}if(Nn=e,dn=e=Io(e.current,null),Mn=Ar=t,wn=0,gf=null,$S=Pv=Hs=0,dr=Bd=null,js!==null){for(t=0;t<js.length;t++)if(n=js[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}js=null}return e}function hM(e,t){do{var n=dn;try{if(_S(),am.current=Dm,$m){for(var r=Qt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}$m=!1}if(Ws=0,En=bn=Qt=null,Ld=!1,hf=0,MS.current=null,n===null||n.return===null){wn=1,gf=t,dn=null;break}e:{var a=e,o=n.return,s=n,c=t;if(t=Mn,s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=s,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=kE(o);if(p!==null){p.flags&=-257,CE(p,o,s,a,t),p.mode&1&&jE(a,u,t),t=p,c=u;var m=t.updateQueue;if(m===null){var v=new Set;v.add(c),t.updateQueue=v}else m.add(c);break e}else{if(!(t&1)){jE(a,u,t),BS();break e}c=Error(he(426))}}else if(Gt&&s.mode&1){var y=kE(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),CE(y,o,s,a,t),bS(Dc(c,s));break e}}a=c=Dc(c,s),wn!==4&&(wn=2),Bd===null?Bd=[a]:Bd.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=XR(a,c,t);yE(a,x);break e;case 1:s=c;var w=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(To===null||!To.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=QR(a,s,t);yE(a,S);break e}}a=a.return}while(a!==null)}gM(n)}catch(j){t=j,dn===n&&n!==null&&(dn=n=n.return);continue}break}while(!0)}function pM(){var e=Lm.current;return Lm.current=Dm,e===null?Dm:e}function BS(){(wn===0||wn===3||wn===2)&&(wn=4),Nn===null||!(Hs&268435455)&&!(Pv&268435455)||mo(Nn,Mn)}function Um(e,t){var n=dt;dt|=2;var r=pM();(Nn!==e||Mn!==t)&&(ya=null,$s(e,t));do try{r9();break}catch(i){hM(e,i)}while(!0);if(_S(),dt=n,Lm.current=r,dn!==null)throw Error(he(261));return Nn=null,Mn=0,wn}function r9(){for(;dn!==null;)mM(dn)}function i9(){for(;dn!==null&&!N8();)mM(dn)}function mM(e){var t=yM(e.alternate,e,Ar);e.memoizedProps=e.pendingProps,t===null?gM(e):dn=t,MS.current=null}function gM(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=QW(n,t),n!==null){n.flags&=32767,dn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{wn=6,dn=null;return}}else if(n=XW(n,t,Ar),n!==null){dn=n;return}if(t=t.sibling,t!==null){dn=t;return}dn=t=e}while(t!==null);wn===0&&(wn=5)}function hs(e,t,n){var r=Ct,i=Jr.transition;try{Jr.transition=null,Ct=1,a9(e,t,n,r)}finally{Jr.transition=i,Ct=r}return null}function a9(e,t,n,r){do uc();while(So!==null);if(dt&6)throw Error(he(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(he(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(F8(e,a),e===Nn&&(dn=Nn=null,Mn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||mp||(mp=!0,xM(_m,function(){return uc(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Jr.transition,Jr.transition=null;var o=Ct;Ct=1;var s=dt;dt|=4,MS.current=null,ZW(e,n),uM(n,e),kW(Xb),jm=!!Yb,Xb=Yb=null,e.current=n,e9(n),P8(),dt=s,Ct=o,Jr.transition=a}else e.current=n;if(mp&&(mp=!1,So=e,Bm=i),a=e.pendingLanes,a===0&&(To=null),I8(n.stateNode),wr(e,sn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Fm)throw Fm=!1,e=gw,gw=null,e;return Bm&1&&e.tag!==0&&uc(),a=e.pendingLanes,a&1?e===vw?Ud++:(Ud=0,vw=e):Ud=0,Ko(),null}function uc(){if(So!==null){var e=XI(Bm),t=Jr.transition,n=Ct;try{if(Jr.transition=null,Ct=16>e?16:e,So===null)var r=!1;else{if(e=So,So=null,Bm=0,dt&6)throw Error(he(331));var i=dt;for(dt|=4,Ee=e.current;Ee!==null;){var a=Ee,o=a.child;if(Ee.flags&16){var s=a.deletions;if(s!==null){for(var c=0;c<s.length;c++){var u=s[c];for(Ee=u;Ee!==null;){var f=Ee;switch(f.tag){case 0:case 11:case 15:Fd(8,f,a)}var d=f.child;if(d!==null)d.return=f,Ee=d;else for(;Ee!==null;){f=Ee;var h=f.sibling,p=f.return;if(sM(f),f===u){Ee=null;break}if(h!==null){h.return=p,Ee=h;break}Ee=p}}}var m=a.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}Ee=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Ee=o;else e:for(;Ee!==null;){if(a=Ee,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Fd(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,Ee=x;break e}Ee=a.return}}var w=e.current;for(Ee=w;Ee!==null;){o=Ee;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Ee=b;else e:for(o=w;Ee!==null;){if(s=Ee,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Nv(9,s)}}catch(j){tn(s,s.return,j)}if(s===o){Ee=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,Ee=S;break e}Ee=s.return}}if(dt=i,Ko(),Zi&&typeof Zi.onPostCommitFiberRoot=="function")try{Zi.onPostCommitFiberRoot(wv,e)}catch{}r=!0}return r}finally{Ct=n,Jr.transition=t}}return!1}function FE(e,t,n){t=Dc(n,t),t=XR(e,t,1),e=Po(e,t,1),t=rr(),e!==null&&(xh(e,1,t),wr(e,t))}function tn(e,t,n){if(e.tag===3)FE(e,e,n);else for(;t!==null;){if(t.tag===3){FE(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(To===null||!To.has(r))){e=Dc(n,e),e=QR(t,e,1),t=Po(t,e,1),e=rr(),t!==null&&(xh(t,1,e),wr(t,e));break}}t=t.return}}function o9(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=rr(),e.pingedLanes|=e.suspendedLanes&n,Nn===e&&(Mn&n)===n&&(wn===4||wn===3&&(Mn&130023424)===Mn&&500>sn()-DS?$s(e,0):$S|=n),wr(e,t)}function vM(e,t){t===0&&(e.mode&1?(t=ap,ap<<=1,!(ap&130023424)&&(ap=4194304)):t=1);var n=rr();e=$a(e,t),e!==null&&(xh(e,t,n),wr(e,n))}function s9(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),vM(e,n)}function l9(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(he(314))}r!==null&&r.delete(t),vM(e,n)}var yM;yM=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||xr.current)hr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return hr=!1,YW(e,t,n);hr=!!(e.flags&131072)}else hr=!1,Gt&&t.flags&1048576&&_R(t,Tm,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;sm(e,t),e=t.pendingProps;var i=Ic(t,Kn.current);cc(t,n),i=PS(null,t,r,e,i,n);var a=TS();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,br(r)?(a=!0,Nm(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,kS(t),i.updater=Av,t.stateNode=i,i._reactInternals=t,aw(t,r,e,n),t=lw(null,t,r,!0,a,n)):(t.tag=0,Gt&&a&&yS(t),Qn(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(sm(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=u9(r),e=pi(r,e),i){case 0:t=sw(null,t,r,e,n);break e;case 1:t=NE(null,t,r,e,n);break e;case 11:t=EE(null,t,r,e,n);break e;case 14:t=AE(null,t,r,pi(r.type,e),n);break e}throw Error(he(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:pi(r,i),sw(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:pi(r,i),NE(e,t,r,i,n);case 3:e:{if(tM(t),e===null)throw Error(he(387));r=t.pendingProps,a=t.memoizedState,i=a.element,AR(e,t),Rm(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Dc(Error(he(423)),t),t=PE(e,t,r,n,i);break e}else if(r!==i){i=Dc(Error(he(424)),t),t=PE(e,t,r,n,i);break e}else for(Ir=No(t.stateNode.containerInfo.firstChild),Mr=t,Gt=!0,wi=null,n=CR(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rc(),r===i){t=Da(e,t,n);break e}Qn(e,t,r,n)}t=t.child}return t;case 5:return NR(t),e===null&&nw(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,Qb(r,i)?o=null:a!==null&&Qb(r,a)&&(t.flags|=32),eM(e,t),Qn(e,t,o,n),t.child;case 6:return e===null&&nw(t),null;case 13:return nM(e,t,n);case 4:return CS(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Mc(t,null,r,n):Qn(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:pi(r,i),EE(e,t,r,i,n);case 7:return Qn(e,t,t.pendingProps,n),t.child;case 8:return Qn(e,t,t.pendingProps.children,n),t.child;case 12:return Qn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ut(Om,r._currentValue),r._currentValue=o,a!==null)if(Ni(a.value,o)){if(a.children===i.children&&!xr.current){t=Da(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var c=s.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=Ta(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),rw(a.return,n,t),s.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(he(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),rw(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Qn(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,cc(t,n),i=ti(i),r=r(i),t.flags|=1,Qn(e,t,r,n),t.child;case 14:return r=t.type,i=pi(r,t.pendingProps),i=pi(r.type,i),AE(e,t,r,i,n);case 15:return JR(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:pi(r,i),sm(e,t),t.tag=1,br(r)?(e=!0,Nm(t)):e=!1,cc(t,n),YR(t,r,i),aw(t,r,i,n),lw(null,t,r,!0,e,n);case 19:return rM(e,t,n);case 22:return ZR(e,t,n)}throw Error(he(156,t.tag))};function xM(e,t){return VI(e,t)}function c9(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xr(e,t,n,r){return new c9(e,t,n,r)}function US(e){return e=e.prototype,!(!e||!e.isReactComponent)}function u9(e){if(typeof e=="function")return US(e)?1:0;if(e!=null){if(e=e.$$typeof,e===oS)return 11;if(e===sS)return 14}return 2}function Io(e,t){var n=e.alternate;return n===null?(n=Xr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function um(e,t,n,r,i,a){var o=2;if(r=e,typeof e=="function")US(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Wl:return Ds(n.children,i,a,t);case aS:o=8,i|=8;break;case Nb:return e=Xr(12,n,t,i|2),e.elementType=Nb,e.lanes=a,e;case Pb:return e=Xr(13,n,t,i),e.elementType=Pb,e.lanes=a,e;case Tb:return e=Xr(19,n,t,i),e.elementType=Tb,e.lanes=a,e;case NI:return Tv(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case EI:o=10;break e;case AI:o=9;break e;case oS:o=11;break e;case sS:o=14;break e;case uo:o=16,r=null;break e}throw Error(he(130,e==null?e:typeof e,""))}return t=Xr(o,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Ds(e,t,n,r){return e=Xr(7,e,r,t),e.lanes=n,e}function Tv(e,t,n,r){return e=Xr(22,e,r,t),e.elementType=NI,e.lanes=n,e.stateNode={isHidden:!1},e}function Xx(e,t,n){return e=Xr(6,e,null,t),e.lanes=n,e}function Qx(e,t,n){return t=Xr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function d9(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tx(0),this.expirationTimes=Tx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tx(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zS(e,t,n,r,i,a,o,s,c){return e=new d9(e,t,n,s,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Xr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},kS(a),e}function f9(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zl,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function bM(e){if(!e)return Fo;e=e._reactInternals;e:{if(ol(e)!==e||e.tag!==1)throw Error(he(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(br(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(he(171))}if(e.tag===1){var n=e.type;if(br(n))return bR(e,n,t)}return t}function wM(e,t,n,r,i,a,o,s,c){return e=zS(n,r,!0,e,i,a,o,s,c),e.context=bM(null),n=e.current,r=rr(),i=Oo(n),a=Ta(r,i),a.callback=t??null,Po(n,a,i),e.current.lanes=i,xh(e,i,r),wr(e,r),e}function Ov(e,t,n,r){var i=t.current,a=rr(),o=Oo(i);return n=bM(n),t.context===null?t.context=n:t.pendingContext=n,t=Ta(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Po(i,t,o),e!==null&&(Ci(e,i,o,a),im(e,i,o)),o}function zm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function BE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function WS(e,t){BE(e,t),(e=e.alternate)&&BE(e,t)}function h9(){return null}var _M=typeof reportError=="function"?reportError:function(e){console.error(e)};function HS(e){this._internalRoot=e}Iv.prototype.render=HS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(he(409));Ov(e,t,null,null)};Iv.prototype.unmount=HS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;qs(function(){Ov(null,e,null,null)}),t[Ma]=null}};function Iv(e){this._internalRoot=e}Iv.prototype.unstable_scheduleHydration=function(e){if(e){var t=ZI();e={blockedOn:null,target:e,priority:t};for(var n=0;n<po.length&&t!==0&&t<po[n].priority;n++);po.splice(n,0,e),n===0&&tR(e)}};function qS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Rv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function UE(){}function p9(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=zm(o);a.call(u)}}var o=wM(t,r,e,0,null,!1,!1,"",UE);return e._reactRootContainer=o,e[Ma]=o.current,lf(e.nodeType===8?e.parentNode:e),qs(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=zm(c);s.call(u)}}var c=zS(e,0,!1,null,null,!1,!1,"",UE);return e._reactRootContainer=c,e[Ma]=c.current,lf(e.nodeType===8?e.parentNode:e),qs(function(){Ov(t,c,n,r)}),c}function Mv(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var c=zm(o);s.call(c)}}Ov(t,o,e,i)}else o=p9(n,t,e,i,r);return zm(o)}QI=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Cd(t.pendingLanes);n!==0&&(uS(t,n|1),wr(t,sn()),!(dt&6)&&(Lc=sn()+500,Ko()))}break;case 13:qs(function(){var r=$a(e,1);if(r!==null){var i=rr();Ci(r,e,1,i)}}),WS(e,1)}};dS=function(e){if(e.tag===13){var t=$a(e,134217728);if(t!==null){var n=rr();Ci(t,e,134217728,n)}WS(e,134217728)}};JI=function(e){if(e.tag===13){var t=Oo(e),n=$a(e,t);if(n!==null){var r=rr();Ci(n,e,t,r)}WS(e,t)}};ZI=function(){return Ct};eR=function(e,t){var n=Ct;try{return Ct=e,t()}finally{Ct=n}};Ub=function(e,t,n){switch(t){case"input":if(Rb(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=kv(r);if(!i)throw Error(he(90));TI(r),Rb(r,i)}}}break;case"textarea":II(e,n);break;case"select":t=n.value,t!=null&&ac(e,!!n.multiple,t,!1)}};BI=LS;UI=qs;var m9={usingClientEntryPoint:!1,Events:[wh,Kl,kv,LI,FI,LS]},rd={findFiberByHostInstance:Ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},g9={bundleType:rd.bundleType,version:rd.version,rendererPackageName:rd.rendererPackageName,rendererConfig:rd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Va.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=HI(e),e===null?null:e.stateNode},findFiberByHostInstance:rd.findFiberByHostInstance||h9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gp.isDisabled&&gp.supportsFiber)try{wv=gp.inject(g9),Zi=gp}catch{}}Br.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m9;Br.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qS(t))throw Error(he(200));return f9(e,t,null,n)};Br.createRoot=function(e,t){if(!qS(e))throw Error(he(299));var n=!1,r="",i=_M;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=zS(e,1,!1,null,null,n,!1,r,i),e[Ma]=t.current,lf(e.nodeType===8?e.parentNode:e),new HS(t)};Br.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(he(188)):(e=Object.keys(e).join(","),Error(he(268,e)));return e=HI(t),e=e===null?null:e.stateNode,e};Br.flushSync=function(e){return qs(e)};Br.hydrate=function(e,t,n){if(!Rv(t))throw Error(he(200));return Mv(null,e,t,!0,n)};Br.hydrateRoot=function(e,t,n){if(!qS(e))throw Error(he(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=_M;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=wM(t,null,e,1,n??null,i,!1,a,o),e[Ma]=t.current,lf(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Iv(t)};Br.render=function(e,t,n){if(!Rv(t))throw Error(he(200));return Mv(null,e,t,!1,n)};Br.unmountComponentAtNode=function(e){if(!Rv(e))throw Error(he(40));return e._reactRootContainer?(qs(function(){Mv(null,null,e,!1,function(){e._reactRootContainer=null,e[Ma]=null})}),!0):!1};Br.unstable_batchedUpdates=LS;Br.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Rv(n))throw Error(he(200));if(e==null||e._reactInternals===void 0)throw Error(he(38));return Mv(e,t,n,!1,r)};Br.version="18.3.1-next-f1338f8080-20240426";function SM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(SM)}catch(e){console.error(e)}}SM(),SI.exports=Br;var sl=SI.exports;const jM=Et(sl);var kM,zE=sl;kM=zE.createRoot,zE.hydrateRoot;const v9=1,y9=1e6;let Jx=0;function x9(){return Jx=(Jx+1)%Number.MAX_SAFE_INTEGER,Jx.toString()}const Zx=new Map,WE=e=>{if(Zx.has(e))return;const t=setTimeout(()=>{Zx.delete(e),zd({type:"REMOVE_TOAST",toastId:e})},y9);Zx.set(e,t)},b9=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,v9)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?WE(n):e.toasts.forEach(r=>{WE(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},dm=[];let fm={toasts:[]};function zd(e){fm=b9(fm,e),dm.forEach(t=>{t(fm)})}function w9({...e}){const t=x9(),n=i=>zd({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>zd({type:"DISMISS_TOAST",toastId:t});return zd({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function ll(){const[e,t]=g.useState(fm);return g.useEffect(()=>(dm.push(t),()=>{const n=dm.indexOf(t);n>-1&&dm.splice(n,1)}),[e]),{...e,toast:w9,dismiss:n=>zd({type:"DISMISS_TOAST",toastId:n})}}function me(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function HE(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function La(...e){return t=>{let n=!1;const r=e.map(i=>{const a=HE(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():HE(e[i],null)}}}}function ze(...e){return g.useCallback(La(...e),e)}function _9(e,t){const n=g.createContext(t),r=a=>{const{children:o,...s}=a,c=g.useMemo(()=>s,Object.values(s));return l.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function i(a){const o=g.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,i]}function Dn(e,t=[]){let n=[];function r(a,o){const s=g.createContext(o),c=n.length;n=[...n,o];const u=d=>{var x;const{scope:h,children:p,...m}=d,v=((x=h==null?void 0:h[e])==null?void 0:x[c])||s,y=g.useMemo(()=>m,Object.values(m));return l.jsx(v.Provider,{value:y,children:p})};u.displayName=a+"Provider";function f(d,h){var v;const p=((v=h==null?void 0:h[e])==null?void 0:v[c])||s,m=g.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${a}\``)}return[u,f]}const i=()=>{const a=n.map(o=>g.createContext(o));return function(s){const c=(s==null?void 0:s[e])||a;return g.useMemo(()=>({[`__scope${e}`]:{...s,[e]:c}}),[s,c])}};return i.scopeName=e,[r,S9(i,...t)]}function S9(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((s,{useScope:c,scopeName:u})=>{const d=c(a)[`__scope${u}`];return{...s,...d}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Bo(e){const t=k9(e),n=g.forwardRef((r,i)=>{const{children:a,...o}=r,s=g.Children.toArray(a),c=s.find(C9);if(c){const u=c.props.children,f=s.map(d=>d===c?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:d);return l.jsx(t,{...o,ref:i,children:g.isValidElement(u)?g.cloneElement(u,void 0,f):null})}return l.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}var j9=Bo("Slot");function k9(e){const t=g.forwardRef((n,r)=>{const{children:i,...a}=n;if(g.isValidElement(i)){const o=A9(i),s=E9(a,i.props);return i.type!==g.Fragment&&(s.ref=r?La(r,o):o),g.cloneElement(i,s)}return g.Children.count(i)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var CM=Symbol("radix.slottable");function EM(e){const t=({children:n})=>l.jsx(l.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=CM,t}function C9(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===CM}function E9(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...s)=>{const c=a(...s);return i(...s),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function A9(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function $v(e){const t=e+"CollectionProvider",[n,r]=Dn(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:y,children:x}=v,w=H.useRef(null),b=H.useRef(new Map).current;return l.jsx(i,{scope:y,itemMap:b,collectionRef:w,children:x})};o.displayName=t;const s=e+"CollectionSlot",c=Bo(s),u=H.forwardRef((v,y)=>{const{scope:x,children:w}=v,b=a(s,x),S=ze(y,b.collectionRef);return l.jsx(c,{ref:S,children:w})});u.displayName=s;const f=e+"CollectionItemSlot",d="data-radix-collection-item",h=Bo(f),p=H.forwardRef((v,y)=>{const{scope:x,children:w,...b}=v,S=H.useRef(null),j=ze(y,S),_=a(f,x);return H.useEffect(()=>(_.itemMap.set(S,{ref:S,...b}),()=>void _.itemMap.delete(S))),l.jsx(h,{[d]:"",ref:j,children:w})});p.displayName=f;function m(v){const y=a(e+"CollectionConsumer",v);return H.useCallback(()=>{const w=y.collectionRef.current;if(!w)return[];const b=Array.from(w.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((_,k)=>b.indexOf(_.ref.current)-b.indexOf(k.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},m,r]}var N9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Se=N9.reduce((e,t)=>{const n=Bo(`Primitive.${t}`),r=g.forwardRef((i,a)=>{const{asChild:o,...s}=i,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...s,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function VS(e,t){e&&sl.flushSync(()=>e.dispatchEvent(t))}function rn(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function P9(e,t=globalThis==null?void 0:globalThis.document){const n=rn(e);g.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var T9="DismissableLayer",bw="dismissableLayer.update",O9="dismissableLayer.pointerDownOutside",I9="dismissableLayer.focusOutside",qE,AM=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cl=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...c}=e,u=g.useContext(AM),[f,d]=g.useState(null),h=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=g.useState({}),m=ze(t,k=>d(k)),v=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(y),w=f?v.indexOf(f):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,S=w>=x,j=M9(k=>{const E=k.target,I=[...u.branches].some(P=>P.contains(E));!S||I||(i==null||i(k),o==null||o(k),k.defaultPrevented||s==null||s())},h),_=$9(k=>{const E=k.target;[...u.branches].some(P=>P.contains(E))||(a==null||a(k),o==null||o(k),k.defaultPrevented||s==null||s())},h);return P9(k=>{w===u.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&s&&(k.preventDefault(),s()))},h),g.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(qE=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),VE(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=qE)}},[f,h,n,u]),g.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),VE())},[f,u]),g.useEffect(()=>{const k=()=>p({});return document.addEventListener(bw,k),()=>document.removeEventListener(bw,k)},[]),l.jsx(Se.div,{...c,ref:m,style:{pointerEvents:b?S?"auto":"none":void 0,...e.style},onFocusCapture:me(e.onFocusCapture,_.onFocusCapture),onBlurCapture:me(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:me(e.onPointerDownCapture,j.onPointerDownCapture)})});cl.displayName=T9;var R9="DismissableLayerBranch",NM=g.forwardRef((e,t)=>{const n=g.useContext(AM),r=g.useRef(null),i=ze(t,r);return g.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),l.jsx(Se.div,{...e,ref:i})});NM.displayName=R9;function M9(e,t=globalThis==null?void 0:globalThis.document){const n=rn(e),r=g.useRef(!1),i=g.useRef(()=>{});return g.useEffect(()=>{const a=s=>{if(s.target&&!r.current){let c=function(){PM(O9,n,u,{discrete:!0})};const u={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function $9(e,t=globalThis==null?void 0:globalThis.document){const n=rn(e),r=g.useRef(!1);return g.useEffect(()=>{const i=a=>{a.target&&!r.current&&PM(I9,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function VE(){const e=new CustomEvent(bw);document.dispatchEvent(e)}function PM(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?VS(i,a):i.dispatchEvent(a)}var D9=cl,L9=NM,an=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},F9="Portal",ju=g.forwardRef((e,t)=>{var s;const{container:n,...r}=e,[i,a]=g.useState(!1);an(()=>a(!0),[]);const o=n||i&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return o?jM.createPortal(l.jsx(Se.div,{...r,ref:t}),o):null});ju.displayName=F9;function B9(e,t){return g.useReducer((n,r)=>t[n][r]??n,e)}var jn=e=>{const{present:t,children:n}=e,r=U9(t),i=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),a=ze(r.ref,z9(i));return typeof n=="function"||r.isPresent?g.cloneElement(i,{ref:a}):null};jn.displayName="Presence";function U9(e){const[t,n]=g.useState(),r=g.useRef(null),i=g.useRef(e),a=g.useRef("none"),o=e?"mounted":"unmounted",[s,c]=B9(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=vp(r.current);a.current=s==="mounted"?u:"none"},[s]),an(()=>{const u=r.current,f=i.current;if(f!==e){const h=a.current,p=vp(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),an(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,d=p=>{const v=vp(r.current).includes(p.animationName);if(p.target===t&&v&&(c("ANIMATION_END"),!i.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=p=>{p.target===t&&(a.current=vp(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:g.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function vp(e){return(e==null?void 0:e.animationName)||"none"}function z9(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var W9=tS[" useInsertionEffect ".trim().toString()]||an;function ri({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,o]=H9({defaultProp:t,onChange:n}),s=e!==void 0,c=s?e:i;{const f=g.useRef(e!==void 0);g.useEffect(()=>{const d=f.current;d!==s&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=s},[s,r])}const u=g.useCallback(f=>{var d;if(s){const h=q9(f)?f(e):f;h!==e&&((d=o.current)==null||d.call(o,h))}else a(f)},[s,e,a,o]);return[c,u]}function H9({defaultProp:e,onChange:t}){const[n,r]=g.useState(e),i=g.useRef(n),a=g.useRef(t);return W9(()=>{a.current=t},[t]),g.useEffect(()=>{var o;i.current!==n&&((o=a.current)==null||o.call(a,n),i.current=n)},[n,i]),[n,r,a]}function q9(e){return typeof e=="function"}var TM=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),V9="VisuallyHidden",Dv=g.forwardRef((e,t)=>l.jsx(Se.span,{...e,ref:t,style:{...TM,...e.style}}));Dv.displayName=V9;var K9=Dv,KS="ToastProvider",[GS,G9,Y9]=$v("Toast"),[OM,w$e]=Dn("Toast",[Y9]),[X9,Lv]=OM(KS),IM=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[s,c]=g.useState(null),[u,f]=g.useState(0),d=g.useRef(!1),h=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${KS}\`. Expected non-empty \`string\`.`),l.jsx(GS.Provider,{scope:t,children:l.jsx(X9,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:u,viewport:s,onViewportChange:c,onToastAdd:g.useCallback(()=>f(p=>p+1),[]),onToastRemove:g.useCallback(()=>f(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:o})})};IM.displayName=KS;var RM="ToastViewport",Q9=["F8"],ww="toast.viewportPause",_w="toast.viewportResume",MM=g.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=Q9,label:i="Notifications ({hotkey})",...a}=e,o=Lv(RM,n),s=G9(n),c=g.useRef(null),u=g.useRef(null),f=g.useRef(null),d=g.useRef(null),h=ze(t,d,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=o.toastCount>0;g.useEffect(()=>{const y=x=>{var b;r.length!==0&&r.every(S=>x[S]||x.code===S)&&((b=d.current)==null||b.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),g.useEffect(()=>{const y=c.current,x=d.current;if(m&&y&&x){const w=()=>{if(!o.isClosePausedRef.current){const _=new CustomEvent(ww);x.dispatchEvent(_),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const _=new CustomEvent(_w);x.dispatchEvent(_),o.isClosePausedRef.current=!1}},S=_=>{!y.contains(_.relatedTarget)&&b()},j=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",w),y.addEventListener("focusout",S),y.addEventListener("pointermove",w),y.addEventListener("pointerleave",j),window.addEventListener("blur",w),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",w),y.removeEventListener("focusout",S),y.removeEventListener("pointermove",w),y.removeEventListener("pointerleave",j),window.removeEventListener("blur",w),window.removeEventListener("focus",b)}}},[m,o.isClosePausedRef]);const v=g.useCallback(({tabbingDirection:y})=>{const w=s().map(b=>{const S=b.ref.current,j=[S,...uH(S)];return y==="forwards"?j:j.reverse()});return(y==="forwards"?w.reverse():w).flat()},[s]);return g.useEffect(()=>{const y=d.current;if(y){const x=w=>{var j,_,k;const b=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!b){const E=document.activeElement,I=w.shiftKey;if(w.target===y&&I){(j=u.current)==null||j.focus();return}const O=v({tabbingDirection:I?"backwards":"forwards"}),R=O.findIndex(F=>F===E);e0(O.slice(R+1))?w.preventDefault():I?(_=u.current)==null||_.focus():(k=f.current)==null||k.focus()}};return y.addEventListener("keydown",x),()=>y.removeEventListener("keydown",x)}},[s,v]),l.jsxs(L9,{ref:c,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&l.jsx(Sw,{ref:u,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"forwards"});e0(y)}}),l.jsx(GS.Slot,{scope:n,children:l.jsx(Se.ol,{tabIndex:-1,...a,ref:h})}),m&&l.jsx(Sw,{ref:f,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"backwards"});e0(y)}})]})});MM.displayName=RM;var $M="ToastFocusProxy",Sw=g.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,a=Lv($M,n);return l.jsx(Dv,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const s=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(s))&&r()}})});Sw.displayName=$M;var Sh="Toast",J9="toast.swipeStart",Z9="toast.swipeMove",eH="toast.swipeCancel",tH="toast.swipeEnd",DM=g.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...o}=e,[s,c]=ri({prop:r,defaultProp:i??!0,onChange:a,caller:Sh});return l.jsx(jn,{present:n||s,children:l.jsx(iH,{open:s,...o,ref:t,onClose:()=>c(!1),onPause:rn(e.onPause),onResume:rn(e.onResume),onSwipeStart:me(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:me(e.onSwipeMove,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:me(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:me(e.onSwipeEnd,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),c(!1)})})})});DM.displayName=Sh;var[nH,rH]=OM(Sh,{onClose(){}}),iH=g.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:s,onPause:c,onResume:u,onSwipeStart:f,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:p,...m}=e,v=Lv(Sh,n),[y,x]=g.useState(null),w=ze(t,F=>x(F)),b=g.useRef(null),S=g.useRef(null),j=i||v.duration,_=g.useRef(0),k=g.useRef(j),E=g.useRef(0),{onToastAdd:I,onToastRemove:P}=v,N=rn(()=>{var W;(y==null?void 0:y.contains(document.activeElement))&&((W=v.viewport)==null||W.focus()),o()}),O=g.useCallback(F=>{!F||F===1/0||(window.clearTimeout(E.current),_.current=new Date().getTime(),E.current=window.setTimeout(N,F))},[N]);g.useEffect(()=>{const F=v.viewport;if(F){const W=()=>{O(k.current),u==null||u()},D=()=>{const B=new Date().getTime()-_.current;k.current=k.current-B,window.clearTimeout(E.current),c==null||c()};return F.addEventListener(ww,D),F.addEventListener(_w,W),()=>{F.removeEventListener(ww,D),F.removeEventListener(_w,W)}}},[v.viewport,j,c,u,O]),g.useEffect(()=>{a&&!v.isClosePausedRef.current&&O(j)},[a,j,v.isClosePausedRef,O]),g.useEffect(()=>(I(),()=>P()),[I,P]);const R=g.useMemo(()=>y?HM(y):null,[y]);return v.viewport?l.jsxs(l.Fragment,{children:[R&&l.jsx(aH,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),l.jsx(nH,{scope:n,onClose:N,children:sl.createPortal(l.jsx(GS.ItemSlot,{scope:n,children:l.jsx(D9,{asChild:!0,onEscapeKeyDown:me(s,()=>{v.isFocusedToastEscapeKeyDownRef.current||N(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(Se.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":v.swipeDirection,...m,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:me(e.onKeyDown,F=>{F.key==="Escape"&&(s==null||s(F.nativeEvent),F.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:me(e.onPointerDown,F=>{F.button===0&&(b.current={x:F.clientX,y:F.clientY})}),onPointerMove:me(e.onPointerMove,F=>{if(!b.current)return;const W=F.clientX-b.current.x,D=F.clientY-b.current.y,B=!!S.current,$=["left","right"].includes(v.swipeDirection),L=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,A=$?L(0,W):0,M=$?0:L(0,D),T=F.pointerType==="touch"?10:2,C={x:A,y:M},U={originalEvent:F,delta:C};B?(S.current=C,yp(Z9,d,U,{discrete:!1})):KE(C,v.swipeDirection,T)?(S.current=C,yp(J9,f,U,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(W)>T||Math.abs(D)>T)&&(b.current=null)}),onPointerUp:me(e.onPointerUp,F=>{const W=S.current,D=F.target;if(D.hasPointerCapture(F.pointerId)&&D.releasePointerCapture(F.pointerId),S.current=null,b.current=null,W){const B=F.currentTarget,$={originalEvent:F,delta:W};KE(W,v.swipeDirection,v.swipeThreshold)?yp(tH,p,$,{discrete:!0}):yp(eH,h,$,{discrete:!0}),B.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),aH=e=>{const{__scopeToast:t,children:n,...r}=e,i=Lv(Sh,t),[a,o]=g.useState(!1),[s,c]=g.useState(!1);return lH(()=>o(!0)),g.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),s?null:l.jsx(ju,{asChild:!0,children:l.jsx(Dv,{...r,children:a&&l.jsxs(l.Fragment,{children:[i.label," ",n]})})})},oH="ToastTitle",LM=g.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(Se.div,{...r,ref:t})});LM.displayName=oH;var sH="ToastDescription",FM=g.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(Se.div,{...r,ref:t})});FM.displayName=sH;var BM="ToastAction",UM=g.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?l.jsx(WM,{altText:n,asChild:!0,children:l.jsx(YS,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${BM}\`. Expected non-empty \`string\`.`),null)});UM.displayName=BM;var zM="ToastClose",YS=g.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=rH(zM,n);return l.jsx(WM,{asChild:!0,children:l.jsx(Se.button,{type:"button",...r,ref:t,onClick:me(e.onClick,i.onClose)})})});YS.displayName=zM;var WM=g.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return l.jsx(Se.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function HM(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),cH(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...HM(r))}}),t}function yp(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?VS(i,a):i.dispatchEvent(a)}var KE=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),a=r>i;return t==="left"||t==="right"?a&&r>n:!a&&i>n};function lH(e=()=>{}){const t=rn(e);an(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function cH(e){return e.nodeType===e.ELEMENT_NODE}function uH(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function e0(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var dH=IM,qM=MM,VM=DM,KM=LM,GM=FM,YM=UM,XM=YS;function QM(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=QM(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ft(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=QM(e))&&(r&&(r+=" "),r+=t);return r}const GE=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,YE=ft,jh=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return YE(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(u=>{const f=n==null?void 0:n[u],d=a==null?void 0:a[u];if(f===null)return null;const h=GE(f)||GE(d);return i[u][h]}),s=n&&Object.entries(n).reduce((u,f)=>{let[d,h]=f;return h===void 0||(u[d]=h),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,f)=>{let{class:d,className:h,...p}=f;return Object.entries(p).every(m=>{let[v,y]=m;return Array.isArray(y)?y.includes({...a,...s}[v]):{...a,...s}[v]===y})?[...u,d,h]:u},[]);return YE(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JM=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...s},c)=>g.createElement("svg",{ref:c,...hH,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:JM("lucide",i),...s},[...o.map(([u,f])=>g.createElement(u,f)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=(e,t)=>{const n=g.forwardRef(({className:r,...i},a)=>g.createElement(pH,{ref:a,iconNode:t,className:JM(`lucide-${fH(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=Pe("AlignCenter",[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=Pe("AlignJustify",[["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M3 6h18",key:"d0wm0j"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=Pe("AlignLeft",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=Pe("AlignRight",[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=Pe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=Pe("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=Pe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=Pe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=Pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=Pe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=Pe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=Pe("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=Pe("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=Pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=Pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=Pe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=Pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=Pe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=Pe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=Pe("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=Pe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=Pe("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=Pe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=Pe("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=Pe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=Pe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=Pe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=Pe("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=Pe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=Pe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=Pe("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=Pe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=Pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=Pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=Pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=Pe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=Pe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=Pe("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=Pe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=Pe("PlugZap",[["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z",key:"goz73y"}],["path",{d:"m2 22 3-3",key:"19mgm9"}],["path",{d:"M7.5 13.5 10 11",key:"7xgeeb"}],["path",{d:"M10.5 16.5 13 14",key:"10btkg"}],["path",{d:"m18 3-4 4h6l-4 4",key:"16psg9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=Pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=Pe("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=Pe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=Pe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=Pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=Pe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=Pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=Pe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=Pe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=Pe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=Pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=Pe("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=Pe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=Pe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=Pe("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=Pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=Pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=Pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ej="-",WH=e=>{const t=qH(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const s=o.split(ej);return s[0]===""&&s.length!==1&&s.shift(),s$(s,t)||HH(o)},getConflictingClassGroupIds:(o,s)=>{const c=n[o]||[];return s&&r[o]?[...c,...r[o]]:c}}},s$=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?s$(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(ej);return(o=t.validators.find(({validator:s})=>s(a)))==null?void 0:o.classGroupId},QE=/^\[(.+)\]$/,HH=e=>{if(QE.test(e)){const t=QE.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},qH=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return KH(Object.entries(e.classGroups),n).forEach(([a,o])=>{Ew(o,r,a,t)}),r},Ew=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:JE(t,i);a.classGroupId=n;return}if(typeof i=="function"){if(VH(i)){Ew(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{Ew(o,JE(t,a),n,r)})})},JE=(e,t)=>{let n=e;return t.split(ej).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},VH=e=>e.isThemeGetter,KH=(e,t)=>t?e.map(([n,r])=>{const i=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,s])=>[t+o,s])):a);return[n,i]}):e,GH=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(a,o)=>{n.set(a,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}},l$="!",YH=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],a=t.length,o=s=>{const c=[];let u=0,f=0,d;for(let y=0;y<s.length;y++){let x=s[y];if(u===0){if(x===i&&(r||s.slice(y,y+a)===t)){c.push(s.slice(f,y)),f=y+a;continue}if(x==="/"){d=y;continue}}x==="["?u++:x==="]"&&u--}const h=c.length===0?s:s.substring(f),p=h.startsWith(l$),m=p?h.substring(1):h,v=d&&d>f?d-f:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:v}};return n?s=>n({className:s,parseClassName:o}):o},XH=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},QH=e=>({cache:GH(e.cacheSize),parseClassName:YH(e),...WH(e)}),JH=/\s+/,ZH=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,a=[],o=e.trim().split(JH);let s="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:f,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:p}=n(u);let m=!!p,v=r(m?h.substring(0,p):h);if(!v){if(!m){s=u+(s.length>0?" "+s:s);continue}if(v=r(h),!v){s=u+(s.length>0?" "+s:s);continue}m=!1}const y=XH(f).join(":"),x=d?y+l$:y,w=x+v;if(a.includes(w))continue;a.push(w);const b=i(v,m);for(let S=0;S<b.length;++S){const j=b[S];a.push(x+j)}s=u+(s.length>0?" "+s:s)}return s};function e7(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=c$(t))&&(r&&(r+=" "),r+=n);return r}const c$=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=c$(e[r]))&&(n&&(n+=" "),n+=t);return n};function t7(e,...t){let n,r,i,a=o;function o(c){const u=t.reduce((f,d)=>d(f),e());return n=QH(u),r=n.cache.get,i=n.cache.set,a=s,s(c)}function s(c){const u=r(c);if(u)return u;const f=ZH(c,n);return i(c,f),f}return function(){return a(e7.apply(null,arguments))}}const Wt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},u$=/^\[(?:([a-z-]+):)?(.+)\]$/i,n7=/^\d+\/\d+$/,r7=new Set(["px","full","screen"]),i7=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,a7=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,o7=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,s7=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,l7=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ha=e=>hc(e)||r7.has(e)||n7.test(e),to=e=>ku(e,"length",g7),hc=e=>!!e&&!Number.isNaN(Number(e)),n0=e=>ku(e,"number",hc),id=e=>!!e&&Number.isInteger(Number(e)),c7=e=>e.endsWith("%")&&hc(e.slice(0,-1)),Ve=e=>u$.test(e),no=e=>i7.test(e),u7=new Set(["length","size","percentage"]),d7=e=>ku(e,u7,d$),f7=e=>ku(e,"position",d$),h7=new Set(["image","url"]),p7=e=>ku(e,h7,y7),m7=e=>ku(e,"",v7),ad=()=>!0,ku=(e,t,n)=>{const r=u$.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},g7=e=>a7.test(e)&&!o7.test(e),d$=()=>!1,v7=e=>s7.test(e),y7=e=>l7.test(e),x7=()=>{const e=Wt("colors"),t=Wt("spacing"),n=Wt("blur"),r=Wt("brightness"),i=Wt("borderColor"),a=Wt("borderRadius"),o=Wt("borderSpacing"),s=Wt("borderWidth"),c=Wt("contrast"),u=Wt("grayscale"),f=Wt("hueRotate"),d=Wt("invert"),h=Wt("gap"),p=Wt("gradientColorStops"),m=Wt("gradientColorStopPositions"),v=Wt("inset"),y=Wt("margin"),x=Wt("opacity"),w=Wt("padding"),b=Wt("saturate"),S=Wt("scale"),j=Wt("sepia"),_=Wt("skew"),k=Wt("space"),E=Wt("translate"),I=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",Ve,t],O=()=>[Ve,t],R=()=>["",ha,to],F=()=>["auto",hc,Ve],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],D=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",Ve],A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>[hc,Ve];return{cacheSize:500,separator:":",theme:{colors:[ad],spacing:[ha,to],blur:["none","",no,Ve],brightness:M(),borderColor:[e],borderRadius:["none","","full",no,Ve],borderSpacing:O(),borderWidth:R(),contrast:M(),grayscale:L(),hueRotate:M(),invert:L(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[c7,to],inset:N(),margin:N(),opacity:M(),padding:O(),saturate:M(),scale:M(),sepia:L(),skew:M(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Ve]}],container:["container"],columns:[{columns:[no]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),Ve]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",id,Ve]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ve]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",id,Ve]}],"grid-cols":[{"grid-cols":[ad]}],"col-start-end":[{col:["auto",{span:["full",id,Ve]},Ve]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[ad]}],"row-start-end":[{row:["auto",{span:[id,Ve]},Ve]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ve]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ve,t]}],"min-w":[{"min-w":[Ve,t,"min","max","fit"]}],"max-w":[{"max-w":[Ve,t,"none","full","min","max","fit","prose",{screen:[no]},no]}],h:[{h:[Ve,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ve,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ve,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ve,t,"auto","min","max","fit"]}],"font-size":[{text:["base",no,to]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",n0]}],"font-family":[{font:[ad]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ve]}],"line-clamp":[{"line-clamp":["none",hc,n0]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ha,Ve]}],"list-image":[{"list-image":["none",Ve]}],"list-style-type":[{list:["none","disc","decimal",Ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...D(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ha,to]}],"underline-offset":[{"underline-offset":["auto",ha,Ve]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),f7]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",d7]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},p7]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...D(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:D()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...D()]}],"outline-offset":[{"outline-offset":[ha,Ve]}],"outline-w":[{outline:[ha,to]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[ha,to]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",no,m7]}],"shadow-color":[{shadow:[ad]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",no,Ve]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ve]}],duration:[{duration:M()}],ease:[{ease:["linear","in","out","in-out",Ve]}],delay:[{delay:M()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[id,Ve]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ve]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ve]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ve]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ha,to,n0]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},b7=t7(x7);function pe(...e){return b7(ft(e))}function w7(e,t){if(!t||t.length===0)return;const n=Object.keys(t[0]),r=[n.join(","),...t.map(s=>n.map(c=>{const u=s[c],f=u==null?"":String(u),d='"'+f.replace(/"/g,'""')+'"';return/[",\n]/.test(f)?d:f}).join(","))].join(`
`),i=new Blob([r],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),o=URL.createObjectURL(i);a.setAttribute("href",o),a.setAttribute("download",e),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)}function f$(e){if(typeof e=="string"){let t=e.replace(/([A-Z0-9._%+-]+)@([A-Z0-9.-]+)\.[A-Z]{2,}/gi,"***@***");return t=t.replace(/\b\+?\d[\d\s-]{6,}\b/g,n=>n.slice(0,Math.max(0,n.length-4)).replace(/\d/g,"*")+n.slice(-4)),t=t.replace(/(\d+\.\d+\.\d+)\.\d+/g,"$1.*"),t}if(e&&typeof e=="object"){const t=Array.isArray(e)?[]:{};for(const n of Object.keys(e))t[n]=f$(e[n]);return t}return e}const _7=dH,h$=g.forwardRef(({className:e,...t},n)=>l.jsx(qM,{ref:n,className:pe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));h$.displayName=qM.displayName;const S7=jh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),p$=g.forwardRef(({className:e,variant:t,...n},r)=>l.jsx(VM,{ref:r,className:pe(S7({variant:t}),e),...n}));p$.displayName=VM.displayName;const j7=g.forwardRef(({className:e,...t},n)=>l.jsx(YM,{ref:n,className:pe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));j7.displayName=YM.displayName;const m$=g.forwardRef(({className:e,...t},n)=>l.jsx(XM,{ref:n,className:pe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(Uv,{className:"h-4 w-4"})}));m$.displayName=XM.displayName;const g$=g.forwardRef(({className:e,...t},n)=>l.jsx(KM,{ref:n,className:pe("text-sm font-semibold",e),...t}));g$.displayName=KM.displayName;const v$=g.forwardRef(({className:e,...t},n)=>l.jsx(GM,{ref:n,className:pe("text-sm opacity-90",e),...t}));v$.displayName=GM.displayName;function k7(){const{toasts:e}=ll();return l.jsxs(_7,{children:[e.map(function({id:t,title:n,description:r,action:i,...a}){return l.jsxs(p$,{...a,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(g$,{children:n}),r&&l.jsx(v$,{children:r})]}),i,l.jsx(m$,{})]},t)}),l.jsx(h$,{})]})}var ZE=["light","dark"],C7="(prefers-color-scheme: dark)",E7=g.createContext(void 0),A7={setTheme:e=>{},themes:[]},N7=()=>{var e;return(e=g.useContext(E7))!=null?e:A7};g.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:a,value:o,attrs:s,nonce:c})=>{let u=a==="system",f=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${s.map(m=>`'${m}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,d=i?ZE.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(m,v=!1,y=!0)=>{let x=o?o[m]:m,w=v?m+"|| ''":`'${x}'`,b="";return i&&y&&!v&&ZE.includes(m)&&(b+=`d.style.colorScheme = '${m}';`),n==="class"?v||x?b+=`c.add(${w})`:b+="null":x&&(b+=`d[s](n,${w})`),b},p=e?`!function(){${f}${h(e)}}()`:r?`!function(){try{${f}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${C7}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(a,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${d}}catch(t){}}();`;return g.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var P7=e=>{switch(e){case"success":return I7;case"info":return M7;case"warning":return R7;case"error":return $7;default:return null}},T7=Array(12).fill(0),O7=({visible:e,className:t})=>H.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},H.createElement("div",{className:"sonner-spinner"},T7.map((n,r)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),I7=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),R7=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),M7=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),$7=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),D7=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),L7=()=>{let[e,t]=H.useState(document.hidden);return H.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Aw=1,F7=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Aw++,a=this.toasts.find(s=>s.id===i),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(s=>s.id===i?(this.publish({...s,...e,id:i,title:n}),{...s,...e,id:i,dismissible:o,title:n}):s):this.addToast({title:n,...r,dismissible:o,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),i=n!==void 0,a,o=r.then(async c=>{if(a=["resolve",c],H.isValidElement(c))i=!1,this.create({id:n,type:"default",message:c});else if(U7(c)&&!c.ok){i=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,f=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:f})}else if(t.success!==void 0){i=!1;let u=typeof t.success=="function"?await t.success(c):t.success,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:f})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){i=!1;let u=typeof t.error=="function"?await t.error(c):t.error,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:f})}}).finally(()=>{var c;i&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),s=()=>new Promise((c,u)=>o.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:s}:Object.assign(n,{unwrap:s})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Aw++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},cr=new F7,B7=(e,t)=>{let n=(t==null?void 0:t.id)||Aw++;return cr.addToast({title:e,...t,id:n}),n},U7=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",z7=B7,W7=()=>cr.toasts,H7=()=>cr.getActiveToasts(),Oe=Object.assign(z7,{success:cr.success,info:cr.info,warning:cr.warning,error:cr.error,custom:cr.custom,message:cr.message,promise:cr.promise,dismiss:cr.dismiss,loading:cr.loading},{getHistory:W7,getToasts:H7});function q7(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}q7(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function xp(e){return e.label!==void 0}var V7=3,K7="32px",G7="16px",eA=4e3,Y7=356,X7=14,Q7=20,J7=200;function ci(...e){return e.filter(Boolean).join(" ")}function Z7(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var eq=e=>{var t,n,r,i,a,o,s,c,u,f,d;let{invert:h,toast:p,unstyled:m,interacting:v,setHeights:y,visibleToasts:x,heights:w,index:b,toasts:S,expanded:j,removeToast:_,defaultRichColors:k,closeButton:E,style:I,cancelButtonStyle:P,actionButtonStyle:N,className:O="",descriptionClassName:R="",duration:F,position:W,gap:D,loadingIcon:B,expandByDefault:$,classNames:L,icons:A,closeButtonAriaLabel:M="Close toast",pauseWhenPageIsHidden:T}=e,[C,U]=H.useState(null),[K,Q]=H.useState(null),[Y,le]=H.useState(!1),[Z,oe]=H.useState(!1),[re,J]=H.useState(!1),[ke,V]=H.useState(!1),[ee,fe]=H.useState(!1),[je,Re]=H.useState(0),[xe,Te]=H.useState(0),Ze=H.useRef(p.duration||F||eA),He=H.useRef(null),Xe=H.useRef(null),gt=b===0,yt=b+1<=x,q=p.type,ce=p.dismissible!==!1,z=p.className||"",G=p.descriptionClassName||"",te=H.useMemo(()=>w.findIndex(be=>be.toastId===p.id)||0,[w,p.id]),ue=H.useMemo(()=>{var be;return(be=p.closeButton)!=null?be:E},[p.closeButton,E]),de=H.useMemo(()=>p.duration||F||eA,[p.duration,F]),ye=H.useRef(0),Ue=H.useRef(0),Ye=H.useRef(0),$e=H.useRef(null),[De,lt]=W.split("-"),sr=H.useMemo(()=>w.reduce((be,Ce,rt)=>rt>=te?be:be+Ce.height,0),[w,te]),Ln=L7(),ie=p.invert||h,ge=q==="loading";Ue.current=H.useMemo(()=>te*D+sr,[te,sr]),H.useEffect(()=>{Ze.current=de},[de]),H.useEffect(()=>{le(!0)},[]),H.useEffect(()=>{let be=Xe.current;if(be){let Ce=be.getBoundingClientRect().height;return Te(Ce),y(rt=>[{toastId:p.id,height:Ce,position:p.position},...rt]),()=>y(rt=>rt.filter($t=>$t.toastId!==p.id))}},[y,p.id]),H.useLayoutEffect(()=>{if(!Y)return;let be=Xe.current,Ce=be.style.height;be.style.height="auto";let rt=be.getBoundingClientRect().height;be.style.height=Ce,Te(rt),y($t=>$t.find(Qe=>Qe.toastId===p.id)?$t.map(Qe=>Qe.toastId===p.id?{...Qe,height:rt}:Qe):[{toastId:p.id,height:rt,position:p.position},...$t])},[Y,p.title,p.description,y,p.id]);let we=H.useCallback(()=>{oe(!0),Re(Ue.current),y(be=>be.filter(Ce=>Ce.toastId!==p.id)),setTimeout(()=>{_(p)},J7)},[p,_,y,Ue]);H.useEffect(()=>{if(p.promise&&q==="loading"||p.duration===1/0||p.type==="loading")return;let be;return j||v||T&&Ln?(()=>{if(Ye.current<ye.current){let Ce=new Date().getTime()-ye.current;Ze.current=Ze.current-Ce}Ye.current=new Date().getTime()})():Ze.current!==1/0&&(ye.current=new Date().getTime(),be=setTimeout(()=>{var Ce;(Ce=p.onAutoClose)==null||Ce.call(p,p),we()},Ze.current)),()=>clearTimeout(be)},[j,v,p,q,T,Ln,we]),H.useEffect(()=>{p.delete&&we()},[we,p.delete]);function Le(){var be,Ce,rt;return A!=null&&A.loading?H.createElement("div",{className:ci(L==null?void 0:L.loader,(be=p==null?void 0:p.classNames)==null?void 0:be.loader,"sonner-loader"),"data-visible":q==="loading"},A.loading):B?H.createElement("div",{className:ci(L==null?void 0:L.loader,(Ce=p==null?void 0:p.classNames)==null?void 0:Ce.loader,"sonner-loader"),"data-visible":q==="loading"},B):H.createElement(O7,{className:ci(L==null?void 0:L.loader,(rt=p==null?void 0:p.classNames)==null?void 0:rt.loader),visible:q==="loading"})}return H.createElement("li",{tabIndex:0,ref:Xe,className:ci(O,z,L==null?void 0:L.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,L==null?void 0:L.default,L==null?void 0:L[q],(n=p==null?void 0:p.classNames)==null?void 0:n[q]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:k,"data-styled":!(p.jsx||p.unstyled||m),"data-mounted":Y,"data-promise":!!p.promise,"data-swiped":ee,"data-removed":Z,"data-visible":yt,"data-y-position":De,"data-x-position":lt,"data-index":b,"data-front":gt,"data-swiping":re,"data-dismissible":ce,"data-type":q,"data-invert":ie,"data-swipe-out":ke,"data-swipe-direction":K,"data-expanded":!!(j||$&&Y),style:{"--index":b,"--toasts-before":b,"--z-index":S.length-b,"--offset":`${Z?je:Ue.current}px`,"--initial-height":$?"auto":`${xe}px`,...I,...p.style},onDragEnd:()=>{J(!1),U(null),$e.current=null},onPointerDown:be=>{ge||!ce||(He.current=new Date,Re(Ue.current),be.target.setPointerCapture(be.pointerId),be.target.tagName!=="BUTTON"&&(J(!0),$e.current={x:be.clientX,y:be.clientY}))},onPointerUp:()=>{var be,Ce,rt,$t;if(ke||!ce)return;$e.current=null;let Qe=Number(((be=Xe.current)==null?void 0:be.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ln=Number(((Ce=Xe.current)==null?void 0:Ce.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Zt=new Date().getTime()-((rt=He.current)==null?void 0:rt.getTime()),on=C==="x"?Qe:ln,zr=Math.abs(on)/Zt;if(Math.abs(on)>=Q7||zr>.11){Re(Ue.current),($t=p.onDismiss)==null||$t.call(p,p),Q(C==="x"?Qe>0?"right":"left":ln>0?"down":"up"),we(),V(!0),fe(!1);return}J(!1),U(null)},onPointerMove:be=>{var Ce,rt,$t,Qe;if(!$e.current||!ce||((Ce=window.getSelection())==null?void 0:Ce.toString().length)>0)return;let ln=be.clientY-$e.current.y,Zt=be.clientX-$e.current.x,on=(rt=e.swipeDirections)!=null?rt:Z7(W);!C&&(Math.abs(Zt)>1||Math.abs(ln)>1)&&U(Math.abs(Zt)>Math.abs(ln)?"x":"y");let zr={x:0,y:0};C==="y"?(on.includes("top")||on.includes("bottom"))&&(on.includes("top")&&ln<0||on.includes("bottom")&&ln>0)&&(zr.y=ln):C==="x"&&(on.includes("left")||on.includes("right"))&&(on.includes("left")&&Zt<0||on.includes("right")&&Zt>0)&&(zr.x=Zt),(Math.abs(zr.x)>0||Math.abs(zr.y)>0)&&fe(!0),($t=Xe.current)==null||$t.style.setProperty("--swipe-amount-x",`${zr.x}px`),(Qe=Xe.current)==null||Qe.style.setProperty("--swipe-amount-y",`${zr.y}px`)}},ue&&!p.jsx?H.createElement("button",{"aria-label":M,"data-disabled":ge,"data-close-button":!0,onClick:ge||!ce?()=>{}:()=>{var be;we(),(be=p.onDismiss)==null||be.call(p,p)},className:ci(L==null?void 0:L.closeButton,(i=p==null?void 0:p.classNames)==null?void 0:i.closeButton)},(a=A==null?void 0:A.close)!=null?a:D7):null,p.jsx||g.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:H.createElement(H.Fragment,null,q||p.icon||p.promise?H.createElement("div",{"data-icon":"",className:ci(L==null?void 0:L.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Le():null,p.type!=="loading"?p.icon||(A==null?void 0:A[q])||P7(q):null):null,H.createElement("div",{"data-content":"",className:ci(L==null?void 0:L.content,(s=p==null?void 0:p.classNames)==null?void 0:s.content)},H.createElement("div",{"data-title":"",className:ci(L==null?void 0:L.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?H.createElement("div",{"data-description":"",className:ci(R,G,L==null?void 0:L.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),g.isValidElement(p.cancel)?p.cancel:p.cancel&&xp(p.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||P,onClick:be=>{var Ce,rt;xp(p.cancel)&&ce&&((rt=(Ce=p.cancel).onClick)==null||rt.call(Ce,be),we())},className:ci(L==null?void 0:L.cancelButton,(f=p==null?void 0:p.classNames)==null?void 0:f.cancelButton)},p.cancel.label):null,g.isValidElement(p.action)?p.action:p.action&&xp(p.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||N,onClick:be=>{var Ce,rt;xp(p.action)&&((rt=(Ce=p.action).onClick)==null||rt.call(Ce,be),!be.defaultPrevented&&we())},className:ci(L==null?void 0:L.actionButton,(d=p==null?void 0:p.classNames)==null?void 0:d.actionButton)},p.action.label):null))};function tA(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function tq(e,t){let n={};return[e,t].forEach((r,i)=>{let a=i===1,o=a?"--mobile-offset":"--offset",s=a?G7:K7;function c(u){["top","right","bottom","left"].forEach(f=>{n[`${o}-${f}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=s:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(s)}),n}var nq=g.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:o,className:s,offset:c,mobileOffset:u,theme:f="light",richColors:d,duration:h,style:p,visibleToasts:m=V7,toastOptions:v,dir:y=tA(),gap:x=X7,loadingIcon:w,icons:b,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:j}=e,[_,k]=H.useState([]),E=H.useMemo(()=>Array.from(new Set([r].concat(_.filter(T=>T.position).map(T=>T.position)))),[_,r]),[I,P]=H.useState([]),[N,O]=H.useState(!1),[R,F]=H.useState(!1),[W,D]=H.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=H.useRef(null),$=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=H.useRef(null),A=H.useRef(!1),M=H.useCallback(T=>{k(C=>{var U;return(U=C.find(K=>K.id===T.id))!=null&&U.delete||cr.dismiss(T.id),C.filter(({id:K})=>K!==T.id)})},[]);return H.useEffect(()=>cr.subscribe(T=>{if(T.dismiss){k(C=>C.map(U=>U.id===T.id?{...U,delete:!0}:U));return}setTimeout(()=>{jM.flushSync(()=>{k(C=>{let U=C.findIndex(K=>K.id===T.id);return U!==-1?[...C.slice(0,U),{...C[U],...T},...C.slice(U+1)]:[T,...C]})})})}),[]),H.useEffect(()=>{if(f!=="system"){D(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?D("dark"):D("light")),typeof window>"u")return;let T=window.matchMedia("(prefers-color-scheme: dark)");try{T.addEventListener("change",({matches:C})=>{D(C?"dark":"light")})}catch{T.addListener(({matches:U})=>{try{D(U?"dark":"light")}catch(K){console.error(K)}})}},[f]),H.useEffect(()=>{_.length<=1&&O(!1)},[_]),H.useEffect(()=>{let T=C=>{var U,K;i.every(Q=>C[Q]||C.code===Q)&&(O(!0),(U=B.current)==null||U.focus()),C.code==="Escape"&&(document.activeElement===B.current||(K=B.current)!=null&&K.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[i]),H.useEffect(()=>{if(B.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,A.current=!1)}},[B.current]),H.createElement("section",{ref:t,"aria-label":`${S} ${$}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((T,C)=>{var U;let[K,Q]=T.split("-");return _.length?H.createElement("ol",{key:T,dir:y==="auto"?tA():y,tabIndex:-1,ref:B,className:s,"data-sonner-toaster":!0,"data-theme":W,"data-y-position":K,"data-lifted":N&&_.length>1&&!a,"data-x-position":Q,style:{"--front-toast-height":`${((U=I[0])==null?void 0:U.height)||0}px`,"--width":`${Y7}px`,"--gap":`${x}px`,...p,...tq(c,u)},onBlur:Y=>{A.current&&!Y.currentTarget.contains(Y.relatedTarget)&&(A.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||A.current||(A.current=!0,L.current=Y.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{R||O(!1)},onDragEnd:()=>O(!1),onPointerDown:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||F(!0)},onPointerUp:()=>F(!1)},_.filter(Y=>!Y.position&&C===0||Y.position===T).map((Y,le)=>{var Z,oe;return H.createElement(eq,{key:Y.id,icons:b,index:le,toast:Y,defaultRichColors:d,duration:(Z=v==null?void 0:v.duration)!=null?Z:h,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:m,closeButton:(oe=v==null?void 0:v.closeButton)!=null?oe:o,interacting:R,position:T,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:M,toasts:_.filter(re=>re.position==Y.position),heights:I.filter(re=>re.position==Y.position),setHeights:P,expandByDefault:a,gap:x,loadingIcon:w,expanded:N,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))});const rq=({...e})=>{const{theme:t="system"}=N7();return l.jsx(nq,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var iq=tS[" useId ".trim().toString()]||(()=>{}),aq=0;function Sn(e){const[t,n]=g.useState(iq());return an(()=>{e||n(r=>r??String(aq++))},[e]),e||(t?`radix-${t}`:"")}const oq=["top","right","bottom","left"],Uo=Math.min,Pr=Math.max,Km=Math.round,bp=Math.floor,ta=e=>({x:e,y:e}),sq={left:"right",right:"left",bottom:"top",top:"bottom"},lq={start:"end",end:"start"};function Nw(e,t,n){return Pr(e,Uo(t,n))}function Ba(e,t){return typeof e=="function"?e(t):e}function Ua(e){return e.split("-")[0]}function Cu(e){return e.split("-")[1]}function tj(e){return e==="x"?"y":"x"}function nj(e){return e==="y"?"height":"width"}const cq=new Set(["top","bottom"]);function Gi(e){return cq.has(Ua(e))?"y":"x"}function rj(e){return tj(Gi(e))}function uq(e,t,n){n===void 0&&(n=!1);const r=Cu(e),i=rj(e),a=nj(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Gm(o)),[o,Gm(o)]}function dq(e){const t=Gm(e);return[Pw(e),t,Pw(t)]}function Pw(e){return e.replace(/start|end/g,t=>lq[t])}const nA=["left","right"],rA=["right","left"],fq=["top","bottom"],hq=["bottom","top"];function pq(e,t,n){switch(e){case"top":case"bottom":return n?t?rA:nA:t?nA:rA;case"left":case"right":return t?fq:hq;default:return[]}}function mq(e,t,n,r){const i=Cu(e);let a=pq(Ua(e),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(Pw)))),a}function Gm(e){return e.replace(/left|right|bottom|top/g,t=>sq[t])}function gq(e){return{top:0,right:0,bottom:0,left:0,...e}}function y$(e){return typeof e!="number"?gq(e):{top:e,right:e,bottom:e,left:e}}function Ym(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function iA(e,t,n){let{reference:r,floating:i}=e;const a=Gi(t),o=rj(t),s=nj(o),c=Ua(t),u=a==="y",f=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[s]/2-i[s]/2;let p;switch(c){case"top":p={x:f,y:r.y-i.height};break;case"bottom":p={x:f,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(Cu(t)){case"start":p[o]-=h*(n&&u?-1:1);break;case"end":p[o]+=h*(n&&u?-1:1);break}return p}const vq=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,s=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:d}=iA(u,r,c),h=r,p={},m=0;for(let v=0;v<s.length;v++){const{name:y,fn:x}=s[v],{x:w,y:b,data:S,reset:j}=await x({x:f,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});f=w??f,d=b??d,p={...p,[y]:{...p[y],...S}},j&&m<=50&&(m++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):j.rects),{x:f,y:d}=iA(u,h,c)),v=-1)}return{x:f,y:d,placement:h,strategy:i,middlewareData:p}};async function yf(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:o,elements:s,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=Ba(t,e),m=y$(p),y=s[h?d==="floating"?"reference":"floating":d],x=Ym(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(y)))==null||n?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:u,rootBoundary:f,strategy:c})),w=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),S=await(a.isElement==null?void 0:a.isElement(b))?await(a.getScale==null?void 0:a.getScale(b))||{x:1,y:1}:{x:1,y:1},j=Ym(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:w,offsetParent:b,strategy:c}):w);return{top:(x.top-j.top+m.top)/S.y,bottom:(j.bottom-x.bottom+m.bottom)/S.y,left:(x.left-j.left+m.left)/S.x,right:(j.right-x.right+m.right)/S.x}}const yq=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:o,elements:s,middlewareData:c}=t,{element:u,padding:f=0}=Ba(e,t)||{};if(u==null)return{};const d=y$(f),h={x:n,y:r},p=rj(i),m=nj(p),v=await o.getDimensions(u),y=p==="y",x=y?"top":"left",w=y?"bottom":"right",b=y?"clientHeight":"clientWidth",S=a.reference[m]+a.reference[p]-h[p]-a.floating[m],j=h[p]-a.reference[p],_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let k=_?_[b]:0;(!k||!await(o.isElement==null?void 0:o.isElement(_)))&&(k=s.floating[b]||a.floating[m]);const E=S/2-j/2,I=k/2-v[m]/2-1,P=Uo(d[x],I),N=Uo(d[w],I),O=P,R=k-v[m]-N,F=k/2-v[m]/2+E,W=Nw(O,F,R),D=!c.arrow&&Cu(i)!=null&&F!==W&&a.reference[m]/2-(F<O?P:N)-v[m]/2<0,B=D?F<O?F-O:F-R:0;return{[p]:h[p]+B,data:{[p]:W,centerOffset:F-W-B,...D&&{alignmentOffset:B}},reset:D}}}),xq=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:v=!0,...y}=Ba(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const x=Ua(i),w=Gi(s),b=Ua(s)===s,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(b||!v?[Gm(s)]:dq(s)),_=m!=="none";!h&&_&&j.push(...mq(s,v,m,S));const k=[s,...j],E=await yf(t,y),I=[];let P=((r=a.flip)==null?void 0:r.overflows)||[];if(f&&I.push(E[x]),d){const F=uq(i,o,S);I.push(E[F[0]],E[F[1]])}if(P=[...P,{placement:i,overflows:I}],!I.every(F=>F<=0)){var N,O;const F=(((N=a.flip)==null?void 0:N.index)||0)+1,W=k[F];if(W&&(!(d==="alignment"?w!==Gi(W):!1)||P.every($=>$.overflows[0]>0&&Gi($.placement)===w)))return{data:{index:F,overflows:P},reset:{placement:W}};let D=(O=P.filter(B=>B.overflows[0]<=0).sort((B,$)=>B.overflows[1]-$.overflows[1])[0])==null?void 0:O.placement;if(!D)switch(p){case"bestFit":{var R;const B=(R=P.filter($=>{if(_){const L=Gi($.placement);return L===w||L==="y"}return!0}).map($=>[$.placement,$.overflows.filter(L=>L>0).reduce((L,A)=>L+A,0)]).sort(($,L)=>$[1]-L[1])[0])==null?void 0:R[0];B&&(D=B);break}case"initialPlacement":D=s;break}if(i!==D)return{reset:{placement:D}}}return{}}}};function aA(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function oA(e){return oq.some(t=>e[t]>=0)}const bq=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Ba(e,t);switch(r){case"referenceHidden":{const a=await yf(t,{...i,elementContext:"reference"}),o=aA(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:oA(o)}}}case"escaped":{const a=await yf(t,{...i,altBoundary:!0}),o=aA(a,n.floating);return{data:{escapedOffsets:o,escaped:oA(o)}}}default:return{}}}}},x$=new Set(["left","top"]);async function wq(e,t){const{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Ua(n),s=Cu(n),c=Gi(n)==="y",u=x$.has(o)?-1:1,f=a&&c?-1:1,d=Ba(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&typeof m=="number"&&(p=s==="end"?m*-1:m),c?{x:p*f,y:h*u}:{x:h*u,y:p*f}}const _q=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:o,middlewareData:s}=t,c=await wq(t,e);return o===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},Sq=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:y=>{let{x,y:w}=y;return{x,y:w}}},...c}=Ba(e,t),u={x:n,y:r},f=await yf(t,c),d=Gi(Ua(i)),h=tj(d);let p=u[h],m=u[d];if(a){const y=h==="y"?"top":"left",x=h==="y"?"bottom":"right",w=p+f[y],b=p-f[x];p=Nw(w,p,b)}if(o){const y=d==="y"?"top":"left",x=d==="y"?"bottom":"right",w=m+f[y],b=m-f[x];m=Nw(w,m,b)}const v=s.fn({...t,[h]:p,[d]:m});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[h]:a,[d]:o}}}}}},jq=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:a,middlewareData:o}=t,{offset:s=0,mainAxis:c=!0,crossAxis:u=!0}=Ba(e,t),f={x:n,y:r},d=Gi(i),h=tj(d);let p=f[h],m=f[d];const v=Ba(s,t),y=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const b=h==="y"?"height":"width",S=a.reference[h]-a.floating[b]+y.mainAxis,j=a.reference[h]+a.reference[b]-y.mainAxis;p<S?p=S:p>j&&(p=j)}if(u){var x,w;const b=h==="y"?"width":"height",S=x$.has(Ua(i)),j=a.reference[d]-a.floating[b]+(S&&((x=o.offset)==null?void 0:x[d])||0)+(S?0:y.crossAxis),_=a.reference[d]+a.reference[b]+(S?0:((w=o.offset)==null?void 0:w[d])||0)-(S?y.crossAxis:0);m<j?m=j:m>_&&(m=_)}return{[h]:p,[d]:m}}}},kq=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:a,platform:o,elements:s}=t,{apply:c=()=>{},...u}=Ba(e,t),f=await yf(t,u),d=Ua(i),h=Cu(i),p=Gi(i)==="y",{width:m,height:v}=a.floating;let y,x;d==="top"||d==="bottom"?(y=d,x=h===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(x=d,y=h==="end"?"top":"bottom");const w=v-f.top-f.bottom,b=m-f.left-f.right,S=Uo(v-f[y],w),j=Uo(m-f[x],b),_=!t.middlewareData.shift;let k=S,E=j;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(E=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=w),_&&!h){const P=Pr(f.left,0),N=Pr(f.right,0),O=Pr(f.top,0),R=Pr(f.bottom,0);p?E=m-2*(P!==0||N!==0?P+N:Pr(f.left,f.right)):k=v-2*(O!==0||R!==0?O+R:Pr(f.top,f.bottom))}await c({...t,availableWidth:E,availableHeight:k});const I=await o.getDimensions(s.floating);return m!==I.width||v!==I.height?{reset:{rects:!0}}:{}}}};function zv(){return typeof window<"u"}function Eu(e){return b$(e)?(e.nodeName||"").toLowerCase():"#document"}function $r(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ca(e){var t;return(t=(b$(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function b$(e){return zv()?e instanceof Node||e instanceof $r(e).Node:!1}function Pi(e){return zv()?e instanceof Element||e instanceof $r(e).Element:!1}function aa(e){return zv()?e instanceof HTMLElement||e instanceof $r(e).HTMLElement:!1}function sA(e){return!zv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof $r(e).ShadowRoot}const Cq=new Set(["inline","contents"]);function kh(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Ti(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Cq.has(i)}const Eq=new Set(["table","td","th"]);function Aq(e){return Eq.has(Eu(e))}const Nq=[":popover-open",":modal"];function Wv(e){return Nq.some(t=>{try{return e.matches(t)}catch{return!1}})}const Pq=["transform","translate","scale","rotate","perspective"],Tq=["transform","translate","scale","rotate","perspective","filter"],Oq=["paint","layout","strict","content"];function ij(e){const t=aj(),n=Pi(e)?Ti(e):e;return Pq.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Tq.some(r=>(n.willChange||"").includes(r))||Oq.some(r=>(n.contain||"").includes(r))}function Iq(e){let t=zo(e);for(;aa(t)&&!Bc(t);){if(ij(t))return t;if(Wv(t))return null;t=zo(t)}return null}function aj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Rq=new Set(["html","body","#document"]);function Bc(e){return Rq.has(Eu(e))}function Ti(e){return $r(e).getComputedStyle(e)}function Hv(e){return Pi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function zo(e){if(Eu(e)==="html")return e;const t=e.assignedSlot||e.parentNode||sA(e)&&e.host||ca(e);return sA(t)?t.host:t}function w$(e){const t=zo(e);return Bc(t)?e.ownerDocument?e.ownerDocument.body:e.body:aa(t)&&kh(t)?t:w$(t)}function xf(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=w$(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),o=$r(i);if(a){const s=Tw(o);return t.concat(o,o.visualViewport||[],kh(i)?i:[],s&&n?xf(s):[])}return t.concat(i,xf(i,[],n))}function Tw(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function _$(e){const t=Ti(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=aa(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,s=Km(n)!==a||Km(r)!==o;return s&&(n=a,r=o),{width:n,height:r,$:s}}function oj(e){return Pi(e)?e:e.contextElement}function pc(e){const t=oj(e);if(!aa(t))return ta(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=_$(t);let o=(a?Km(n.width):n.width)/r,s=(a?Km(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const Mq=ta(0);function S$(e){const t=$r(e);return!aj()||!t.visualViewport?Mq:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function $q(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==$r(e)?!1:t}function Vs(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=oj(e);let o=ta(1);t&&(r?Pi(r)&&(o=pc(r)):o=pc(e));const s=$q(a,n,r)?S$(a):ta(0);let c=(i.left+s.x)/o.x,u=(i.top+s.y)/o.y,f=i.width/o.x,d=i.height/o.y;if(a){const h=$r(a),p=r&&Pi(r)?$r(r):r;let m=h,v=Tw(m);for(;v&&r&&p!==m;){const y=pc(v),x=v.getBoundingClientRect(),w=Ti(v),b=x.left+(v.clientLeft+parseFloat(w.paddingLeft))*y.x,S=x.top+(v.clientTop+parseFloat(w.paddingTop))*y.y;c*=y.x,u*=y.y,f*=y.x,d*=y.y,c+=b,u+=S,m=$r(v),v=Tw(m)}}return Ym({width:f,height:d,x:c,y:u})}function sj(e,t){const n=Hv(e).scrollLeft;return t?t.left+n:Vs(ca(e)).left+n}function j$(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:sj(e,r)),a=r.top+t.scrollTop;return{x:i,y:a}}function Dq(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a=i==="fixed",o=ca(r),s=t?Wv(t.floating):!1;if(r===o||s&&a)return n;let c={scrollLeft:0,scrollTop:0},u=ta(1);const f=ta(0),d=aa(r);if((d||!d&&!a)&&((Eu(r)!=="body"||kh(o))&&(c=Hv(r)),aa(r))){const p=Vs(r);u=pc(r),f.x=p.x+r.clientLeft,f.y=p.y+r.clientTop}const h=o&&!d&&!a?j$(o,c,!0):ta(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+f.x+h.x,y:n.y*u.y-c.scrollTop*u.y+f.y+h.y}}function Lq(e){return Array.from(e.getClientRects())}function Fq(e){const t=ca(e),n=Hv(e),r=e.ownerDocument.body,i=Pr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Pr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+sj(e);const s=-n.scrollTop;return Ti(r).direction==="rtl"&&(o+=Pr(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:s}}function Bq(e,t){const n=$r(e),r=ca(e),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,s=0,c=0;if(i){a=i.width,o=i.height;const u=aj();(!u||u&&t==="fixed")&&(s=i.offsetLeft,c=i.offsetTop)}return{width:a,height:o,x:s,y:c}}const Uq=new Set(["absolute","fixed"]);function zq(e,t){const n=Vs(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=aa(e)?pc(e):ta(1),o=e.clientWidth*a.x,s=e.clientHeight*a.y,c=i*a.x,u=r*a.y;return{width:o,height:s,x:c,y:u}}function lA(e,t,n){let r;if(t==="viewport")r=Bq(e,n);else if(t==="document")r=Fq(ca(e));else if(Pi(t))r=zq(t,n);else{const i=S$(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Ym(r)}function k$(e,t){const n=zo(e);return n===t||!Pi(n)||Bc(n)?!1:Ti(n).position==="fixed"||k$(n,t)}function Wq(e,t){const n=t.get(e);if(n)return n;let r=xf(e,[],!1).filter(s=>Pi(s)&&Eu(s)!=="body"),i=null;const a=Ti(e).position==="fixed";let o=a?zo(e):e;for(;Pi(o)&&!Bc(o);){const s=Ti(o),c=ij(o);!c&&s.position==="fixed"&&(i=null),(a?!c&&!i:!c&&s.position==="static"&&!!i&&Uq.has(i.position)||kh(o)&&!c&&k$(e,o))?r=r.filter(f=>f!==o):i=s,o=zo(o)}return t.set(e,r),r}function Hq(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?Wv(t)?[]:Wq(t,this._c):[].concat(n),r],s=o[0],c=o.reduce((u,f)=>{const d=lA(t,f,i);return u.top=Pr(d.top,u.top),u.right=Uo(d.right,u.right),u.bottom=Uo(d.bottom,u.bottom),u.left=Pr(d.left,u.left),u},lA(t,s,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function qq(e){const{width:t,height:n}=_$(e);return{width:t,height:n}}function Vq(e,t,n){const r=aa(t),i=ca(t),a=n==="fixed",o=Vs(e,!0,a,t);let s={scrollLeft:0,scrollTop:0};const c=ta(0);function u(){c.x=sj(i)}if(r||!r&&!a)if((Eu(t)!=="body"||kh(i))&&(s=Hv(t)),r){const p=Vs(t,!0,a,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else i&&u();a&&!r&&i&&u();const f=i&&!r&&!a?j$(i,s):ta(0),d=o.left+s.scrollLeft-c.x-f.x,h=o.top+s.scrollTop-c.y-f.y;return{x:d,y:h,width:o.width,height:o.height}}function r0(e){return Ti(e).position==="static"}function cA(e,t){if(!aa(e)||Ti(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ca(e)===n&&(n=n.ownerDocument.body),n}function C$(e,t){const n=$r(e);if(Wv(e))return n;if(!aa(e)){let i=zo(e);for(;i&&!Bc(i);){if(Pi(i)&&!r0(i))return i;i=zo(i)}return n}let r=cA(e,t);for(;r&&Aq(r)&&r0(r);)r=cA(r,t);return r&&Bc(r)&&r0(r)&&!ij(r)?n:r||Iq(e)||n}const Kq=async function(e){const t=this.getOffsetParent||C$,n=this.getDimensions,r=await n(e.floating);return{reference:Vq(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Gq(e){return Ti(e).direction==="rtl"}const Yq={convertOffsetParentRelativeRectToViewportRelativeRect:Dq,getDocumentElement:ca,getClippingRect:Hq,getOffsetParent:C$,getElementRects:Kq,getClientRects:Lq,getDimensions:qq,getScale:pc,isElement:Pi,isRTL:Gq};function E$(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Xq(e,t){let n=null,r;const i=ca(e);function a(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function o(s,c){s===void 0&&(s=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:f,top:d,width:h,height:p}=u;if(s||t(),!h||!p)return;const m=bp(d),v=bp(i.clientWidth-(f+h)),y=bp(i.clientHeight-(d+p)),x=bp(f),b={rootMargin:-m+"px "+-v+"px "+-y+"px "+-x+"px",threshold:Pr(0,Uo(1,c))||1};let S=!0;function j(_){const k=_[0].intersectionRatio;if(k!==c){if(!S)return o();k?o(!1,k):r=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!E$(u,e.getBoundingClientRect())&&o(),S=!1}try{n=new IntersectionObserver(j,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(j,b)}n.observe(e)}return o(!0),a}function Qq(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=oj(e),f=i||a?[...u?xf(u):[],...xf(t)]:[];f.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),a&&x.addEventListener("resize",n)});const d=u&&s?Xq(u,n):null;let h=-1,p=null;o&&(p=new ResizeObserver(x=>{let[w]=x;w&&w.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let m,v=c?Vs(e):null;c&&y();function y(){const x=Vs(e);v&&!E$(v,x)&&n(),v=x,m=requestAnimationFrame(y)}return n(),()=>{var x;f.forEach(w=>{i&&w.removeEventListener("scroll",n),a&&w.removeEventListener("resize",n)}),d==null||d(),(x=p)==null||x.disconnect(),p=null,c&&cancelAnimationFrame(m)}}const Jq=_q,Zq=Sq,eV=xq,tV=kq,nV=bq,uA=yq,rV=jq,iV=(e,t,n)=>{const r=new Map,i={platform:Yq,...n},a={...i.platform,_c:r};return vq(e,t,{...i,platform:a})};var aV=typeof document<"u",oV=function(){},hm=aV?g.useLayoutEffect:oV;function Xm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Xm(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!Xm(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function A$(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function dA(e,t){const n=A$(e);return Math.round(t*n)/n}function i0(e){const t=g.useRef(e);return hm(()=>{t.current=e}),t}function sV(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:c,open:u}=e,[f,d]=g.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=g.useState(r);Xm(h,r)||p(r);const[m,v]=g.useState(null),[y,x]=g.useState(null),w=g.useCallback($=>{$!==_.current&&(_.current=$,v($))},[]),b=g.useCallback($=>{$!==k.current&&(k.current=$,x($))},[]),S=a||m,j=o||y,_=g.useRef(null),k=g.useRef(null),E=g.useRef(f),I=c!=null,P=i0(c),N=i0(i),O=i0(u),R=g.useCallback(()=>{if(!_.current||!k.current)return;const $={placement:t,strategy:n,middleware:h};N.current&&($.platform=N.current),iV(_.current,k.current,$).then(L=>{const A={...L,isPositioned:O.current!==!1};F.current&&!Xm(E.current,A)&&(E.current=A,sl.flushSync(()=>{d(A)}))})},[h,t,n,N,O]);hm(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,d($=>({...$,isPositioned:!1})))},[u]);const F=g.useRef(!1);hm(()=>(F.current=!0,()=>{F.current=!1}),[]),hm(()=>{if(S&&(_.current=S),j&&(k.current=j),S&&j){if(P.current)return P.current(S,j,R);R()}},[S,j,R,P,I]);const W=g.useMemo(()=>({reference:_,floating:k,setReference:w,setFloating:b}),[w,b]),D=g.useMemo(()=>({reference:S,floating:j}),[S,j]),B=g.useMemo(()=>{const $={position:n,left:0,top:0};if(!D.floating)return $;const L=dA(D.floating,f.x),A=dA(D.floating,f.y);return s?{...$,transform:"translate("+L+"px, "+A+"px)",...A$(D.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:A}},[n,s,D.floating,f.x,f.y]);return g.useMemo(()=>({...f,update:R,refs:W,elements:D,floatingStyles:B}),[f,R,W,D,B])}const lV=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?uA({element:r.current,padding:i}).fn(n):{}:r?uA({element:r,padding:i}).fn(n):{}}}},cV=(e,t)=>({...Jq(e),options:[e,t]}),uV=(e,t)=>({...Zq(e),options:[e,t]}),dV=(e,t)=>({...rV(e),options:[e,t]}),fV=(e,t)=>({...eV(e),options:[e,t]}),hV=(e,t)=>({...tV(e),options:[e,t]}),pV=(e,t)=>({...nV(e),options:[e,t]}),mV=(e,t)=>({...lV(e),options:[e,t]});var gV="Arrow",N$=g.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...a}=e;return l.jsx(Se.svg,{...a,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});N$.displayName=gV;var vV=N$;function lj(e){const[t,n]=g.useState(void 0);return an(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,s;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,s=u.blockSize}else o=e.offsetWidth,s=e.offsetHeight;n({width:o,height:s})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var cj="Popper",[P$,Go]=Dn(cj),[yV,T$]=P$(cj),O$=e=>{const{__scopePopper:t,children:n}=e,[r,i]=g.useState(null);return l.jsx(yV,{scope:t,anchor:r,onAnchorChange:i,children:n})};O$.displayName=cj;var I$="PopperAnchor",R$=g.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,a=T$(I$,n),o=g.useRef(null),s=ze(t,o);return g.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:l.jsx(Se.div,{...i,ref:s})});R$.displayName=I$;var uj="PopperContent",[xV,bV]=P$(uj),M$=g.forwardRef((e,t)=>{var Y,le,Z,oe,re,J;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:s=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:m,...v}=e,y=T$(uj,n),[x,w]=g.useState(null),b=ze(t,ke=>w(ke)),[S,j]=g.useState(null),_=lj(S),k=(_==null?void 0:_.width)??0,E=(_==null?void 0:_.height)??0,I=r+(a!=="center"?"-"+a:""),P=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},N=Array.isArray(u)?u:[u],O=N.length>0,R={padding:P,boundary:N.filter(_V),altBoundary:O},{refs:F,floatingStyles:W,placement:D,isPositioned:B,middlewareData:$}=sV({strategy:"fixed",placement:I,whileElementsMounted:(...ke)=>Qq(...ke,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[cV({mainAxis:i+E,alignmentAxis:o}),c&&uV({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?dV():void 0,...R}),c&&fV({...R}),hV({...R,apply:({elements:ke,rects:V,availableWidth:ee,availableHeight:fe})=>{const{width:je,height:Re}=V.reference,xe=ke.floating.style;xe.setProperty("--radix-popper-available-width",`${ee}px`),xe.setProperty("--radix-popper-available-height",`${fe}px`),xe.setProperty("--radix-popper-anchor-width",`${je}px`),xe.setProperty("--radix-popper-anchor-height",`${Re}px`)}}),S&&mV({element:S,padding:s}),SV({arrowWidth:k,arrowHeight:E}),h&&pV({strategy:"referenceHidden",...R})]}),[L,A]=L$(D),M=rn(m);an(()=>{B&&(M==null||M())},[B,M]);const T=(Y=$.arrow)==null?void 0:Y.x,C=(le=$.arrow)==null?void 0:le.y,U=((Z=$.arrow)==null?void 0:Z.centerOffset)!==0,[K,Q]=g.useState();return an(()=>{x&&Q(window.getComputedStyle(x).zIndex)},[x]),l.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:B?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:K,"--radix-popper-transform-origin":[(oe=$.transformOrigin)==null?void 0:oe.x,(re=$.transformOrigin)==null?void 0:re.y].join(" "),...((J=$.hide)==null?void 0:J.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(xV,{scope:n,placedSide:L,onArrowChange:j,arrowX:T,arrowY:C,shouldHideArrow:U,children:l.jsx(Se.div,{"data-side":L,"data-align":A,...v,ref:b,style:{...v.style,animation:B?void 0:"none"}})})})});M$.displayName=uj;var $$="PopperArrow",wV={top:"bottom",right:"left",bottom:"top",left:"right"},D$=g.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,a=bV($$,r),o=wV[a.placedSide];return l.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:l.jsx(vV,{...i,ref:n,style:{...i.style,display:"block"}})})});D$.displayName=$$;function _V(e){return e!==null}var SV=e=>({name:"transformOrigin",options:e,fn(t){var y,x,w;const{placement:n,rects:r,middlewareData:i}=t,o=((y=i.arrow)==null?void 0:y.centerOffset)!==0,s=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,f]=L$(n),d={start:"0%",center:"50%",end:"100%"}[f],h=(((x=i.arrow)==null?void 0:x.x)??0)+s/2,p=(((w=i.arrow)==null?void 0:w.y)??0)+c/2;let m="",v="";return u==="bottom"?(m=o?d:`${h}px`,v=`${-c}px`):u==="top"?(m=o?d:`${h}px`,v=`${r.floating.height+c}px`):u==="right"?(m=`${-c}px`,v=o?d:`${p}px`):u==="left"&&(m=`${r.floating.width+c}px`,v=o?d:`${p}px`),{data:{x:m,y:v}}}});function L$(e){const[t,n="center"]=e.split("-");return[t,n]}var qv=O$,Ch=R$,Vv=M$,Kv=D$,[Gv,_$e]=Dn("Tooltip",[Go]),Yv=Go(),F$="TooltipProvider",jV=700,Ow="tooltip.open",[kV,dj]=Gv(F$),B$=e=>{const{__scopeTooltip:t,delayDuration:n=jV,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=e,o=g.useRef(!0),s=g.useRef(!1),c=g.useRef(0);return g.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(kV,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:s,onPointerInTransitChange:g.useCallback(u=>{s.current=u},[]),disableHoverableContent:i,children:a})};B$.displayName=F$;var bf="Tooltip",[CV,Xv]=Gv(bf),U$=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i,onOpenChange:a,disableHoverableContent:o,delayDuration:s}=e,c=dj(bf,e.__scopeTooltip),u=Yv(t),[f,d]=g.useState(null),h=Sn(),p=g.useRef(0),m=o??c.disableHoverableContent,v=s??c.delayDuration,y=g.useRef(!1),[x,w]=ri({prop:r,defaultProp:i??!1,onChange:k=>{k?(c.onOpen(),document.dispatchEvent(new CustomEvent(Ow))):c.onClose(),a==null||a(k)},caller:bf}),b=g.useMemo(()=>x?y.current?"delayed-open":"instant-open":"closed",[x]),S=g.useCallback(()=>{window.clearTimeout(p.current),p.current=0,y.current=!1,w(!0)},[w]),j=g.useCallback(()=>{window.clearTimeout(p.current),p.current=0,w(!1)},[w]),_=g.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{y.current=!0,w(!0),p.current=0},v)},[v,w]);return g.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),l.jsx(qv,{...u,children:l.jsx(CV,{scope:t,contentId:h,open:x,stateAttribute:b,trigger:f,onTriggerChange:d,onTriggerEnter:g.useCallback(()=>{c.isOpenDelayedRef.current?_():S()},[c.isOpenDelayedRef,_,S]),onTriggerLeave:g.useCallback(()=>{m?j():(window.clearTimeout(p.current),p.current=0)},[j,m]),onOpen:S,onClose:j,disableHoverableContent:m,children:n})})};U$.displayName=bf;var Iw="TooltipTrigger",z$=g.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Xv(Iw,n),a=dj(Iw,n),o=Yv(n),s=g.useRef(null),c=ze(t,s,i.onTriggerChange),u=g.useRef(!1),f=g.useRef(!1),d=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),l.jsx(Ch,{asChild:!0,...o,children:l.jsx(Se.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:me(e.onPointerMove,h=>{h.pointerType!=="touch"&&!f.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:me(e.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:me(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:me(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:me(e.onBlur,i.onClose),onClick:me(e.onClick,i.onClose)})})});z$.displayName=Iw;var EV="TooltipPortal",[S$e,AV]=Gv(EV,{forceMount:void 0}),Uc="TooltipContent",W$=g.forwardRef((e,t)=>{const n=AV(Uc,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=e,o=Xv(Uc,e.__scopeTooltip);return l.jsx(jn,{present:r||o.open,children:o.disableHoverableContent?l.jsx(H$,{side:i,...a,ref:t}):l.jsx(NV,{side:i,...a,ref:t})})}),NV=g.forwardRef((e,t)=>{const n=Xv(Uc,e.__scopeTooltip),r=dj(Uc,e.__scopeTooltip),i=g.useRef(null),a=ze(t,i),[o,s]=g.useState(null),{trigger:c,onClose:u}=n,f=i.current,{onPointerInTransitChange:d}=r,h=g.useCallback(()=>{s(null),d(!1)},[d]),p=g.useCallback((m,v)=>{const y=m.currentTarget,x={x:m.clientX,y:m.clientY},w=RV(x,y.getBoundingClientRect()),b=MV(x,w),S=$V(v.getBoundingClientRect()),j=LV([...b,...S]);s(j),d(!0)},[d]);return g.useEffect(()=>()=>h(),[h]),g.useEffect(()=>{if(c&&f){const m=y=>p(y,f),v=y=>p(y,c);return c.addEventListener("pointerleave",m),f.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",m),f.removeEventListener("pointerleave",v)}}},[c,f,p,h]),g.useEffect(()=>{if(o){const m=v=>{const y=v.target,x={x:v.clientX,y:v.clientY},w=(c==null?void 0:c.contains(y))||(f==null?void 0:f.contains(y)),b=!DV(x,o);w?h():b&&(h(),u())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[c,f,o,u,h]),l.jsx(H$,{...e,ref:a})}),[PV,TV]=Gv(bf,{isInside:!1}),OV=EM("TooltipContent"),H$=g.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...s}=e,c=Xv(Uc,n),u=Yv(n),{onClose:f}=c;return g.useEffect(()=>(document.addEventListener(Ow,f),()=>document.removeEventListener(Ow,f)),[f]),g.useEffect(()=>{if(c.trigger){const d=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&f()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,f]),l.jsx(cl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:f,children:l.jsxs(Vv,{"data-state":c.stateAttribute,...u,...s,ref:t,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(OV,{children:r}),l.jsx(PV,{scope:n,isInside:!0,children:l.jsx(K9,{id:c.contentId,role:"tooltip",children:i||r})})]})})});W$.displayName=Uc;var q$="TooltipArrow",IV=g.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Yv(n);return TV(q$,n).isInside?null:l.jsx(Kv,{...i,...r,ref:t})});IV.displayName=q$;function RV(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function MV(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function $V(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function DV(e,t){const{x:n,y:r}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const s=t[a],c=t[o],u=s.x,f=s.y,d=c.x,h=c.y;f>r!=h>r&&n<(d-u)*(r-f)/(h-f)+u&&(i=!i)}return i}function LV(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),FV(t)}function FV(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var BV=B$,UV=U$,zV=z$,V$=W$;const WV=BV,wp=UV,_p=zV,Ad=g.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(V$,{ref:r,sideOffset:t,className:pe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Ad.displayName=V$.displayName;var Qv=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Jv=typeof window>"u"||"Deno"in globalThis;function mi(){}function HV(e,t){return typeof e=="function"?e(t):e}function qV(e){return typeof e=="number"&&e>=0&&e!==1/0}function VV(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Rw(e,t){return typeof e=="function"?e(t):e}function KV(e,t){return typeof e=="function"?e(t):e}function fA(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:s}=e;if(o){if(r){if(t.queryHash!==fj(o,t.options))return!1}else if(!_f(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof s=="boolean"&&t.isStale()!==s||i&&i!==t.state.fetchStatus||a&&!a(t))}function hA(e,t){const{exact:n,status:r,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(wf(t.options.mutationKey)!==wf(a))return!1}else if(!_f(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function fj(e,t){return((t==null?void 0:t.queryKeyHashFn)||wf)(e)}function wf(e){return JSON.stringify(e,(t,n)=>Mw(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function _f(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>_f(e[n],t[n])):!1}function K$(e,t){if(e===t)return e;const n=pA(e)&&pA(t);if(n||Mw(e)&&Mw(t)){const r=n?e:Object.keys(e),i=r.length,a=n?t:Object.keys(t),o=a.length,s=n?[]:{},c=new Set(r);let u=0;for(let f=0;f<o;f++){const d=n?f:a[f];(!n&&c.has(d)||n)&&e[d]===void 0&&t[d]===void 0?(s[d]=void 0,u++):(s[d]=K$(e[d],t[d]),s[d]===e[d]&&e[d]!==void 0&&u++)}return i===o&&u===i?e:s}return t}function pA(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Mw(e){if(!mA(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!mA(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function mA(e){return Object.prototype.toString.call(e)==="[object Object]"}function GV(e){return new Promise(t=>{setTimeout(t,e)})}function YV(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?K$(e,t):t}function XV(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function QV(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var hj=Symbol();function G$(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===hj?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ps,vo,jc,iI,JV=(iI=class extends Qv{constructor(){super();pt(this,Ps);pt(this,vo);pt(this,jc);We(this,jc,t=>{if(!Jv&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){se(this,vo)||this.setEventListener(se(this,jc))}onUnsubscribe(){var t;this.hasListeners()||((t=se(this,vo))==null||t.call(this),We(this,vo,void 0))}setEventListener(t){var n;We(this,jc,t),(n=se(this,vo))==null||n.call(this),We(this,vo,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){se(this,Ps)!==t&&(We(this,Ps,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof se(this,Ps)=="boolean"?se(this,Ps):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ps=new WeakMap,vo=new WeakMap,jc=new WeakMap,iI),Y$=new JV,kc,yo,Cc,aI,ZV=(aI=class extends Qv{constructor(){super();pt(this,kc,!0);pt(this,yo);pt(this,Cc);We(this,Cc,t=>{if(!Jv&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){se(this,yo)||this.setEventListener(se(this,Cc))}onUnsubscribe(){var t;this.hasListeners()||((t=se(this,yo))==null||t.call(this),We(this,yo,void 0))}setEventListener(t){var n;We(this,Cc,t),(n=se(this,yo))==null||n.call(this),We(this,yo,t(this.setOnline.bind(this)))}setOnline(t){se(this,kc)!==t&&(We(this,kc,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return se(this,kc)}},kc=new WeakMap,yo=new WeakMap,Cc=new WeakMap,aI),Qm=new ZV;function eK(){let e,t;const n=new Promise((i,a)=>{e=i,t=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function tK(e){return Math.min(1e3*2**e,3e4)}function X$(e){return(e??"online")==="online"?Qm.isOnline():!0}var Q$=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function a0(e){return e instanceof Q$}function J$(e){let t=!1,n=0,r=!1,i;const a=eK(),o=v=>{var y;r||(h(new Q$(v)),(y=e.abort)==null||y.call(e))},s=()=>{t=!0},c=()=>{t=!1},u=()=>Y$.isFocused()&&(e.networkMode==="always"||Qm.isOnline())&&e.canRun(),f=()=>X$(e.networkMode)&&e.canRun(),d=v=>{var y;r||(r=!0,(y=e.onSuccess)==null||y.call(e,v),i==null||i(),a.resolve(v))},h=v=>{var y;r||(r=!0,(y=e.onError)==null||y.call(e,v),i==null||i(),a.reject(v))},p=()=>new Promise(v=>{var y;i=x=>{(r||u())&&v(x)},(y=e.onPause)==null||y.call(e)}).then(()=>{var v;i=void 0,r||(v=e.onContinue)==null||v.call(e)}),m=()=>{if(r)return;let v;const y=n===0?e.initialPromise:void 0;try{v=y??e.fn()}catch(x){v=Promise.reject(x)}Promise.resolve(v).then(d).catch(x=>{var _;if(r)return;const w=e.retry??(Jv?0:3),b=e.retryDelay??tK,S=typeof b=="function"?b(n,x):b,j=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,x);if(t||!j){h(x);return}n++,(_=e.onFail)==null||_.call(e,n,x),GV(S).then(()=>u()?void 0:p()).then(()=>{t?h(x):m()})})};return{promise:a,cancel:o,continue:()=>(i==null||i(),a),cancelRetry:s,continueRetry:c,canStart:f,start:()=>(f()?m():p().then(m),a)}}var nK=e=>setTimeout(e,0);function rK(){let e=[],t=0,n=s=>{s()},r=s=>{s()},i=nK;const a=s=>{t?e.push(s):i(()=>{n(s)})},o=()=>{const s=e;e=[],s.length&&i(()=>{r(()=>{s.forEach(c=>{n(c)})})})};return{batch:s=>{let c;t++;try{c=s()}finally{t--,t||o()}return c},batchCalls:s=>(...c)=>{a(()=>{s(...c)})},schedule:a,setNotifyFunction:s=>{n=s},setBatchNotifyFunction:s=>{r=s},setScheduler:s=>{i=s}}}var er=rK(),Ts,oI,Z$=(oI=class{constructor(){pt(this,Ts)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),qV(this.gcTime)&&We(this,Ts,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Jv?1/0:5*60*1e3))}clearGcTimeout(){se(this,Ts)&&(clearTimeout(se(this,Ts)),We(this,Ts,void 0))}},Ts=new WeakMap,oI),Ec,Os,Vr,Is,zn,gh,Rs,gi,ga,sI,iK=(sI=class extends Z${constructor(t){super();pt(this,gi);pt(this,Ec);pt(this,Os);pt(this,Vr);pt(this,Is);pt(this,zn);pt(this,gh);pt(this,Rs);We(this,Rs,!1),We(this,gh,t.defaultOptions),this.setOptions(t.options),this.observers=[],We(this,Is,t.client),We(this,Vr,se(this,Is).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,We(this,Ec,oK(this.options)),this.state=t.state??se(this,Ec),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=se(this,zn))==null?void 0:t.promise}setOptions(t){this.options={...se(this,gh),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&se(this,Vr).remove(this)}setData(t,n){const r=YV(this.state.data,t,this.options);return Fn(this,gi,ga).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Fn(this,gi,ga).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=se(this,zn))==null?void 0:r.promise;return(i=se(this,zn))==null||i.cancel(t),n?n.then(mi).catch(mi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(se(this,Ec))}isActive(){return this.observers.some(t=>KV(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===hj||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Rw(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!VV(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=se(this,zn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=se(this,zn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),se(this,Vr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(se(this,zn)&&(se(this,Rs)?se(this,zn).cancel({revert:!0}):se(this,zn).cancelRetry()),this.scheduleGc()),se(this,Vr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Fn(this,gi,ga).call(this,{type:"invalidate"})}fetch(t,n){var u,f,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(se(this,zn))return se(this,zn).continueRetry(),se(this,zn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(We(this,Rs,!0),r.signal)})},a=()=>{const h=G$(this.options,n),m=(()=>{const v={client:se(this,Is),queryKey:this.queryKey,meta:this.meta};return i(v),v})();return We(this,Rs,!1),this.options.persister?this.options.persister(h,m,this):h(m)},s=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:se(this,Is),state:this.state,fetchFn:a};return i(h),h})();(u=this.options.behavior)==null||u.onFetch(s,this),We(this,Os,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=s.fetchOptions)==null?void 0:f.meta))&&Fn(this,gi,ga).call(this,{type:"fetch",meta:(d=s.fetchOptions)==null?void 0:d.meta});const c=h=>{var p,m,v,y;a0(h)&&h.silent||Fn(this,gi,ga).call(this,{type:"error",error:h}),a0(h)||((m=(p=se(this,Vr).config).onError)==null||m.call(p,h,this),(y=(v=se(this,Vr).config).onSettled)==null||y.call(v,this.state.data,h,this)),this.scheduleGc()};return We(this,zn,J$({initialPromise:n==null?void 0:n.initialPromise,fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var p,m,v,y;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(x){c(x);return}(m=(p=se(this,Vr).config).onSuccess)==null||m.call(p,h,this),(y=(v=se(this,Vr).config).onSettled)==null||y.call(v,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,p)=>{Fn(this,gi,ga).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{Fn(this,gi,ga).call(this,{type:"pause"})},onContinue:()=>{Fn(this,gi,ga).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),se(this,zn).start()}},Ec=new WeakMap,Os=new WeakMap,Vr=new WeakMap,Is=new WeakMap,zn=new WeakMap,gh=new WeakMap,Rs=new WeakMap,gi=new WeakSet,ga=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...aK(r.data,this.options),fetchMeta:t.meta??null};case"success":return We(this,Os,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return a0(i)&&i.revert&&se(this,Os)?{...se(this,Os),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),er.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),se(this,Vr).notify({query:this,type:"updated",action:t})})},sI);function aK(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:X$(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function oK(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var zi,lI,sK=(lI=class extends Qv{constructor(t={}){super();pt(this,zi);this.config=t,We(this,zi,new Map)}build(t,n,r){const i=n.queryKey,a=n.queryHash??fj(i,n);let o=this.get(a);return o||(o=new iK({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){se(this,zi).has(t.queryHash)||(se(this,zi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=se(this,zi).get(t.queryHash);n&&(t.destroy(),n===t&&se(this,zi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){er.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return se(this,zi).get(t)}getAll(){return[...se(this,zi).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>fA(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>fA(t,r)):n}notify(t){er.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){er.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){er.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},zi=new WeakMap,lI),Wi,Xn,Ms,Hi,so,cI,lK=(cI=class extends Z${constructor(t){super();pt(this,Hi);pt(this,Wi);pt(this,Xn);pt(this,Ms);this.mutationId=t.mutationId,We(this,Xn,t.mutationCache),We(this,Wi,[]),this.state=t.state||cK(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){se(this,Wi).includes(t)||(se(this,Wi).push(t),this.clearGcTimeout(),se(this,Xn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){We(this,Wi,se(this,Wi).filter(n=>n!==t)),this.scheduleGc(),se(this,Xn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){se(this,Wi).length||(this.state.status==="pending"?this.scheduleGc():se(this,Xn).remove(this))}continue(){var t;return((t=se(this,Ms))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,o,s,c,u,f,d,h,p,m,v,y,x,w,b,S,j,_,k,E;const n=()=>{Fn(this,Hi,so).call(this,{type:"continue"})};We(this,Ms,J$({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(I,P)=>{Fn(this,Hi,so).call(this,{type:"failed",failureCount:I,error:P})},onPause:()=>{Fn(this,Hi,so).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>se(this,Xn).canRun(this)}));const r=this.state.status==="pending",i=!se(this,Ms).canStart();try{if(r)n();else{Fn(this,Hi,so).call(this,{type:"pending",variables:t,isPaused:i}),await((o=(a=se(this,Xn).config).onMutate)==null?void 0:o.call(a,t,this));const P=await((c=(s=this.options).onMutate)==null?void 0:c.call(s,t));P!==this.state.context&&Fn(this,Hi,so).call(this,{type:"pending",context:P,variables:t,isPaused:i})}const I=await se(this,Ms).start();return await((f=(u=se(this,Xn).config).onSuccess)==null?void 0:f.call(u,I,t,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,I,t,this.state.context)),await((m=(p=se(this,Xn).config).onSettled)==null?void 0:m.call(p,I,null,this.state.variables,this.state.context,this)),await((y=(v=this.options).onSettled)==null?void 0:y.call(v,I,null,t,this.state.context)),Fn(this,Hi,so).call(this,{type:"success",data:I}),I}catch(I){try{throw await((w=(x=se(this,Xn).config).onError)==null?void 0:w.call(x,I,t,this.state.context,this)),await((S=(b=this.options).onError)==null?void 0:S.call(b,I,t,this.state.context)),await((_=(j=se(this,Xn).config).onSettled)==null?void 0:_.call(j,void 0,I,this.state.variables,this.state.context,this)),await((E=(k=this.options).onSettled)==null?void 0:E.call(k,void 0,I,t,this.state.context)),I}finally{Fn(this,Hi,so).call(this,{type:"error",error:I})}}finally{se(this,Xn).runNext(this)}}},Wi=new WeakMap,Xn=new WeakMap,Ms=new WeakMap,Hi=new WeakSet,so=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),er.batch(()=>{se(this,Wi).forEach(r=>{r.onMutationUpdate(t)}),se(this,Xn).notify({mutation:this,type:"updated",action:t})})},cI);function cK(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Sa,vi,vh,uI,uK=(uI=class extends Qv{constructor(t={}){super();pt(this,Sa);pt(this,vi);pt(this,vh);this.config=t,We(this,Sa,new Set),We(this,vi,new Map),We(this,vh,0)}build(t,n,r){const i=new lK({mutationCache:this,mutationId:++Zh(this,vh)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){se(this,Sa).add(t);const n=Sp(t);if(typeof n=="string"){const r=se(this,vi).get(n);r?r.push(t):se(this,vi).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(se(this,Sa).delete(t)){const n=Sp(t);if(typeof n=="string"){const r=se(this,vi).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&se(this,vi).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Sp(t);if(typeof n=="string"){const r=se(this,vi).get(n),i=r==null?void 0:r.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=Sp(t);if(typeof n=="string"){const i=(r=se(this,vi).get(n))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){er.batch(()=>{se(this,Sa).forEach(t=>{this.notify({type:"removed",mutation:t})}),se(this,Sa).clear(),se(this,vi).clear()})}getAll(){return Array.from(se(this,Sa))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>hA(n,r))}findAll(t={}){return this.getAll().filter(n=>hA(t,n))}notify(t){er.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return er.batch(()=>Promise.all(t.map(n=>n.continue().catch(mi))))}},Sa=new WeakMap,vi=new WeakMap,vh=new WeakMap,uI);function Sp(e){var t;return(t=e.options.scope)==null?void 0:t.id}function gA(e){return{onFetch:(t,n)=>{var f,d,h,p,m;const r=t.options,i=(h=(d=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,a=((p=t.state.data)==null?void 0:p.pages)||[],o=((m=t.state.data)==null?void 0:m.pageParams)||[];let s={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const y=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},x=G$(t.options,t.fetchOptions),w=async(b,S,j)=>{if(v)return Promise.reject();if(S==null&&b.pages.length)return Promise.resolve(b);const k=(()=>{const N={client:t.client,queryKey:t.queryKey,pageParam:S,direction:j?"backward":"forward",meta:t.options.meta};return y(N),N})(),E=await x(k),{maxPages:I}=t.options,P=j?QV:XV;return{pages:P(b.pages,E,I),pageParams:P(b.pageParams,S,I)}};if(i&&a.length){const b=i==="backward",S=b?dK:vA,j={pages:a,pageParams:o},_=S(r,j);s=await w(j,_,b)}else{const b=e??a.length;do{const S=c===0?o[0]??r.initialPageParam:vA(r,s);if(c>0&&S==null)break;s=await w(s,S),c++}while(c<b)}return s};t.options.persister?t.fetchFn=()=>{var v,y;return(y=(v=t.options).persister)==null?void 0:y.call(v,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function vA(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function dK(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var en,xo,bo,Ac,Nc,wo,Pc,Tc,dI,fK=(dI=class{constructor(e={}){pt(this,en);pt(this,xo);pt(this,bo);pt(this,Ac);pt(this,Nc);pt(this,wo);pt(this,Pc);pt(this,Tc);We(this,en,e.queryCache||new sK),We(this,xo,e.mutationCache||new uK),We(this,bo,e.defaultOptions||{}),We(this,Ac,new Map),We(this,Nc,new Map),We(this,wo,0)}mount(){Zh(this,wo)._++,se(this,wo)===1&&(We(this,Pc,Y$.subscribe(async e=>{e&&(await this.resumePausedMutations(),se(this,en).onFocus())})),We(this,Tc,Qm.subscribe(async e=>{e&&(await this.resumePausedMutations(),se(this,en).onOnline())})))}unmount(){var e,t;Zh(this,wo)._--,se(this,wo)===0&&((e=se(this,Pc))==null||e.call(this),We(this,Pc,void 0),(t=se(this,Tc))==null||t.call(this),We(this,Tc,void 0))}isFetching(e){return se(this,en).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return se(this,xo).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=se(this,en).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=se(this,en).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Rw(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return se(this,en).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=se(this,en).get(r.queryHash),a=i==null?void 0:i.state.data,o=HV(t,a);if(o!==void 0)return se(this,en).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return er.batch(()=>se(this,en).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=se(this,en).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=se(this,en);er.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=se(this,en);return er.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=er.batch(()=>se(this,en).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(mi).catch(mi)}invalidateQueries(e,t={}){return er.batch(()=>(se(this,en).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=er.batch(()=>se(this,en).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(mi)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(mi)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=se(this,en).build(this,t);return n.isStaleByTime(Rw(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(mi).catch(mi)}fetchInfiniteQuery(e){return e.behavior=gA(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(mi).catch(mi)}ensureInfiniteQueryData(e){return e.behavior=gA(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Qm.isOnline()?se(this,xo).resumePausedMutations():Promise.resolve()}getQueryCache(){return se(this,en)}getMutationCache(){return se(this,xo)}getDefaultOptions(){return se(this,bo)}setDefaultOptions(e){We(this,bo,e)}setQueryDefaults(e,t){se(this,Ac).set(wf(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...se(this,Ac).values()],n={};return t.forEach(r=>{_f(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){se(this,Nc).set(wf(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...se(this,Nc).values()],n={};return t.forEach(r=>{_f(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...se(this,bo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=fj(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===hj&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...se(this,bo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){se(this,en).clear(),se(this,xo).clear()}},en=new WeakMap,xo=new WeakMap,bo=new WeakMap,Ac=new WeakMap,Nc=new WeakMap,wo=new WeakMap,Pc=new WeakMap,Tc=new WeakMap,dI),hK=g.createContext(void 0),pK=({client:e,children:t})=>(g.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(hK.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sf(){return Sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sf.apply(this,arguments)}var jo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(jo||(jo={}));const yA="popstate";function mK(e){e===void 0&&(e={});function t(r,i){let{pathname:a,search:o,hash:s}=r.location;return $w("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Jm(i)}return vK(t,n,null,e)}function hn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function eD(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function gK(){return Math.random().toString(36).substr(2,8)}function xA(e,t){return{usr:e.state,key:e.key,idx:t}}function $w(e,t,n,r){return n===void 0&&(n=null),Sf({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Au(t):t,{state:n,key:t&&t.key||r||gK()})}function Jm(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Au(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function vK(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=jo.Pop,c=null,u=f();u==null&&(u=0,o.replaceState(Sf({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function d(){s=jo.Pop;let y=f(),x=y==null?null:y-u;u=y,c&&c({action:s,location:v.location,delta:x})}function h(y,x){s=jo.Push;let w=$w(v.location,y,x);u=f()+1;let b=xA(w,u),S=v.createHref(w);try{o.pushState(b,"",S)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(S)}a&&c&&c({action:s,location:v.location,delta:1})}function p(y,x){s=jo.Replace;let w=$w(v.location,y,x);u=f();let b=xA(w,u),S=v.createHref(w);o.replaceState(b,"",S),a&&c&&c({action:s,location:v.location,delta:0})}function m(y){let x=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof y=="string"?y:Jm(y);return w=w.replace(/ $/,"%20"),hn(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let v={get action(){return s},get location(){return e(i,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(yA,d),c=y,()=>{i.removeEventListener(yA,d),c=null}},createHref(y){return t(i,y)},createURL:m,encodeLocation(y){let x=m(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(y){return o.go(y)}};return v}var bA;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(bA||(bA={}));function yK(e,t,n){return n===void 0&&(n="/"),xK(e,t,n,!1)}function xK(e,t,n,r){let i=typeof t=="string"?Au(t):t,a=pj(i.pathname||"/",n);if(a==null)return null;let o=tD(e);bK(o);let s=null;for(let c=0;s==null&&c<o.length;++c){let u=TK(a);s=NK(o[c],u,r)}return s}function tD(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,s)=>{let c={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(hn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Ro([r,c.relativePath]),f=n.concat(c);a.children&&a.children.length>0&&(hn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),tD(a.children,t,f,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:EK(u,a.index),routesMeta:f})};return e.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let c of nD(a.path))i(a,o,c)}),t}function nD(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=nD(r.join("/")),s=[];return s.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&s.push(...o),s.map(c=>e.startsWith("/")&&c===""?"/":c)}function bK(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:AK(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const wK=/^:[\w-]+$/,_K=3,SK=2,jK=1,kK=10,CK=-2,wA=e=>e==="*";function EK(e,t){let n=e.split("/"),r=n.length;return n.some(wA)&&(r+=CK),t&&(r+=SK),n.filter(i=>!wA(i)).reduce((i,a)=>i+(wK.test(a)?_K:a===""?jK:kK),r)}function AK(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function NK(e,t,n){let{routesMeta:r}=e,i={},a="/",o=[];for(let s=0;s<r.length;++s){let c=r[s],u=s===r.length-1,f=a==="/"?t:t.slice(a.length)||"/",d=_A({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),h=c.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=_A({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Ro([a,d.pathname]),pathnameBase:MK(Ro([a,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(a=Ro([a,d.pathnameBase]))}return o}function _A(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=PK(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,f,d)=>{let{paramName:h,isOptional:p}=f;if(h==="*"){let v=s[d]||"";o=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const m=s[d];return p&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function PK(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),eD(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,c)=>(r.push({paramName:s,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function TK(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return eD(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function pj(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function OK(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Au(e):e;return{pathname:n?n.startsWith("/")?n:IK(n,t):t,search:$K(r),hash:DK(i)}}function IK(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function o0(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function RK(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function rD(e,t){let n=RK(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function iD(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Au(e):(i=Sf({},e),hn(!i.pathname||!i.pathname.includes("?"),o0("?","pathname","search",i)),hn(!i.pathname||!i.pathname.includes("#"),o0("#","pathname","hash",i)),hn(!i.search||!i.search.includes("#"),o0("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}s=d>=0?t[d]:"/"}let c=OK(i,s),u=o&&o!=="/"&&o.endsWith("/"),f=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const Ro=e=>e.join("/").replace(/\/\/+/g,"/"),MK=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$K=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,DK=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function LK(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const aD=["post","put","patch","delete"];new Set(aD);const FK=["get",...aD];new Set(FK);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jf(){return jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jf.apply(this,arguments)}const mj=g.createContext(null),BK=g.createContext(null),ul=g.createContext(null),Zv=g.createContext(null),Yo=g.createContext({outlet:null,matches:[],isDataRoute:!1}),oD=g.createContext(null);function UK(e,t){let{relative:n}=t===void 0?{}:t;Eh()||hn(!1);let{basename:r,navigator:i}=g.useContext(ul),{hash:a,pathname:o,search:s}=lD(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Ro([r,o])),i.createHref({pathname:c,search:s,hash:a})}function Eh(){return g.useContext(Zv)!=null}function Xo(){return Eh()||hn(!1),g.useContext(Zv).location}function sD(e){g.useContext(ul).static||g.useLayoutEffect(e)}function Ka(){let{isDataRoute:e}=g.useContext(Yo);return e?tG():zK()}function zK(){Eh()||hn(!1);let e=g.useContext(mj),{basename:t,future:n,navigator:r}=g.useContext(ul),{matches:i}=g.useContext(Yo),{pathname:a}=Xo(),o=JSON.stringify(rD(i,n.v7_relativeSplatPath)),s=g.useRef(!1);return sD(()=>{s.current=!0}),g.useCallback(function(u,f){if(f===void 0&&(f={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let d=iD(u,JSON.parse(o),a,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Ro([t,d.pathname])),(f.replace?r.replace:r.push)(d,f.state,f)},[t,r,o,a,e])}function WK(){let{matches:e}=g.useContext(Yo),t=e[e.length-1];return t?t.params:{}}function lD(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=g.useContext(ul),{matches:i}=g.useContext(Yo),{pathname:a}=Xo(),o=JSON.stringify(rD(i,r.v7_relativeSplatPath));return g.useMemo(()=>iD(e,JSON.parse(o),a,n==="path"),[e,o,a,n])}function HK(e,t){return qK(e,t)}function qK(e,t,n,r){Eh()||hn(!1);let{navigator:i}=g.useContext(ul),{matches:a}=g.useContext(Yo),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Xo(),f;if(t){var d;let y=typeof t=="string"?Au(t):t;c==="/"||(d=y.pathname)!=null&&d.startsWith(c)||hn(!1),f=y}else f=u;let h=f.pathname||"/",p=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=yK(e,{pathname:p}),v=XK(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},s,y.params),pathname:Ro([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Ro([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,n,r);return t&&v?g.createElement(Zv.Provider,{value:{location:jf({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:jo.Pop}},v):v}function VK(){let e=eG(),t=LK(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),n?g.createElement("pre",{style:i},n):null,null)}const KK=g.createElement(VK,null);class GK extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?g.createElement(Yo.Provider,{value:this.props.routeContext},g.createElement(oD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function YK(e){let{routeContext:t,match:n,children:r}=e,i=g.useContext(mj);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(Yo.Provider,{value:t},r)}function XK(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,s=(i=n)==null?void 0:i.errors;if(s!=null){let f=o.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);f>=0||hn(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let d=o[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:h,errors:p}=n,m=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,d,h)=>{let p,m=!1,v=null,y=null;n&&(p=s&&d.route.id?s[d.route.id]:void 0,v=d.route.errorElement||KK,c&&(u<0&&h===0?(m=!0,y=null):u===h&&(m=!0,y=d.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,h+1)),w=()=>{let b;return p?b=v:m?b=y:d.route.Component?b=g.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=f,g.createElement(YK,{match:d,routeContext:{outlet:f,matches:x,isDataRoute:n!=null},children:b})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?g.createElement(GK,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var cD=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(cD||{}),Zm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Zm||{});function QK(e){let t=g.useContext(mj);return t||hn(!1),t}function JK(e){let t=g.useContext(BK);return t||hn(!1),t}function ZK(e){let t=g.useContext(Yo);return t||hn(!1),t}function uD(e){let t=ZK(),n=t.matches[t.matches.length-1];return n.route.id||hn(!1),n.route.id}function eG(){var e;let t=g.useContext(oD),n=JK(Zm.UseRouteError),r=uD(Zm.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function tG(){let{router:e}=QK(cD.UseNavigateStable),t=uD(Zm.UseNavigateStable),n=g.useRef(!1);return sD(()=>{n.current=!0}),g.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,jf({fromRouteId:t},a)))},[e,t])}function nG(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function di(e){hn(!1)}function rG(e){let{basename:t="/",children:n=null,location:r,navigationType:i=jo.Pop,navigator:a,static:o=!1,future:s}=e;Eh()&&hn(!1);let c=t.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:c,navigator:a,static:o,future:jf({v7_relativeSplatPath:!1},s)}),[c,s,a,o]);typeof r=="string"&&(r=Au(r));let{pathname:f="/",search:d="",hash:h="",state:p=null,key:m="default"}=r,v=g.useMemo(()=>{let y=pj(f,c);return y==null?null:{location:{pathname:y,search:d,hash:h,state:p,key:m},navigationType:i}},[c,f,d,h,p,m,i]);return v==null?null:g.createElement(ul.Provider,{value:u},g.createElement(Zv.Provider,{children:n,value:v}))}function iG(e){let{children:t,location:n}=e;return HK(Dw(t),n)}new Promise(()=>{});function Dw(e,t){t===void 0&&(t=[]);let n=[];return g.Children.forEach(e,(r,i)=>{if(!g.isValidElement(r))return;let a=[...t,i];if(r.type===g.Fragment){n.push.apply(n,Dw(r.props.children,a));return}r.type!==di&&hn(!1),!r.props.index||!r.props.children||hn(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Dw(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lw(){return Lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lw.apply(this,arguments)}function aG(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function oG(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function sG(e,t){return e.button===0&&(!t||t==="_self")&&!oG(e)}function Fw(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function lG(e,t){let n=Fw(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(a=>{n.append(i,a)})}),n}const cG=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],uG="6";try{window.__reactRouterVersion=uG}catch{}const dG="startTransition",SA=tS[dG];function fG(e){let{basename:t,children:n,future:r,window:i}=e,a=g.useRef();a.current==null&&(a.current=mK({window:i,v5Compat:!0}));let o=a.current,[s,c]=g.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},f=g.useCallback(d=>{u&&SA?SA(()=>c(d)):c(d)},[c,u]);return g.useLayoutEffect(()=>o.listen(f),[o,f]),g.useEffect(()=>nG(r),[r]),g.createElement(rG,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o,future:r})}const hG=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pG=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jA=g.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:a,replace:o,state:s,target:c,to:u,preventScrollReset:f,viewTransition:d}=t,h=aG(t,cG),{basename:p}=g.useContext(ul),m,v=!1;if(typeof u=="string"&&pG.test(u)&&(m=u,hG))try{let b=new URL(window.location.href),S=u.startsWith("//")?new URL(b.protocol+u):new URL(u),j=pj(S.pathname,p);S.origin===b.origin&&j!=null?u=j+S.search+S.hash:v=!0}catch{}let y=UK(u,{relative:i}),x=mG(u,{replace:o,state:s,target:c,preventScrollReset:f,relative:i,viewTransition:d});function w(b){r&&r(b),b.defaultPrevented||x(b)}return g.createElement("a",Lw({},h,{href:m||y,onClick:v||a?r:w,ref:n,target:c}))});var kA;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(kA||(kA={}));var CA;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(CA||(CA={}));function mG(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o,viewTransition:s}=t===void 0?{}:t,c=Ka(),u=Xo(),f=lD(e,{relative:o});return g.useCallback(d=>{if(sG(d,n)){d.preventDefault();let h=r!==void 0?r:Jm(u)===Jm(f);c(e,{replace:h,state:i,preventScrollReset:a,relative:o,viewTransition:s})}},[u,c,f,r,i,n,e,a,o,s])}function gG(e){let t=g.useRef(Fw(e)),n=g.useRef(!1),r=Xo(),i=g.useMemo(()=>lG(r.search,n.current?null:t.current),[r.search]),a=Ka(),o=g.useCallback((s,c)=>{const u=Fw(typeof s=="function"?s(i):s);n.current=!0,a("?"+u,c)},[a,i]);return[i,o]}const vG="modulepreload",yG=function(e){return"/"+e},EA={},Ah=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=yG(c),c in EA)return;EA[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":vG,u||(d.as="script"),d.crossOrigin="",d.href=c,s&&d.setAttribute("nonce",s),document.head.appendChild(d),u)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return t().catch(a)})},xG=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ah(async()=>{const{default:r}=await Promise.resolve().then(()=>Nu);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class gj extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class bG extends gj{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class AA extends gj{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class NA extends gj{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Bw;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Bw||(Bw={}));var wG=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(f){try{u(r.next(f))}catch(d){o(d)}}function c(f){try{u(r.throw(f))}catch(d){o(d)}}function u(f){f.done?a(f.value):i(f.value).then(s,c)}u((r=r.apply(e,t||[])).next())})};class _G{constructor(t,{headers:n={},customFetch:r,region:i=Bw.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=xG(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return wG(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o}=n;let s={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(s["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let f;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(s["Content-Type"]="application/octet-stream",f=o):typeof o=="string"?(s["Content-Type"]="text/plain",f=o):typeof FormData<"u"&&o instanceof FormData?f=o:(s["Content-Type"]="application/json",f=JSON.stringify(o)));const d=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},s),this.headers),i),body:f}).catch(v=>{throw new bG(v)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new AA(d);if(!d.ok)throw new NA(d);let p=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return p==="application/json"?m=yield d.json():p==="application/octet-stream"?m=yield d.blob():p==="text/event-stream"?m=d:p==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null,response:d}}catch(i){return{data:null,error:i,response:i instanceof NA||i instanceof AA?i.context:void 0}}})}}var fr={},vj={},ey={},Nh={},ty={},ny={},SG=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},zc=SG();const jG=zc.fetch,dD=zc.fetch.bind(zc),fD=zc.Headers,kG=zc.Request,CG=zc.Response,Nu=Object.freeze(Object.defineProperty({__proto__:null,Headers:fD,Request:kG,Response:CG,default:dD,fetch:jG},Symbol.toStringTag,{value:"Module"})),EG=qz(Nu);var ry={};Object.defineProperty(ry,"__esModule",{value:!0});let AG=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ry.default=AG;var hD=fn&&fn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ny,"__esModule",{value:!0});const NG=hD(EG),PG=hD(ry);let TG=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=NG.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,s,c;let u=null,f=null,d=null,h=a.status,p=a.statusText;if(a.ok){if(this.method!=="HEAD"){const x=await a.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?f=x:f=JSON.parse(x))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(s=a.headers.get("content-range"))===null||s===void 0?void 0:s.split("/");v&&y&&y.length>1&&(d=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,d=null,h=406,p="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const v=await a.text();try{u=JSON.parse(v),Array.isArray(u)&&a.status===404&&(f=[],u=null,h=200,p="OK")}catch{a.status===404&&v===""?(h=204,p="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new PG.default(u)}return{error:u,data:f,count:d,status:h,statusText:p}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,s,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(s=a==null?void 0:a.stack)!==null&&s!==void 0?s:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};ny.default=TG;var OG=fn&&fn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ty,"__esModule",{value:!0});const IG=OG(ny);let RG=class extends IG.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",s=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${s?`${s},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var s;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(s=this.headers.Accept)!==null&&s!==void 0?s:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ty.default=RG;var MG=fn&&fn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nh,"__esModule",{value:!0});const $G=MG(ty);let DG=class extends $G.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Nh.default=DG;var LG=fn&&fn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ey,"__esModule",{value:!0});const od=LG(Nh);let FG=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=n,this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new od.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),r||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const o=t.reduce((s,c)=>s.concat(Object.keys(c)),[]);if(o.length>0){const s=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",s.join(","))}}return new od.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){const o="POST",s=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&s.push(this.headers.Prefer),i&&s.push(`count=${i}`),a||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const c=t.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new od.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new od.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new od.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ey.default=FG;var iy={},ay={};Object.defineProperty(ay,"__esModule",{value:!0});ay.version=void 0;ay.version="0.0.0-automated";Object.defineProperty(iy,"__esModule",{value:!0});iy.DEFAULT_HEADERS=void 0;const BG=ay;iy.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${BG.version}`};var pD=fn&&fn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vj,"__esModule",{value:!0});const UG=pD(ey),zG=pD(Nh),WG=iy;let HG=class mD{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},WG.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new UG.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new mD(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:a}={}){let o;const s=new URL(`${this.url}/rpc/${t}`);let c;r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([f,d])=>d!==void 0).map(([f,d])=>[f,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([f,d])=>{s.searchParams.append(f,d)})):(o="POST",c=n);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new zG.default({method:o,url:s,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};vj.default=HG;var Pu=fn&&fn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fr,"__esModule",{value:!0});fr.PostgrestError=fr.PostgrestBuilder=fr.PostgrestTransformBuilder=fr.PostgrestFilterBuilder=fr.PostgrestQueryBuilder=fr.PostgrestClient=void 0;const gD=Pu(vj);fr.PostgrestClient=gD.default;const vD=Pu(ey);fr.PostgrestQueryBuilder=vD.default;const yD=Pu(Nh);fr.PostgrestFilterBuilder=yD.default;const xD=Pu(ty);fr.PostgrestTransformBuilder=xD.default;const bD=Pu(ny);fr.PostgrestBuilder=bD.default;const wD=Pu(ry);fr.PostgrestError=wD.default;var qG=fr.default={PostgrestClient:gD.default,PostgrestQueryBuilder:vD.default,PostgrestFilterBuilder:yD.default,PostgrestTransformBuilder:xD.default,PostgrestBuilder:bD.default,PostgrestError:wD.default};const{PostgrestClient:VG,PostgrestQueryBuilder:N$e,PostgrestFilterBuilder:P$e,PostgrestTransformBuilder:T$e,PostgrestBuilder:O$e,PostgrestError:I$e}=qG;class KG{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const GG="2.15.1",YG=`realtime-js/${GG}`,XG="1.0.0",Uw=1e4,QG=1e3,JG=100;var Wd;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Wd||(Wd={}));var vn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(vn||(vn={}));var xi;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(xi||(xi={}));var zw;(function(e){e.websocket="websocket"})(zw||(zw={}));var bs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(bs||(bs={}));class ZG{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const s=r.decode(t.slice(o,o+i));o=o+i;const c=r.decode(t.slice(o,o+a));o=o+a;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:s,event:c,payload:u}}}class _D{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Dt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Dt||(Dt={}));const PA=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((a,o)=>(a[o]=eY(o,e,t,i),a),{})},eY=(e,t,n,r)=>{const i=t.find(s=>s.name===e),a=i==null?void 0:i.type,o=n[e];return a&&!r.includes(a)?SD(a,o):Ww(o)},SD=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return iY(t,n)}switch(e){case Dt.bool:return tY(t);case Dt.float4:case Dt.float8:case Dt.int2:case Dt.int4:case Dt.int8:case Dt.numeric:case Dt.oid:return nY(t);case Dt.json:case Dt.jsonb:return rY(t);case Dt.timestamp:return aY(t);case Dt.abstime:case Dt.date:case Dt.daterange:case Dt.int4range:case Dt.int8range:case Dt.money:case Dt.reltime:case Dt.text:case Dt.time:case Dt.timestamptz:case Dt.timetz:case Dt.tsrange:case Dt.tstzrange:return Ww(t);default:return Ww(t)}},Ww=e=>e,tY=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},nY=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},rY=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},iY=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>SD(t,s))}return e},aY=e=>typeof e=="string"?e.replace(" ","T"):e,jD=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class s0{constructor(t,n,r={},i=Uw){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var TA;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(TA||(TA={}));class Hd{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Hd.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=Hd.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Hd.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),o=this.transformState(n),s={},c={};return this.map(a,(u,f)=>{o[u]||(c[u]=f)}),this.map(o,(u,f)=>{const d=a[u];if(d){const h=f.map(y=>y.presence_ref),p=d.map(y=>y.presence_ref),m=f.filter(y=>p.indexOf(y.presence_ref)<0),v=d.filter(y=>h.indexOf(y.presence_ref)<0);m.length>0&&(s[u]=m),v.length>0&&(c[u]=v)}else s[u]=f}),this.syncDiff(a,{joins:s,leaves:c},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(s,c)=>{var u;const f=(u=t[s])!==null&&u!==void 0?u:[];if(t[s]=this.cloneDeep(c),f.length>0){const d=t[s].map(p=>p.presence_ref),h=f.filter(p=>d.indexOf(p.presence_ref)<0);t[s].unshift(...h)}r(s,f,c)}),this.map(o,(s,c)=>{let u=t[s];if(!u)return;const f=c.map(d=>d.presence_ref);u=u.filter(d=>f.indexOf(d.presence_ref)<0),t[s]=u,i(s,u,c),u.length===0&&delete t[s]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var OA;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(OA||(OA={}));var qd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(qd||(qd={}));var xa;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(xa||(xa={}));class yj{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=vn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new s0(this,xi.join,this.params,this.timeout),this.rejoinTimer=new _D(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=vn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=vn.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=vn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=vn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=vn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xi.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Hd(this),this.broadcastEndpointURL=jD(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==vn.closed){const{config:{broadcast:a,presence:o,private:s}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[qd.PRESENCE]&&this.bindings[qd.PRESENCE].length>0,f={},d={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:c,private:s};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(xa.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(xa.CLOSED)),this.updateJoinPayload(Object.assign({config:d},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var p;if(this.socket.setAuth(),h===void 0){t==null||t(xa.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,v=(p=m==null?void 0:m.length)!==null&&p!==void 0?p:0,y=[];for(let x=0;x<v;x++){const w=m[x],{filter:{event:b,schema:S,table:j,filter:_}}=w,k=h&&h[x];if(k&&k.event===b&&k.schema===S&&k.table===j&&k.filter===_)y.push(Object.assign(Object.assign({},w),{id:k.id}));else{this.unsubscribe(),this.state=vn.errored,t==null||t(xa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(xa.SUBSCRIBED);return}}).receive("error",h=>{this.state=vn.errored,t==null||t(xa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(xa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===vn.joined&&t===qd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=vn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xi.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new s0(this,xi.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=vn.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new s0(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>JG){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const o=t.toLocaleLowerCase(),{close:s,error:c,leave:u,join:f}=xi;if(r&&[s,c,u,f].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var m,v,y;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((y=(v=p.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(p=>p.callback(h,r)):(a=this.bindings[o])===null||a===void 0||a.filter(p=>{var m,v,y,x,w,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const S=p.id,j=(m=p.filter)===null||m===void 0?void 0:m.event;return S&&((v=n.ids)===null||v===void 0?void 0:v.includes(S))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const S=(w=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return S==="*"||S===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:v,table:y,commit_timestamp:x,type:w,errors:b}=m;h=Object.assign(Object.assign({},{schema:v,table:y,commit_timestamp:x,eventType:w,new:{},old:{},errors:b}),this._getPayloadRecords(m))}p.callback(h,r)})}_isClosed(){return this.state===vn.closed}_isJoined(){return this.state===vn.joined}_isJoining(){return this.state===vn.joining}_isLeaving(){return this.state===vn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&yj.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(xi.close,{},t)}_onError(t){this._on(xi.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=vn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=PA(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=PA(t.columns,t.old_record)),n}}const IA=()=>{},jp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},oY=[1e3,2e3,5e3,1e4],sY=1e4,lY=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class cY{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Uw,this.transport=null,this.heartbeatIntervalMs=jp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=IA,this.ref=0,this.reconnectTimer=null,this.logger=IA,this.conn=null,this.sendBuffer=[],this.serializer=new ZG,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>Ah(async()=>{const{default:s}=await Promise.resolve().then(()=>Nu);return{default:s}},void 0).then(({default:s})=>s(...o)).catch(s=>{throw new Error(`Failed to load @supabase/node-fetch: ${s.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${zw.websocket}`,this.httpEndpoint=jD(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=KG.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:XG}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Wd.connecting:return bs.Connecting;case Wd.open:return bs.Open;case Wd.closing:return bs.Closing;default:return bs.Closed}}isConnected(){return this.connectionState()===bs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new yj(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,o=()=>{this.encode(t,s=>{var c;(c=this.conn)===null||c===void 0||c.send(s)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(QG,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},jp.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{n.topic==="phoenix"&&n.event==="phx_reply"&&this.heartbeatCallback(n.payload.status==="ok"?"ok":"error"),n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:o}=n,s=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${r} ${i} ${s}`.trim(),a),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(xi.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([lY],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:YG};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(xi.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new _D(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},jp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,o,s,c,u;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Uw,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:jp.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(s=t==null?void 0:t.reconnectAfterMs)!==null&&s!==void 0?s:f=>oY[f-1]||sY,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(f,d)=>d(JSON.stringify(f)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class xj extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function yn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class uY extends xj{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Hw extends xj{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var dY=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(f){try{u(r.next(f))}catch(d){o(d)}}function c(f){try{u(r.throw(f))}catch(d){o(d)}}function u(f){f.done?a(f.value):i(f.value).then(s,c)}u((r=r.apply(e,t||[])).next())})};const kD=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ah(async()=>{const{default:r}=await Promise.resolve().then(()=>Nu);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},fY=()=>dY(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ah(()=>Promise.resolve().then(()=>Nu),void 0)).Response:Response}),qw=e=>{if(Array.isArray(e))return e.map(n=>qw(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=qw(r)}),t},hY=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var dl=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(f){try{u(r.next(f))}catch(d){o(d)}}function c(f){try{u(r.throw(f))}catch(d){o(d)}}function u(f){f.done?a(f.value):i(f.value).then(s,c)}u((r=r.apply(e,t||[])).next())})};const l0=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),pY=(e,t,n)=>dl(void 0,void 0,void 0,function*(){const r=yield fY();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const a=e.status||500,o=(i==null?void 0:i.statusCode)||a+"";t(new uY(l0(i),a,o))}).catch(i=>{t(new Hw(l0(i),i))}):t(new Hw(l0(e),e))}),mY=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(hY(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function Ph(e,t,n,r,i,a){return dl(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(n,mY(t,r,i,a)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>pY(c,s,r))})})}function eg(e,t,n,r){return dl(this,void 0,void 0,function*(){return Ph(e,"GET",t,n,r)})}function Bi(e,t,n,r,i){return dl(this,void 0,void 0,function*(){return Ph(e,"POST",t,r,i,n)})}function Vw(e,t,n,r,i){return dl(this,void 0,void 0,function*(){return Ph(e,"PUT",t,r,i,n)})}function gY(e,t,n,r){return dl(this,void 0,void 0,function*(){return Ph(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function CD(e,t,n,r,i){return dl(this,void 0,void 0,function*(){return Ph(e,"DELETE",t,r,i,n)})}var Yn=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(f){try{u(r.next(f))}catch(d){o(d)}}function c(f){try{u(r.throw(f))}catch(d){o(d)}}function u(f){f.done?a(f.value):i(f.value).then(s,c)}u((r=r.apply(e,t||[])).next())})};const vY={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},RA={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class yY{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=kD(i)}uploadOrUpdate(t,n,r,i){return Yn(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},RA),i);let s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=r,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,c&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const u=this._removeEmptyFolders(n),f=this._getFinalPath(u),d=yield(t=="PUT"?Vw:Bi)(this.fetch,`${this.url}/object/${f}`,a,Object.assign({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(a){if(yn(a))return{data:null,error:a};throw a}})}upload(t,n,r){return Yn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Yn(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:RA.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const d=yield Vw(this.fetch,s.toString(),c,{headers:f});return{data:{path:a,fullPath:d.Key},error:null}}catch(c){if(yn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Yn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield Bi(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),s=o.searchParams.get("token");if(!s)throw new xj("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:s},error:null}}catch(r){if(yn(r))return{data:null,error:r};throw r}})}update(t,n,r){return Yn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Yn(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(yn(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Yn(this,void 0,void 0,function*(){try{return{data:{path:(yield Bi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(yn(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Yn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Bi(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(yn(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Yn(this,void 0,void 0,function*(){try{const i=yield Bi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(yn(i))return{data:null,error:i};throw i}})}download(t,n){return Yn(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"";try{const s=this._getFinalPath(t);return{data:yield(yield eg(this.fetch,`${this.url}/${i}/${s}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(s){if(yn(s))return{data:null,error:s};throw s}})}info(t){return Yn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield eg(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:qw(r),error:null}}catch(r){if(yn(r))return{data:null,error:r};throw r}})}exists(t){return Yn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield gY(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(yn(r)&&r instanceof Hw){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const s=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${u}`)}}}remove(t){return Yn(this,void 0,void 0,function*(){try{return{data:yield CD(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(yn(n))return{data:null,error:n};throw n}})}list(t,n,r){return Yn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},vY),n),{prefix:t||""});return{data:yield Bi(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(yn(i))return{data:null,error:i};throw i}})}listV2(t,n){return Yn(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Bi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(yn(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const xY="2.11.0",bY={"X-Client-Info":`storage-js/${xY}`};var wl=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(f){try{u(r.next(f))}catch(d){o(d)}}function c(f){try{u(r.throw(f))}catch(d){o(d)}}function u(f){f.done?a(f.value):i(f.value).then(s,c)}u((r=r.apply(e,t||[])).next())})};class wY{constructor(t,n={},r,i){const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},bY),n),this.fetch=kD(r)}listBuckets(){return wl(this,void 0,void 0,function*(){try{return{data:yield eg(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(yn(t))return{data:null,error:t};throw t}})}getBucket(t){return wl(this,void 0,void 0,function*(){try{return{data:yield eg(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(yn(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return wl(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(yn(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return wl(this,void 0,void 0,function*(){try{return{data:yield Vw(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(yn(r))return{data:null,error:r};throw r}})}emptyBucket(t){return wl(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(yn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return wl(this,void 0,void 0,function*(){try{return{data:yield CD(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(yn(n))return{data:null,error:n};throw n}})}}class _Y extends wY{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new yY(this.url,this.headers,t,this.fetch)}}const SY="2.55.0";let Nd="";typeof Deno<"u"?Nd="deno":typeof document<"u"?Nd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Nd="react-native":Nd="node";const jY={"X-Client-Info":`supabase-js-${Nd}/${SY}`},kY={headers:jY},CY={schema:"public"},EY={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},AY={};var NY=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(f){try{u(r.next(f))}catch(d){o(d)}}function c(f){try{u(r.throw(f))}catch(d){o(d)}}function u(f){f.done?a(f.value):i(f.value).then(s,c)}u((r=r.apply(e,t||[])).next())})};const PY=e=>{let t;return e?t=e:typeof fetch>"u"?t=dD:t=fetch,(...n)=>t(...n)},TY=()=>typeof Headers>"u"?fD:Headers,OY=(e,t,n)=>{const r=PY(n),i=TY();return(a,o)=>NY(void 0,void 0,void 0,function*(){var s;const c=(s=yield t())!==null&&s!==void 0?s:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(a,Object.assign(Object.assign({},o),{headers:u}))})};var IY=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(f){try{u(r.next(f))}catch(d){o(d)}}function c(f){try{u(r.throw(f))}catch(d){o(d)}}function u(f){f.done?a(f.value):i(f.value).then(s,c)}u((r=r.apply(e,t||[])).next())})};function RY(e){return e.endsWith("/")?e:e+"/"}function MY(e,t){var n,r;const{db:i,auth:a,realtime:o,global:s}=e,{db:c,auth:u,realtime:f,global:d}=t,h={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},f),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),s),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>IY(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const ED="2.71.1",$l=30*1e3,Kw=3,c0=Kw*$l,$Y="http://localhost:9999",DY="supabase.auth.token",LY={"X-Client-Info":`gotrue-js/${ED}`},Gw="X-Supabase-Api-Version",AD={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},FY=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,BY=10*60*1e3;class bj extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function qe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class UY extends bj{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function zY(e){return qe(e)&&e.name==="AuthApiError"}class ND extends bj{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Qo extends bj{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class lo extends Qo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function WY(e){return qe(e)&&e.name==="AuthSessionMissingError"}class kp extends Qo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Cp extends Qo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ep extends Qo{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function HY(e){return qe(e)&&e.name==="AuthImplicitGrantRedirectError"}class MA extends Qo{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Yw extends Qo{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function u0(e){return qe(e)&&e.name==="AuthRetryableFetchError"}class $A extends Qo{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Xw extends Qo{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const tg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),DA=` 	
\r=`.split(""),qY=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<DA.length;t+=1)e[DA[t].charCodeAt(0)]=-2;for(let t=0;t<tg.length;t+=1)e[tg[t].charCodeAt(0)]=t;return e})();function LA(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(tg[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(tg[r]),t.queuedBits-=6}}function PD(e,t,n){const r=qY[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function FA(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{GY(o,r,n)};for(let o=0;o<e.length;o+=1)PD(e.charCodeAt(o),i,a);return t.join("")}function VY(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function KY(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}VY(r,t)}}function GY(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function YY(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)PD(e.charCodeAt(i),n,r);return new Uint8Array(t)}function XY(e){const t=[];return KY(e,n=>t.push(n)),new Uint8Array(t)}function QY(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>LA(i,n,r)),LA(null,n,r),t.join("")}function JY(e){return Math.round(Date.now()/1e3)+e}function ZY(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const fi=()=>typeof window<"u"&&typeof document<"u",ls={tested:!1,writable:!1},TD=()=>{if(!fi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ls.tested)return ls.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ls.tested=!0,ls.writable=!0}catch{ls.tested=!0,ls.writable=!1}return ls.writable};function eX(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const OD=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ah(async()=>{const{default:r}=await Promise.resolve().then(()=>Nu);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},tX=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Dl=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},cs=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ro=async(e,t)=>{await e.removeItem(t)};class oy{constructor(){this.promise=new oy.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}oy.promiseConstructor=Promise;function d0(e){const t=e.split(".");if(t.length!==3)throw new Xw("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!FY.test(t[r]))throw new Xw("JWT not in base64url format");return{header:JSON.parse(FA(t[0])),payload:JSON.parse(FA(t[1])),signature:YY(t[2]),raw:{header:t[0],payload:t[1]}}}async function nX(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function rX(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function iX(e){return("0"+e.toString(16)).substr(-2)}function aX(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,iX).join("")}async function oX(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function sX(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await oX(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _l(e,t,n=!1){const r=aX();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Dl(e,`${t}-code-verifier`,i);const a=await sX(r);return[a,r===a?"plain":"s256"]}const lX=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function cX(e){const t=e.headers.get(Gw);if(!t||!t.match(lX))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function uX(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function dX(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const fX=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Sl(e){if(!fX.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function f0(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function BA(e){return JSON.parse(JSON.stringify(e))}var hX=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const ps=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),pX=[502,503,504];async function UA(e){var t;if(!tX(e))throw new Yw(ps(e),0);if(pX.includes(e.status))throw new Yw(ps(e),e.status);let n;try{n=await e.json()}catch(a){throw new ND(ps(a),a)}let r;const i=cX(e);if(i&&i.getTime()>=AD["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new $A(ps(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new lo}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new $A(ps(n),e.status,n.weak_password.reasons);throw new UY(ps(n),e.status||500,r)}const mX=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function et(e,t,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[Gw]||(a[Gw]=AD["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await gX(e,t,n+s,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function gX(e,t,n,r,i,a){const o=mX(t,r,i,a);let s;try{s=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new Yw(ps(c),0)}if(s.ok||await UA(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(c){await UA(c)}}function va(e){var t;let n=null;bX(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=JY(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function zA(e){const t=va(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function go(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function vX(e){return{data:e,error:null}}function yX(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,o=hX(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:s,user:c},error:null}}function xX(e){return e}function bX(e){return e.access_token&&e.refresh_token&&e.expires_in}const h0=["global","local","others"];var wX=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class _X{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=OD(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=h0[0]){if(h0.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${h0.join(", ")}`);try{return await et(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await et(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:go})}catch(r){if(qe(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=wX(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await et(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:yX,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(qe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await et(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:go})}catch(n){if(qe(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,o,s,c;try{const u={nextPage:null,lastPage:0,total:0},f=await et(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:xX});if(f.error)throw f.error;const d=await f.json(),h=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(s=f.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(m=>{const v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(m.split(";")[1].split("=")[1]);u[`${y}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(qe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Sl(t);try{return await et(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:go})}catch(n){if(qe(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Sl(t);try{return await et(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:go})}catch(r){if(qe(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Sl(t);try{return await et(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:go})}catch(r){if(qe(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Sl(t.userId);try{const{data:n,error:r}=await et(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(qe(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Sl(t.userId),Sl(t.id);try{return{data:await et(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(qe(n))return{data:null,error:n};throw n}}}function WA(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function SX(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const jl={debug:!!(globalThis&&TD()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ID extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class jX extends ID{}async function kX(e,t,n){jl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),jl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){jl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{jl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw jl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new jX(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(jl.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}SX();const CX={url:$Y,storageKey:DY,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:LY,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function HA(e,t,n){return await n()}const kl={};class kf{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=kf.nextInstanceID,kf.nextInstanceID+=1,this.instanceID>0&&fi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},CX),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new _X({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=OD(i.fetch),this.lock=i.lock||HA,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:fi()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=kX:this.lock=HA,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:TD()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=WA(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=WA(this.memoryStorage)),fi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=kl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){kl[this.storageKey]=Object.assign(Object.assign({},kl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=kl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){kl[this.storageKey]=Object.assign(Object.assign({},kl[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ED}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=eX(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),fi()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),HY(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return qe(n)?{error:n}:{error:new ND("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:va}),{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(qe(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:f,password:d,options:h}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await _l(this.storage,this.storageKey)),a=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:f,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:va})}else if("phone"in t){const{phone:f,password:d,options:h}=t;a=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:va})}else throw new Cp("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(qe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:s}=t;n=await et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:zA})}else if("phone"in t){const{phone:a,password:o,options:s}=t;n=await et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:zA})}else throw new Cp("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new kp}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(qe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,i,a,o,s,c,u,f,d,h,p;let m,v;if("message"in t)m=t.message,v=t.signature;else{const{chain:y,wallet:x,statement:w,options:b}=t;let S;if(fi())if(typeof x=="object")S=x;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))S=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=x}const j=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const _=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),w?{statement:w}:null));let k;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")k=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)k=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)m=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),v=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${j.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(i=(r=b==null?void 0:b.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((d=(f=b==null?void 0:b.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||d===void 0)&&d.length?["Resources",...b.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const _=await S.signMessage(new TextEncoder().encode(m),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=_}}try{const{data:y,error:x}=await et(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:QY(v)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:va});if(x)throw x;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new kp}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:x})}catch(y){if(qe(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const n=await cs(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await et(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:va});if(await ro(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new kp}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(qe(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=t,s=await et(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:va}),{data:c,error:u}=s;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new kp}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(qe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,a,o;try{if("email"in t){const{email:s,options:c}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await _l(this.storage,this.storageKey));const{error:d}=await et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:s,options:c}=t,{data:u,error:f}=await et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new Cp("You must provide either an email or phone number.")}catch(s){if(qe(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:s}=await et(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:va});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(qe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await _l(this.storage,this.storageKey)),await et(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:vX})}catch(a){if(qe(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new lo;const{error:i}=await et(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(qe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:o}=await et(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:o,error:s}=await et(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s}}throw new Cp("You must provide either an email or phone number and a type")}catch(n){if(qe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await cs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<c0:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await cs(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=f0()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,f)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,f))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:go}):await this._useSession(async n=>{var r,i,a;const{data:o,error:s}=n;if(s)throw s;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new lo}:await et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:go})})}catch(n){if(qe(n))return WY(n)&&(await this._removeSession(),await ro(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new lo;const o=i.session;let s=null,c=null;this.flowType==="pkce"&&t.email!=null&&([s,c]=await _l(this.storage,this.storageKey));const{data:u,error:f}=await et(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:c}),jwt:o.access_token,xform:go});if(f)throw f;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(qe(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new lo;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=d0(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:s,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(qe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:s}=n;if(s)throw s;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new lo;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(qe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!fi())throw new Ep("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ep(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new MA("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ep("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new MA("No code detected.");const{data:w,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:c,token_type:u}=t;if(!a||!s||!o||!u)throw new Ep("No session defined in URL");const f=Math.round(Date.now()/1e3),d=parseInt(s);let h=f+d;c&&(h=parseInt(c));const p=h-f;p*1e3<=$l&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const m=h-d;f-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,f):f-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,f);const{data:v,error:y}=await this._getUser(a);if(y)throw y;const x={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(r){if(qe(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await cs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{error:a};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:s}=await this.admin.signOut(o,t);if(s&&!(zY(s)&&(s.status===404||s.status===401||s.status===403)))return{error:s}}return t!=="others"&&(await this._removeSession(),await ro(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=ZY(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await _l(this.storage,this.storageKey,!0));try{return await et(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(qe(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(qe(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,s,c,u,f;const{data:d,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await et(this.fetch,"GET",p,{headers:this.headers,jwt:(f=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return fi()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(qe(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await et(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(qe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await rX(async i=>(i>0&&await nX(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await et(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:va})),(i,a)=>{const o=200*Math.pow(2,i);return a&&u0(a)&&Date.now()+o-r<$l})}catch(r){if(this._debug(n,"error",r),qe(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),fi()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await cs(this.storage,this.storageKey);if(i&&this.userStorage){let o=await cs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Dl(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:f0()}else if(i&&!i.user&&!i.user){const o=await cs(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await ro(this.storage,this.storageKey+"-user"),await Dl(this.storage,this.storageKey,i)):i.user=f0()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<c0;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${c0}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),u0(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new lo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new oy;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new lo;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={session:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),qe(a)){const o={session:null,error:a};return u0(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,n)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Dl(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=BA(i);await Dl(this.storage,this.storageKey,a)}else{const i=BA(n);await Dl(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await ro(this.storage,this.storageKey),await ro(this.storage,this.storageKey+"-code-verifier"),await ro(this.storage,this.storageKey+"-user"),this.userStorage&&await ro(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&fi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),$l);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/$l);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${$l}ms, refresh threshold is ${Kw} ticks`),i<=Kw&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ID)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!fi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await _l(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await et(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(qe(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return{data:null,error:o};const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await et(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(qe(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const{data:o,error:s}=await et(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:s})})}catch(n){if(qe(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await et(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(qe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=d0(i.access_token);let s=null;o.aal&&(s=o.aal);let c=s;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const f=o.amr||[];return{data:{currentLevel:s,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(s=>s.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===t),r&&this.jwks_cached_at+BY>i)return r;const{data:a,error:o}=await et(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(s=>s.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};r=p.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:c}}=d0(r);n!=null&&n.allowExpired||uX(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:a,header:i,signature:o},error:null}}const f=dX(i.alg),d=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,d,o,XY(`${s}.${c}`)))throw new Xw("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}}}kf.nextInstanceID=0;const EX=kf;class AX extends EX{constructor(t){super(t)}}var NX=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(f){try{u(r.next(f))}catch(d){o(d)}}function c(f){try{u(r.throw(f))}catch(d){o(d)}}function u(f){f.done?a(f.value):i(f.value).then(s,c)}u((r=r.apply(e,t||[])).next())})};class PX{constructor(t,n,r){var i,a,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const s=RY(t),c=new URL(s);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:CY,realtime:AY,auth:Object.assign(Object.assign({},EY),{storageKey:u}),global:kY},d=MY(r??{},f);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=OY(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new VG(new URL("rest/v1",c).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new _Y(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new _G(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return NX(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:a,flowType:o,lock:s,debug:c},u,f){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new AX({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:s,debug:c,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new cY(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const RD=(e,t,n)=>new PX(e,t,n);function TX(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}TX()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const OX="https://tgrmxlbnutxpewfmofdx.supabase.co",IX="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRncm14bGJudXR4cGV3Zm1vZmR4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ5MDY0NzgsImV4cCI6MjA3MDQ4MjQ3OH0.ijDctaGPXK3Ce9uao72YaaYCX9fpPFZGpmrsWp9IfU8",X=RD(OX,IX);async function It(e){var t;try{const{action:n,resource:r,resourceId:i=null,context:a={},ip:o=null,userAgent:s=null}=e,{data:c}=await X.auth.getUser(),u=e.userId??((t=c==null?void 0:c.user)==null?void 0:t.id)??null;let f=e.orgId??null;if(!f&&u){const{data:h}=await X.from("org_members").select("org_id").eq("user_id",u).limit(1).maybeSingle();f=(h==null?void 0:h.org_id)??null}if(!f)try{const{data:h}=await X.from("orgs").select("id").limit(1).maybeSingle();f=(h==null?void 0:h.id)??null}catch{}try{const h=`logAction:${n}:${r}:${u||"anon"}`,p=Date.now(),m=typeof localStorage<"u"?localStorage.getItem(h):null;if(m){const v=Number(m)||0;if(p-v<3e3)return}typeof localStorage<"u"&&localStorage.setItem(h,String(p))}catch{}const{error:d}=await X.rpc("log_action",{p_action:n,p_resource:r,p_resource_id:i,p_context:{...a,route:typeof window<"u"?window.location.pathname:null},p_ip:o,p_user_agent:s,p_org_id:f,p_user_id:u});d&&console.warn("logAction failed",d)}catch(n){console.warn("logAction threw",n)}}const MD=g.createContext(void 0);function RX({children:e}){var S;const[t,n]=g.useState(null),[r,i]=g.useState(null),[a,o]=g.useState(!0),s=g.useRef(null),[c,u]=g.useState(!1),[f,d]=g.useState(()=>{var j;try{if(localStorage.getItem("otpVerified")==="true")return!0;const k=localStorage.getItem("app.lastAuthEvent");if(k)try{const E=JSON.parse(k),I=(j=E==null?void 0:E.user)==null?void 0:j.id;if(I)return localStorage.getItem(`otpVerified:${I}`)==="true"}catch{}return!1}catch{return!1}}),[h,p]=g.useState(!1),m=g.useRef(null),v=g.useCallback(j=>{var _;d(j);try{const k=(_=r==null?void 0:r.user)!=null&&_.id?`otpVerified:${r.user.id}`:"otpVerified";j?(localStorage.setItem(k,"true"),localStorage.setItem("otpVerified","true")):(localStorage.removeItem(k),localStorage.removeItem("otpVerified"))}catch{}},[(S=r==null?void 0:r.user)==null?void 0:S.id]),y=async j=>{var k,E,I,P,N;const _=(k=j==null?void 0:j.user)==null?void 0:k.id;if(!_){u(!1);try{const O=(E=j==null?void 0:j.user)!=null&&E.id?`otpRequired:${j.user.id}`:"otpRequired";localStorage.removeItem(O)}catch{}return!1}try{const{data:O,error:R}=await X.from("users_profile").select("*").eq("user_id",_).maybeSingle();if(R)throw R;if(!O){u(!0);try{const W=(I=j==null?void 0:j.user)!=null&&I.id?`otpRequired:${j.user.id}`:"otpRequired";localStorage.setItem(W,"true")}catch{}return!0}const F=(O==null?void 0:O.is_2fa_email_enabled)===!0||(O==null?void 0:O.is_f2a_email_enabled)===!0;u(!!F);try{const W=(P=j==null?void 0:j.user)!=null&&P.id?`otpRequired:${j.user.id}`:"otpRequired";F?localStorage.setItem(W,"true"):localStorage.removeItem(W)}catch{}return!!F}catch(O){console.warn("Failed to evaluate 2FA profile flag",O),u(!0);try{const R=(N=j==null?void 0:j.user)!=null&&N.id?`otpRequired:${j.user.id}`:"otpRequired";localStorage.setItem(R,"true")}catch{}return!0}};g.useEffect(()=>{(async()=>{o(!0),p(!1);try{try{localStorage.removeItem("otpRequired"),localStorage.removeItem("otpVerified")}catch{}try{const I=localStorage.getItem("sb-tgrmxlbnutxpewfmofdx-auth-token");if(I){const P=JSON.parse(I);P!=null&&P.access_token&&(P!=null&&P.user)&&(i(P),n(P.user))}}catch{}const{data:{session:k}}=await X.auth.getSession();i(k),n((k==null?void 0:k.user)??null);const{data:{user:E}}=await X.auth.getUser();if(!E){i(null),n(null),u(!1),v(!1),p(!0);return}if(k){o(!1),y(k).then(I=>{u(!!I)}).finally(()=>p(!0));return}else u(!1),v(!1),p(!0)}finally{o(!1)}})();const{data:{subscription:_}}=X.auth.onAuthStateChange(async(k,E)=>{var I,P;i(E),n((E==null?void 0:E.user)??null);try{if(k==="SIGNED_IN"){const N=((I=E==null?void 0:E.user)==null?void 0:I.id)||null;N&&m.current!==N&&(It({action:"auth.login",resource:"auth",userId:N,context:{}}).catch(()=>{}),m.current=N);let O=!1;try{const R=N?`otpVerified:${N}`:"otpVerified";O=localStorage.getItem(R)==="true"||localStorage.getItem("otpVerified")==="true"}catch{}v(!!O);try{const R=(P=E==null?void 0:E.user)!=null&&P.id?`otpRequired:${E.user.id}`:"otpRequired";localStorage.removeItem(R)}catch{}p(!1),o(!1),y(E).then(R=>{var F;if(R&&!O){const W=((F=E==null?void 0:E.user)==null?void 0:F.id)||null;W&&s.current!==W&&X.functions.invoke("send-2fa-email",{headers:E!=null&&E.access_token?{Authorization:`Bearer ${E.access_token}`}:void 0}).then(()=>{s.current=W}).catch(D=>{console.warn("2FA send function failed",D)})}u(!!R)}).finally(()=>p(!0));try{localStorage.setItem("app.lastAuthEvent",JSON.stringify({event:k,at:Date.now(),user:(E==null?void 0:E.user)||null}))}catch{}return}if(k==="PASSWORD_RECOVERY"){try{localStorage.setItem("auth.intent","recovery")}catch{}p(!1);try{const N=await y(E);u(!!N),N&&v(!1)}catch{u(!1)}finally{p(!0)}return}if(k==="TOKEN_REFRESHED"||k==="USER_UPDATED")return;if(k==="SIGNED_OUT"){It({action:"auth.logout",resource:"auth",userId:(t==null?void 0:t.id)||null,context:{}}).catch(()=>{}),u(!1),v(!1);try{const N=t!=null&&t.id?`otpVerified:${t.id}`:"otpVerified",O=t!=null&&t.id?`otpRequired:${t.id}`:"otpRequired";localStorage.removeItem(N),localStorage.removeItem(O),localStorage.removeItem("app.lastAuthEvent")}catch{}}}catch{}p(!0),o(!1)});return()=>_.unsubscribe()},[]);const x=g.useCallback(async()=>{try{await X.auth.signOut()}catch(j){console.error("Error signing out:",j)}},[]),w=g.useCallback(async()=>{try{const{data:{user:j}}=await X.auth.getUser();n(j)}catch(j){console.error("Error refreshing user:",j)}},[]),b=g.useMemo(()=>({user:t,session:r,loading:a,signOut:x,refreshUser:w,otpRequired:c,otpVerified:f,setOtpVerified:v,otpEvaluated:h}),[t,r,a,x,w,c,f,v,h]);return l.jsx(MD.Provider,{value:b,children:e})}function Ri(){const e=g.useContext(MD);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const $D=g.createContext(void 0);function MX({children:e}){const{user:t}=Ri(),[n,r]=g.useState([]),[i,a]=g.useState([]),[o,s]=g.useState(null),[c,u]=g.useState(!0),[f,d]=g.useState(null),h=async(j,_)=>{try{_!=null&&_.background||u(!0),d(null);const{data:k,error:E}=await X.from("v_current_user_permissions").select("*");if(E)throw E;const I=k||[];a(I);const{data:P,error:N}=await X.from("user_roles").select("role_id").eq("user_id",j);if(N)throw N;if(!P||P.length===0){r([]),s({user_id:j,roles:[],permissions:I});return}const O=P.map(B=>B.role_id),{data:R,error:F}=await X.from("roles").select("*").in("id",O);if(F)throw F;const W=R||[];r(W);const D=W.map(B=>({...B,permissions:I}));s({user_id:j,roles:D,permissions:I})}catch(k){console.error("Error fetching user RBAC:",k),d(k instanceof Error?k.message:"Failed to fetch user permissions")}finally{_!=null&&_.background||u(!1)}},p=async()=>{t!=null&&t.id&&await h(t.id,{background:!0})};g.useEffect(()=>{t!=null&&t.id?h(t.id):(r([]),a([]),s(null),u(!1))},[t==null?void 0:t.id]);const m=j=>{if(!j)return!1;const _=String(j).trim().toLowerCase();if(i.some(P=>(P.name||"").trim().toLowerCase()===_)||i.some(P=>`${P.resource}.${P.action}`.toLowerCase()===_))return!0;const I=_.indexOf(".");if(I>0){const P=_.slice(0,I),N=_.slice(I+1),O=N==="edit"?"update":N==="update"?"edit":"";if(O&&i.some(F=>`${F.resource}.${F.action}`.toLowerCase()===`${P}.${O}`))return!0}return!1},v=j=>j.some(_=>m(_)),y=j=>j.every(_=>m(_)),x=j=>n.some(_=>_.name===j),S={userRoles:n,userPermissions:i,userWithRoles:o,hasPermission:m,hasAnyPermission:v,hasAllPermissions:y,hasRole:x,hasAnyRole:j=>j.some(_=>x(_)),hasPermissionDB:async(j,_)=>{try{const{data:k,error:E}=await X.rpc("has_perm",{p_resource:j,p_action:_});return E?(console.error("Error checking permission:",E),!1):k===!0}catch(k){return console.error("Error in hasPermissionDB:",k),!1}},loading:c,error:f,refreshRBAC:p};return l.jsx($D.Provider,{value:S,children:e})}function Ga(){const e=g.useContext($D);if(e===void 0)throw new Error("useRBAC must be used within an RBACProvider");return e}const Cf=jh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ne=g.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},a)=>{const o=r?j9:"button";return l.jsx(o,{className:pe(Cf({variant:t,size:n,className:e})),ref:a,...i})});ne.displayName="Button";const Ie=g.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:pe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ie.displayName="Card";const ct=g.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:pe("flex flex-col space-y-1.5 p-6",e),...t}));ct.displayName="CardHeader";const ut=g.forwardRef(({className:e,...t},n)=>l.jsx("h3",{ref:n,className:pe("text-2xl font-semibold leading-none tracking-tight",e),...t}));ut.displayName="CardTitle";const _i=g.forwardRef(({className:e,...t},n)=>l.jsx("p",{ref:n,className:pe("text-sm text-muted-foreground",e),...t}));_i.displayName="CardDescription";const Je=g.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:pe("p-6 pt-0",e),...t}));Je.displayName="CardContent";const $X=g.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:pe("flex items-center p-6 pt-0",e),...t}));$X.displayName="CardFooter";const it=g.forwardRef(({className:e,type:t,...n},r)=>l.jsx("input",{type:t,className:pe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));it.displayName="Input";var DX="Label",DD=g.forwardRef((e,t)=>l.jsx(Se.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));DD.displayName=DX;var LD=DD;const LX=jh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ge=g.forwardRef(({className:e,...t},n)=>l.jsx(LD,{ref:n,className:pe(LX(),e),...t}));Ge.displayName=LD.displayName;var FX=g.createContext(void 0);function Th(e){const t=g.useContext(FX);return e||t||"ltr"}var p0="rovingFocusGroup.onEntryFocus",BX={bubbles:!1,cancelable:!0},Oh="RovingFocusGroup",[Qw,FD,UX]=$v(Oh),[zX,sy]=Dn(Oh,[UX]),[WX,HX]=zX(Oh),BD=g.forwardRef((e,t)=>l.jsx(Qw.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(Qw.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(qX,{...e,ref:t})})}));BD.displayName=Oh;var qX=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...d}=e,h=g.useRef(null),p=ze(t,h),m=Th(a),[v,y]=ri({prop:o,defaultProp:s??null,onChange:c,caller:Oh}),[x,w]=g.useState(!1),b=rn(u),S=FD(n),j=g.useRef(!1),[_,k]=g.useState(0);return g.useEffect(()=>{const E=h.current;if(E)return E.addEventListener(p0,b),()=>E.removeEventListener(p0,b)},[b]),l.jsx(WX,{scope:n,orientation:r,dir:m,loop:i,currentTabStopId:v,onItemFocus:g.useCallback(E=>y(E),[y]),onItemShiftTab:g.useCallback(()=>w(!0),[]),onFocusableItemAdd:g.useCallback(()=>k(E=>E+1),[]),onFocusableItemRemove:g.useCallback(()=>k(E=>E-1),[]),children:l.jsx(Se.div,{tabIndex:x||_===0?-1:0,"data-orientation":r,...d,ref:p,style:{outline:"none",...e.style},onMouseDown:me(e.onMouseDown,()=>{j.current=!0}),onFocus:me(e.onFocus,E=>{const I=!j.current;if(E.target===E.currentTarget&&I&&!x){const P=new CustomEvent(p0,BX);if(E.currentTarget.dispatchEvent(P),!P.defaultPrevented){const N=S().filter(D=>D.focusable),O=N.find(D=>D.active),R=N.find(D=>D.id===v),W=[O,R,...N].filter(Boolean).map(D=>D.ref.current);WD(W,f)}}j.current=!1}),onBlur:me(e.onBlur,()=>w(!1))})})}),UD="RovingFocusGroupItem",zD=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,children:o,...s}=e,c=Sn(),u=a||c,f=HX(UD,n),d=f.currentTabStopId===u,h=FD(n),{onFocusableItemAdd:p,onFocusableItemRemove:m,currentTabStopId:v}=f;return g.useEffect(()=>{if(r)return p(),()=>m()},[r,p,m]),l.jsx(Qw.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:l.jsx(Se.span,{tabIndex:d?0:-1,"data-orientation":f.orientation,...s,ref:t,onMouseDown:me(e.onMouseDown,y=>{r?f.onItemFocus(u):y.preventDefault()}),onFocus:me(e.onFocus,()=>f.onItemFocus(u)),onKeyDown:me(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){f.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const x=GX(y,f.orientation,f.dir);if(x!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let b=h().filter(S=>S.focusable).map(S=>S.ref.current);if(x==="last")b.reverse();else if(x==="prev"||x==="next"){x==="prev"&&b.reverse();const S=b.indexOf(y.currentTarget);b=f.loop?YX(b,S+1):b.slice(S+1)}setTimeout(()=>WD(b))}}),children:typeof o=="function"?o({isCurrentTabStop:d,hasTabStop:v!=null}):o})})});zD.displayName=UD;var VX={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function KX(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function GX(e,t,n){const r=KX(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return VX[r]}function WD(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function YX(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var HD=BD,qD=zD,ly="Tabs",[XX,R$e]=Dn(ly,[sy]),VD=sy(),[QX,wj]=XX(ly),KD=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:s,activationMode:c="automatic",...u}=e,f=Th(s),[d,h]=ri({prop:r,onChange:i,defaultProp:a??"",caller:ly});return l.jsx(QX,{scope:n,baseId:Sn(),value:d,onValueChange:h,orientation:o,dir:f,activationMode:c,children:l.jsx(Se.div,{dir:f,"data-orientation":o,...u,ref:t})})});KD.displayName=ly;var GD="TabsList",YD=g.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,a=wj(GD,n),o=VD(n);return l.jsx(HD,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:l.jsx(Se.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});YD.displayName=GD;var XD="TabsTrigger",QD=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=e,o=wj(XD,n),s=VD(n),c=eL(o.baseId,r),u=tL(o.baseId,r),f=r===o.value;return l.jsx(qD,{asChild:!0,...s,focusable:!i,active:f,children:l.jsx(Se.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:t,onMouseDown:me(e.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?o.onValueChange(r):d.preventDefault()}),onKeyDown:me(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(r)}),onFocus:me(e.onFocus,()=>{const d=o.activationMode!=="manual";!f&&!i&&d&&o.onValueChange(r)})})})});QD.displayName=XD;var JD="TabsContent",ZD=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...o}=e,s=wj(JD,n),c=eL(s.baseId,r),u=tL(s.baseId,r),f=r===s.value,d=g.useRef(f);return g.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),l.jsx(jn,{present:i||f,children:({present:h})=>l.jsx(Se.div,{"data-state":f?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:h&&a})})});ZD.displayName=JD;function eL(e,t){return`${e}-trigger-${t}`}function tL(e,t){return`${e}-content-${t}`}var JX=KD,nL=YD,rL=QD,iL=ZD;const Wc=JX,Ks=g.forwardRef(({className:e,...t},n)=>l.jsx(nL,{ref:n,className:pe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ks.displayName=nL.displayName;const In=g.forwardRef(({className:e,...t},n)=>l.jsx(rL,{ref:n,className:pe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));In.displayName=rL.displayName;const xn=g.forwardRef(({className:e,...t},n)=>l.jsx(iL,{ref:n,className:pe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));xn.displayName=iL.displayName;const ZX=jh("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ef=g.forwardRef(({className:e,variant:t,...n},r)=>l.jsx("div",{ref:r,role:"alert",className:pe(ZX({variant:t}),e),...n}));Ef.displayName="Alert";const eQ=g.forwardRef(({className:e,...t},n)=>l.jsx("h5",{ref:n,className:pe("mb-1 font-medium leading-none tracking-tight",e),...t}));eQ.displayName="AlertTitle";const Af=g.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:pe("text-sm [&_p]:leading-relaxed",e),...t}));Af.displayName="AlertDescription";const tQ="vite_react_shadcn_ts",nQ="0.0.29",rQ="module",iQ={predev:"echo skip changelog copy",dev:"vite",prebuild:"echo skip changelog copy",build:"vite build","build:dev":"vite build --mode development",lint:"eslint .",preview:"vite preview",test:"vitest"},aQ={"@hookform/resolvers":"^3.10.0","@radix-ui/react-accordion":"^1.2.11","@radix-ui/react-alert-dialog":"^1.1.14","@radix-ui/react-aspect-ratio":"^1.1.7","@radix-ui/react-avatar":"^1.1.10","@radix-ui/react-checkbox":"^1.3.2","@radix-ui/react-collapsible":"^1.1.11","@radix-ui/react-context-menu":"^2.2.15","@radix-ui/react-dialog":"^1.1.14","@radix-ui/react-dropdown-menu":"^2.1.15","@radix-ui/react-hover-card":"^1.1.14","@radix-ui/react-label":"^2.1.7","@radix-ui/react-menubar":"^1.1.15","@radix-ui/react-navigation-menu":"^1.2.13","@radix-ui/react-popover":"^1.1.14","@radix-ui/react-progress":"^1.1.7","@radix-ui/react-radio-group":"^1.3.7","@radix-ui/react-scroll-area":"^1.2.9","@radix-ui/react-select":"^2.2.5","@radix-ui/react-separator":"^1.1.7","@radix-ui/react-slider":"^1.3.5","@radix-ui/react-slot":"^1.2.3","@radix-ui/react-switch":"^1.2.5","@radix-ui/react-tabs":"^1.1.12","@radix-ui/react-toast":"^1.2.14","@radix-ui/react-toggle":"^1.1.9","@radix-ui/react-toggle-group":"^1.1.10","@radix-ui/react-tooltip":"^1.2.7","@supabase/supabase-js":"^2.55.0","@tanstack/react-query":"^5.83.0","class-variance-authority":"^0.7.1",clsx:"^2.1.1",cmdk:"^1.1.1","date-fns":"^3.6.0","embla-carousel-react":"^8.6.0","input-otp":"^1.4.2","lucide-react":"^0.462.0","next-themes":"^0.3.0",react:"^18.3.1","react-day-picker":"^8.10.1","react-dom":"^18.3.1","react-hook-form":"^7.61.1","react-markdown":"^9.1.0","react-resizable-panels":"^2.1.9","react-router-dom":"^6.30.1",recharts:"^2.15.4","remark-gfm":"^4.0.1",sonner:"^1.7.4","tailwind-merge":"^2.6.0","tailwindcss-animate":"^1.0.7",vaul:"^0.9.9",zod:"^3.25.76"},oQ={"@eslint/js":"^9.32.0","@tailwindcss/typography":"^0.5.16","@types/node":"^22.16.5","@types/react":"^18.3.23","@types/react-dom":"^18.3.7","@vitejs/plugin-react-swc":"^3.11.0",autoprefixer:"^10.4.21",eslint:"^9.32.0","eslint-plugin-react-hooks":"^5.2.0","eslint-plugin-react-refresh":"^0.4.20",globals:"^15.15.0","lovable-tagger":"^1.1.9",postcss:"^8.5.6",tailwindcss:"^3.4.17",typescript:"^5.8.3","typescript-eslint":"^8.38.0",vite:"^5.4.19",vitest:"^1.6.0"},m0={name:tQ,private:!0,version:nQ,type:rQ,scripts:iQ,dependencies:aQ,devDependencies:oQ};function sQ({onBack:e}){const t=Ka(),[n,r]=g.useState("login"),[i,a]=g.useState(!1),[o,s]=g.useState(!1),[c,u]=g.useState(null),[f,d]=g.useState(null),[h,p]=g.useState(""),[m,v]=g.useState("");g.useState(""),g.useState("");const y=async b=>{var S;b.preventDefault(),a(!0),u(null);try{const{data:j,error:_}=await X.auth.signInWithPassword({email:h,password:m});if(_)throw _;const k=(S=j.user)==null?void 0:S.id;if(k)try{const{data:E,error:I}=await X.from("users_profile").select("is_2fa_email_enabled, is_f2a_email_enabled").eq("user_id",k).maybeSingle();if(I)throw I;const P=(E==null?void 0:E.is_2fa_email_enabled)===!0||(E==null?void 0:E.is_f2a_email_enabled)===!0;Oe.success("Login successful!"),t("/",{replace:!0});return}catch{Oe.success("Login successful!")}else Oe.success("Login successful!");t("/",{replace:!0})}catch(j){console.error("Login error:",j),u(j instanceof Error?j.message:"Failed to login"),Oe.error("Login failed")}finally{a(!1)}},x=async b=>{b.preventDefault(),a(!0),u(null);try{const{error:S}=await X.auth.resetPasswordForEmail(h,{redirectTo:`${window.location.origin}/reset-password`});if(S)throw S;d("Password reset email sent! Please check your inbox."),Oe.success("Password reset email sent!")}catch(S){console.error("Password reset error:",S),u(S instanceof Error?S.message:"Failed to send reset email"),Oe.error("Failed to send reset email")}finally{a(!1)}},w=()=>{u(null),d(null)};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:l.jsxs(Ie,{className:"w-full max-w-md",children:[l.jsxs(ct,{className:"space-y-1",children:[e&&l.jsxs(ne,{variant:"ghost",size:"sm",onClick:e,className:"absolute top-4 left-4",children:[l.jsx(Fv,{className:"w-4 h-4 mr-2"}),"Back"]}),l.jsxs("div",{className:"text-center",children:[l.jsx(ut,{className:"text-2xl font-bold",children:"Welcome back"}),l.jsx(_i,{children:"Sign in to continue to Chatflow"})]})]}),l.jsx(Je,{children:l.jsxs(Wc,{value:n,onValueChange:b=>{r(b),w()},children:[l.jsxs(Ks,{className:"grid w-full grid-cols-2",children:[l.jsx(In,{value:"login",children:"Login"}),l.jsx(In,{value:"reset",children:"Reset"})]}),c&&l.jsx(Ef,{className:"mt-4 border-red-200 bg-red-50",children:l.jsx(Af,{className:"text-red-800",children:c})}),f&&l.jsx(Ef,{className:"mt-4 border-green-200 bg-green-50",children:l.jsx(Af,{className:"text-green-800",children:f})}),l.jsx(xn,{value:"login",className:"space-y-4 mt-4",children:l.jsxs("form",{onSubmit:y,className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"login-email",children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx(Cw,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(it,{id:"login-email",type:"email",placeholder:"Enter your email",value:h,onChange:b=>p(b.target.value),className:"pl-10",required:!0})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"We’ll send a one-time code after login."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"login-password",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(Wm,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(it,{id:"login-password",type:o?"text":"password",placeholder:"Enter your password",value:m,onChange:b=>v(b.target.value),className:"pl-10 pr-10",required:!0}),l.jsx(ne,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>s(!o),children:o?l.jsx(t$,{className:"h-4 w-4"}):l.jsx(n$,{className:"h-4 w-4"})})]}),l.jsx("div",{className:"flex items-center justify-end text-xs",children:l.jsx(jA,{to:"/reset-password",className:"hover:underline",children:"Forgot password?"})})]}),l.jsx(ne,{type:"submit",className:"w-full",disabled:i,children:i?l.jsxs(l.Fragment,{children:[l.jsx(St,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"}),l.jsx("p",{className:"text-xs text-muted-foreground text-center mt-2",children:l.jsxs(jA,{to:"/changelog",className:"hover:underline",children:["v",m0==null?void 0:m0.version]})})]})}),l.jsx(xn,{value:"reset",className:"space-y-4 mt-4",children:l.jsxs("form",{onSubmit:x,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"reset-email",children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx(Cw,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(it,{id:"reset-email",type:"email",placeholder:"Enter your email",value:h,onChange:b=>p(b.target.value),className:"pl-10",required:!0})]})]}),l.jsx(ne,{type:"submit",className:"w-full",disabled:i,children:i?l.jsxs(l.Fragment,{children:[l.jsx(St,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending reset email..."]}):"Send Reset Email"})]})})]})})]})})}function g0({children:e}){const{user:t,loading:n,otpRequired:r,otpVerified:i,otpEvaluated:a}=Ri(),o=Ka(),s=Xo();if(g.useEffect(()=>{var u;if(!n&&a&&t){const f=s.pathname==="/otp",d=s.pathname==="/reset-password",h=s.pathname==="/invite";let p=!1;try{const m=new URL(window.location.href),v=m.searchParams.get("type"),y=m.searchParams.get("code"),x=window.location.hash||"";p=v==="invite"||y&&!x.includes("access_token=")||x.includes("type=invite")||window.location.pathname==="/invite",!p&&t&&X.from("users_profile").select("password_set").eq("user_id",t.id).single().then(({data:w})=>{w&&w.password_set===!1&&(console.log("Detected invite flow from database - user needs to set password"),setTimeout(()=>o("/reset-password",{replace:!0}),0))}).catch(()=>{}),console.log("Invite flow detection:",{type:v,code:!!y,hash:x.substring(0,50),pathname:window.location.pathname,isInviteFlow:p,userId:t==null?void 0:t.id})}catch{}if(p&&!d&&!h){console.log("Redirecting to password creation page for invite flow"),setTimeout(()=>o("/reset-password",{replace:!0}),0);return}if(r&&!i&&!f){let m="2fa";try{new URL(window.location.href).searchParams.get("type")==="recovery"&&(m="recovery"),(u=window.location.hash)!=null&&u.includes("access_token=")&&(m="recovery"),localStorage.getItem("auth.intent")==="recovery"&&(m="recovery")}catch{}setTimeout(()=>o("/otp",{replace:!0,state:{from:s.pathname,intent:m}}),0)}}},[t,n,a,r,i,s.pathname,o]),n||!a)return l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),l.jsx("span",{children:"Loading..."})]})});if(!t)return l.jsx(sQ,{});const c=s.pathname==="/otp";return t&&r&&!i&&!c?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"}),l.jsx("span",{children:"Redirecting…"})]})}):l.jsx(l.Fragment,{children:e})}const lQ=jh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:opacity-90",secondary:"border-transparent bg-secondary text-secondary-foreground hover:opacity-90",destructive:"border-transparent bg-destructive text-destructive-foreground hover:opacity-90",outline:"text-foreground hover:opacity-90"}},defaultVariants:{variant:"default"}});function bt({className:e,variant:t,...n}){return l.jsx("div",{className:pe(lQ({variant:t}),e),...n})}var cQ="Separator",qA="horizontal",uQ=["horizontal","vertical"],aL=g.forwardRef((e,t)=>{const{decorative:n,orientation:r=qA,...i}=e,a=dQ(r)?r:qA,s=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return l.jsx(Se.div,{"data-orientation":a,...s,...i,ref:t})});aL.displayName=cQ;function dQ(e){return uQ.includes(e)}var oL=aL;const Nf=g.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>l.jsx(oL,{ref:i,decorative:n,orientation:t,className:pe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Nf.displayName=oL.displayName;var v0=0;function cy(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??VA()),document.body.insertAdjacentElement("beforeend",e[1]??VA()),v0++,()=>{v0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),v0--}},[])}function VA(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var y0="focusScope.autoFocusOnMount",x0="focusScope.autoFocusOnUnmount",KA={bubbles:!1,cancelable:!0},fQ="FocusScope",Ih=g.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[s,c]=g.useState(null),u=rn(i),f=rn(a),d=g.useRef(null),h=ze(t,v=>c(v)),p=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let v=function(b){if(p.paused||!s)return;const S=b.target;s.contains(S)?d.current=S:co(d.current,{select:!0})},y=function(b){if(p.paused||!s)return;const S=b.relatedTarget;S!==null&&(s.contains(S)||co(d.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const j of b)j.removedNodes.length>0&&co(s)};document.addEventListener("focusin",v),document.addEventListener("focusout",y);const w=new MutationObserver(x);return s&&w.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",y),w.disconnect()}}},[r,s,p.paused]),g.useEffect(()=>{if(s){YA.add(p);const v=document.activeElement;if(!s.contains(v)){const x=new CustomEvent(y0,KA);s.addEventListener(y0,u),s.dispatchEvent(x),x.defaultPrevented||(hQ(yQ(sL(s)),{select:!0}),document.activeElement===v&&co(s))}return()=>{s.removeEventListener(y0,u),setTimeout(()=>{const x=new CustomEvent(x0,KA);s.addEventListener(x0,f),s.dispatchEvent(x),x.defaultPrevented||co(v??document.body,{select:!0}),s.removeEventListener(x0,f),YA.remove(p)},0)}}},[s,u,f,p]);const m=g.useCallback(v=>{if(!n&&!r||p.paused)return;const y=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(y&&x){const w=v.currentTarget,[b,S]=pQ(w);b&&S?!v.shiftKey&&x===S?(v.preventDefault(),n&&co(b,{select:!0})):v.shiftKey&&x===b&&(v.preventDefault(),n&&co(S,{select:!0})):x===w&&v.preventDefault()}},[n,r,p.paused]);return l.jsx(Se.div,{tabIndex:-1,...o,ref:h,onKeyDown:m})});Ih.displayName=fQ;function hQ(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(co(r,{select:t}),document.activeElement!==n)return}function pQ(e){const t=sL(e),n=GA(t,e),r=GA(t.reverse(),e);return[n,r]}function sL(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function GA(e,t){for(const n of e)if(!mQ(n,{upTo:t}))return n}function mQ(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function gQ(e){return e instanceof HTMLInputElement&&"select"in e}function co(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&gQ(e)&&t&&e.select()}}var YA=vQ();function vQ(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=XA(e,t),e.unshift(t)},remove(t){var n;e=XA(e,t),(n=e[0])==null||n.resume()}}}function XA(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function yQ(e){return e.filter(t=>t.tagName!=="A")}var xQ=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Cl=new WeakMap,Ap=new WeakMap,Np={},b0=0,lL=function(e){return e&&(e.host||lL(e.parentNode))},bQ=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=lL(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},wQ=function(e,t,n,r){var i=bQ(t,Array.isArray(e)?e:[e]);Np[n]||(Np[n]=new WeakMap);var a=Np[n],o=[],s=new Set,c=new Set(i),u=function(d){!d||s.has(d)||(s.add(d),u(d.parentNode))};i.forEach(u);var f=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(h){if(s.has(h))f(h);else try{var p=h.getAttribute(r),m=p!==null&&p!=="false",v=(Cl.get(h)||0)+1,y=(a.get(h)||0)+1;Cl.set(h,v),a.set(h,y),o.push(h),v===1&&m&&Ap.set(h,!0),y===1&&h.setAttribute(n,"true"),m||h.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return f(t),s.clear(),b0++,function(){o.forEach(function(d){var h=Cl.get(d)-1,p=a.get(d)-1;Cl.set(d,h),a.set(d,p),h||(Ap.has(d)||d.removeAttribute(r),Ap.delete(d)),p||d.removeAttribute(n)}),b0--,b0||(Cl=new WeakMap,Cl=new WeakMap,Ap=new WeakMap,Np={})}},uy=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=xQ(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),wQ(r,i,n,"aria-hidden")):function(){return null}},Vi=function(){return Vi=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Vi.apply(this,arguments)};function cL(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function _Q(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var pm="right-scroll-bar-position",mm="width-before-scroll-bar",SQ="with-scroll-bars-hidden",jQ="--removed-body-scroll-bar-size";function w0(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function kQ(e,t){var n=g.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var CQ=typeof window<"u"?g.useLayoutEffect:g.useEffect,QA=new WeakMap;function EQ(e,t){var n=kQ(null,function(r){return e.forEach(function(i){return w0(i,r)})});return CQ(function(){var r=QA.get(n);if(r){var i=new Set(r),a=new Set(e),o=n.current;i.forEach(function(s){a.has(s)||w0(s,null)}),a.forEach(function(s){i.has(s)||w0(s,o)})}QA.set(n,e)},[e]),n}function AQ(e){return e}function NQ(e,t){t===void 0&&(t=AQ);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,r);return n.push(o),function(){n=n.filter(function(s){return s!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(s){return a(s)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var s=n;n=[],s.forEach(a),o=n}var c=function(){var f=o;o=[],f.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(f){o.push(f),u()},filter:function(f){return o=o.filter(f),n}}}};return i}function PQ(e){e===void 0&&(e={});var t=NQ(null);return t.options=Vi({async:!0,ssr:!1},e),t}var uL=function(e){var t=e.sideCar,n=cL(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,Vi({},n))};uL.isSideCarExport=!0;function TQ(e,t){return e.useMedium(t),uL}var dL=PQ(),_0=function(){},dy=g.forwardRef(function(e,t){var n=g.useRef(null),r=g.useState({onScrollCapture:_0,onWheelCapture:_0,onTouchMoveCapture:_0}),i=r[0],a=r[1],o=e.forwardProps,s=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,d=e.shards,h=e.sideCar,p=e.noRelative,m=e.noIsolation,v=e.inert,y=e.allowPinchZoom,x=e.as,w=x===void 0?"div":x,b=e.gapMode,S=cL(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,_=EQ([n,t]),k=Vi(Vi({},S),i);return g.createElement(g.Fragment,null,f&&g.createElement(j,{sideCar:dL,removeScrollBar:u,shards:d,noRelative:p,noIsolation:m,inert:v,setCallbacks:a,allowPinchZoom:!!y,lockRef:n,gapMode:b}),o?g.cloneElement(g.Children.only(s),Vi(Vi({},k),{ref:_})):g.createElement(w,Vi({},k,{className:c,ref:_}),s))});dy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};dy.classNames={fullWidth:mm,zeroRight:pm};var OQ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function IQ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=OQ();return t&&e.setAttribute("nonce",t),e}function RQ(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function MQ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var $Q=function(){var e=0,t=null;return{add:function(n){e==0&&(t=IQ())&&(RQ(t,n),MQ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},DQ=function(){var e=$Q();return function(t,n){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},fL=function(){var e=DQ(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},LQ={left:0,top:0,right:0,gap:0},S0=function(e){return parseInt(e||"",10)||0},FQ=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[S0(n),S0(r),S0(i)]},BQ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return LQ;var t=FQ(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},UQ=fL(),mc="data-scroll-locked",zQ=function(e,t,n,r){var i=e.left,a=e.top,o=e.right,s=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(SQ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body[`).concat(mc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(pm,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(mm,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(pm," .").concat(pm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(mm," .").concat(mm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(mc,`] {
    `).concat(jQ,": ").concat(s,`px;
  }
`)},JA=function(){var e=parseInt(document.body.getAttribute(mc)||"0",10);return isFinite(e)?e:0},WQ=function(){g.useEffect(function(){return document.body.setAttribute(mc,(JA()+1).toString()),function(){var e=JA()-1;e<=0?document.body.removeAttribute(mc):document.body.setAttribute(mc,e.toString())}},[])},HQ=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;WQ();var a=g.useMemo(function(){return BQ(i)},[i]);return g.createElement(UQ,{styles:zQ(a,!t,i,n?"":"!important")})},Jw=!1;if(typeof window<"u")try{var Pp=Object.defineProperty({},"passive",{get:function(){return Jw=!0,!0}});window.addEventListener("test",Pp,Pp),window.removeEventListener("test",Pp,Pp)}catch{Jw=!1}var El=Jw?{passive:!1}:!1,qQ=function(e){return e.tagName==="TEXTAREA"},hL=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!qQ(e)&&n[t]==="visible")},VQ=function(e){return hL(e,"overflowY")},KQ=function(e){return hL(e,"overflowX")},ZA=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=pL(e,r);if(i){var a=mL(e,r),o=a[1],s=a[2];if(o>s)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},GQ=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},YQ=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},pL=function(e,t){return e==="v"?VQ(t):KQ(t)},mL=function(e,t){return e==="v"?GQ(t):YQ(t)},XQ=function(e,t){return e==="h"&&t==="rtl"?-1:1},QQ=function(e,t,n,r,i){var a=XQ(e,window.getComputedStyle(t).direction),o=a*r,s=n.target,c=t.contains(s),u=!1,f=o>0,d=0,h=0;do{if(!s)break;var p=mL(e,s),m=p[0],v=p[1],y=p[2],x=v-y-a*m;(m||x)&&pL(e,s)&&(d+=x,h+=m);var w=s.parentNode;s=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&s!==document.body||c&&(t.contains(s)||t===s));return(f&&(Math.abs(d)<1||!i)||!f&&(Math.abs(h)<1||!i))&&(u=!0),u},Tp=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},eN=function(e){return[e.deltaX,e.deltaY]},tN=function(e){return e&&"current"in e?e.current:e},JQ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ZQ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},eJ=0,Al=[];function tJ(e){var t=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),i=g.useState(eJ++)[0],a=g.useState(fL)[0],o=g.useRef(e);g.useEffect(function(){o.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var v=_Q([e.lockRef.current],(e.shards||[]).map(tN),!0).filter(Boolean);return v.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var s=g.useCallback(function(v,y){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var x=Tp(v),w=n.current,b="deltaX"in v?v.deltaX:w[0]-x[0],S="deltaY"in v?v.deltaY:w[1]-x[1],j,_=v.target,k=Math.abs(b)>Math.abs(S)?"h":"v";if("touches"in v&&k==="h"&&_.type==="range")return!1;var E=ZA(k,_);if(!E)return!0;if(E?j=k:(j=k==="v"?"h":"v",E=ZA(k,_)),!E)return!1;if(!r.current&&"changedTouches"in v&&(b||S)&&(r.current=j),!j)return!0;var I=r.current||j;return QQ(I,y,v,I==="h"?b:S,!0)},[]),c=g.useCallback(function(v){var y=v;if(!(!Al.length||Al[Al.length-1]!==a)){var x="deltaY"in y?eN(y):Tp(y),w=t.current.filter(function(j){return j.name===y.type&&(j.target===y.target||y.target===j.shadowParent)&&JQ(j.delta,x)})[0];if(w&&w.should){y.cancelable&&y.preventDefault();return}if(!w){var b=(o.current.shards||[]).map(tN).filter(Boolean).filter(function(j){return j.contains(y.target)}),S=b.length>0?s(y,b[0]):!o.current.noIsolation;S&&y.cancelable&&y.preventDefault()}}},[]),u=g.useCallback(function(v,y,x,w){var b={name:v,delta:y,target:x,should:w,shadowParent:nJ(x)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(S){return S!==b})},1)},[]),f=g.useCallback(function(v){n.current=Tp(v),r.current=void 0},[]),d=g.useCallback(function(v){u(v.type,eN(v),v.target,s(v,e.lockRef.current))},[]),h=g.useCallback(function(v){u(v.type,Tp(v),v.target,s(v,e.lockRef.current))},[]);g.useEffect(function(){return Al.push(a),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",c,El),document.addEventListener("touchmove",c,El),document.addEventListener("touchstart",f,El),function(){Al=Al.filter(function(v){return v!==a}),document.removeEventListener("wheel",c,El),document.removeEventListener("touchmove",c,El),document.removeEventListener("touchstart",f,El)}},[]);var p=e.removeScrollBar,m=e.inert;return g.createElement(g.Fragment,null,m?g.createElement(a,{styles:ZQ(i)}):null,p?g.createElement(HQ,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function nJ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const rJ=TQ(dL,tJ);var Rh=g.forwardRef(function(e,t){return g.createElement(dy,Vi({},e,{ref:t,sideCar:rJ}))});Rh.classNames=dy.classNames;var Zw=["Enter"," "],iJ=["ArrowDown","PageUp","Home"],gL=["ArrowUp","PageDown","End"],aJ=[...iJ,...gL],oJ={ltr:[...Zw,"ArrowRight"],rtl:[...Zw,"ArrowLeft"]},sJ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Mh="Menu",[Pf,lJ,cJ]=$v(Mh),[fl,vL]=Dn(Mh,[cJ,Go,sy]),fy=Go(),yL=sy(),[uJ,hl]=fl(Mh),[dJ,$h]=fl(Mh),xL=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:a,modal:o=!0}=e,s=fy(t),[c,u]=g.useState(null),f=g.useRef(!1),d=rn(a),h=Th(i);return g.useEffect(()=>{const p=()=>{f.current=!0,document.addEventListener("pointerdown",m,{capture:!0,once:!0}),document.addEventListener("pointermove",m,{capture:!0,once:!0})},m=()=>f.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",m,{capture:!0}),document.removeEventListener("pointermove",m,{capture:!0})}},[]),l.jsx(qv,{...s,children:l.jsx(uJ,{scope:t,open:n,onOpenChange:d,content:c,onContentChange:u,children:l.jsx(dJ,{scope:t,onClose:g.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:f,dir:h,modal:o,children:r})})})};xL.displayName=Mh;var fJ="MenuAnchor",_j=g.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=fy(n);return l.jsx(Ch,{...i,...r,ref:t})});_j.displayName=fJ;var Sj="MenuPortal",[hJ,bL]=fl(Sj,{forceMount:void 0}),wL=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,a=hl(Sj,t);return l.jsx(hJ,{scope:t,forceMount:n,children:l.jsx(jn,{present:n||a.open,children:l.jsx(ju,{asChild:!0,container:i,children:r})})})};wL.displayName=Sj;var Zr="MenuContent",[pJ,jj]=fl(Zr),_L=g.forwardRef((e,t)=>{const n=bL(Zr,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,a=hl(Zr,e.__scopeMenu),o=$h(Zr,e.__scopeMenu);return l.jsx(Pf.Provider,{scope:e.__scopeMenu,children:l.jsx(jn,{present:r||a.open,children:l.jsx(Pf.Slot,{scope:e.__scopeMenu,children:o.modal?l.jsx(mJ,{...i,ref:t}):l.jsx(gJ,{...i,ref:t})})})})}),mJ=g.forwardRef((e,t)=>{const n=hl(Zr,e.__scopeMenu),r=g.useRef(null),i=ze(t,r);return g.useEffect(()=>{const a=r.current;if(a)return uy(a)},[]),l.jsx(kj,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:me(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),gJ=g.forwardRef((e,t)=>{const n=hl(Zr,e.__scopeMenu);return l.jsx(kj,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),vJ=Bo("MenuContent.ScrollLock"),kj=g.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:p,disableOutsideScroll:m,...v}=e,y=hl(Zr,n),x=$h(Zr,n),w=fy(n),b=yL(n),S=lJ(n),[j,_]=g.useState(null),k=g.useRef(null),E=ze(t,k,y.onContentChange),I=g.useRef(0),P=g.useRef(""),N=g.useRef(0),O=g.useRef(null),R=g.useRef("right"),F=g.useRef(0),W=m?Rh:g.Fragment,D=m?{as:vJ,allowPinchZoom:!0}:void 0,B=L=>{var Y,le;const A=P.current+L,M=S().filter(Z=>!Z.disabled),T=document.activeElement,C=(Y=M.find(Z=>Z.ref.current===T))==null?void 0:Y.textValue,U=M.map(Z=>Z.textValue),K=NJ(U,A,C),Q=(le=M.find(Z=>Z.textValue===K))==null?void 0:le.ref.current;(function Z(oe){P.current=oe,window.clearTimeout(I.current),oe!==""&&(I.current=window.setTimeout(()=>Z(""),1e3))})(A),Q&&setTimeout(()=>Q.focus())};g.useEffect(()=>()=>window.clearTimeout(I.current),[]),cy();const $=g.useCallback(L=>{var M,T;return R.current===((M=O.current)==null?void 0:M.side)&&TJ(L,(T=O.current)==null?void 0:T.area)},[]);return l.jsx(pJ,{scope:n,searchRef:P,onItemEnter:g.useCallback(L=>{$(L)&&L.preventDefault()},[$]),onItemLeave:g.useCallback(L=>{var A;$(L)||((A=k.current)==null||A.focus(),_(null))},[$]),onTriggerLeave:g.useCallback(L=>{$(L)&&L.preventDefault()},[$]),pointerGraceTimerRef:N,onPointerGraceIntentChange:g.useCallback(L=>{O.current=L},[]),children:l.jsx(W,{...D,children:l.jsx(Ih,{asChild:!0,trapped:i,onMountAutoFocus:me(a,L=>{var A;L.preventDefault(),(A=k.current)==null||A.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:l.jsx(cl,{asChild:!0,disableOutsidePointerEvents:s,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:p,children:l.jsx(HD,{asChild:!0,...b,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:j,onCurrentTabStopIdChange:_,onEntryFocus:me(c,L=>{x.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(Vv,{role:"menu","aria-orientation":"vertical","data-state":LL(y.open),"data-radix-menu-content":"",dir:x.dir,...w,...v,ref:E,style:{outline:"none",...v.style},onKeyDown:me(v.onKeyDown,L=>{const M=L.target.closest("[data-radix-menu-content]")===L.currentTarget,T=L.ctrlKey||L.altKey||L.metaKey,C=L.key.length===1;M&&(L.key==="Tab"&&L.preventDefault(),!T&&C&&B(L.key));const U=k.current;if(L.target!==U||!aJ.includes(L.key))return;L.preventDefault();const Q=S().filter(Y=>!Y.disabled).map(Y=>Y.ref.current);gL.includes(L.key)&&Q.reverse(),EJ(Q)}),onBlur:me(e.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(I.current),P.current="")}),onPointerMove:me(e.onPointerMove,Tf(L=>{const A=L.target,M=F.current!==L.clientX;if(L.currentTarget.contains(A)&&M){const T=L.clientX>F.current?"right":"left";R.current=T,F.current=L.clientX}}))})})})})})})});_L.displayName=Zr;var yJ="MenuGroup",Cj=g.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(Se.div,{role:"group",...r,ref:t})});Cj.displayName=yJ;var xJ="MenuLabel",SL=g.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(Se.div,{...r,ref:t})});SL.displayName=xJ;var ng="MenuItem",nN="menu.itemSelect",hy=g.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,a=g.useRef(null),o=$h(ng,e.__scopeMenu),s=jj(ng,e.__scopeMenu),c=ze(t,a),u=g.useRef(!1),f=()=>{const d=a.current;if(!n&&d){const h=new CustomEvent(nN,{bubbles:!0,cancelable:!0});d.addEventListener(nN,p=>r==null?void 0:r(p),{once:!0}),VS(d,h),h.defaultPrevented?u.current=!1:o.onClose()}};return l.jsx(jL,{...i,ref:c,disabled:n,onClick:me(e.onClick,f),onPointerDown:d=>{var h;(h=e.onPointerDown)==null||h.call(e,d),u.current=!0},onPointerUp:me(e.onPointerUp,d=>{var h;u.current||(h=d.currentTarget)==null||h.click()}),onKeyDown:me(e.onKeyDown,d=>{const h=s.searchRef.current!=="";n||h&&d.key===" "||Zw.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});hy.displayName=ng;var jL=g.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...a}=e,o=jj(ng,n),s=yL(n),c=g.useRef(null),u=ze(t,c),[f,d]=g.useState(!1),[h,p]=g.useState("");return g.useEffect(()=>{const m=c.current;m&&p((m.textContent??"").trim())},[a.children]),l.jsx(Pf.ItemSlot,{scope:n,disabled:r,textValue:i??h,children:l.jsx(qD,{asChild:!0,...s,focusable:!r,children:l.jsx(Se.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:u,onPointerMove:me(e.onPointerMove,Tf(m=>{r?o.onItemLeave(m):(o.onItemEnter(m),m.defaultPrevented||m.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:me(e.onPointerLeave,Tf(m=>o.onItemLeave(m))),onFocus:me(e.onFocus,()=>d(!0)),onBlur:me(e.onBlur,()=>d(!1))})})})}),bJ="MenuCheckboxItem",kL=g.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return l.jsx(PL,{scope:e.__scopeMenu,checked:n,children:l.jsx(hy,{role:"menuitemcheckbox","aria-checked":rg(n)?"mixed":n,...i,ref:t,"data-state":Aj(n),onSelect:me(i.onSelect,()=>r==null?void 0:r(rg(n)?!0:!n),{checkForDefaultPrevented:!1})})})});kL.displayName=bJ;var CL="MenuRadioGroup",[wJ,_J]=fl(CL,{value:void 0,onValueChange:()=>{}}),EL=g.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,a=rn(r);return l.jsx(wJ,{scope:e.__scopeMenu,value:n,onValueChange:a,children:l.jsx(Cj,{...i,ref:t})})});EL.displayName=CL;var AL="MenuRadioItem",NL=g.forwardRef((e,t)=>{const{value:n,...r}=e,i=_J(AL,e.__scopeMenu),a=n===i.value;return l.jsx(PL,{scope:e.__scopeMenu,checked:a,children:l.jsx(hy,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":Aj(a),onSelect:me(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});NL.displayName=AL;var Ej="MenuItemIndicator",[PL,SJ]=fl(Ej,{checked:!1}),TL=g.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,a=SJ(Ej,n);return l.jsx(jn,{present:r||rg(a.checked)||a.checked===!0,children:l.jsx(Se.span,{...i,ref:t,"data-state":Aj(a.checked)})})});TL.displayName=Ej;var jJ="MenuSeparator",OL=g.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(Se.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});OL.displayName=jJ;var kJ="MenuArrow",IL=g.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=fy(n);return l.jsx(Kv,{...i,...r,ref:t})});IL.displayName=kJ;var CJ="MenuSub",[M$e,RL]=fl(CJ),Pd="MenuSubTrigger",ML=g.forwardRef((e,t)=>{const n=hl(Pd,e.__scopeMenu),r=$h(Pd,e.__scopeMenu),i=RL(Pd,e.__scopeMenu),a=jj(Pd,e.__scopeMenu),o=g.useRef(null),{pointerGraceTimerRef:s,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},f=g.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return g.useEffect(()=>f,[f]),g.useEffect(()=>{const d=s.current;return()=>{window.clearTimeout(d),c(null)}},[s,c]),l.jsx(_j,{asChild:!0,...u,children:l.jsx(jL,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":LL(n.open),...e,ref:La(t,i.onTriggerChange),onClick:d=>{var h;(h=e.onClick)==null||h.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:me(e.onPointerMove,Tf(d=>{a.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:me(e.onPointerLeave,Tf(d=>{var p,m;f();const h=(p=n.content)==null?void 0:p.getBoundingClientRect();if(h){const v=(m=n.content)==null?void 0:m.dataset.side,y=v==="right",x=y?-5:5,w=h[y?"left":"right"],b=h[y?"right":"left"];a.onPointerGraceIntentChange({area:[{x:d.clientX+x,y:d.clientY},{x:w,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x:w,y:h.bottom}],side:v}),window.clearTimeout(s.current),s.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(d),d.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:me(e.onKeyDown,d=>{var p;const h=a.searchRef.current!=="";e.disabled||h&&d.key===" "||oJ[r.dir].includes(d.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),d.preventDefault())})})})});ML.displayName=Pd;var $L="MenuSubContent",DL=g.forwardRef((e,t)=>{const n=bL(Zr,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,a=hl(Zr,e.__scopeMenu),o=$h(Zr,e.__scopeMenu),s=RL($L,e.__scopeMenu),c=g.useRef(null),u=ze(t,c);return l.jsx(Pf.Provider,{scope:e.__scopeMenu,children:l.jsx(jn,{present:r||a.open,children:l.jsx(Pf.Slot,{scope:e.__scopeMenu,children:l.jsx(kj,{id:s.contentId,"aria-labelledby":s.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var d;o.isUsingKeyboardRef.current&&((d=c.current)==null||d.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:me(e.onFocusOutside,f=>{f.target!==s.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:me(e.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:me(e.onKeyDown,f=>{var p;const d=f.currentTarget.contains(f.target),h=sJ[o.dir].includes(f.key);d&&h&&(a.onOpenChange(!1),(p=s.trigger)==null||p.focus(),f.preventDefault())})})})})})});DL.displayName=$L;function LL(e){return e?"open":"closed"}function rg(e){return e==="indeterminate"}function Aj(e){return rg(e)?"indeterminate":e?"checked":"unchecked"}function EJ(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function AJ(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function NJ(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=AJ(e,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function PJ(e,t){const{x:n,y:r}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const s=t[a],c=t[o],u=s.x,f=s.y,d=c.x,h=c.y;f>r!=h>r&&n<(d-u)*(r-f)/(h-f)+u&&(i=!i)}return i}function TJ(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return PJ(n,t)}function Tf(e){return t=>t.pointerType==="mouse"?e(t):void 0}var OJ=xL,IJ=_j,RJ=wL,MJ=_L,$J=Cj,DJ=SL,LJ=hy,FJ=kL,BJ=EL,UJ=NL,zJ=TL,WJ=OL,HJ=IL,qJ=ML,VJ=DL,py="DropdownMenu",[KJ,$$e]=Dn(py,[vL]),or=vL(),[GJ,FL]=KJ(py),BL=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:a,onOpenChange:o,modal:s=!0}=e,c=or(t),u=g.useRef(null),[f,d]=ri({prop:i,defaultProp:a??!1,onChange:o,caller:py});return l.jsx(GJ,{scope:t,triggerId:Sn(),triggerRef:u,contentId:Sn(),open:f,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(h=>!h),[d]),modal:s,children:l.jsx(OJ,{...c,open:f,onOpenChange:d,dir:r,modal:s,children:n})})};BL.displayName=py;var UL="DropdownMenuTrigger",zL=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,a=FL(UL,n),o=or(n);return l.jsx(IJ,{asChild:!0,...o,children:l.jsx(Se.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:La(t,a.triggerRef),onPointerDown:me(e.onPointerDown,s=>{!r&&s.button===0&&s.ctrlKey===!1&&(a.onOpenToggle(),a.open||s.preventDefault())}),onKeyDown:me(e.onKeyDown,s=>{r||(["Enter"," "].includes(s.key)&&a.onOpenToggle(),s.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(s.key)&&s.preventDefault())})})})});zL.displayName=UL;var YJ="DropdownMenuPortal",WL=e=>{const{__scopeDropdownMenu:t,...n}=e,r=or(t);return l.jsx(RJ,{...r,...n})};WL.displayName=YJ;var HL="DropdownMenuContent",qL=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=FL(HL,n),a=or(n),o=g.useRef(!1);return l.jsx(MJ,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:t,onCloseAutoFocus:me(e.onCloseAutoFocus,s=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,s.preventDefault()}),onInteractOutside:me(e.onInteractOutside,s=>{const c=s.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,f=c.button===2||u;(!i.modal||f)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qL.displayName=HL;var XJ="DropdownMenuGroup",QJ=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=or(n);return l.jsx($J,{...i,...r,ref:t})});QJ.displayName=XJ;var JJ="DropdownMenuLabel",VL=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=or(n);return l.jsx(DJ,{...i,...r,ref:t})});VL.displayName=JJ;var ZJ="DropdownMenuItem",KL=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=or(n);return l.jsx(LJ,{...i,...r,ref:t})});KL.displayName=ZJ;var eZ="DropdownMenuCheckboxItem",GL=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=or(n);return l.jsx(FJ,{...i,...r,ref:t})});GL.displayName=eZ;var tZ="DropdownMenuRadioGroup",nZ=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=or(n);return l.jsx(BJ,{...i,...r,ref:t})});nZ.displayName=tZ;var rZ="DropdownMenuRadioItem",YL=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=or(n);return l.jsx(UJ,{...i,...r,ref:t})});YL.displayName=rZ;var iZ="DropdownMenuItemIndicator",XL=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=or(n);return l.jsx(zJ,{...i,...r,ref:t})});XL.displayName=iZ;var aZ="DropdownMenuSeparator",QL=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=or(n);return l.jsx(WJ,{...i,...r,ref:t})});QL.displayName=aZ;var oZ="DropdownMenuArrow",sZ=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=or(n);return l.jsx(HJ,{...i,...r,ref:t})});sZ.displayName=oZ;var lZ="DropdownMenuSubTrigger",JL=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=or(n);return l.jsx(qJ,{...i,...r,ref:t})});JL.displayName=lZ;var cZ="DropdownMenuSubContent",ZL=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=or(n);return l.jsx(VJ,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ZL.displayName=cZ;var uZ=BL,dZ=zL,fZ=WL,e4=qL,t4=VL,n4=KL,r4=GL,i4=YL,a4=XL,o4=QL,s4=JL,l4=ZL;const e1=uZ,t1=dZ,hZ=g.forwardRef(({className:e,inset:t,children:n,...r},i)=>l.jsxs(s4,{ref:i,className:pe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,l.jsx(QS,{className:"ml-auto h-4 w-4"})]}));hZ.displayName=s4.displayName;const pZ=g.forwardRef(({className:e,...t},n)=>l.jsx(l4,{ref:n,className:pe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));pZ.displayName=l4.displayName;const ig=g.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(fZ,{children:l.jsx(e4,{ref:r,sideOffset:t,className:pe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));ig.displayName=e4.displayName;const ec=g.forwardRef(({className:e,inset:t,...n},r)=>l.jsx(n4,{ref:r,className:pe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));ec.displayName=n4.displayName;const mZ=g.forwardRef(({className:e,children:t,checked:n,...r},i)=>l.jsxs(r4,{ref:i,className:pe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(a4,{children:l.jsx(XS,{className:"h-4 w-4"})})}),t]}));mZ.displayName=r4.displayName;const gZ=g.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(i4,{ref:r,className:pe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(a4,{children:l.jsx(EH,{className:"h-2 w-2 fill-current"})})}),t]}));gZ.displayName=i4.displayName;const c4=g.forwardRef(({className:e,inset:t,...n},r)=>l.jsx(t4,{ref:r,className:pe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));c4.displayName=t4.displayName;const n1=g.forwardRef(({className:e,...t},n)=>l.jsx(o4,{ref:n,className:pe("-mx-1 my-1 h-px bg-muted",e),...t}));n1.displayName=o4.displayName;var u4={exports:{}},d4={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hc=g;function vZ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yZ=typeof Object.is=="function"?Object.is:vZ,xZ=Hc.useState,bZ=Hc.useEffect,wZ=Hc.useLayoutEffect,_Z=Hc.useDebugValue;function SZ(e,t){var n=t(),r=xZ({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return wZ(function(){i.value=n,i.getSnapshot=t,j0(i)&&a({inst:i})},[e,n,t]),bZ(function(){return j0(i)&&a({inst:i}),e(function(){j0(i)&&a({inst:i})})},[e]),_Z(n),n}function j0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yZ(e,n)}catch{return!0}}function jZ(e,t){return t()}var kZ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?jZ:SZ;d4.useSyncExternalStore=Hc.useSyncExternalStore!==void 0?Hc.useSyncExternalStore:kZ;u4.exports=d4;var CZ=u4.exports;function EZ(){return CZ.useSyncExternalStore(AZ,()=>!0,()=>!1)}function AZ(){return()=>{}}var Nj="Avatar",[NZ,D$e]=Dn(Nj),[PZ,f4]=NZ(Nj),h4=g.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,a]=g.useState("idle");return l.jsx(PZ,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:l.jsx(Se.span,{...r,ref:t})})});h4.displayName=Nj;var p4="AvatarImage",m4=g.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=e,o=f4(p4,n),s=TZ(r,a),c=rn(u=>{i(u),o.onImageLoadingStatusChange(u)});return an(()=>{s!=="idle"&&c(s)},[s,c]),s==="loaded"?l.jsx(Se.img,{...a,ref:t,src:r}):null});m4.displayName=p4;var g4="AvatarFallback",v4=g.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,a=f4(g4,n),[o,s]=g.useState(r===void 0);return g.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>s(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&a.imageLoadingStatus!=="loaded"?l.jsx(Se.span,{...i,ref:t}):null});v4.displayName=g4;function rN(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function TZ(e,{referrerPolicy:t,crossOrigin:n}){const r=EZ(),i=g.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[o,s]=g.useState(()=>rN(a,e));return an(()=>{s(rN(a,e))},[a,e]),an(()=>{const c=d=>()=>{s(d)};if(!a)return;const u=c("loaded"),f=c("error");return a.addEventListener("load",u),a.addEventListener("error",f),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",u),a.removeEventListener("error",f)}},[a,n,t]),o}var y4=h4,x4=m4,b4=v4;const Jo=g.forwardRef(({className:e,...t},n)=>l.jsx(y4,{ref:n,className:pe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Jo.displayName=y4.displayName;const Tu=g.forwardRef(({className:e,...t},n)=>l.jsx(x4,{ref:n,className:pe("aspect-square h-full w-full",e),...t}));Tu.displayName=x4.displayName;const Zo=g.forwardRef(({className:e,...t},n)=>l.jsx(b4,{ref:n,className:pe("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Zo.displayName=b4.displayName;function r1(e,[t,n]){return Math.min(n,Math.max(t,e))}function OZ(e,t){return g.useReducer((n,r)=>t[n][r]??n,e)}var Pj="ScrollArea",[w4,L$e]=Dn(Pj),[IZ,ai]=w4(Pj),_4=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:a=600,...o}=e,[s,c]=g.useState(null),[u,f]=g.useState(null),[d,h]=g.useState(null),[p,m]=g.useState(null),[v,y]=g.useState(null),[x,w]=g.useState(0),[b,S]=g.useState(0),[j,_]=g.useState(!1),[k,E]=g.useState(!1),I=ze(t,N=>c(N)),P=Th(i);return l.jsx(IZ,{scope:n,type:r,dir:P,scrollHideDelay:a,scrollArea:s,viewport:u,onViewportChange:f,content:d,onContentChange:h,scrollbarX:p,onScrollbarXChange:m,scrollbarXEnabled:j,onScrollbarXEnabledChange:_,scrollbarY:v,onScrollbarYChange:y,scrollbarYEnabled:k,onScrollbarYEnabledChange:E,onCornerWidthChange:w,onCornerHeightChange:S,children:l.jsx(Se.div,{dir:P,...o,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});_4.displayName=Pj;var S4="ScrollAreaViewport",j4=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:i,...a}=e,o=ai(S4,n),s=g.useRef(null),c=ze(t,s,o.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),l.jsx(Se.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:l.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});j4.displayName=S4;var ua="ScrollAreaScrollbar",Tj=g.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ai(ua,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,s=e.orientation==="horizontal";return g.useEffect(()=>(s?a(!0):o(!0),()=>{s?a(!1):o(!1)}),[s,a,o]),i.type==="hover"?l.jsx(RZ,{...r,ref:t,forceMount:n}):i.type==="scroll"?l.jsx(MZ,{...r,ref:t,forceMount:n}):i.type==="auto"?l.jsx(k4,{...r,ref:t,forceMount:n}):i.type==="always"?l.jsx(Oj,{...r,ref:t}):null});Tj.displayName=ua;var RZ=g.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ai(ua,e.__scopeScrollArea),[a,o]=g.useState(!1);return g.useEffect(()=>{const s=i.scrollArea;let c=0;if(s){const u=()=>{window.clearTimeout(c),o(!0)},f=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return s.addEventListener("pointerenter",u),s.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),s.removeEventListener("pointerenter",u),s.removeEventListener("pointerleave",f)}}},[i.scrollArea,i.scrollHideDelay]),l.jsx(jn,{present:n||a,children:l.jsx(k4,{"data-state":a?"visible":"hidden",...r,ref:t})})}),MZ=g.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ai(ua,e.__scopeScrollArea),a=e.orientation==="horizontal",o=gy(()=>c("SCROLL_END"),100),[s,c]=OZ("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(s==="idle"){const u=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[s,i.scrollHideDelay,c]),g.useEffect(()=>{const u=i.viewport,f=a?"scrollLeft":"scrollTop";if(u){let d=u[f];const h=()=>{const p=u[f];d!==p&&(c("SCROLL"),o()),d=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[i.viewport,a,c,o]),l.jsx(jn,{present:n||s!=="hidden",children:l.jsx(Oj,{"data-state":s==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:me(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:me(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),k4=g.forwardRef((e,t)=>{const n=ai(ua,e.__scopeScrollArea),{forceMount:r,...i}=e,[a,o]=g.useState(!1),s=e.orientation==="horizontal",c=gy(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;o(s?u:f)}},10);return qc(n.viewport,c),qc(n.content,c),l.jsx(jn,{present:r||a,children:l.jsx(Oj,{"data-state":a?"visible":"hidden",...i,ref:t})})}),Oj=g.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=ai(ua,e.__scopeScrollArea),a=g.useRef(null),o=g.useRef(0),[s,c]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=P4(s.viewport,s.content),f={...r,sizes:s,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function d(h,p){return UZ(h,o.current,s,p)}return n==="horizontal"?l.jsx($Z,{...f,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const h=i.viewport.scrollLeft,p=iN(h,s,i.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=d(h,i.dir))}}):n==="vertical"?l.jsx(DZ,{...f,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const h=i.viewport.scrollTop,p=iN(h,s);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=d(h))}}):null}),$Z=g.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,a=ai(ua,e.__scopeScrollArea),[o,s]=g.useState(),c=g.useRef(null),u=ze(t,c,a.onScrollbarXChange);return g.useEffect(()=>{c.current&&s(getComputedStyle(c.current))},[c]),l.jsx(E4,{"data-orientation":"horizontal",...i,ref:u,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":my(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,d)=>{if(a.viewport){const h=a.viewport.scrollLeft+f.deltaX;e.onWheelScroll(h),O4(h,d)&&f.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:og(o.paddingLeft),paddingEnd:og(o.paddingRight)}})}})}),DZ=g.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,a=ai(ua,e.__scopeScrollArea),[o,s]=g.useState(),c=g.useRef(null),u=ze(t,c,a.onScrollbarYChange);return g.useEffect(()=>{c.current&&s(getComputedStyle(c.current))},[c]),l.jsx(E4,{"data-orientation":"vertical",...i,ref:u,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":my(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,d)=>{if(a.viewport){const h=a.viewport.scrollTop+f.deltaY;e.onWheelScroll(h),O4(h,d)&&f.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:og(o.paddingTop),paddingEnd:og(o.paddingBottom)}})}})}),[LZ,C4]=w4(ua),E4=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:s,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:f,onResize:d,...h}=e,p=ai(ua,n),[m,v]=g.useState(null),y=ze(t,I=>v(I)),x=g.useRef(null),w=g.useRef(""),b=p.viewport,S=r.content-r.viewport,j=rn(f),_=rn(c),k=gy(d,10);function E(I){if(x.current){const P=I.clientX-x.current.left,N=I.clientY-x.current.top;u({x:P,y:N})}}return g.useEffect(()=>{const I=P=>{const N=P.target;(m==null?void 0:m.contains(N))&&j(P,S)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[b,m,S,j]),g.useEffect(_,[r,_]),qc(m,k),qc(p.content,k),l.jsx(LZ,{scope:n,scrollbar:m,hasThumb:i,onThumbChange:rn(a),onThumbPointerUp:rn(o),onThumbPositionChange:_,onThumbPointerDown:rn(s),children:l.jsx(Se.div,{...h,ref:y,style:{position:"absolute",...h.style},onPointerDown:me(e.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),x.current=m.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),E(I))}),onPointerMove:me(e.onPointerMove,E),onPointerUp:me(e.onPointerUp,I=>{const P=I.target;P.hasPointerCapture(I.pointerId)&&P.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=w.current,p.viewport&&(p.viewport.style.scrollBehavior=""),x.current=null})})})}),ag="ScrollAreaThumb",A4=g.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=C4(ag,e.__scopeScrollArea);return l.jsx(jn,{present:n||i.hasThumb,children:l.jsx(FZ,{ref:t,...r})})}),FZ=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,a=ai(ag,n),o=C4(ag,n),{onThumbPositionChange:s}=o,c=ze(t,d=>o.onThumbChange(d)),u=g.useRef(void 0),f=gy(()=>{u.current&&(u.current(),u.current=void 0)},100);return g.useEffect(()=>{const d=a.viewport;if(d){const h=()=>{if(f(),!u.current){const p=zZ(d,s);u.current=p,s()}};return s(),d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[a.viewport,f,s]),l.jsx(Se.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:me(e.onPointerDownCapture,d=>{const p=d.target.getBoundingClientRect(),m=d.clientX-p.left,v=d.clientY-p.top;o.onThumbPointerDown({x:m,y:v})}),onPointerUp:me(e.onPointerUp,o.onThumbPointerUp)})});A4.displayName=ag;var Ij="ScrollAreaCorner",N4=g.forwardRef((e,t)=>{const n=ai(Ij,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?l.jsx(BZ,{...e,ref:t}):null});N4.displayName=Ij;var BZ=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=ai(Ij,n),[a,o]=g.useState(0),[s,c]=g.useState(0),u=!!(a&&s);return qc(i.scrollbarX,()=>{var d;const f=((d=i.scrollbarX)==null?void 0:d.offsetHeight)||0;i.onCornerHeightChange(f),c(f)}),qc(i.scrollbarY,()=>{var d;const f=((d=i.scrollbarY)==null?void 0:d.offsetWidth)||0;i.onCornerWidthChange(f),o(f)}),u?l.jsx(Se.div,{...r,ref:t,style:{width:a,height:s,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function og(e){return e?parseInt(e,10):0}function P4(e,t){const n=e/t;return isNaN(n)?0:n}function my(e){const t=P4(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function UZ(e,t,n,r="ltr"){const i=my(n),a=i/2,o=t||a,s=i-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-s,f=n.content-n.viewport,d=r==="ltr"?[0,f]:[f*-1,0];return T4([c,u],d)(e)}function iN(e,t,n="ltr"){const r=my(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,o=t.content-t.viewport,s=a-r,c=n==="ltr"?[0,o]:[o*-1,0],u=r1(e,c);return T4([0,o],[0,s])(u)}function T4(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function O4(e,t){return e>0&&e<t}var zZ=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const a={left:e.scrollLeft,top:e.scrollTop},o=n.left!==a.left,s=n.top!==a.top;(o||s)&&t(),n=a,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function gy(e,t){const n=rn(e),r=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),g.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function qc(e,t){const n=rn(t);an(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}var I4=_4,WZ=j4,HZ=N4;const tc=g.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(I4,{ref:r,className:pe("relative overflow-hidden",e),...n,children:[l.jsx(WZ,{className:"h-full w-full rounded-[inherit]",children:t}),l.jsx(R4,{}),l.jsx(HZ,{})]}));tc.displayName=I4.displayName;const R4=g.forwardRef(({className:e,orientation:t="vertical",...n},r)=>l.jsx(Tj,{ref:r,orientation:t,className:pe("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:l.jsx(A4,{className:"relative flex-1 rounded-full bg-border"})}));R4.displayName=Tj.displayName;function ht(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Fr(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Jn(e,t){const n=ht(e);return isNaN(t)?Fr(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Oi(e,t){const n=ht(e);if(isNaN(t))return Fr(e,NaN);if(!t)return n;const r=n.getDate(),i=Fr(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const a=i.getDate();return r>=a?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const Rj=6048e5,qZ=864e5;let VZ={};function Dh(){return VZ}function oa(e,t){var s,c,u,f;const n=Dh(),r=(t==null?void 0:t.weekStartsOn)??((c=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,i=ht(e),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Gs(e){return oa(e,{weekStartsOn:1})}function M4(e){const t=ht(e),n=t.getFullYear(),r=Fr(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Gs(r),a=Fr(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=Gs(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function Vc(e){const t=ht(e);return t.setHours(0,0,0,0),t}function sg(e){const t=ht(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Yi(e,t){const n=Vc(e),r=Vc(t),i=+n-sg(n),a=+r-sg(r);return Math.round((i-a)/qZ)}function KZ(e){const t=M4(e),n=Fr(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Gs(n)}function i1(e,t){const n=t*7;return Jn(e,n)}function GZ(e,t){return Oi(e,t*12)}function YZ(e){let t;return e.forEach(function(n){const r=ht(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function XZ(e){let t;return e.forEach(n=>{const r=ht(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function pr(e,t){const n=Vc(e),r=Vc(t);return+n==+r}function Mj(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function QZ(e){if(!Mj(e)&&typeof e!="number")return!1;const t=ht(e);return!isNaN(Number(t))}function Of(e,t){const n=ht(e),r=ht(t),i=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return i*12+a}function JZ(e,t,n){const r=oa(e,n),i=oa(t,n),a=+r-sg(r),o=+i-sg(i);return Math.round((a-o)/Rj)}function $j(e){const t=ht(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function _r(e){const t=ht(e);return t.setDate(1),t.setHours(0,0,0,0),t}function $4(e){const t=ht(e),n=Fr(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Dj(e,t){var s,c,u,f;const n=Dh(),r=(t==null?void 0:t.weekStartsOn)??((c=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,i=ht(e),a=i.getDay(),o=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function D4(e){return Dj(e,{weekStartsOn:1})}const ZZ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},eee=(e,t,n)=>{let r;const i=ZZ[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function k0(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const tee={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nee={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ree={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},iee={date:k0({formats:tee,defaultWidth:"full"}),time:k0({formats:nee,defaultWidth:"full"}),dateTime:k0({formats:ree,defaultWidth:"full"})},aee={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},oee=(e,t,n,r)=>aee[e];function sd(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,s=n!=null&&n.width?String(n.width):o;i=e.formattingValues[s]||e.formattingValues[o]}else{const o=e.defaultWidth,s=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[s]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const see={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},lee={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},cee={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},uee={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},fee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},hee=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},pee={ordinalNumber:hee,era:sd({values:see,defaultWidth:"wide"}),quarter:sd({values:lee,defaultWidth:"wide",argumentCallback:e=>e-1}),month:sd({values:cee,defaultWidth:"wide"}),day:sd({values:uee,defaultWidth:"wide"}),dayPeriod:sd({values:dee,defaultWidth:"wide",formattingValues:fee,defaultFormattingWidth:"wide"})};function ld(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(s)?gee(s,d=>d.test(o)):mee(s,d=>d.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const f=t.slice(o.length);return{value:u,rest:f}}}function mee(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function gee(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function vee(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const s=t.slice(i.length);return{value:o,rest:s}}}const yee=/^(\d+)(th|st|nd|rd)?/i,xee=/\d+/i,bee={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},wee={any:[/^b/i,/^(a|c)/i]},_ee={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},See={any:[/1/i,/2/i,/3/i,/4/i]},jee={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},kee={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Cee={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Eee={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Aee={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Nee={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Pee={ordinalNumber:vee({matchPattern:yee,parsePattern:xee,valueCallback:e=>parseInt(e,10)}),era:ld({matchPatterns:bee,defaultMatchWidth:"wide",parsePatterns:wee,defaultParseWidth:"any"}),quarter:ld({matchPatterns:_ee,defaultMatchWidth:"wide",parsePatterns:See,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ld({matchPatterns:jee,defaultMatchWidth:"wide",parsePatterns:kee,defaultParseWidth:"any"}),day:ld({matchPatterns:Cee,defaultMatchWidth:"wide",parsePatterns:Eee,defaultParseWidth:"any"}),dayPeriod:ld({matchPatterns:Aee,defaultMatchWidth:"any",parsePatterns:Nee,defaultParseWidth:"any"})},L4={code:"en-US",formatDistance:eee,formatLong:iee,formatRelative:oee,localize:pee,match:Pee,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Tee(e){const t=ht(e);return Yi(t,$4(t))+1}function F4(e){const t=ht(e),n=+Gs(t)-+KZ(t);return Math.round(n/Rj)+1}function B4(e,t){var f,d,h,p;const n=ht(e),r=n.getFullYear(),i=Dh(),a=(t==null?void 0:t.firstWeekContainsDate)??((d=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=Fr(e,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const s=oa(o,t),c=Fr(e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const u=oa(c,t);return n.getTime()>=s.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function Oee(e,t){var s,c,u,f;const n=Dh(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,i=B4(e,t),a=Fr(e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),oa(a,t)}function U4(e,t){const n=ht(e),r=+oa(n,t)-+Oee(n,t);return Math.round(r/Rj)+1}function _t(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const io={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return _t(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):_t(n+1,2)},d(e,t){return _t(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return _t(e.getHours()%12||12,t.length)},H(e,t){return _t(e.getHours(),t.length)},m(e,t){return _t(e.getMinutes(),t.length)},s(e,t){return _t(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return _t(i,t.length)}},Nl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},aN={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return io.y(e,t)},Y:function(e,t,n,r){const i=B4(e,r),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return _t(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):_t(a,t.length)},R:function(e,t){const n=M4(e);return _t(n,t.length)},u:function(e,t){const n=e.getFullYear();return _t(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return _t(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return _t(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return io.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return _t(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=U4(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):_t(i,t.length)},I:function(e,t,n){const r=F4(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):_t(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):io.d(e,t)},D:function(e,t,n){const r=Tee(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):_t(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return _t(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return _t(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return _t(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=Nl.noon:r===0?i=Nl.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=Nl.evening:r>=12?i=Nl.afternoon:r>=4?i=Nl.morning:i=Nl.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return io.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):io.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):_t(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):_t(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):io.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):io.s(e,t)},S:function(e,t){return io.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return sN(r);case"XXXX":case"XX":return ms(r);case"XXXXX":case"XXX":default:return ms(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return sN(r);case"xxxx":case"xx":return ms(r);case"xxxxx":case"xxx":default:return ms(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+oN(r,":");case"OOOO":default:return"GMT"+ms(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+oN(r,":");case"zzzz":default:return"GMT"+ms(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return _t(r,t.length)},T:function(e,t,n){const r=e.getTime();return _t(r,t.length)}};function oN(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+t+_t(a,2)}function sN(e,t){return e%60===0?(e>0?"-":"+")+_t(Math.abs(e)/60,2):ms(e,t)}function ms(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=_t(Math.trunc(r/60),2),a=_t(r%60,2);return n+i+t+a}const lN=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},z4=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Iee=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return lN(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",lN(r,t)).replace("{{time}}",z4(i,t))},Ree={p:z4,P:Iee},Mee=/^D+$/,$ee=/^Y+$/,Dee=["D","DD","YY","YYYY"];function Lee(e){return Mee.test(e)}function Fee(e){return $ee.test(e)}function Bee(e,t,n){const r=Uee(e,t,n);if(console.warn(r),Dee.includes(e))throw new RangeError(r)}function Uee(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const zee=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Wee=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Hee=/^'([^]*?)'?$/,qee=/''/g,Vee=/[a-zA-Z]/;function za(e,t,n){var f,d,h,p,m,v,y,x;const r=Dh(),i=(n==null?void 0:n.locale)??r.locale??L4,a=(n==null?void 0:n.firstWeekContainsDate)??((d=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((v=(m=n==null?void 0:n.locale)==null?void 0:m.options)==null?void 0:v.weekStartsOn)??r.weekStartsOn??((x=(y=r.locale)==null?void 0:y.options)==null?void 0:x.weekStartsOn)??0,s=ht(e);if(!QZ(s))throw new RangeError("Invalid time value");let c=t.match(Wee).map(w=>{const b=w[0];if(b==="p"||b==="P"){const S=Ree[b];return S(w,i.formatLong)}return w}).join("").match(zee).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const b=w[0];if(b==="'")return{isToken:!1,value:Kee(w)};if(aN[b])return{isToken:!0,value:w};if(b.match(Vee))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:w}});i.localize.preprocessor&&(c=i.localize.preprocessor(s,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(w=>{if(!w.isToken)return w.value;const b=w.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Fee(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Lee(b))&&Bee(b,t,String(e));const S=aN[b[0]];return S(s,b,i.localize,u)}).join("")}function Kee(e){const t=e.match(Hee);return t?t[1].replace(qee,"'"):e}function Gee(e){const t=ht(e),n=t.getFullYear(),r=t.getMonth(),i=Fr(e,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function Yee(e){return Math.trunc(+ht(e)/1e3)}function Xee(e){const t=ht(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function Qee(e,t){return JZ(Xee(e),_r(e),t)+1}function a1(e,t){const n=ht(e),r=ht(t);return n.getTime()>r.getTime()}function W4(e,t){const n=ht(e),r=ht(t);return+n<+r}function Lj(e,t){const n=ht(e),r=ht(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Jee(e,t){const n=ht(e),r=ht(t);return n.getFullYear()===r.getFullYear()}function C0(e,t){return Jn(e,-t)}function E0(e,t){const n=ht(e),r=n.getFullYear(),i=n.getDate(),a=Fr(e,0);a.setFullYear(r,t,15),a.setHours(0,0,0,0);const o=Gee(a);return n.setMonth(t,Math.min(i,o)),n}function cN(e,t){const n=ht(e);return isNaN(+n)?Fr(e,NaN):(n.setFullYear(t),n)}var Be=function(){return Be=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Be.apply(this,arguments)};function Zee(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function H4(e,t,n){for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function Lh(e){return e.mode==="multiple"}function Fh(e){return e.mode==="range"}function vy(e){return e.mode==="single"}var ete={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function tte(e,t){return za(e,"LLLL y",t)}function nte(e,t){return za(e,"d",t)}function rte(e,t){return za(e,"LLLL",t)}function ite(e){return"".concat(e)}function ate(e,t){return za(e,"cccccc",t)}function ote(e,t){return za(e,"yyyy",t)}var ste=Object.freeze({__proto__:null,formatCaption:tte,formatDay:nte,formatMonthCaption:rte,formatWeekNumber:ite,formatWeekdayName:ate,formatYearCaption:ote}),lte=function(e,t,n){return za(e,"do MMMM (EEEE)",n)},cte=function(){return"Month: "},ute=function(){return"Go to next month"},dte=function(){return"Go to previous month"},fte=function(e,t){return za(e,"cccc",t)},hte=function(e){return"Week n. ".concat(e)},pte=function(){return"Year: "},mte=Object.freeze({__proto__:null,labelDay:lte,labelMonthDropdown:cte,labelNext:ute,labelPrevious:dte,labelWeekNumber:hte,labelWeekday:fte,labelYearDropdown:pte});function gte(){var e="buttons",t=ete,n=L4,r={},i={},a=1,o={},s=new Date;return{captionLayout:e,classNames:t,formatters:ste,labels:mte,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:a,styles:o,today:s,mode:"default"}}function vte(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,i=e.toMonth,a=e.fromDate,o=e.toDate;return r?a=_r(r):t&&(a=new Date(t,0,1)),i?o=$j(i):n&&(o=new Date(n,11,31)),{fromDate:a?Vc(a):void 0,toDate:o?Vc(o):void 0}}var q4=g.createContext(void 0);function yte(e){var t,n=e.initialProps,r=gte(),i=vte(n),a=i.fromDate,o=i.toDate,s=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;s!=="buttons"&&(!a||!o)&&(s="buttons");var c;(vy(n)||Lh(n)||Fh(n))&&(c=n.onSelect);var u=Be(Be(Be({},r),n),{captionLayout:s,classNames:Be(Be({},r.classNames),n.classNames),components:Be({},n.components),formatters:Be(Be({},r.formatters),n.formatters),fromDate:a,labels:Be(Be({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Be(Be({},r.modifiers),n.modifiers),modifiersClassNames:Be(Be({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Be(Be({},r.styles),n.styles),toDate:o});return l.jsx(q4.Provider,{value:u,children:e.children})}function zt(){var e=g.useContext(q4);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function V4(e){var t=zt(),n=t.locale,r=t.classNames,i=t.styles,a=t.formatters.formatCaption;return l.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:a(e.displayMonth,{locale:n})})}function xte(e){return l.jsx("svg",Be({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:l.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function K4(e){var t,n,r=e.onChange,i=e.value,a=e.children,o=e.caption,s=e.className,c=e.style,u=zt(),f=(n=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:xte;return l.jsxs("div",{className:s,style:c,children:[l.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),l.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:i,onChange:r,children:a}),l.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,l.jsx(f,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function bte(e){var t,n=zt(),r=n.fromDate,i=n.toDate,a=n.styles,o=n.locale,s=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,f=n.labels.labelMonthDropdown;if(!r)return l.jsx(l.Fragment,{});if(!i)return l.jsx(l.Fragment,{});var d=[];if(Jee(r,i))for(var h=_r(r),p=r.getMonth();p<=i.getMonth();p++)d.push(E0(h,p));else for(var h=_r(new Date),p=0;p<=11;p++)d.push(E0(h,p));var m=function(y){var x=Number(y.target.value),w=E0(_r(e.displayMonth),x);e.onChange(w)},v=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:K4;return l.jsx(v,{name:"months","aria-label":f(),className:c.dropdown_month,style:a.dropdown_month,onChange:m,value:e.displayMonth.getMonth(),caption:s(e.displayMonth,{locale:o}),children:d.map(function(y){return l.jsx("option",{value:y.getMonth(),children:s(y,{locale:o})},y.getMonth())})})}function wte(e){var t,n=e.displayMonth,r=zt(),i=r.fromDate,a=r.toDate,o=r.locale,s=r.styles,c=r.classNames,u=r.components,f=r.formatters.formatYearCaption,d=r.labels.labelYearDropdown,h=[];if(!i)return l.jsx(l.Fragment,{});if(!a)return l.jsx(l.Fragment,{});for(var p=i.getFullYear(),m=a.getFullYear(),v=p;v<=m;v++)h.push(cN($4(new Date),v));var y=function(w){var b=cN(_r(n),Number(w.target.value));e.onChange(b)},x=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:K4;return l.jsx(x,{name:"years","aria-label":d(),className:c.dropdown_year,style:s.dropdown_year,onChange:y,value:n.getFullYear(),caption:f(n,{locale:o}),children:h.map(function(w){return l.jsx("option",{value:w.getFullYear(),children:f(w,{locale:o})},w.getFullYear())})})}function _te(e,t){var n=g.useState(e),r=n[0],i=n[1],a=t===void 0?r:t;return[a,i]}function Ste(e){var t=e.month,n=e.defaultMonth,r=e.today,i=t||n||r||new Date,a=e.toDate,o=e.fromDate,s=e.numberOfMonths,c=s===void 0?1:s;if(a&&Of(a,i)<0){var u=-1*(c-1);i=Oi(a,u)}return o&&Of(i,o)<0&&(i=o),_r(i)}function jte(){var e=zt(),t=Ste(e),n=_te(t,e.month),r=n[0],i=n[1],a=function(o){var s;if(!e.disableNavigation){var c=_r(o);i(c),(s=e.onMonthChange)===null||s===void 0||s.call(e,c)}};return[r,a]}function kte(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,i=_r(e),a=_r(Oi(i,r)),o=Of(a,i),s=[],c=0;c<o;c++){var u=Oi(i,c);s.push(u)}return n&&(s=s.reverse()),s}function Cte(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,i=t.numberOfMonths,a=i===void 0?1:i,o=r?a:1,s=_r(e);if(!n)return Oi(s,o);var c=Of(n,e);if(!(c<a))return Oi(s,o)}}function Ete(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,i=t.numberOfMonths,a=i===void 0?1:i,o=r?a:1,s=_r(e);if(!n)return Oi(s,-o);var c=Of(s,n);if(!(c<=0))return Oi(s,-o)}}var G4=g.createContext(void 0);function Ate(e){var t=zt(),n=jte(),r=n[0],i=n[1],a=kte(r,t),o=Cte(r,t),s=Ete(r,t),c=function(d){return a.some(function(h){return Lj(d,h)})},u=function(d,h){c(d)||(h&&W4(d,h)?i(Oi(d,1+t.numberOfMonths*-1)):i(d))},f={currentMonth:r,displayMonths:a,goToMonth:i,goToDate:u,previousMonth:s,nextMonth:o,isDateDisplayed:c};return l.jsx(G4.Provider,{value:f,children:e.children})}function Bh(){var e=g.useContext(G4);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function uN(e){var t,n=zt(),r=n.classNames,i=n.styles,a=n.components,o=Bh().goToMonth,s=function(f){o(Oi(f,e.displayIndex?-e.displayIndex:0))},c=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:V4,u=l.jsx(c,{id:e.id,displayMonth:e.displayMonth});return l.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[l.jsx("div",{className:r.vhidden,children:u}),l.jsx(bte,{onChange:s,displayMonth:e.displayMonth}),l.jsx(wte,{onChange:s,displayMonth:e.displayMonth})]})}function Nte(e){return l.jsx("svg",Be({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Pte(e){return l.jsx("svg",Be({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var lg=g.forwardRef(function(e,t){var n=zt(),r=n.classNames,i=n.styles,a=[r.button_reset,r.button];e.className&&a.push(e.className);var o=a.join(" "),s=Be(Be({},i.button_reset),i.button);return e.style&&Object.assign(s,e.style),l.jsx("button",Be({},e,{ref:t,type:"button",className:o,style:s}))});function Tte(e){var t,n,r=zt(),i=r.dir,a=r.locale,o=r.classNames,s=r.styles,c=r.labels,u=c.labelPrevious,f=c.labelNext,d=r.components;if(!e.nextMonth&&!e.previousMonth)return l.jsx(l.Fragment,{});var h=u(e.previousMonth,{locale:a}),p=[o.nav_button,o.nav_button_previous].join(" "),m=f(e.nextMonth,{locale:a}),v=[o.nav_button,o.nav_button_next].join(" "),y=(t=d==null?void 0:d.IconRight)!==null&&t!==void 0?t:Pte,x=(n=d==null?void 0:d.IconLeft)!==null&&n!==void 0?n:Nte;return l.jsxs("div",{className:o.nav,style:s.nav,children:[!e.hidePrevious&&l.jsx(lg,{name:"previous-month","aria-label":h,className:p,style:s.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:i==="rtl"?l.jsx(y,{className:o.nav_icon,style:s.nav_icon}):l.jsx(x,{className:o.nav_icon,style:s.nav_icon})}),!e.hideNext&&l.jsx(lg,{name:"next-month","aria-label":m,className:v,style:s.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:i==="rtl"?l.jsx(x,{className:o.nav_icon,style:s.nav_icon}):l.jsx(y,{className:o.nav_icon,style:s.nav_icon})})]})}function dN(e){var t=zt().numberOfMonths,n=Bh(),r=n.previousMonth,i=n.nextMonth,a=n.goToMonth,o=n.displayMonths,s=o.findIndex(function(m){return Lj(e.displayMonth,m)}),c=s===0,u=s===o.length-1,f=t>1&&(c||!u),d=t>1&&(u||!c),h=function(){r&&a(r)},p=function(){i&&a(i)};return l.jsx(Tte,{displayMonth:e.displayMonth,hideNext:f,hidePrevious:d,nextMonth:i,previousMonth:r,onPreviousClick:h,onNextClick:p})}function Ote(e){var t,n=zt(),r=n.classNames,i=n.disableNavigation,a=n.styles,o=n.captionLayout,s=n.components,c=(t=s==null?void 0:s.CaptionLabel)!==null&&t!==void 0?t:V4,u;return i?u=l.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=l.jsx(uN,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=l.jsxs(l.Fragment,{children:[l.jsx(uN,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),l.jsx(dN,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=l.jsxs(l.Fragment,{children:[l.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(dN,{displayMonth:e.displayMonth,id:e.id})]}),l.jsx("div",{className:r.caption,style:a.caption,children:u})}function Ite(e){var t=zt(),n=t.footer,r=t.styles,i=t.classNames.tfoot;return n?l.jsx("tfoot",{className:i,style:r.tfoot,children:l.jsx("tr",{children:l.jsx("td",{colSpan:8,children:n})})}):l.jsx(l.Fragment,{})}function Rte(e,t,n){for(var r=n?Gs(new Date):oa(new Date,{locale:e,weekStartsOn:t}),i=[],a=0;a<7;a++){var o=Jn(r,a);i.push(o)}return i}function Mte(){var e=zt(),t=e.classNames,n=e.styles,r=e.showWeekNumber,i=e.locale,a=e.weekStartsOn,o=e.ISOWeek,s=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=Rte(i,a,o);return l.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&l.jsx("td",{style:n.head_cell,className:t.head_cell}),u.map(function(f,d){return l.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(f,{locale:i}),children:s(f,{locale:i})},d)})]})}function $te(){var e,t=zt(),n=t.classNames,r=t.styles,i=t.components,a=(e=i==null?void 0:i.HeadRow)!==null&&e!==void 0?e:Mte;return l.jsx("thead",{style:r.head,className:n.head,children:l.jsx(a,{})})}function Dte(e){var t=zt(),n=t.locale,r=t.formatters.formatDay;return l.jsx(l.Fragment,{children:r(e.date,{locale:n})})}var Fj=g.createContext(void 0);function Lte(e){if(!Lh(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return l.jsx(Fj.Provider,{value:t,children:e.children})}return l.jsx(Fte,{initialProps:e.initialProps,children:e.children})}function Fte(e){var t=e.initialProps,n=e.children,r=t.selected,i=t.min,a=t.max,o=function(u,f,d){var h,p;(h=t.onDayClick)===null||h===void 0||h.call(t,u,f,d);var m=!!(f.selected&&i&&(r==null?void 0:r.length)===i);if(!m){var v=!!(!f.selected&&a&&(r==null?void 0:r.length)===a);if(!v){var y=r?H4([],r):[];if(f.selected){var x=y.findIndex(function(w){return pr(u,w)});y.splice(x,1)}else y.push(u);(p=t.onSelect)===null||p===void 0||p.call(t,y,u,f,d)}}},s={disabled:[]};r&&s.disabled.push(function(u){var f=a&&r.length>a-1,d=r.some(function(h){return pr(h,u)});return!!(f&&!d)});var c={selected:r,onDayClick:o,modifiers:s};return l.jsx(Fj.Provider,{value:c,children:n})}function Bj(){var e=g.useContext(Fj);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Bte(e,t){var n=t||{},r=n.from,i=n.to;return r&&i?pr(i,e)&&pr(r,e)?void 0:pr(i,e)?{from:i,to:void 0}:pr(r,e)?void 0:a1(r,e)?{from:e,to:i}:{from:r,to:e}:i?a1(e,i)?{from:i,to:e}:{from:e,to:i}:r?W4(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var Uj=g.createContext(void 0);function Ute(e){if(!Fh(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return l.jsx(Uj.Provider,{value:t,children:e.children})}return l.jsx(zte,{initialProps:e.initialProps,children:e.children})}function zte(e){var t=e.initialProps,n=e.children,r=t.selected,i=r||{},a=i.from,o=i.to,s=t.min,c=t.max,u=function(p,m,v){var y,x;(y=t.onDayClick)===null||y===void 0||y.call(t,p,m,v);var w=Bte(p,r);(x=t.onSelect)===null||x===void 0||x.call(t,w,p,m,v)},f={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(f.range_start=[a],o?(f.range_end=[o],pr(a,o)||(f.range_middle=[{after:a,before:o}])):f.range_end=[a]):o&&(f.range_start=[o],f.range_end=[o]),s&&(a&&!o&&f.disabled.push({after:C0(a,s-1),before:Jn(a,s-1)}),a&&o&&f.disabled.push({after:a,before:Jn(a,s-1)}),!a&&o&&f.disabled.push({after:C0(o,s-1),before:Jn(o,s-1)})),c){if(a&&!o&&(f.disabled.push({before:Jn(a,-c+1)}),f.disabled.push({after:Jn(a,c-1)})),a&&o){var d=Yi(o,a)+1,h=c-d;f.disabled.push({before:C0(a,h)}),f.disabled.push({after:Jn(o,h)})}!a&&o&&(f.disabled.push({before:Jn(o,-c+1)}),f.disabled.push({after:Jn(o,c-1)}))}return l.jsx(Uj.Provider,{value:{selected:r,onDayClick:u,modifiers:f},children:n})}function zj(){var e=g.useContext(Uj);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function gm(e){return Array.isArray(e)?H4([],e):e!==void 0?[e]:[]}function Wte(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],i=n[1];t[r]=gm(i)}),t}var Ii;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Ii||(Ii={}));var Hte=Ii.Selected,pa=Ii.Disabled,qte=Ii.Hidden,Vte=Ii.Today,A0=Ii.RangeEnd,N0=Ii.RangeMiddle,P0=Ii.RangeStart,Kte=Ii.Outside;function Gte(e,t,n){var r,i=(r={},r[Hte]=gm(e.selected),r[pa]=gm(e.disabled),r[qte]=gm(e.hidden),r[Vte]=[e.today],r[A0]=[],r[N0]=[],r[P0]=[],r[Kte]=[],r);return e.fromDate&&i[pa].push({before:e.fromDate}),e.toDate&&i[pa].push({after:e.toDate}),Lh(e)?i[pa]=i[pa].concat(t.modifiers[pa]):Fh(e)&&(i[pa]=i[pa].concat(n.modifiers[pa]),i[P0]=n.modifiers[P0],i[N0]=n.modifiers[N0],i[A0]=n.modifiers[A0]),i}var Y4=g.createContext(void 0);function Yte(e){var t=zt(),n=Bj(),r=zj(),i=Gte(t,n,r),a=Wte(t.modifiers),o=Be(Be({},i),a);return l.jsx(Y4.Provider,{value:o,children:e.children})}function X4(){var e=g.useContext(Y4);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Xte(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Qte(e){return!!(e&&typeof e=="object"&&"from"in e)}function Jte(e){return!!(e&&typeof e=="object"&&"after"in e)}function Zte(e){return!!(e&&typeof e=="object"&&"before"in e)}function ene(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function tne(e,t){var n,r=t.from,i=t.to;if(r&&i){var a=Yi(i,r)<0;a&&(n=[i,r],r=n[0],i=n[1]);var o=Yi(e,r)>=0&&Yi(i,e)>=0;return o}return i?pr(i,e):r?pr(r,e):!1}function nne(e){return Mj(e)}function rne(e){return Array.isArray(e)&&e.every(Mj)}function ine(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(nne(n))return pr(e,n);if(rne(n))return n.includes(e);if(Qte(n))return tne(e,n);if(ene(n))return n.dayOfWeek.includes(e.getDay());if(Xte(n)){var r=Yi(n.before,e),i=Yi(n.after,e),a=r>0,o=i<0,s=a1(n.before,n.after);return s?o&&a:a||o}return Jte(n)?Yi(e,n.after)>0:Zte(n)?Yi(n.before,e)>0:typeof n=="function"?n(e):!1})}function Wj(e,t,n){var r=Object.keys(t).reduce(function(a,o){var s=t[o];return ine(e,s)&&a.push(o),a},[]),i={};return r.forEach(function(a){return i[a]=!0}),n&&!Lj(e,n)&&(i.outside=!0),i}function ane(e,t){for(var n=_r(e[0]),r=$j(e[e.length-1]),i,a,o=n;o<=r;){var s=Wj(o,t),c=!s.disabled&&!s.hidden;if(!c){o=Jn(o,1);continue}if(s.selected)return o;s.today&&!a&&(a=o),i||(i=o),o=Jn(o,1)}return a||i}var one=365;function Q4(e,t){var n=t.moveBy,r=t.direction,i=t.context,a=t.modifiers,o=t.retry,s=o===void 0?{count:0,lastFocused:e}:o,c=i.weekStartsOn,u=i.fromDate,f=i.toDate,d=i.locale,h={day:Jn,week:i1,month:Oi,year:GZ,startOfWeek:function(y){return i.ISOWeek?Gs(y):oa(y,{locale:d,weekStartsOn:c})},endOfWeek:function(y){return i.ISOWeek?D4(y):Dj(y,{locale:d,weekStartsOn:c})}},p=h[n](e,r==="after"?1:-1);r==="before"&&u?p=YZ([u,p]):r==="after"&&f&&(p=XZ([f,p]));var m=!0;if(a){var v=Wj(p,a);m=!v.disabled&&!v.hidden}return m?p:s.count>one?s.lastFocused:Q4(p,{moveBy:n,direction:r,context:i,modifiers:a,retry:Be(Be({},s),{count:s.count+1})})}var J4=g.createContext(void 0);function sne(e){var t=Bh(),n=X4(),r=g.useState(),i=r[0],a=r[1],o=g.useState(),s=o[0],c=o[1],u=ane(t.displayMonths,n),f=i??(s&&t.isDateDisplayed(s))?s:u,d=function(){c(i),a(void 0)},h=function(y){a(y)},p=zt(),m=function(y,x){if(i){var w=Q4(i,{moveBy:y,direction:x,context:p,modifiers:n});pr(i,w)||(t.goToDate(w,i),h(w))}},v={focusedDay:i,focusTarget:f,blur:d,focus:h,focusDayAfter:function(){return m("day","after")},focusDayBefore:function(){return m("day","before")},focusWeekAfter:function(){return m("week","after")},focusWeekBefore:function(){return m("week","before")},focusMonthBefore:function(){return m("month","before")},focusMonthAfter:function(){return m("month","after")},focusYearBefore:function(){return m("year","before")},focusYearAfter:function(){return m("year","after")},focusStartOfWeek:function(){return m("startOfWeek","before")},focusEndOfWeek:function(){return m("endOfWeek","after")}};return l.jsx(J4.Provider,{value:v,children:e.children})}function Hj(){var e=g.useContext(J4);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function lne(e,t){var n=X4(),r=Wj(e,n,t);return r}var qj=g.createContext(void 0);function cne(e){if(!vy(e.initialProps)){var t={selected:void 0};return l.jsx(qj.Provider,{value:t,children:e.children})}return l.jsx(une,{initialProps:e.initialProps,children:e.children})}function une(e){var t=e.initialProps,n=e.children,r=function(a,o,s){var c,u,f;if((c=t.onDayClick)===null||c===void 0||c.call(t,a,o,s),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,a,o,s);return}(f=t.onSelect)===null||f===void 0||f.call(t,a,a,o,s)},i={selected:t.selected,onDayClick:r};return l.jsx(qj.Provider,{value:i,children:n})}function Z4(){var e=g.useContext(qj);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function dne(e,t){var n=zt(),r=Z4(),i=Bj(),a=zj(),o=Hj(),s=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,f=o.focusWeekBefore,d=o.blur,h=o.focus,p=o.focusMonthBefore,m=o.focusMonthAfter,v=o.focusYearBefore,y=o.focusYearAfter,x=o.focusStartOfWeek,w=o.focusEndOfWeek,b=function(B){var $,L,A,M;vy(n)?($=r.onDayClick)===null||$===void 0||$.call(r,e,t,B):Lh(n)?(L=i.onDayClick)===null||L===void 0||L.call(i,e,t,B):Fh(n)?(A=a.onDayClick)===null||A===void 0||A.call(a,e,t,B):(M=n.onDayClick)===null||M===void 0||M.call(n,e,t,B)},S=function(B){var $;h(e),($=n.onDayFocus)===null||$===void 0||$.call(n,e,t,B)},j=function(B){var $;d(),($=n.onDayBlur)===null||$===void 0||$.call(n,e,t,B)},_=function(B){var $;($=n.onDayMouseEnter)===null||$===void 0||$.call(n,e,t,B)},k=function(B){var $;($=n.onDayMouseLeave)===null||$===void 0||$.call(n,e,t,B)},E=function(B){var $;($=n.onDayPointerEnter)===null||$===void 0||$.call(n,e,t,B)},I=function(B){var $;($=n.onDayPointerLeave)===null||$===void 0||$.call(n,e,t,B)},P=function(B){var $;($=n.onDayTouchCancel)===null||$===void 0||$.call(n,e,t,B)},N=function(B){var $;($=n.onDayTouchEnd)===null||$===void 0||$.call(n,e,t,B)},O=function(B){var $;($=n.onDayTouchMove)===null||$===void 0||$.call(n,e,t,B)},R=function(B){var $;($=n.onDayTouchStart)===null||$===void 0||$.call(n,e,t,B)},F=function(B){var $;($=n.onDayKeyUp)===null||$===void 0||$.call(n,e,t,B)},W=function(B){var $;switch(B.key){case"ArrowLeft":B.preventDefault(),B.stopPropagation(),n.dir==="rtl"?s():c();break;case"ArrowRight":B.preventDefault(),B.stopPropagation(),n.dir==="rtl"?c():s();break;case"ArrowDown":B.preventDefault(),B.stopPropagation(),u();break;case"ArrowUp":B.preventDefault(),B.stopPropagation(),f();break;case"PageUp":B.preventDefault(),B.stopPropagation(),B.shiftKey?v():p();break;case"PageDown":B.preventDefault(),B.stopPropagation(),B.shiftKey?y():m();break;case"Home":B.preventDefault(),B.stopPropagation(),x();break;case"End":B.preventDefault(),B.stopPropagation(),w();break}($=n.onDayKeyDown)===null||$===void 0||$.call(n,e,t,B)},D={onClick:b,onFocus:S,onBlur:j,onKeyDown:W,onKeyUp:F,onMouseEnter:_,onMouseLeave:k,onPointerEnter:E,onPointerLeave:I,onTouchCancel:P,onTouchEnd:N,onTouchMove:O,onTouchStart:R};return D}function fne(){var e=zt(),t=Z4(),n=Bj(),r=zj(),i=vy(e)?t.selected:Lh(e)?n.selected:Fh(e)?r.selected:void 0;return i}function hne(e){return Object.values(Ii).includes(e)}function pne(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var i=e.modifiersClassNames[r];if(i)n.push(i);else if(hne(r)){var a=e.classNames["day_".concat(r)];a&&n.push(a)}}),n}function mne(e,t){var n=Be({},e.styles.day);return Object.keys(t).forEach(function(r){var i;n=Be(Be({},n),(i=e.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function gne(e,t,n){var r,i,a,o=zt(),s=Hj(),c=lne(e,t),u=dne(e,c),f=fne(),d=!!(o.onDayClick||o.mode!=="default");g.useEffect(function(){var _;c.outside||s.focusedDay&&d&&pr(s.focusedDay,e)&&((_=n.current)===null||_===void 0||_.focus())},[s.focusedDay,e,n,d,c.outside]);var h=pne(o,c).join(" "),p=mne(o,c),m=!!(c.outside&&!o.showOutsideDays||c.hidden),v=(a=(i=o.components)===null||i===void 0?void 0:i.DayContent)!==null&&a!==void 0?a:Dte,y=l.jsx(v,{date:e,displayMonth:t,activeModifiers:c}),x={style:p,className:h,children:y,role:"gridcell"},w=s.focusTarget&&pr(s.focusTarget,e)&&!c.outside,b=s.focusedDay&&pr(s.focusedDay,e),S=Be(Be(Be({},x),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=b||w?0:-1,r)),u),j={isButton:d,isHidden:m,activeModifiers:c,selectedDays:f,buttonProps:S,divProps:x};return j}function vne(e){var t=g.useRef(null),n=gne(e.date,e.displayMonth,t);return n.isHidden?l.jsx("div",{role:"gridcell"}):n.isButton?l.jsx(lg,Be({name:"day",ref:t},n.buttonProps)):l.jsx("div",Be({},n.divProps))}function yne(e){var t=e.number,n=e.dates,r=zt(),i=r.onWeekNumberClick,a=r.styles,o=r.classNames,s=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,f=u(Number(t),{locale:s});if(!i)return l.jsx("span",{className:o.weeknumber,style:a.weeknumber,children:f});var d=c(Number(t),{locale:s}),h=function(p){i(t,n,p)};return l.jsx(lg,{name:"week-number","aria-label":d,className:o.weeknumber,style:a.weeknumber,onClick:h,children:f})}function xne(e){var t,n,r=zt(),i=r.styles,a=r.classNames,o=r.showWeekNumber,s=r.components,c=(t=s==null?void 0:s.Day)!==null&&t!==void 0?t:vne,u=(n=s==null?void 0:s.WeekNumber)!==null&&n!==void 0?n:yne,f;return o&&(f=l.jsx("td",{className:a.cell,style:i.cell,children:l.jsx(u,{number:e.weekNumber,dates:e.dates})})),l.jsxs("tr",{className:a.row,style:i.row,children:[f,e.dates.map(function(d){return l.jsx("td",{className:a.cell,style:i.cell,role:"presentation",children:l.jsx(c,{displayMonth:e.displayMonth,date:d})},Yee(d))})]})}function fN(e,t,n){for(var r=n!=null&&n.ISOWeek?D4(t):Dj(t,n),i=n!=null&&n.ISOWeek?Gs(e):oa(e,n),a=Yi(r,i),o=[],s=0;s<=a;s++)o.push(Jn(i,s));var c=o.reduce(function(u,f){var d=n!=null&&n.ISOWeek?F4(f):U4(f,n),h=u.find(function(p){return p.weekNumber===d});return h?(h.dates.push(f),u):(u.push({weekNumber:d,dates:[f]}),u)},[]);return c}function bne(e,t){var n=fN(_r(e),$j(e),t);if(t!=null&&t.useFixedWeeks){var r=Qee(e,t);if(r<6){var i=n[n.length-1],a=i.dates[i.dates.length-1],o=i1(a,6-r),s=fN(i1(a,1),o,t);n.push.apply(n,s)}}return n}function wne(e){var t,n,r,i=zt(),a=i.locale,o=i.classNames,s=i.styles,c=i.hideHead,u=i.fixedWeeks,f=i.components,d=i.weekStartsOn,h=i.firstWeekContainsDate,p=i.ISOWeek,m=bne(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:a,weekStartsOn:d,firstWeekContainsDate:h}),v=(t=f==null?void 0:f.Head)!==null&&t!==void 0?t:$te,y=(n=f==null?void 0:f.Row)!==null&&n!==void 0?n:xne,x=(r=f==null?void 0:f.Footer)!==null&&r!==void 0?r:Ite;return l.jsxs("table",{id:e.id,className:o.table,style:s.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&l.jsx(v,{}),l.jsx("tbody",{className:o.tbody,style:s.tbody,children:m.map(function(w){return l.jsx(y,{displayMonth:e.displayMonth,dates:w.dates,weekNumber:w.weekNumber},w.weekNumber)})}),l.jsx(x,{displayMonth:e.displayMonth})]})}function _ne(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Sne=_ne()?g.useLayoutEffect:g.useEffect,T0=!1,jne=0;function hN(){return"react-day-picker-".concat(++jne)}function kne(e){var t,n=e??(T0?hN():null),r=g.useState(n),i=r[0],a=r[1];return Sne(function(){i===null&&a(hN())},[]),g.useEffect(function(){T0===!1&&(T0=!0)},[]),(t=e??i)!==null&&t!==void 0?t:void 0}function Cne(e){var t,n,r=zt(),i=r.dir,a=r.classNames,o=r.styles,s=r.components,c=Bh().displayMonths,u=kne(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),f=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,d=[a.month],h=o.month,p=e.displayIndex===0,m=e.displayIndex===c.length-1,v=!p&&!m;i==="rtl"&&(t=[p,m],m=t[0],p=t[1]),p&&(d.push(a.caption_start),h=Be(Be({},h),o.caption_start)),m&&(d.push(a.caption_end),h=Be(Be({},h),o.caption_end)),v&&(d.push(a.caption_between),h=Be(Be({},h),o.caption_between));var y=(n=s==null?void 0:s.Caption)!==null&&n!==void 0?n:Ote;return l.jsxs("div",{className:d.join(" "),style:h,children:[l.jsx(y,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(wne,{id:f,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function Ene(e){var t=zt(),n=t.classNames,r=t.styles;return l.jsx("div",{className:n.months,style:r.months,children:e.children})}function Ane(e){var t,n,r=e.initialProps,i=zt(),a=Hj(),o=Bh(),s=g.useState(!1),c=s[0],u=s[1];g.useEffect(function(){i.initialFocus&&a.focusTarget&&(c||(a.focus(a.focusTarget),u(!0)))},[i.initialFocus,c,a.focus,a.focusTarget,a]);var f=[i.classNames.root,i.className];i.numberOfMonths>1&&f.push(i.classNames.multiple_months),i.showWeekNumber&&f.push(i.classNames.with_weeknumber);var d=Be(Be({},i.styles.root),i.style),h=Object.keys(r).filter(function(m){return m.startsWith("data-")}).reduce(function(m,v){var y;return Be(Be({},m),(y={},y[v]=r[v],y))},{}),p=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:Ene;return l.jsx("div",Be({className:f.join(" "),style:d,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},h,{children:l.jsx(p,{children:o.displayMonths.map(function(m,v){return l.jsx(Cne,{displayIndex:v,displayMonth:m},v)})})}))}function Nne(e){var t=e.children,n=Zee(e,["children"]);return l.jsx(yte,{initialProps:n,children:l.jsx(Ate,{children:l.jsx(cne,{initialProps:n,children:l.jsx(Lte,{initialProps:n,children:l.jsx(Ute,{initialProps:n,children:l.jsx(Yte,{children:l.jsx(sne,{children:t})})})})})})})}function Pne(e){return l.jsx(Nne,Be({},e,{children:l.jsx(Ane,{initialProps:e})}))}function o1({className:e,classNames:t,showOutsideDays:n=!0,...r}){return l.jsx(Pne,{showOutsideDays:n,className:pe("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:pe(Cf({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:pe(Cf({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...i})=>l.jsx(e$,{className:"h-4 w-4"}),IconRight:({...i})=>l.jsx(QS,{className:"h-4 w-4"})},...r})}o1.displayName="Calendar";var yy="Dialog",[eF,tF]=Dn(yy),[Tne,Mi]=eF(yy),nF=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,s=g.useRef(null),c=g.useRef(null),[u,f]=ri({prop:r,defaultProp:i??!1,onChange:a,caller:yy});return l.jsx(Tne,{scope:t,triggerRef:s,contentRef:c,contentId:Sn(),titleId:Sn(),descriptionId:Sn(),open:u,onOpenChange:f,onOpenToggle:g.useCallback(()=>f(d=>!d),[f]),modal:o,children:n})};nF.displayName=yy;var rF="DialogTrigger",iF=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Mi(rF,n),a=ze(t,i.triggerRef);return l.jsx(Se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Gj(i.open),...r,ref:a,onClick:me(e.onClick,i.onOpenToggle)})});iF.displayName=rF;var Vj="DialogPortal",[One,aF]=eF(Vj,{forceMount:void 0}),oF=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,a=Mi(Vj,t);return l.jsx(One,{scope:t,forceMount:n,children:g.Children.map(r,o=>l.jsx(jn,{present:n||a.open,children:l.jsx(ju,{asChild:!0,container:i,children:o})}))})};oF.displayName=Vj;var cg="DialogOverlay",sF=g.forwardRef((e,t)=>{const n=aF(cg,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=Mi(cg,e.__scopeDialog);return a.modal?l.jsx(jn,{present:r||a.open,children:l.jsx(Rne,{...i,ref:t})}):null});sF.displayName=cg;var Ine=Bo("DialogOverlay.RemoveScroll"),Rne=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Mi(cg,n);return l.jsx(Rh,{as:Ine,allowPinchZoom:!0,shards:[i.contentRef],children:l.jsx(Se.div,{"data-state":Gj(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Ys="DialogContent",lF=g.forwardRef((e,t)=>{const n=aF(Ys,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=Mi(Ys,e.__scopeDialog);return l.jsx(jn,{present:r||a.open,children:a.modal?l.jsx(Mne,{...i,ref:t}):l.jsx($ne,{...i,ref:t})})});lF.displayName=Ys;var Mne=g.forwardRef((e,t)=>{const n=Mi(Ys,e.__scopeDialog),r=g.useRef(null),i=ze(t,n.contentRef,r);return g.useEffect(()=>{const a=r.current;if(a)return uy(a)},[]),l.jsx(cF,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:me(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:me(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,s=o.button===0&&o.ctrlKey===!0;(o.button===2||s)&&a.preventDefault()}),onFocusOutside:me(e.onFocusOutside,a=>a.preventDefault())})}),$ne=g.forwardRef((e,t)=>{const n=Mi(Ys,e.__scopeDialog),r=g.useRef(!1),i=g.useRef(!1);return l.jsx(cF,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,s;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(s=n.triggerRef.current)==null||s.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),cF=g.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,s=Mi(Ys,n),c=g.useRef(null),u=ze(t,c);return cy(),l.jsxs(l.Fragment,{children:[l.jsx(Ih,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:l.jsx(cl,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":Gj(s.open),...o,ref:u,onDismiss:()=>s.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(Lne,{titleId:s.titleId}),l.jsx(Bne,{contentRef:c,descriptionId:s.descriptionId})]})]})}),Kj="DialogTitle",uF=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Mi(Kj,n);return l.jsx(Se.h2,{id:i.titleId,...r,ref:t})});uF.displayName=Kj;var dF="DialogDescription",fF=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Mi(dF,n);return l.jsx(Se.p,{id:i.descriptionId,...r,ref:t})});fF.displayName=dF;var hF="DialogClose",pF=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Mi(hF,n);return l.jsx(Se.button,{type:"button",...r,ref:t,onClick:me(e.onClick,()=>i.onOpenChange(!1))})});pF.displayName=hF;function Gj(e){return e?"open":"closed"}var mF="DialogTitleWarning",[Dne,gF]=_9(mF,{contentName:Ys,titleName:Kj,docsSlug:"dialog"}),Lne=({titleId:e})=>{const t=gF(mF),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Fne="DialogDescriptionWarning",Bne=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${gF(Fne).contentName}}.`;return g.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Yj=nF,vF=iF,Xj=oF,xy=sF,by=lF,Qj=uF,Jj=fF,Zj=pF;const Rr=Yj,ek=vF,Une=Xj,yF=g.forwardRef(({className:e,...t},n)=>l.jsx(xy,{ref:n,className:pe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));yF.displayName=xy.displayName;const mr=g.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(Une,{children:[l.jsx(yF,{}),l.jsxs(by,{ref:r,className:pe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,l.jsxs(Zj,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(Uv,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));mr.displayName=by.displayName;const gr=({className:e,...t})=>l.jsx("div",{className:pe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});gr.displayName="DialogHeader";const xF=({className:e,...t})=>l.jsx("div",{className:pe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});xF.displayName="DialogFooter";const vr=g.forwardRef(({className:e,...t},n)=>l.jsx(Qj,{ref:n,className:pe("text-lg font-semibold leading-none tracking-tight",e),...t}));vr.displayName=Qj.displayName;const Ou=g.forwardRef(({className:e,...t},n)=>l.jsx(Jj,{ref:n,className:pe("text-sm text-muted-foreground",e),...t}));Ou.displayName=Jj.displayName;var wy="Popover",[bF,F$e]=Dn(wy,[Go]),Uh=Go(),[zne,es]=bF(wy),wF=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!1}=e,s=Uh(t),c=g.useRef(null),[u,f]=g.useState(!1),[d,h]=ri({prop:r,defaultProp:i??!1,onChange:a,caller:wy});return l.jsx(qv,{...s,children:l.jsx(zne,{scope:t,contentId:Sn(),triggerRef:c,open:d,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:g.useCallback(()=>f(!0),[]),onCustomAnchorRemove:g.useCallback(()=>f(!1),[]),modal:o,children:n})})};wF.displayName=wy;var _F="PopoverAnchor",Wne=g.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=es(_F,n),a=Uh(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:s}=i;return g.useEffect(()=>(o(),()=>s()),[o,s]),l.jsx(Ch,{...a,...r,ref:t})});Wne.displayName=_F;var SF="PopoverTrigger",jF=g.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=es(SF,n),a=Uh(n),o=ze(t,i.triggerRef),s=l.jsx(Se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":NF(i.open),...r,ref:o,onClick:me(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?s:l.jsx(Ch,{asChild:!0,...a,children:s})});jF.displayName=SF;var tk="PopoverPortal",[Hne,qne]=bF(tk,{forceMount:void 0}),kF=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,a=es(tk,t);return l.jsx(Hne,{scope:t,forceMount:n,children:l.jsx(jn,{present:n||a.open,children:l.jsx(ju,{asChild:!0,container:i,children:r})})})};kF.displayName=tk;var Kc="PopoverContent",CF=g.forwardRef((e,t)=>{const n=qne(Kc,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,a=es(Kc,e.__scopePopover);return l.jsx(jn,{present:r||a.open,children:a.modal?l.jsx(Kne,{...i,ref:t}):l.jsx(Gne,{...i,ref:t})})});CF.displayName=Kc;var Vne=Bo("PopoverContent.RemoveScroll"),Kne=g.forwardRef((e,t)=>{const n=es(Kc,e.__scopePopover),r=g.useRef(null),i=ze(t,r),a=g.useRef(!1);return g.useEffect(()=>{const o=r.current;if(o)return uy(o)},[]),l.jsx(Rh,{as:Vne,allowPinchZoom:!0,children:l.jsx(EF,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:me(e.onCloseAutoFocus,o=>{var s;o.preventDefault(),a.current||(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:me(e.onPointerDownOutside,o=>{const s=o.detail.originalEvent,c=s.button===0&&s.ctrlKey===!0,u=s.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:me(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Gne=g.forwardRef((e,t)=>{const n=es(Kc,e.__scopePopover),r=g.useRef(!1),i=g.useRef(!1);return l.jsx(EF,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,s;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(s=n.triggerRef.current)==null||s.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),EF=g.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:s,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:f,...d}=e,h=es(Kc,n),p=Uh(n);return cy(),l.jsx(Ih,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:l.jsx(cl,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:s,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:l.jsx(Vv,{"data-state":NF(h.open),role:"dialog",id:h.contentId,...p,...d,ref:t,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),AF="PopoverClose",Yne=g.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=es(AF,n);return l.jsx(Se.button,{type:"button",...r,ref:t,onClick:me(e.onClick,()=>i.onOpenChange(!1))})});Yne.displayName=AF;var Xne="PopoverArrow",Qne=g.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Uh(n);return l.jsx(Kv,{...i,...r,ref:t})});Qne.displayName=Xne;function NF(e){return e?"open":"closed"}var Jne=wF,Zne=jF,ere=kF,PF=CF;const Ca=Jne,Ea=Zne,Xi=g.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},i)=>l.jsx(ere,{children:l.jsx(PF,{ref:i,align:t,sideOffset:n,className:pe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Xi.displayName=PF.displayName;function nk(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var tre=[" ","Enter","ArrowUp","ArrowDown"],nre=[" ","Enter"],Xs="Select",[_y,Sy,rre]=$v(Xs),[Iu,B$e]=Dn(Xs,[rre,Go]),jy=Go(),[ire,ts]=Iu(Xs),[are,ore]=Iu(Xs),TF=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:a,value:o,defaultValue:s,onValueChange:c,dir:u,name:f,autoComplete:d,disabled:h,required:p,form:m}=e,v=jy(t),[y,x]=g.useState(null),[w,b]=g.useState(null),[S,j]=g.useState(!1),_=Th(u),[k,E]=ri({prop:r,defaultProp:i??!1,onChange:a,caller:Xs}),[I,P]=ri({prop:o,defaultProp:s,onChange:c,caller:Xs}),N=g.useRef(null),O=y?m||!!y.closest("form"):!0,[R,F]=g.useState(new Set),W=Array.from(R).map(D=>D.props.value).join(";");return l.jsx(qv,{...v,children:l.jsxs(ire,{required:p,scope:t,trigger:y,onTriggerChange:x,valueNode:w,onValueNodeChange:b,valueNodeHasChildren:S,onValueNodeHasChildrenChange:j,contentId:Sn(),value:I,onValueChange:P,open:k,onOpenChange:E,dir:_,triggerPointerDownPosRef:N,disabled:h,children:[l.jsx(_y.Provider,{scope:t,children:l.jsx(are,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(D=>{F(B=>new Set(B).add(D))},[]),onNativeOptionRemove:g.useCallback(D=>{F(B=>{const $=new Set(B);return $.delete(D),$})},[]),children:n})}),O?l.jsxs(t3,{"aria-hidden":!0,required:p,tabIndex:-1,name:f,autoComplete:d,value:I,onChange:D=>P(D.target.value),disabled:h,form:m,children:[I===void 0?l.jsx("option",{value:""}):null,Array.from(R)]},W):null]})})};TF.displayName=Xs;var OF="SelectTrigger",IF=g.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,a=jy(n),o=ts(OF,n),s=o.disabled||r,c=ze(t,o.onTriggerChange),u=Sy(n),f=g.useRef("touch"),[d,h,p]=r3(v=>{const y=u().filter(b=>!b.disabled),x=y.find(b=>b.value===o.value),w=i3(y,v,x);w!==void 0&&o.onValueChange(w.value)}),m=v=>{s||(o.onOpenChange(!0),p()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return l.jsx(Ch,{asChild:!0,...a,children:l.jsx(Se.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":n3(o.value)?"":void 0,...i,ref:c,onClick:me(i.onClick,v=>{v.currentTarget.focus(),f.current!=="mouse"&&m(v)}),onPointerDown:me(i.onPointerDown,v=>{f.current=v.pointerType;const y=v.target;y.hasPointerCapture(v.pointerId)&&y.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(m(v),v.preventDefault())}),onKeyDown:me(i.onKeyDown,v=>{const y=d.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&h(v.key),!(y&&v.key===" ")&&tre.includes(v.key)&&(m(),v.preventDefault())})})})});IF.displayName=OF;var RF="SelectValue",MF=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:o="",...s}=e,c=ts(RF,n),{onValueNodeHasChildrenChange:u}=c,f=a!==void 0,d=ze(t,c.onValueNodeChange);return an(()=>{u(f)},[u,f]),l.jsx(Se.span,{...s,ref:d,style:{pointerEvents:"none"},children:n3(c.value)?l.jsx(l.Fragment,{children:o}):a})});MF.displayName=RF;var sre="SelectIcon",$F=g.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return l.jsx(Se.span,{"aria-hidden":!0,...i,ref:t,children:r||"▼"})});$F.displayName=sre;var lre="SelectPortal",DF=e=>l.jsx(ju,{asChild:!0,...e});DF.displayName=lre;var Qs="SelectContent",LF=g.forwardRef((e,t)=>{const n=ts(Qs,e.__scopeSelect),[r,i]=g.useState();if(an(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?sl.createPortal(l.jsx(FF,{scope:e.__scopeSelect,children:l.jsx(_y.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),a):null}return l.jsx(BF,{...e,ref:t})});LF.displayName=Qs;var hi=10,[FF,ns]=Iu(Qs),cre="SelectContentImpl",ure=Bo("SelectContent.RemoveScroll"),BF=g.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:s,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:v,avoidCollisions:y,...x}=e,w=ts(Qs,n),[b,S]=g.useState(null),[j,_]=g.useState(null),k=ze(t,Y=>S(Y)),[E,I]=g.useState(null),[P,N]=g.useState(null),O=Sy(n),[R,F]=g.useState(!1),W=g.useRef(!1);g.useEffect(()=>{if(b)return uy(b)},[b]),cy();const D=g.useCallback(Y=>{const[le,...Z]=O().map(J=>J.ref.current),[oe]=Z.slice(-1),re=document.activeElement;for(const J of Y)if(J===re||(J==null||J.scrollIntoView({block:"nearest"}),J===le&&j&&(j.scrollTop=0),J===oe&&j&&(j.scrollTop=j.scrollHeight),J==null||J.focus(),document.activeElement!==re))return},[O,j]),B=g.useCallback(()=>D([E,b]),[D,E,b]);g.useEffect(()=>{R&&B()},[R,B]);const{onOpenChange:$,triggerPointerDownPosRef:L}=w;g.useEffect(()=>{if(b){let Y={x:0,y:0};const le=oe=>{var re,J;Y={x:Math.abs(Math.round(oe.pageX)-(((re=L.current)==null?void 0:re.x)??0)),y:Math.abs(Math.round(oe.pageY)-(((J=L.current)==null?void 0:J.y)??0))}},Z=oe=>{Y.x<=10&&Y.y<=10?oe.preventDefault():b.contains(oe.target)||$(!1),document.removeEventListener("pointermove",le),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",le),document.addEventListener("pointerup",Z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",le),document.removeEventListener("pointerup",Z,{capture:!0})}}},[b,$,L]),g.useEffect(()=>{const Y=()=>$(!1);return window.addEventListener("blur",Y),window.addEventListener("resize",Y),()=>{window.removeEventListener("blur",Y),window.removeEventListener("resize",Y)}},[$]);const[A,M]=r3(Y=>{const le=O().filter(re=>!re.disabled),Z=le.find(re=>re.ref.current===document.activeElement),oe=i3(le,Y,Z);oe&&setTimeout(()=>oe.ref.current.focus())}),T=g.useCallback((Y,le,Z)=>{const oe=!W.current&&!Z;(w.value!==void 0&&w.value===le||oe)&&(I(Y),oe&&(W.current=!0))},[w.value]),C=g.useCallback(()=>b==null?void 0:b.focus(),[b]),U=g.useCallback((Y,le,Z)=>{const oe=!W.current&&!Z;(w.value!==void 0&&w.value===le||oe)&&N(Y)},[w.value]),K=r==="popper"?s1:UF,Q=K===s1?{side:s,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:v,avoidCollisions:y}:{};return l.jsx(FF,{scope:n,content:b,viewport:j,onViewportChange:_,itemRefCallback:T,selectedItem:E,onItemLeave:C,itemTextRefCallback:U,focusSelectedItem:B,selectedItemText:P,position:r,isPositioned:R,searchRef:A,children:l.jsx(Rh,{as:ure,allowPinchZoom:!0,children:l.jsx(Ih,{asChild:!0,trapped:w.open,onMountAutoFocus:Y=>{Y.preventDefault()},onUnmountAutoFocus:me(i,Y=>{var le;(le=w.trigger)==null||le.focus({preventScroll:!0}),Y.preventDefault()}),children:l.jsx(cl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:Y=>Y.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:l.jsx(K,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:Y=>Y.preventDefault(),...x,...Q,onPlaced:()=>F(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:me(x.onKeyDown,Y=>{const le=Y.ctrlKey||Y.altKey||Y.metaKey;if(Y.key==="Tab"&&Y.preventDefault(),!le&&Y.key.length===1&&M(Y.key),["ArrowUp","ArrowDown","Home","End"].includes(Y.key)){let oe=O().filter(re=>!re.disabled).map(re=>re.ref.current);if(["ArrowUp","End"].includes(Y.key)&&(oe=oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(Y.key)){const re=Y.target,J=oe.indexOf(re);oe=oe.slice(J+1)}setTimeout(()=>D(oe)),Y.preventDefault()}})})})})})})});BF.displayName=cre;var dre="SelectItemAlignedPosition",UF=g.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,a=ts(Qs,n),o=ns(Qs,n),[s,c]=g.useState(null),[u,f]=g.useState(null),d=ze(t,k=>f(k)),h=Sy(n),p=g.useRef(!1),m=g.useRef(!0),{viewport:v,selectedItem:y,selectedItemText:x,focusSelectedItem:w}=o,b=g.useCallback(()=>{if(a.trigger&&a.valueNode&&s&&u&&v&&y&&x){const k=a.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),I=a.valueNode.getBoundingClientRect(),P=x.getBoundingClientRect();if(a.dir!=="rtl"){const re=P.left-E.left,J=I.left-re,ke=k.left-J,V=k.width+ke,ee=Math.max(V,E.width),fe=window.innerWidth-hi,je=r1(J,[hi,Math.max(hi,fe-ee)]);s.style.minWidth=V+"px",s.style.left=je+"px"}else{const re=E.right-P.right,J=window.innerWidth-I.right-re,ke=window.innerWidth-k.right-J,V=k.width+ke,ee=Math.max(V,E.width),fe=window.innerWidth-hi,je=r1(J,[hi,Math.max(hi,fe-ee)]);s.style.minWidth=V+"px",s.style.right=je+"px"}const N=h(),O=window.innerHeight-hi*2,R=v.scrollHeight,F=window.getComputedStyle(u),W=parseInt(F.borderTopWidth,10),D=parseInt(F.paddingTop,10),B=parseInt(F.borderBottomWidth,10),$=parseInt(F.paddingBottom,10),L=W+D+R+$+B,A=Math.min(y.offsetHeight*5,L),M=window.getComputedStyle(v),T=parseInt(M.paddingTop,10),C=parseInt(M.paddingBottom,10),U=k.top+k.height/2-hi,K=O-U,Q=y.offsetHeight/2,Y=y.offsetTop+Q,le=W+D+Y,Z=L-le;if(le<=U){const re=N.length>0&&y===N[N.length-1].ref.current;s.style.bottom="0px";const J=u.clientHeight-v.offsetTop-v.offsetHeight,ke=Math.max(K,Q+(re?C:0)+J+B),V=le+ke;s.style.height=V+"px"}else{const re=N.length>0&&y===N[0].ref.current;s.style.top="0px";const ke=Math.max(U,W+v.offsetTop+(re?T:0)+Q)+Z;s.style.height=ke+"px",v.scrollTop=le-U+v.offsetTop}s.style.margin=`${hi}px 0`,s.style.minHeight=A+"px",s.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,a.trigger,a.valueNode,s,u,v,y,x,a.dir,r]);an(()=>b(),[b]);const[S,j]=g.useState();an(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const _=g.useCallback(k=>{k&&m.current===!0&&(b(),w==null||w(),m.current=!1)},[b,w]);return l.jsx(hre,{scope:n,contentWrapper:s,shouldExpandOnScrollRef:p,onScrollButtonChange:_,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:l.jsx(Se.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});UF.displayName=dre;var fre="SelectPopperPosition",s1=g.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=hi,...a}=e,o=jy(n);return l.jsx(Vv,{...o,...a,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});s1.displayName=fre;var[hre,rk]=Iu(Qs,{}),l1="SelectViewport",zF=g.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,a=ns(l1,n),o=rk(l1,n),s=ze(t,a.onViewportChange),c=g.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(_y.Slot,{scope:n,children:l.jsx(Se.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:me(i.onScroll,u=>{const f=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&d){const p=Math.abs(c.current-f.scrollTop);if(p>0){const m=window.innerHeight-hi*2,v=parseFloat(d.style.minHeight),y=parseFloat(d.style.height),x=Math.max(v,y);if(x<m){const w=x+p,b=Math.min(m,w),S=w-b;d.style.height=b+"px",d.style.bottom==="0px"&&(f.scrollTop=S>0?S:0,d.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});zF.displayName=l1;var WF="SelectGroup",[pre,mre]=Iu(WF),gre=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Sn();return l.jsx(pre,{scope:n,id:i,children:l.jsx(Se.div,{role:"group","aria-labelledby":i,...r,ref:t})})});gre.displayName=WF;var HF="SelectLabel",qF=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=mre(HF,n);return l.jsx(Se.div,{id:i.id,...r,ref:t})});qF.displayName=HF;var ug="SelectItem",[vre,VF]=Iu(ug),KF=g.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...o}=e,s=ts(ug,n),c=ns(ug,n),u=s.value===r,[f,d]=g.useState(a??""),[h,p]=g.useState(!1),m=ze(t,w=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,w,r,i)}),v=Sn(),y=g.useRef("touch"),x=()=>{i||(s.onValueChange(r),s.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(vre,{scope:n,value:r,disabled:i,textId:v,isSelected:u,onItemTextChange:g.useCallback(w=>{d(b=>b||((w==null?void 0:w.textContent)??"").trim())},[]),children:l.jsx(_y.ItemSlot,{scope:n,value:r,disabled:i,textValue:f,children:l.jsx(Se.div,{role:"option","aria-labelledby":v,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:m,onFocus:me(o.onFocus,()=>p(!0)),onBlur:me(o.onBlur,()=>p(!1)),onClick:me(o.onClick,()=>{y.current!=="mouse"&&x()}),onPointerUp:me(o.onPointerUp,()=>{y.current==="mouse"&&x()}),onPointerDown:me(o.onPointerDown,w=>{y.current=w.pointerType}),onPointerMove:me(o.onPointerMove,w=>{var b;y.current=w.pointerType,i?(b=c.onItemLeave)==null||b.call(c):y.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:me(o.onPointerLeave,w=>{var b;w.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:me(o.onKeyDown,w=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&w.key===" "||(nre.includes(w.key)&&x(),w.key===" "&&w.preventDefault())})})})})});KF.displayName=ug;var Td="SelectItemText",GF=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...a}=e,o=ts(Td,n),s=ns(Td,n),c=VF(Td,n),u=ore(Td,n),[f,d]=g.useState(null),h=ze(t,x=>d(x),c.onItemTextChange,x=>{var w;return(w=s.itemTextRefCallback)==null?void 0:w.call(s,x,c.value,c.disabled)}),p=f==null?void 0:f.textContent,m=g.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:y}=u;return an(()=>(v(m),()=>y(m)),[v,y,m]),l.jsxs(l.Fragment,{children:[l.jsx(Se.span,{id:c.textId,...a,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?sl.createPortal(a.children,o.valueNode):null]})});GF.displayName=Td;var YF="SelectItemIndicator",XF=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return VF(YF,n).isSelected?l.jsx(Se.span,{"aria-hidden":!0,...r,ref:t}):null});XF.displayName=YF;var c1="SelectScrollUpButton",QF=g.forwardRef((e,t)=>{const n=ns(c1,e.__scopeSelect),r=rk(c1,e.__scopeSelect),[i,a]=g.useState(!1),o=ze(t,r.onScrollButtonChange);return an(()=>{if(n.viewport&&n.isPositioned){let s=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return s(),c.addEventListener("scroll",s),()=>c.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),i?l.jsx(ZF,{...e,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:c}=n;s&&c&&(s.scrollTop=s.scrollTop-c.offsetHeight)}}):null});QF.displayName=c1;var u1="SelectScrollDownButton",JF=g.forwardRef((e,t)=>{const n=ns(u1,e.__scopeSelect),r=rk(u1,e.__scopeSelect),[i,a]=g.useState(!1),o=ze(t,r.onScrollButtonChange);return an(()=>{if(n.viewport&&n.isPositioned){let s=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;a(f)};const c=n.viewport;return s(),c.addEventListener("scroll",s),()=>c.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),i?l.jsx(ZF,{...e,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:c}=n;s&&c&&(s.scrollTop=s.scrollTop+c.offsetHeight)}}):null});JF.displayName=u1;var ZF=g.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,a=ns("SelectScrollButton",n),o=g.useRef(null),s=Sy(n),c=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),an(()=>{var f;const u=s().find(d=>d.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[s]),l.jsx(Se.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:me(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:me(i.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:me(i.onPointerLeave,()=>{c()})})}),yre="SelectSeparator",e3=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return l.jsx(Se.div,{"aria-hidden":!0,...r,ref:t})});e3.displayName=yre;var d1="SelectArrow",xre=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=jy(n),a=ts(d1,n),o=ns(d1,n);return a.open&&o.position==="popper"?l.jsx(Kv,{...i,...r,ref:t}):null});xre.displayName=d1;var bre="SelectBubbleInput",t3=g.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=g.useRef(null),a=ze(r,i),o=nk(t);return g.useEffect(()=>{const s=i.current;if(!s)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&f){const d=new Event("change",{bubbles:!0});f.call(s,t),s.dispatchEvent(d)}},[o,t]),l.jsx(Se.select,{...n,style:{...TM,...n.style},ref:a,defaultValue:t})});t3.displayName=bre;function n3(e){return e===""||e===void 0}function r3(e){const t=rn(e),n=g.useRef(""),r=g.useRef(0),i=g.useCallback(o=>{const s=n.current+o;t(s),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(s)},[t]),a=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function i3(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=wre(e,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function wre(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var _re=TF,a3=IF,Sre=MF,jre=$F,kre=DF,o3=LF,Cre=zF,s3=qF,l3=KF,Ere=GF,Are=XF,c3=QF,u3=JF,d3=e3;const Tt=_re,Ot=Sre,jt=g.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(a3,{ref:r,className:pe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,l.jsx(jre,{asChild:!0,children:l.jsx(vf,{className:"h-4 w-4 opacity-50"})})]}));jt.displayName=a3.displayName;const f3=g.forwardRef(({className:e,...t},n)=>l.jsx(c3,{ref:n,className:pe("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(kH,{className:"h-4 w-4"})}));f3.displayName=c3.displayName;const h3=g.forwardRef(({className:e,...t},n)=>l.jsx(u3,{ref:n,className:pe("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(vf,{className:"h-4 w-4"})}));h3.displayName=u3.displayName;const kt=g.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>l.jsx(kre,{children:l.jsxs(o3,{ref:i,className:pe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[l.jsx(f3,{}),l.jsx(Cre,{className:pe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(h3,{})]})}));kt.displayName=o3.displayName;const Nre=g.forwardRef(({className:e,...t},n)=>l.jsx(s3,{ref:n,className:pe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Nre.displayName=s3.displayName;const Ae=g.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(l3,{ref:r,className:pe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Are,{children:l.jsx(XS,{className:"h-4 w-4"})})}),l.jsx(Ere,{children:t})]}));Ae.displayName=l3.displayName;const Pre=g.forwardRef(({className:e,...t},n)=>l.jsx(d3,{ref:n,className:pe("-mx-1 my-1 h-px bg-muted",e),...t}));Pre.displayName=d3.displayName;var pN=1,Tre=.9,Ore=.8,Ire=.17,O0=.1,I0=.999,Rre=.9999,Mre=.99,$re=/[\\\/_+.#"@\[\(\{&]/,Dre=/[\\\/_+.#"@\[\(\{&]/g,Lre=/[\s-]/,p3=/[\s-]/g;function f1(e,t,n,r,i,a,o){if(a===t.length)return i===e.length?pN:Mre;var s=`${i},${a}`;if(o[s]!==void 0)return o[s];for(var c=r.charAt(a),u=n.indexOf(c,i),f=0,d,h,p,m;u>=0;)d=f1(e,t,n,r,u+1,a+1,o),d>f&&(u===i?d*=pN:$re.test(e.charAt(u-1))?(d*=Ore,p=e.slice(i,u-1).match(Dre),p&&i>0&&(d*=Math.pow(I0,p.length))):Lre.test(e.charAt(u-1))?(d*=Tre,m=e.slice(i,u-1).match(p3),m&&i>0&&(d*=Math.pow(I0,m.length))):(d*=Ire,i>0&&(d*=Math.pow(I0,u-i))),e.charAt(u)!==t.charAt(a)&&(d*=Rre)),(d<O0&&n.charAt(u-1)===r.charAt(a+1)||r.charAt(a+1)===r.charAt(a)&&n.charAt(u-1)!==r.charAt(a))&&(h=f1(e,t,n,r,u+1,a+2,o),h*O0>d&&(d=h*O0)),d>f&&(f=d),u=n.indexOf(c,u+1);return o[s]=f,f}function mN(e){return e.toLowerCase().replace(p3," ")}function Fre(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,f1(e,t,mN(e),mN(t),0,0,{})}var cd='[cmdk-group=""]',R0='[cmdk-group-items=""]',Bre='[cmdk-group-heading=""]',m3='[cmdk-item=""]',gN=`${m3}:not([aria-disabled="true"])`,h1="cmdk-item-select",Ll="data-value",Ure=(e,t,n)=>Fre(e,t,n),g3=g.createContext(void 0),zh=()=>g.useContext(g3),v3=g.createContext(void 0),ik=()=>g.useContext(v3),y3=g.createContext(void 0),x3=g.forwardRef((e,t)=>{let n=Fl(()=>{var T,C;return{search:"",value:(C=(T=e.value)!=null?T:e.defaultValue)!=null?C:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=Fl(()=>new Set),i=Fl(()=>new Map),a=Fl(()=>new Map),o=Fl(()=>new Set),s=b3(e),{label:c,children:u,value:f,onValueChange:d,filter:h,shouldFilter:p,loop:m,disablePointerSelection:v=!1,vimBindings:y=!0,...x}=e,w=Sn(),b=Sn(),S=Sn(),j=g.useRef(null),_=Jre();Js(()=>{if(f!==void 0){let T=f.trim();n.current.value=T,k.emit()}},[f]),Js(()=>{_(6,R)},[]);let k=g.useMemo(()=>({subscribe:T=>(o.current.add(T),()=>o.current.delete(T)),snapshot:()=>n.current,setState:(T,C,U)=>{var K,Q,Y,le;if(!Object.is(n.current[T],C)){if(n.current[T]=C,T==="search")O(),P(),_(1,N);else if(T==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Z=document.getElementById(S);Z?Z.focus():(K=document.getElementById(w))==null||K.focus()}if(_(7,()=>{var Z;n.current.selectedItemId=(Z=F())==null?void 0:Z.id,k.emit()}),U||_(5,R),((Q=s.current)==null?void 0:Q.value)!==void 0){let Z=C??"";(le=(Y=s.current).onValueChange)==null||le.call(Y,Z);return}}k.emit()}},emit:()=>{o.current.forEach(T=>T())}}),[]),E=g.useMemo(()=>({value:(T,C,U)=>{var K;C!==((K=a.current.get(T))==null?void 0:K.value)&&(a.current.set(T,{value:C,keywords:U}),n.current.filtered.items.set(T,I(C,U)),_(2,()=>{P(),k.emit()}))},item:(T,C)=>(r.current.add(T),C&&(i.current.has(C)?i.current.get(C).add(T):i.current.set(C,new Set([T]))),_(3,()=>{O(),P(),n.current.value||N(),k.emit()}),()=>{a.current.delete(T),r.current.delete(T),n.current.filtered.items.delete(T);let U=F();_(4,()=>{O(),(U==null?void 0:U.getAttribute("id"))===T&&N(),k.emit()})}),group:T=>(i.current.has(T)||i.current.set(T,new Set),()=>{a.current.delete(T),i.current.delete(T)}),filter:()=>s.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>s.current.disablePointerSelection,listId:w,inputId:S,labelId:b,listInnerRef:j}),[]);function I(T,C){var U,K;let Q=(K=(U=s.current)==null?void 0:U.filter)!=null?K:Ure;return T?Q(T,n.current.search,C):0}function P(){if(!n.current.search||s.current.shouldFilter===!1)return;let T=n.current.filtered.items,C=[];n.current.filtered.groups.forEach(K=>{let Q=i.current.get(K),Y=0;Q.forEach(le=>{let Z=T.get(le);Y=Math.max(Z,Y)}),C.push([K,Y])});let U=j.current;W().sort((K,Q)=>{var Y,le;let Z=K.getAttribute("id"),oe=Q.getAttribute("id");return((Y=T.get(oe))!=null?Y:0)-((le=T.get(Z))!=null?le:0)}).forEach(K=>{let Q=K.closest(R0);Q?Q.appendChild(K.parentElement===Q?K:K.closest(`${R0} > *`)):U.appendChild(K.parentElement===U?K:K.closest(`${R0} > *`))}),C.sort((K,Q)=>Q[1]-K[1]).forEach(K=>{var Q;let Y=(Q=j.current)==null?void 0:Q.querySelector(`${cd}[${Ll}="${encodeURIComponent(K[0])}"]`);Y==null||Y.parentElement.appendChild(Y)})}function N(){let T=W().find(U=>U.getAttribute("aria-disabled")!=="true"),C=T==null?void 0:T.getAttribute(Ll);k.setState("value",C||void 0)}function O(){var T,C,U,K;if(!n.current.search||s.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let Q=0;for(let Y of r.current){let le=(C=(T=a.current.get(Y))==null?void 0:T.value)!=null?C:"",Z=(K=(U=a.current.get(Y))==null?void 0:U.keywords)!=null?K:[],oe=I(le,Z);n.current.filtered.items.set(Y,oe),oe>0&&Q++}for(let[Y,le]of i.current)for(let Z of le)if(n.current.filtered.items.get(Z)>0){n.current.filtered.groups.add(Y);break}n.current.filtered.count=Q}function R(){var T,C,U;let K=F();K&&(((T=K.parentElement)==null?void 0:T.firstChild)===K&&((U=(C=K.closest(cd))==null?void 0:C.querySelector(Bre))==null||U.scrollIntoView({block:"nearest"})),K.scrollIntoView({block:"nearest"}))}function F(){var T;return(T=j.current)==null?void 0:T.querySelector(`${m3}[aria-selected="true"]`)}function W(){var T;return Array.from(((T=j.current)==null?void 0:T.querySelectorAll(gN))||[])}function D(T){let C=W()[T];C&&k.setState("value",C.getAttribute(Ll))}function B(T){var C;let U=F(),K=W(),Q=K.findIndex(le=>le===U),Y=K[Q+T];(C=s.current)!=null&&C.loop&&(Y=Q+T<0?K[K.length-1]:Q+T===K.length?K[0]:K[Q+T]),Y&&k.setState("value",Y.getAttribute(Ll))}function $(T){let C=F(),U=C==null?void 0:C.closest(cd),K;for(;U&&!K;)U=T>0?Xre(U,cd):Qre(U,cd),K=U==null?void 0:U.querySelector(gN);K?k.setState("value",K.getAttribute(Ll)):B(T)}let L=()=>D(W().length-1),A=T=>{T.preventDefault(),T.metaKey?L():T.altKey?$(1):B(1)},M=T=>{T.preventDefault(),T.metaKey?D(0):T.altKey?$(-1):B(-1)};return g.createElement(Se.div,{ref:t,tabIndex:-1,...x,"cmdk-root":"",onKeyDown:T=>{var C;(C=x.onKeyDown)==null||C.call(x,T);let U=T.nativeEvent.isComposing||T.keyCode===229;if(!(T.defaultPrevented||U))switch(T.key){case"n":case"j":{y&&T.ctrlKey&&A(T);break}case"ArrowDown":{A(T);break}case"p":case"k":{y&&T.ctrlKey&&M(T);break}case"ArrowUp":{M(T);break}case"Home":{T.preventDefault(),D(0);break}case"End":{T.preventDefault(),L();break}case"Enter":{T.preventDefault();let K=F();if(K){let Q=new Event(h1);K.dispatchEvent(Q)}}}}},g.createElement("label",{"cmdk-label":"",htmlFor:E.inputId,id:E.labelId,style:eie},c),ky(e,T=>g.createElement(v3.Provider,{value:k},g.createElement(g3.Provider,{value:E},T))))}),zre=g.forwardRef((e,t)=>{var n,r;let i=Sn(),a=g.useRef(null),o=g.useContext(y3),s=zh(),c=b3(e),u=(r=(n=c.current)==null?void 0:n.forceMount)!=null?r:o==null?void 0:o.forceMount;Js(()=>{if(!u)return s.item(i,o==null?void 0:o.id)},[u]);let f=w3(i,a,[e.value,e.children,a],e.keywords),d=ik(),h=Wo(_=>_.value&&_.value===f.current),p=Wo(_=>u||s.filter()===!1?!0:_.search?_.filtered.items.get(i)>0:!0);g.useEffect(()=>{let _=a.current;if(!(!_||e.disabled))return _.addEventListener(h1,m),()=>_.removeEventListener(h1,m)},[p,e.onSelect,e.disabled]);function m(){var _,k;v(),(k=(_=c.current).onSelect)==null||k.call(_,f.current)}function v(){d.setState("value",f.current,!0)}if(!p)return null;let{disabled:y,value:x,onSelect:w,forceMount:b,keywords:S,...j}=e;return g.createElement(Se.div,{ref:La(a,t),...j,id:i,"cmdk-item":"",role:"option","aria-disabled":!!y,"aria-selected":!!h,"data-disabled":!!y,"data-selected":!!h,onPointerMove:y||s.getDisablePointerSelection()?void 0:v,onClick:y?void 0:m},e.children)}),Wre=g.forwardRef((e,t)=>{let{heading:n,children:r,forceMount:i,...a}=e,o=Sn(),s=g.useRef(null),c=g.useRef(null),u=Sn(),f=zh(),d=Wo(p=>i||f.filter()===!1?!0:p.search?p.filtered.groups.has(o):!0);Js(()=>f.group(o),[]),w3(o,s,[e.value,e.heading,c]);let h=g.useMemo(()=>({id:o,forceMount:i}),[i]);return g.createElement(Se.div,{ref:La(s,t),...a,"cmdk-group":"",role:"presentation",hidden:d?void 0:!0},n&&g.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},n),ky(e,p=>g.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?u:void 0},g.createElement(y3.Provider,{value:h},p))))}),Hre=g.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,i=g.useRef(null),a=Wo(o=>!o.search);return!n&&!a?null:g.createElement(Se.div,{ref:La(i,t),...r,"cmdk-separator":"",role:"separator"})}),qre=g.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,i=e.value!=null,a=ik(),o=Wo(u=>u.search),s=Wo(u=>u.selectedItemId),c=zh();return g.useEffect(()=>{e.value!=null&&a.setState("search",e.value)},[e.value]),g.createElement(Se.input,{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":s,id:c.inputId,type:"text",value:i?e.value:o,onChange:u=>{i||a.setState("search",u.target.value),n==null||n(u.target.value)}})}),Vre=g.forwardRef((e,t)=>{let{children:n,label:r="Suggestions",...i}=e,a=g.useRef(null),o=g.useRef(null),s=Wo(u=>u.selectedItemId),c=zh();return g.useEffect(()=>{if(o.current&&a.current){let u=o.current,f=a.current,d,h=new ResizeObserver(()=>{d=requestAnimationFrame(()=>{let p=u.offsetHeight;f.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return h.observe(u),()=>{cancelAnimationFrame(d),h.unobserve(u)}}},[]),g.createElement(Se.div,{ref:La(a,t),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":s,"aria-label":r,id:c.listId},ky(e,u=>g.createElement("div",{ref:La(o,c.listInnerRef),"cmdk-list-sizer":""},u)))}),Kre=g.forwardRef((e,t)=>{let{open:n,onOpenChange:r,overlayClassName:i,contentClassName:a,container:o,...s}=e;return g.createElement(Yj,{open:n,onOpenChange:r},g.createElement(Xj,{container:o},g.createElement(xy,{"cmdk-overlay":"",className:i}),g.createElement(by,{"aria-label":e.label,"cmdk-dialog":"",className:a},g.createElement(x3,{ref:t,...s}))))}),Gre=g.forwardRef((e,t)=>Wo(n=>n.filtered.count===0)?g.createElement(Se.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Yre=g.forwardRef((e,t)=>{let{progress:n,children:r,label:i="Loading...",...a}=e;return g.createElement(Se.div,{ref:t,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},ky(e,o=>g.createElement("div",{"aria-hidden":!0},o)))}),Sr=Object.assign(x3,{List:Vre,Item:zre,Input:qre,Group:Wre,Separator:Hre,Dialog:Kre,Empty:Gre,Loading:Yre});function Xre(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function Qre(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function b3(e){let t=g.useRef(e);return Js(()=>{t.current=e}),t}var Js=typeof window>"u"?g.useEffect:g.useLayoutEffect;function Fl(e){let t=g.useRef();return t.current===void 0&&(t.current=e()),t}function Wo(e){let t=ik(),n=()=>e(t.snapshot());return g.useSyncExternalStore(t.subscribe,n,n)}function w3(e,t,n,r=[]){let i=g.useRef(),a=zh();return Js(()=>{var o;let s=(()=>{var u;for(let f of n){if(typeof f=="string")return f.trim();if(typeof f=="object"&&"current"in f)return f.current?(u=f.current.textContent)==null?void 0:u.trim():i.current}})(),c=r.map(u=>u.trim());a.value(e,s,c),(o=t.current)==null||o.setAttribute(Ll,s),i.current=s}),i}var Jre=()=>{let[e,t]=g.useState(),n=Fl(()=>new Map);return Js(()=>{n.current.forEach(r=>r()),n.current=new Map},[e]),(r,i)=>{n.current.set(r,i),t({})}};function Zre(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function ky({asChild:e,children:t},n){return e&&g.isValidElement(t)?g.cloneElement(Zre(t),{ref:t.ref},n(t.props.children)):n(t)}var eie={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Gc=g.forwardRef(({className:e,...t},n)=>l.jsx(Sr,{ref:n,className:pe("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));Gc.displayName=Sr.displayName;const Yc=g.forwardRef(({className:e,...t},n)=>l.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[l.jsx(qm,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),l.jsx(Sr.Input,{ref:n,className:pe("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));Yc.displayName=Sr.Input.displayName;const _3=g.forwardRef(({className:e,...t},n)=>l.jsx(Sr.List,{ref:n,className:pe("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));_3.displayName=Sr.List.displayName;const Xc=g.forwardRef((e,t)=>l.jsx(Sr.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));Xc.displayName=Sr.Empty.displayName;const Qc=g.forwardRef(({className:e,...t},n)=>l.jsx(Sr.Group,{ref:n,className:pe("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));Qc.displayName=Sr.Group.displayName;const tie=g.forwardRef(({className:e,...t},n)=>l.jsx(Sr.Separator,{ref:n,className:pe("-mx-1 h-px bg-border",e),...t}));tie.displayName=Sr.Separator.displayName;const Jc=g.forwardRef(({className:e,...t},n)=>l.jsx(Sr.Item,{ref:n,className:pe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));Jc.displayName=Sr.Item.displayName;let M0=!1,$0=null;function ak(){return M0?Promise.resolve():($0||($0=X.auth.getSession().then(()=>{M0=!0}).catch(()=>{M0=!0})),$0)}const Ru=()=>{const[e,t]=g.useState([]),[n,r]=g.useState(!0),[i,a]=g.useState(null),[o,s]=g.useState(null),c=g.useState({current:null})[0],u=async()=>{try{const f=String(o||"__ALL__");if(c.current===f)return;c.current=f,r(!0),a(null),console.log("Fetching AI agents..."),await ak();let d=X.from("ai_profiles").select("id, org_id, name, description, system_prompt, welcome_message, transfer_conditions, stop_ai_after_handoff, temperature, created_at, auto_resolve_after_minutes, enable_resolve").order("created_at",{ascending:!1});const{data:h,error:p}=await d;if(console.log("AI agents data:",h),console.log("AI agents error:",p),p){console.error("Error fetching AI agents:",p),a(p.message),t([]);return}console.log("Successfully fetched AI agents:",h),t(h||[]);try{localStorage.setItem("app.cachedAIAgents",JSON.stringify(h||[]))}catch{}}catch(f){console.error("Error fetching AI agents:",f),a("Failed to fetch AI agents"),t([])}finally{c.current=null,r(!1)}};return g.useEffect(()=>{try{const h=localStorage.getItem("app.cachedAIAgents");if(h){const p=JSON.parse(h);Array.isArray(p)&&t(p)}}catch{}const d=setTimeout(()=>u(),50);return()=>clearTimeout(d)},[o]),{aiAgents:e,loading:n,error:i,fetchAIAgents:u,setFilterBySuper:s}},pl=()=>{const[e,t]=g.useState([]),[n,r]=g.useState(!0),[i,a]=g.useState(null);let o=!1;const s=b=>{o=b},c=()=>{try{const b=localStorage.getItem("app.cachedAgents");if(!b)return!1;const S=JSON.parse(b);if(Array.isArray(S))return t(S),!0}catch{}return!1},u=b=>{const S=(b==null?void 0:b.filter(j=>j!=null))||[];return S.includes("master_agent")?"master_agent":S.includes("super_agent")?"super_agent":S.includes("agent")?"agent":null},f=6e4;globalThis.__agentsCache||(globalThis.__agentsCache={data:null,ts:0,inFlight:null});const d=globalThis.__agentsCache,h=b=>(b||[]).map(S=>{var k;const j=((k=S.roles)==null?void 0:k.filter(E=>E!=null))||[],_=u(S.roles||[]);return{user_id:S.id,email:S.email,display_name:S.display_name,avatar_url:S.avatar_url,timezone:S.timezone,created_at:S.created_at,roles:j,primaryRole:_,status:"Active",super_agent_id:null}}),p=async()=>(d.inFlight||(d.inFlight=(async()=>{await ak();const{data:b,error:S}=await X.from("v_users").select("*").order("created_at",{ascending:!1});if(S)throw S;let j=h(b||[]);try{const{data:_}=await X.from("super_agent_members").select("agent_user_id, super_agent_id");if(_&&Array.isArray(_)){const k={};_.forEach(E=>{k[E.agent_user_id]=E.super_agent_id}),j=j.map(E=>E.primaryRole==="agent"?{...E,super_agent_id:k[E.user_id]||null}:E)}}catch{}d.data=j,d.ts=Date.now(),d.inFlight=null;try{localStorage.setItem("app.cachedAgents",JSON.stringify(j))}catch{}return j})().catch(b=>{throw d.inFlight=null,b})),d.inFlight),m=async()=>d.data&&Date.now()-d.ts<f?d.data:await p(),v=async b=>{try{r(!0),a(null),b!=null&&b.force&&(d.ts=0);const S=await m();t(S)}catch(S){console.error("Error fetching human agents:",S),a("Failed to fetch human agents"),t([])}finally{r(!1)}},y=async b=>{try{a(null);const{data:S,error:j}=await X.functions.invoke("admin-create-user",{headers:{"x-client-origin":typeof window<"u"?window.location.origin:""},body:{email:b.email,full_name:b.full_name,role:b.role}});if(j)throw j;try{await X.from("users_profile").update({is_2fa_email_enabled:o}).eq("user_id",S==null?void 0:S.id)}catch{}await v({force:!0});try{await It({action:"user.create",resource:"user",resourceId:(S==null?void 0:S.id)||null,context:b})}catch{}return{id:S==null?void 0:S.id}}catch(S){throw console.error("Error creating agent:",S),a(S instanceof Error?S.message:"Failed to create agent"),S}},x=async(b,S)=>{try{a(null);const{data:j,error:_}=await X.from("roles").select("id").eq("name",S).single();if(_)throw _;const{error:k}=await X.from("user_roles").delete().eq("user_id",b);if(k)throw k;const{error:E}=await X.from("user_roles").insert([{user_id:b,role_id:j.id}]);if(E)throw E;await v({force:!0});try{await It({action:"user.update_role",resource:"user",resourceId:b,context:{role:S}})}catch{}}catch(j){throw console.error("Error updating agent role:",j),a(j instanceof Error?j.message:"Failed to update agent role"),j}},w=async b=>{try{a(null);const{error:S}=await X.functions.invoke("admin-delete-user",{body:{user_id:b}});if(S)throw S;await v({force:!0});try{await It({action:"user.delete",resource:"user",resourceId:b})}catch{}}catch(S){throw console.error("Error deleting agent:",S),a(S instanceof Error?S.message:"Failed to delete agent"),S}};return g.useEffect(()=>{c()&&r(!1),v()},[]),{agents:e,teams:[],loading:n,error:i,fetchAgents:v,fetchTeams:()=>Promise.resolve(),createAgent:y,updateAgentStatus:()=>Promise.resolve(),updateAgentRole:x,deleteAgent:w,createTeam:()=>Promise.resolve(),addAgentToTeam:()=>Promise.resolve(),removeAgentFromTeam:()=>Promise.resolve(),setEnable2FAFlagForCreate:s}},nie=({onFilterChange:e})=>{var w,b;const[t,n]=g.useState(!1),[r,i]=g.useState(),[a,o]=g.useState(),[s,c]=g.useState(!1),[u,f]=g.useState(!1),[d,h]=g.useState({dateRange:{},inbox:"",label:[],agent:"",status:"",resolvedBy:"",aiAgent:"",pipelineStatus:"",channelType:"all"}),{aiAgents:p}=Ru(),{agents:m}=pl(),v=(S,j)=>{const _={...d,[S]:j};h(_)},y=()=>{const S={...d,dateRange:{from:r,to:a}};e(S),n(!1)},x=()=>{const S={dateRange:{},inbox:"",label:[],agent:"",status:"",resolvedBy:"",aiAgent:"",pipelineStatus:""};h(S),i(void 0),o(void 0),e(S)};return l.jsxs(Rr,{open:t,onOpenChange:n,children:[l.jsx(ek,{asChild:!0,children:l.jsx(ne,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:l.jsx(r$,{className:"h-4 w-4"})})}),l.jsxs(mr,{className:"sm:max-w-[800px] max-h-[80vh] overflow-y-auto",children:[l.jsx(gr,{children:l.jsx(vr,{children:"Filter"})}),l.jsxs("div",{className:"grid gap-6 py-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Date Range"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(Ca,{children:[l.jsx(Ea,{asChild:!0,children:l.jsxs(ne,{variant:"outline",className:pe("w-full justify-start text-left font-normal",!r&&"text-muted-foreground"),children:[l.jsx(jw,{className:"mr-2 h-4 w-4"}),r?za(r,"dd-MM-yyyy"):"DD-MM-YYYY"]})}),l.jsx(Xi,{className:"w-auto p-0",align:"start",children:l.jsx(o1,{mode:"single",selected:r,onSelect:i,initialFocus:!0,className:"pointer-events-auto"})})]}),l.jsx("span",{className:"self-center text-muted-foreground",children:"-"}),l.jsxs(Ca,{children:[l.jsx(Ea,{asChild:!0,children:l.jsxs(ne,{variant:"outline",className:pe("w-full justify-start text-left font-normal",!a&&"text-muted-foreground"),children:[l.jsx(jw,{className:"mr-2 h-4 w-4"}),a?za(a,"dd-MM-yyyy"):"DD-MM-YYYY"]})}),l.jsx(Xi,{className:"w-auto p-0",align:"start",children:l.jsx(o1,{mode:"single",selected:a,onSelect:o,initialFocus:!0,className:"pointer-events-auto"})})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Inbox"}),l.jsxs(Tt,{value:d.inbox,onValueChange:S=>v("inbox",S),children:[l.jsx(jt,{children:l.jsx(Ot,{placeholder:"All Inbox"})}),l.jsxs(kt,{children:[l.jsx(Ae,{value:"all",children:"All Inbox"}),l.jsx(Ae,{value:"whatsapp",children:"WhatsApp"}),l.jsx(Ae,{value:"telegram",children:"Telegram"}),l.jsx(Ae,{value:"email",children:"Email"})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Label"}),l.jsxs(Tt,{value:d.label.join(","),onValueChange:S=>v("label",S.split(",").filter(Boolean)),children:[l.jsx(jt,{children:l.jsx(Ot,{placeholder:"Choose Labels"})}),l.jsxs(kt,{children:[l.jsx(Ae,{value:"urgent",children:"Urgent"}),l.jsx(Ae,{value:"important",children:"Important"}),l.jsx(Ae,{value:"follow-up",children:"Follow Up"}),l.jsx(Ae,{value:"resolved",children:"Resolved"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Resolved By"}),l.jsxs(Ca,{open:u,onOpenChange:f,children:[l.jsx(Ea,{asChild:!0,children:l.jsx(ne,{variant:"outline",role:"combobox",className:"w-full justify-between",children:((w=m.find(S=>S.user_id===d.resolvedBy))==null?void 0:w.display_name)||"Choose Agent"})}),l.jsx(Xi,{className:"w-[320px] p-0",children:l.jsxs(Gc,{children:[l.jsx(Yc,{placeholder:"Search Resolved By Agent"}),l.jsx(Xc,{children:"No agent found."}),l.jsx(Qc,{children:m.map(S=>l.jsx(Jc,{onSelect:()=>{v("resolvedBy",S.user_id),f(!1)},children:l.jsx("span",{className:"ml-2",children:S.display_name||"Unknown"})},S.user_id))})]})})]})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Agent"}),l.jsxs(Ca,{open:s,onOpenChange:c,children:[l.jsx(Ea,{asChild:!0,children:l.jsx(ne,{variant:"outline",role:"combobox",className:"w-full justify-between",children:((b=m.find(S=>S.user_id===d.agent))==null?void 0:b.display_name)||"Choose Agent"})}),l.jsx(Xi,{className:"w-[320px] p-0",children:l.jsxs(Gc,{children:[l.jsx(Yc,{placeholder:"Search Handled By Agent"}),l.jsx(Xc,{children:"No agent found."}),l.jsx(Qc,{children:m.map(S=>l.jsx(Jc,{onSelect:()=>{v("agent",S.user_id),c(!1)},children:l.jsx("span",{className:"ml-2",children:S.display_name||"Unknown"})},S.user_id))})]})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"AI Agent"}),l.jsxs(Tt,{value:d.aiAgent,onValueChange:S=>v("aiAgent",S),children:[l.jsx(jt,{children:l.jsx(Ot,{placeholder:"Choose AI Agent"})}),l.jsxs(kt,{children:[l.jsx(Ae,{value:"all",children:"All AI Agents"}),p.map(S=>l.jsx(Ae,{value:S.id,children:S.name},S.id))]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Channel Type"}),l.jsxs(Tt,{value:d.channelType,onValueChange:S=>v("channelType",S),children:[l.jsx(jt,{children:l.jsx(Ot,{placeholder:"All Channels"})}),l.jsxs(kt,{children:[l.jsx(Ae,{value:"all",children:"All Channels"}),l.jsx(Ae,{value:"whatsapp",children:"WhatsApp"}),l.jsx(Ae,{value:"telegram",children:"Telegram"}),l.jsx(Ae,{value:"web",children:"Live Chat"})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),l.jsxs(Tt,{value:d.status,onValueChange:S=>v("status",S),children:[l.jsx(jt,{children:l.jsx(Ot,{placeholder:"All Statuses"})}),l.jsxs(kt,{children:[l.jsx(Ae,{value:"all",children:"All Statuses"}),l.jsx(Ae,{value:"open",children:"Open"}),l.jsx(Ae,{value:"pending",children:"Pending"}),l.jsx(Ae,{value:"resolved",children:"Resolved"}),l.jsx(Ae,{value:"closed",children:"Closed"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Pipeline Status"}),l.jsxs(Tt,{value:d.pipelineStatus,onValueChange:S=>v("pipelineStatus",S),children:[l.jsx(jt,{children:l.jsx(Ot,{placeholder:"All Statuses"})}),l.jsxs(kt,{children:[l.jsx(Ae,{value:"all",children:"All Statuses"}),l.jsx(Ae,{value:"new",children:"New"}),l.jsx(Ae,{value:"qualified",children:"Qualified"}),l.jsx(Ae,{value:"proposal",children:"Proposal"}),l.jsx(Ae,{value:"negotiation",children:"Negotiation"}),l.jsx(Ae,{value:"closed-won",children:"Closed Won"}),l.jsx(Ae,{value:"closed-lost",children:"Closed Lost"})]})]})]})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[l.jsx(ne,{variant:"outline",onClick:x,children:"Reset"}),l.jsx(ne,{onClick:y,children:"Apply"})]})]})]})},D0={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_PROJECT_ID:"tgrmxlbnutxpewfmofdx",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRncm14bGJudXR4cGV3Zm1vZmR4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ5MDY0NzgsImV4cCI6MjA3MDQ4MjQ3OH0.ijDctaGPXK3Ce9uao72YaaYCX9fpPFZGpmrsWp9IfU8",VITE_SUPABASE_URL:"https://tgrmxlbnutxpewfmofdx.supabase.co"},ot={BASE_URL:(D0==null?void 0:D0.VITE_WEBHOOK_BASE_URL)||"https://primary-production-376c.up.railway.app/webhook",ENDPOINTS:{WHATSAPP:{GET_LOGIN_QR:"/get_login_qr",GET_SESSIONS:"/get_sessions",LOGOUT_SESSION:"/logout_session",CREATE_PLATFORM:"/whatsapp/create-platform",CREATE_SESSION:"/create_session",DISCONNECT_SESSION:"/disconnect_session",DELETE_SESSION:"/delete_session"},TELEGRAM:{CREATE_PLATFORM:"/telegram/create-platform",SEND_MESSAGE:"/telegram/send-message",DELETE_WEBHOOK:"/telegram/delete-webhook"},AI_AGENT:{CHAT_SETTINGS:"/chat-ai-agent-settings"},KNOWLEDGE:{FILE_UPLOAD:"/knowledge/file-upload",FILE_DELETE:"/knowledge/file-delete"},MESSAGE:{SEND_MESSAGE:"/send-message",WHATSAPP_SEND_MESSAGE:"/whatsapp/send-message"}},buildUrl:e=>`${ot.BASE_URL}${e}`,buildTestUrl:e=>`${ot.BASE_URL.replace("/webhook","/webhook-test")}${e}`},rie={telegram:ot.ENDPOINTS.TELEGRAM.SEND_MESSAGE,whatsapp:ot.ENDPOINTS.MESSAGE.WHATSAPP_SEND_MESSAGE},vN=e=>{const t=(e||"").toLowerCase(),n=rie[t]||ot.ENDPOINTS.MESSAGE.SEND_MESSAGE;ot.ENDPOINTS.MESSAGE.SEND_MESSAGE=n};let yN=0;const iie=1e3,Op=(e="incoming")=>{try{if(!(localStorage.getItem("audioNotifications")!=="false"))return;if(document.visibilityState!=="visible"){console.log("Skipping audio notification - tab not visible");return}const n=Date.now();if(n-yN<iie){console.log("Skipping duplicate audio notification");return}yN=n;const r=new Audio;e==="incoming"?r.src="/tones/mixkit-message-pop-alert-2354.mp3":r.src="/tones/mixkit-long-pop-2358.wav",r.volume=.7,r.play().catch(i=>{console.log("Audio notification failed:",i)})}catch(t){console.log("Audio notification error:",t)}},aie=()=>{const[e,t]=g.useState([]),[n,r]=g.useState([]),[i,a]=g.useState(!1),[o,s]=g.useState(null),[c,u]=g.useState(null),[f,d]=g.useState(!1),h=g.useRef(null),p=(N=400)=>{try{h.current&&(clearTimeout(h.current),h.current=null)}catch{}h.current=window.setTimeout(()=>{document.visibilityState==="visible"&&y()},N)},m=(N,O)=>{t(R=>{const W=R.map(D=>D.id===N?{...D,last_message_preview:((O==null?void 0:O.body)||"").toString().replace(/\s+/g," ").trim()||"—",last_message_direction:(O==null?void 0:O.direction)??null,last_message_role:(O==null?void 0:O.role)??null,last_msg_at:(O==null?void 0:O.created_at)||D.last_msg_at,unreplied:(O==null?void 0:O.direction)==="in"||(O==null?void 0:O.role)==="user"}:D).sort((D,B)=>{if(D.unreplied&&!B.unreplied)return-1;if(!D.unreplied&&B.unreplied)return 1;const $=new Date(D.last_msg_at).getTime();return new Date(B.last_msg_at).getTime()-$});return console.log("Re-sorted conversations after message update"),W})},v=()=>{try{const N=localStorage.getItem("app.cachedConversations");if(!N)return!1;const O=JSON.parse(N);if(Array.isArray(O)&&O.length>=0)return t(O),d(!0),a(!1),!0}catch{}return!1},y=async()=>{try{f||a(!0),s(null),await ak();const N=X.from("threads").select(`
          *,
          contacts(name, phone, email),
          channels(display_name, type, provider, external_id),
          messages(id, body, role, direction, created_at, seq)
        `).order("last_msg_at",{ascending:!1}).order("created_at",{foreignTable:"messages",ascending:!1}).limit(1,{foreignTable:"messages"}),O=new Promise((L,A)=>{const M=setTimeout(()=>{clearTimeout(M),A(new Error("timeout"))},8e3)}),{data:R,error:F}=await Promise.race([N,O]);if(F)throw F;const W=Array.from(new Set((R||[]).flatMap(L=>[L.assigned_by_user_id,L.assignee_user_id,L.resolved_by_user_id]).filter(Boolean)));let D={};if(W.length>0){const{data:L,error:A}=await X.from("users_profile").select("user_id, display_name").in("user_id",W);if(A)throw A;D=Object.fromEntries((L||[]).map(M=>[M.user_id,M.display_name||"—"]))}const $=(R||[]).map(L=>{var K,Q,Y,le,Z,oe,re,J,ke,V;const A=Array.isArray(L.messages)&&L.messages.length>0?L.messages[0]:null,M=((A==null?void 0:A.body)||"").toString().replace(/\s+/g," ").trim(),T=(A==null?void 0:A.direction)??null,C=(A==null?void 0:A.role)??null,U=T==="in"||C==="user";return A&&console.log(`Thread ${L.id}: Latest message at ${A.created_at}, DB last_msg_at: ${L.last_msg_at}`),{...L,contact_name:((K=L.contacts)==null?void 0:K.name)||"Unknown Contact",contact_phone:((Q=L.contacts)==null?void 0:Q.phone)||"",contact_email:((Y=L.contacts)==null?void 0:Y.email)||"",channel_name:((le=L.channels)==null?void 0:le.display_name)||"Unknown Channel",channel_type:((Z=L.channels)==null?void 0:Z.type)||"web",channel_provider:((oe=L.channels)==null?void 0:oe.provider)||void 0,channel:{provider:(re=L.channels)==null?void 0:re.provider,type:(J=L.channels)==null?void 0:J.type,display_name:(ke=L.channels)==null?void 0:ke.display_name,external_id:(V=L.channels)==null?void 0:V.external_id},last_message_preview:M||"—",last_message_direction:T,last_message_role:C,last_msg_at:(A==null?void 0:A.created_at)||L.last_msg_at,message_count:0,assigned:!!L.assignee_user_id,assigned_by_name:L.assigned_by_user_id&&D[L.assigned_by_user_id]||"—",assignee_name:L.assignee_user_id&&D[L.assignee_user_id]||"—",resolved_by_name:L.resolved_by_user_id&&D[L.resolved_by_user_id]||"—",unreplied:U}}).sort((L,A)=>{if(L.unreplied&&!A.unreplied)return-1;if(!L.unreplied&&A.unreplied)return 1;const M=new Date(L.last_msg_at).getTime();return new Date(A.last_msg_at).getTime()-M});console.log("Sorted conversations:",$.length,"conversations"),t($);try{localStorage.setItem("app.cachedConversations",JSON.stringify($))}catch{}}catch(N){console.error("Error fetching conversations:",N),s(N instanceof Error?N.message:"Failed to fetch conversations")}finally{a(!1)}},x=async N=>{var O;try{console.log("Fetching messages for thread:",N),s(null);const{data:R,error:F}=await X.from("messages").select(`
          id,
          thread_id,
          direction,
          role,
          type,
          body,
          payload,
          actor_kind,
          actor_id,
          seq,
          in_reply_to,
          edited_at,
          edit_reason,
          created_at
        `).eq("thread_id",N).order("seq",{ascending:!0});if(F)throw F;const{data:W}=await X.from("threads").select(`
          contacts(name, phone, email)
        `).eq("id",N).maybeSingle(),D=((O=W==null?void 0:W.contacts)==null?void 0:O.name)||"Unknown Contact",B=(R||[]).map($=>{var L;return{...$,contact_name:D,contact_avatar:((L=D[0])==null?void 0:L.toUpperCase())||"U"}});console.log("Setting messages:",B.length,"messages for thread:",N),r(B),u(N)}catch(R){console.error("Error fetching messages:",R),s(R instanceof Error?R.message:"Failed to fetch messages")}},w=async(N,O,R="assistant")=>{try{s(null);const{data:F,error:W}=await X.from("threads").select("channel_id, contact_id").eq("id",N).single();if(W)throw W;const D={thread_id:N,direction:"out",role:R,type:"text",body:O,payload:{},actor_kind:"agent",actor_id:null},$={id:`tmp_${Math.random().toString(36).slice(2)}`,thread_id:N,direction:"out",role:R,type:"text",body:O,payload:{},actor_kind:"agent",actor_id:null,seq:0,in_reply_to:null,edited_at:null,edit_reason:null,created_at:new Date().toISOString(),contact_name:"",contact_avatar:"A",_status:"pending"};r(C=>[...C,$]);const{data:L,error:A}=await X.from("messages").insert([D]).select().single();if(A)throw A;const{data:M,error:T}=await X.from("contacts").select("phone, external_id").eq("id",F.contact_id).single();T&&console.warn("Error fetching contact details:",T);try{const C={channel_id:F.channel_id,contact_id:F.contact_id,contact_phone:(M==null?void 0:M.phone)||null,external_id:(M==null?void 0:M.external_id)||null,text:O,type:"text",direction:"out",role:R},U=await fetch(ot.buildUrl(ot.ENDPOINTS.MESSAGE.SEND_MESSAGE),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)});U.ok||console.warn("Webhook call failed:",U.status,U.statusText)}catch(C){console.error("Error calling webhook:",C)}await x(N),m(N,{body:O,direction:"out",role:R,created_at:new Date().toISOString()});try{await It({action:"message.send",resource:"message",resourceId:(L==null?void 0:L.id)??null,context:{thread_id:N,role:R}})}catch{}return L}catch(F){throw console.error("Error sending message:",F),s(F instanceof Error?F.message:"Failed to send message"),r(W=>{const D=[...W];for(let B=D.length-1;B>=0;B--)if(D[B]._status==="pending"){D[B]._status="error";break}return D}),F}},b=async(N,O)=>{var R;try{s(null);const F={org_id:((R=(await X.auth.getUser()).data.user)==null?void 0:R.id)||"00000000-0000-0000-0000-000000000001",contact_id:N,channel_id:O,status:"open",assignee_user_id:null},{data:W,error:D}=await X.from("threads").insert([F]).select().single();if(D)throw D;await y();try{await It({action:"thread.create",resource:"thread",resourceId:(W==null?void 0:W.id)??null,context:{contact_id:N,channel_id:O}})}catch{}return W}catch(F){throw console.error("Error creating conversation:",F),s(F instanceof Error?F.message:"Failed to create conversation"),F}},S=async(N,O)=>{try{s(null);const{error:R}=await X.from("threads").update({status:O}).eq("id",N);if(R)throw R;await y();try{await It({action:"thread.update_status",resource:"thread",resourceId:N,context:{status:O}})}catch{}}catch(R){throw console.error("Error updating thread status:",R),s(R instanceof Error?R.message:"Failed to update thread status"),R}},j=async(N,O)=>{var R,F,W;try{s(null);const{error:D}=await X.rpc("takeover_thread",{p_thread_id:N});D&&console.warn("takeover_thread RPC failed; will attempt direct update",D);const{data:B}=await X.auth.getUser(),$=((R=B==null?void 0:B.user)==null?void 0:R.id)||null;try{const{data:L}=await X.from("threads").select("assignee_user_id").eq("id",N).single();if(!!!(L!=null&&L.assignee_user_id)&&$){const{error:M}=await X.from("threads").update({assignee_user_id:$,assigned_by_user_id:$,assigned_at:new Date().toISOString(),handover_reason:"other:manual_takeover",ai_access_enabled:!1}).eq("id",N);M&&console.warn("Fallback assignment update failed",M)}}catch(L){console.warn("Failed verifying assignment state",L)}try{await X.from("threads").update({ai_access_enabled:!1}).eq("id",N)}catch{}try{const{data:L}=await X.auth.getUser(),A=((F=L==null?void 0:L.user)==null?void 0:F.id)||null;let M=null;if(A){const{data:T}=await X.from("users_profile").select("display_name").eq("user_id",A).single();M=(T==null?void 0:T.display_name)||null}await X.from("messages").insert([{thread_id:N,direction:null,role:"system",type:"event",body:`Conversation taken over by ${M||((W=L==null?void 0:L.user)==null?void 0:W.email)||"agent"}.`,payload:{event:"takeover",user_id:A}}])}catch(L){console.warn("Failed to insert takeover event message",L)}await y(),await x(N);try{await It({action:"thread.assign",resource:"thread",resourceId:N,context:{assignee_user_id:O}})}catch{}}catch(D){throw console.error("Error assigning thread:",D),s(D instanceof Error?D.message:"Failed to assign thread"),D}},_=async(N,O)=>{try{s(null);const{error:R}=await X.from("thread_collaborators").insert([{thread_id:N,user_id:O}]);if(R)throw R;try{await It({action:"thread.add_participant",resource:"thread",resourceId:N,context:{user_id:O}})}catch{}}catch(R){throw console.error("Error adding thread participant:",R),s(R instanceof Error?R.message:"Failed to add thread participant"),R}},k=async(N,O)=>{try{s(null);const{error:R}=await X.from("thread_collaborators").delete().eq("thread_id",N).eq("user_id",O);if(R)throw R;try{await It({action:"thread.remove_participant",resource:"thread",resourceId:N,context:{user_id:O}})}catch{}}catch(R){throw console.error("Error removing thread participant:",R),s(R instanceof Error?R.message:"Failed to remove thread participant"),R}},E=async(N,O)=>{try{s(null);const{error:R}=await X.from("thread_labels").insert([{thread_id:N,label_id:O}]);if(R)throw R;try{await It({action:"thread.add_label",resource:"thread",resourceId:N,context:{label_id:O}})}catch{}}catch(R){throw console.error("Error adding thread label:",R),s(R instanceof Error?R.message:"Failed to add thread label"),R}},I=async(N,O)=>{try{s(null);const{error:R}=await X.from("thread_labels").delete().eq("thread_id",N).eq("label_id",O);if(R)throw R;try{await It({action:"thread.remove_label",resource:"thread",resourceId:N,context:{label_id:O}})}catch{}}catch(R){throw console.error("Error removing thread label:",R),s(R instanceof Error?R.message:"Failed to remove thread label"),R}};g.useEffect(()=>{v(),y()},[]);const P=async()=>{try{const{data:N,error:O}=await X.rpc("check_and_auto_resolve_threads");if(O){console.error("Auto-resolve check failed:",O);return}N&&N.length>0&&(console.log("Auto-resolved threads:",N),y())}catch(N){console.error("Auto-resolve check error:",N)}};return g.useEffect(()=>{const N=setInterval(()=>{document.visibilityState==="visible"&&P()},3e4);return()=>clearInterval(N)},[]),g.useEffect(()=>{const N=X.channel("threads-realtime").on("postgres_changes",{event:"*",schema:"public",table:"threads"},()=>{document.visibilityState==="visible"&&p(200)}).subscribe();return()=>{try{X.removeChannel(N)}catch{}}},[]),g.useEffect(()=>{const N=X.channel("messages-realtime-for-convlist").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},O=>{const R=O.new;console.log("New message for conversation list:",O),R&&R.direction==="in"&&document.visibilityState==="visible"?(console.log("Refreshing conversations for incoming message"),console.log("Playing notification sound for incoming message in conversation list"),Op("incoming"),m(R.thread_id,R),p(100),P()):R&&(R.role==="system"||R.type==="event")&&document.visibilityState==="visible"?(console.log("Refreshing conversations for system/event message"),console.log("Playing notification sound for system/event message"),Op("incoming"),m(R.thread_id,R),p(200)):R&&R.role==="agent"&&R.direction==="out"&&document.visibilityState==="visible"&&(console.log("AI agent responded - checking auto-resolve"),P())}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"messages"},()=>{document.visibilityState==="visible"&&p(500)}).on("postgres_changes",{event:"DELETE",schema:"public",table:"messages"},()=>{document.visibilityState==="visible"&&p(300)}).subscribe(O=>{console.log("Conversations subscription status:",O)});return()=>{try{X.removeChannel(N)}catch{}try{h.current&&(clearTimeout(h.current),h.current=null)}catch{}}},[]),g.useEffect(()=>{if(!c)return;console.log("Setting up realtime subscription for thread:",c);const N=setInterval(()=>{console.log("Periodic refresh of messages for thread:",c),x(c)},3e4),O=X.channel(`messages-${c}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`thread_id=eq.${c}`},R=>{console.log("New message received:",R);const F=R.new;F&&F.direction==="in"&&(console.log("Playing notification sound for incoming message"),Op("incoming")),x(c)}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"messages",filter:`thread_id=eq.${c}`},R=>{console.log("Message updated:",R),x(c)}).on("postgres_changes",{event:"DELETE",schema:"public",table:"messages",filter:`thread_id=eq.${c}`},R=>{console.log("Message deleted:",R),x(c)}).subscribe(R=>{console.log("Messages subscription status:",R),R==="SUBSCRIBED"?console.log("Successfully subscribed to messages for thread:",c):R==="CHANNEL_ERROR"&&(console.error("Error subscribing to messages for thread:",c),setTimeout(()=>{console.log("Retrying messages subscription..."),x(c)},1e3))});return()=>{console.log("Cleaning up messages subscription for thread:",c),clearInterval(N);try{X.removeChannel(O)}catch{}}},[c]),{conversations:e,messages:n,loading:i,error:o,selectedThreadId:c,fetchConversations:y,fetchMessages:x,sendMessage:w,refreshMessages:()=>{c&&(console.log("Manual refresh of messages for thread:",c),x(c))},enableAudioNotifications:()=>{localStorage.setItem("audioNotifications","true"),console.log("Audio notifications enabled")},disableAudioNotifications:()=>{localStorage.setItem("audioNotifications","false"),console.log("Audio notifications disabled")},testAudioNotification:()=>{console.log("Testing audio notification"),Op("incoming")},createConversation:b,updateThreadStatus:S,assignThread:j,addThreadParticipant:_,removeThreadParticipant:k,addThreadLabel:E,removeThreadLabel:I,checkAutoResolve:P}},S3=()=>{const[e,t]=g.useState([]),[n,r]=g.useState(!0),[i,a]=g.useState(null),[o,s]=g.useState(0),c=async(p=1,m=100,v,y)=>{var x,w,b,S;try{r(!0),a(null);const j=!!(y!=null&&y.chatStatus||y!=null&&y.handledBy||(x=y==null?void 0:y.dateRange)!=null&&x.from||(w=y==null?void 0:y.dateRange)!=null&&w.to);let _=X.from("contacts").select(`
          id, org_id, name, email, phone, locale, notes, created_at,
          threads${j?"!inner":""}(
            status, created_at, assignee_user_id,
            channels(display_name, provider, type)
          )
          `,{count:"exact"}).eq("org_id","00000000-0000-0000-0000-000000000001").order("created_at",{ascending:!1});if(v&&(_=_.or(`name.ilike.%${v}%,phone.ilike.%${v}%,email.ilike.%${v}%`)),y&&(y.chatStatus&&(_=_.eq("threads.status",y.chatStatus)),y.handledBy==="unassigned"?_=_.is("threads.assignee_user_id",null):y.handledBy==="assigned"&&(_=_.not("threads.assignee_user_id","is",null)),(b=y.dateRange)!=null&&b.from&&(_=_.gte("threads.created_at",y.dateRange.from)),(S=y.dateRange)!=null&&S.to)){const R=y.dateRange.to.length>10?y.dateRange.to:`${y.dateRange.to}T23:59:59.999Z`;_=_.lte("threads.created_at",R)}const k=(p-1)*m,E=k+m-1;_=_.range(k,E),_=_.order("created_at",{foreignTable:"threads",ascending:!1}).limit(1,{foreignTable:"threads"});const{data:I,error:P,count:N}=await _;if(P)throw P;let O=(I||[]).map(R=>{var B;const F=(R.threads||[])[0]||null,W=((B=F==null?void 0:F.channels)==null?void 0:B.display_name)||"—",D=F!=null&&F.created_at?new Date(F.created_at).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(",",""):"—";return{id:R.id,org_id:R.org_id,name:R.name,email:R.email,phone:R.phone,locale:R.locale,notes:R.notes,created_at:R.created_at,labelNames:"",inbox:W,chatStatus:(F==null?void 0:F.status)||"—",chatCreatedAt:D,handledBy:F!=null&&F.assignee_user_id?"Assigned":"—"}});y&&(O=O.filter(R=>{var F,W;if(y.chatStatus&&R.chatStatus!==y.chatStatus||y.handledBy&&(y.handledBy==="unassigned"&&R.handledBy!==""||y.handledBy!=="unassigned"&&R.handledBy!==y.handledBy))return!1;if((F=y.dateRange)!=null&&F.from||(W=y.dateRange)!=null&&W.to){const D=new Date(R.created_at),B=y.dateRange.from?new Date(y.dateRange.from):null,$=y.dateRange.to?new Date(y.dateRange.to):null;if(B&&D<B||$&&D>$)return!1}return!0})),t(O),s(N||0)}catch(j){console.error("Error fetching contacts:",j),a(j instanceof Error?j.message:"Failed to fetch contacts")}finally{r(!1)}},u=async p=>{try{a(null);const{data:m,error:v}=await X.from("contacts").insert([{...p,org_id:"00000000-0000-0000-0000-000000000001"}]).select().single();if(v)throw v;await c();try{await It({action:"contact.create",resource:"contact",resourceId:(m==null?void 0:m.id)??null,context:p})}catch{}return m}catch(m){throw console.error("Error creating contact:",m),a(m instanceof Error?m.message:"Failed to create contact"),m}},f=async(p,m)=>{try{a(null);const{error:v}=await X.from("contacts").update(m).eq("id",p);if(v)throw v;await c();try{await It({action:"contact.update",resource:"contact",resourceId:p,context:m})}catch{}}catch(v){throw console.error("Error updating contact:",v),a(v instanceof Error?v.message:"Failed to update contact"),v}},d=async p=>{try{a(null);const{error:m}=await X.from("contacts").delete().eq("id",p);if(m)throw m;await c();try{await It({action:"contact.delete",resource:"contact",resourceId:p})}catch{}}catch(m){throw console.error("Error deleting contact:",m),a(m instanceof Error?m.message:"Failed to delete contact"),m}},h=async p=>{try{a(null);const{error:m}=await X.from("contacts").delete().in("id",p);if(m)throw m;await c();try{await It({action:"contact.bulk_delete",resource:"contact",context:{ids:p}})}catch{}}catch(m){throw console.error("Error deleting contacts:",m),a(m instanceof Error?m.message:"Failed to delete contacts"),m}};return g.useEffect(()=>{c()},[]),{contacts:e,loading:n,error:i,totalCount:o,fetchContacts:c,createContact:u,updateContact:f,deleteContact:d,deleteMultipleContacts:h}},p1={MASTER_AGENT:"master_agent",SUPER_AGENT:"super_agent",AGENT:"agent"},oie=({message:e,isLastMessage:t,highlighted:n=!1})=>{const r=e.role==="assistant"||e.role==="agent"||e.direction==="out",i=e.role==="system"||e.type==="event"||e.type==="note",a=e.role==="assistant",o=e.role==="agent";return i?l.jsx("div",{className:"flex justify-center my-4",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:e.body||"System event"}),l.jsxs("div",{className:"flex items-center justify-center gap-2 mt-1 text-xs text-muted-foreground",children:[l.jsx("span",{children:new Date(e.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),l.jsx("span",{children:"•"}),l.jsx("span",{children:"system"})]})]})}):l.jsx("div",{className:`flex ${r?"justify-end":"justify-start"} mb-3`,children:l.jsxs("div",{className:`flex ${r?"flex-row-reverse":"flex-row"} items-end gap-2 max-w-[75%]`,children:[l.jsxs(Jo,{className:"h-8 w-8",children:[l.jsx(Tu,{src:""}),l.jsx(Zo,{className:"text-xs",children:r?"A":e.contact_avatar})]}),l.jsxs("div",{className:`rounded-lg px-3 py-2 text-sm shadow-sm ${o?"bg-blue-600 text-white":a?"bg-blue-100 text-blue-900":"bg-muted text-foreground"} ${n?"ring-2 ring-yellow-300":""}`,children:[l.jsx("p",{className:"whitespace-pre-wrap",children:e.body}),l.jsxs("div",{className:`mt-1 flex items-center gap-1 text-[10px] ${o?"text-blue-100":a?"text-blue-700":"text-muted-foreground"}`,children:[l.jsx("span",{children:new Date(e.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),r&&(e._status==="pending"?l.jsx(St,{className:"h-3 w-3 animate-spin","aria-label":"pending"}):t?l.jsx(jH,{className:"h-3 w-3","aria-label":"sent"}):null)]})]})]})})};function sie(){var oe,re,J,ke;const[e,t]=g.useState(""),[n,r]=g.useState(""),[i,a]=g.useState(null),[o,s]=g.useState("assigned");g.useState(!1),g.useState(!1);const[c,u]=g.useState(""),[f,d]=g.useState(null),h=g.useRef(null),p=g.useRef(null),m=g.useRef({}),{conversations:v,messages:y,loading:x,error:w,fetchConversations:b,fetchMessages:S,sendMessage:j,createConversation:_,addThreadParticipant:k,removeThreadParticipant:E,addThreadLabel:I,removeThreadLabel:P,assignThread:N}=aie();S3();const{agents:O}=pl(),{user:R}=Ri(),{hasRole:F}=Ga(),[W,D]=g.useState(!1),[B,$]=g.useState(!1),[L,A]=g.useState(!1),[M,T]=g.useState({}),C=g.useMemo(()=>{var ee,fe;let V=v.filter(je=>`${je.contact_name} ${je.last_message_preview}`.toLowerCase().includes(e.toLowerCase()));if(M.status&&M.status!=="all"&&(M.status==="resolved"?V=V.filter(je=>je.status==="closed"):V=V.filter(je=>je.status===M.status)),M.agent&&M.agent!=="all"&&(V=V.filter(je=>je.assignee_user_id===M.agent)),M.resolvedBy&&M.resolvedBy!=="all"&&(V=V.filter(je=>je.resolved_by_user_id===M.resolvedBy)),M.inbox&&M.inbox!=="all"&&(V=V.filter(je=>je.channel_type===M.inbox)),M.channelType&&M.channelType!=="all"){const Re={whatsapp:"whatsapp",telegram:"telegram",web:"web"}[M.channelType];Re&&(V=V.filter(xe=>{var Te;return(((Te=xe.channel)==null?void 0:Te.provider)||xe.channel_type)===Re}))}if((ee=M.dateRange)!=null&&ee.from||(fe=M.dateRange)!=null&&fe.to){const je=M.dateRange.from?new Date(M.dateRange.from).getTime():-1/0,Re=M.dateRange.to?new Date(M.dateRange.to).getTime():1/0;V=V.filter(xe=>{const Te=new Date(xe.created_at).getTime();return Te>=je&&Te<=Re})}return V=[...V].sort((je,Re)=>{const xe=je.unreplied?1:0,Te=Re.unreplied?1:0;return xe!==Te?Te-xe:new Date(Re.last_msg_at).getTime()-new Date(je.last_msg_at).getTime()}),V},[v,e,M]);g.useEffect(()=>{const V=C.some(fe=>fe.status!=="closed"),ee=C.some(fe=>fe.status==="closed");!V&&ee&&o!=="resolved"&&s("resolved")},[C,o]);const U=g.useMemo(()=>i&&C.find(V=>V.id===i)||null,[i,C]);g.useEffect(()=>{(async()=>{try{if(!(U!=null&&U.id)||!(R!=null&&R.id)){A(!1);return}const{data:ee,error:fe}=await X.from("thread_collaborators").select("user_id").eq("thread_id",U.id).eq("user_id",R.id).limit(1);if(fe)throw fe;A(!!ee&&ee.length>0)}catch(ee){console.warn("Failed to check collaborator status",ee),A(!1)}})()},[U==null?void 0:U.id,R==null?void 0:R.id]);const K=async()=>{if(U){if(!(R!=null&&R.id)){Oe.error("You must be signed in to take over");return}try{const V=F(p1.MASTER_AGENT)||F(p1.SUPER_AGENT);if(!L)if(V)try{const{data:ee}=await X.from("thread_collaborators").select("user_id").eq("thread_id",U.id).eq("user_id",R.id).limit(1);(!ee||ee.length===0)&&await k(U.id,R.id),A(!0)}catch(ee){console.warn("Failed to ensure collaborator before takeover",ee),Oe.error("Please join as collaborator before taking over");return}else{Oe.error("Please join as collaborator before taking over");return}await N(U.id,R.id),Oe.success("You are now assigned to this chat"),s("assigned"),await b()}catch{Oe.error("Failed to take over chat")}}};g.useEffect(()=>{var V;(V=p.current)==null||V.scrollIntoView({behavior:"smooth"})},[y]);const Q=async V=>{var fe;const ee=C.find(je=>je.id===V);(fe=ee==null?void 0:ee.channel)!=null&&fe.provider&&vN(ee.channel.provider),a(V),await S(V)},Y=async()=>{const V=n.trim();if(!(!V||!i))try{if(R!=null&&R.id){const{data:ee}=await X.from("users_profile").select("token_limit_enabled, max_tokens_per_day, max_tokens_per_month").eq("user_id",R.id).maybeSingle();if(ee!=null&&ee.token_limit_enabled){const fe=new Date,je=new Date(Date.UTC(fe.getUTCFullYear(),fe.getUTCMonth(),fe.getUTCDate(),0,0,0)).toISOString(),Re=new Date(Date.UTC(fe.getUTCFullYear(),fe.getUTCMonth(),1,0,0,0)).toISOString(),[{data:xe},{data:Te}]=await Promise.all([X.from("token_usage_logs").select("total_tokens").eq("user_id",R.id).gte("made_at",je),X.from("token_usage_logs").select("total_tokens").eq("user_id",R.id).gte("made_at",Re)]),Ze=(xe||[]).reduce((Xe,gt)=>Xe+Number(gt.total_tokens||0),0),He=(Te||[]).reduce((Xe,gt)=>Xe+Number(gt.total_tokens||0),0);if(ee.max_tokens_per_day&&Ze>=ee.max_tokens_per_day){Oe.error("Daily token limit reached");return}if(ee.max_tokens_per_month&&He>=ee.max_tokens_per_month){Oe.error("Monthly token limit reached");return}}}r(""),j(i,V,"assistant"),Oe.success("Message sent successfully")}catch{Oe.error("Failed to send message")}},le=V=>{V.key==="Enter"&&!V.shiftKey&&(V.preventDefault(),Y())};g.useEffect(()=>{if(h.current&&window.clearTimeout(h.current),!c.trim()){d(null);return}return h.current=window.setTimeout(()=>{const V=c.toLowerCase(),ee=y.find(fe=>(fe.body||"").toLowerCase().includes(V));if(ee){d(ee.id);const fe=m.current[ee.id];fe&&fe.scrollIntoView({behavior:"smooth",block:"center"})}else d(null)},500),()=>{h.current&&window.clearTimeout(h.current)}},[c,y]),g.useEffect(()=>{var V;(V=U==null?void 0:U.channel)!=null&&V.provider&&vN(U.channel.provider)},[(oe=U==null?void 0:U.channel)==null?void 0:oe.provider]);const Z=async V=>{if(i)try{await k(i,V),Oe.success("Participant added successfully")}catch{Oe.error("Failed to add participant")}};return x?l.jsxs("div",{className:"flex items-center justify-center h-64",children:[l.jsx(St,{className:"h-8 w-8 animate-spin"}),l.jsx("span",{className:"ml-2",children:"Loading conversations..."})]}):w?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-red-600 mb-2",children:["Error: ",w]}),l.jsxs(ne,{onClick:b,variant:"outline",children:[l.jsx(ZS,{className:"h-4 w-4 mr-2"}),"Retry"]})]})}):l.jsxs("div",{className:"grid w-full grid-cols-[300px_1fr_320px] h-[calc(100vh-120px)] gap-4",children:[l.jsxs("aside",{className:"rounded-lg border bg-card p-3",children:[l.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[l.jsx("h2",{className:"text-sm font-medium",children:"Conversations"}),l.jsx("div",{className:"flex items-center gap-1",children:l.jsx(nie,{onFilterChange:T})})]}),l.jsxs("div",{className:"relative mb-3",children:[l.jsx(qm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(it,{placeholder:"Search...",value:e,onChange:V=>t(V.target.value),className:"pl-10 h-8 text-sm"})]}),l.jsxs(Wc,{value:o,onValueChange:V=>s(V),className:"w-full",children:[l.jsxs(Ks,{className:"grid w-full grid-cols-[1fr_1fr_auto] mb-3 bg-white",children:[l.jsxs(In,{value:"assigned",className:"text-xs border-b-2 border-transparent data-[state=active]:bg-blue-50 data-[state=active]:text-blue-600 data-[state=active]:border-blue-500",children:["Assigned",l.jsx(bt,{variant:"secondary",className:"ml-2 h-5 text-xs","aria-live":"polite","aria-atomic":"true",children:C.filter(V=>V.status!=="closed"&&V.assigned).length})]}),l.jsxs(In,{value:"unassigned",className:"text-xs border-b-2 border-transparent data-[state=active]:bg-red-50 data-[state=active]:text-red-600 data-[state=active]:border-red-500",children:["Unassigned",l.jsx(bt,{variant:"secondary",className:"ml-2 h-5 text-xs","aria-live":"polite","aria-atomic":"true",children:C.filter(V=>V.status!=="closed"&&!V.assigned).length})]}),l.jsx(In,{value:"resolved",className:"justify-self-end h-8 px-2 rounded-full border-b-2 border-transparent data-[state=active]:bg-green-50 data-[state=active]:text-green-600 data-[state=active]:border-green-500","aria-label":"Resolved",children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(CH,{className:"h-4 w-4"}),l.jsx(bt,{variant:"secondary",className:"h-5 text-xs","aria-live":"polite","aria-atomic":"true",children:C.filter(V=>V.status==="closed").length})]})})]}),l.jsx(xn,{value:"assigned",className:"mt-0",children:l.jsx(tc,{className:"h-[calc(100vh-280px)]",children:l.jsx("div",{className:"space-y-1",children:C.filter(V=>V.status!=="closed"&&V.assigned).map(V=>{var ee;return l.jsx("button",{type:"button",onClick:()=>Q(V.id),className:`w-full p-3 text-left transition-colors rounded-lg ${i===V.id?"bg-blue-50 border border-blue-200":"hover:bg-gray-50"}`,children:l.jsx("div",{className:"flex items-start justify-between",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-sm font-medium truncate",children:V.contact_name}),l.jsx("span",{className:"text-xs text-gray-500 ml-2",children:new Date(V.last_msg_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-1",children:V.last_message_preview||"—"}),l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[l.jsx(bt,{className:"bg-blue-100 text-blue-600 text-xs",children:"Assigned"}),V.unreplied&&l.jsx(bt,{className:"bg-red-100 text-red-600 text-xs",children:"Unreplied"}),l.jsx(bt,{variant:"outline",className:"text-xs",children:(ee=V.channel)==null?void 0:ee.provider})]})]})})},V.id)})})})}),l.jsx(xn,{value:"unassigned",className:"mt-0",children:l.jsx(tc,{className:"h-[calc(100vh-280px)]",children:l.jsx("div",{className:"space-y-1",children:C.filter(V=>V.status!=="closed"&&!V.assigned).map(V=>{var ee;return l.jsx("button",{type:"button",onClick:()=>Q(V.id),className:`w-full p-3 text-left transition-colors rounded-lg ${i===V.id?"bg-blue-50 border border-blue-200":"hover:bg-gray-50"}`,children:l.jsx("div",{className:"flex items-start justify-between",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-sm font-medium truncate",children:V.contact_name}),l.jsx("span",{className:"text-xs text-gray-500 ml-2",children:new Date(V.last_msg_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-1",children:V.last_message_preview}),l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[l.jsx(bt,{variant:"secondary",className:"text-xs",children:"Unassigned"}),V.unreplied&&l.jsx(bt,{className:"bg-red-100 text-red-600 text-xs",children:"Unreplied"}),l.jsx(bt,{variant:"outline",className:"text-xs",children:(ee=V.channel)==null?void 0:ee.provider})]})]})})},V.id)})})})}),l.jsx(xn,{value:"resolved",className:"mt-0",children:l.jsx(tc,{className:"h-[calc(100vh-280px)]",children:l.jsx("div",{className:"space-y-1",children:C.filter(V=>V.status==="closed").map(V=>{var ee;return l.jsx("button",{type:"button",onClick:()=>Q(V.id),className:`w-full p-3 text-left transition-colors rounded-lg ${i===V.id?"bg-blue-50 border border-blue-200":"hover:bg-gray-50"}`,children:l.jsx("div",{className:"flex items-start justify-between",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-sm font-medium truncate",children:V.contact_name}),l.jsx("span",{className:"text-xs text-gray-500 ml-2",children:new Date(V.last_msg_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-1",children:V.last_message_preview}),l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[l.jsx(bt,{className:"bg-green-100 text-green-700 text-xs",children:"Resolved"}),l.jsx(bt,{variant:"outline",className:"text-xs",children:(ee=V.channel)==null?void 0:ee.provider})]})]})})},V.id)})})})})]})]}),l.jsx("article",{className:"flex min-h-[70vh] flex-col rounded-lg border bg-card",children:U?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between gap-2 border-b px-4 py-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs(Jo,{className:"h-10 w-10",children:[l.jsx(Tu,{src:""}),l.jsx(Zo,{className:"text-sm",children:U.contact_name.charAt(0)})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-base font-semibold leading-tight",children:U.contact_name}),U.contact_phone&&l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:U.contact_phone})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"relative",children:[l.jsx(qm,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"}),l.jsx(it,{value:c,onChange:V=>u(V.target.value),placeholder:"Search messages",className:"pl-7 h-8 w-44 text-xs"})]}),U.status!=="closed"&&l.jsx(ne,{size:"sm",className:"h-8 bg-green-600 hover:bg-green-700 text-white disabled:opacity-60",onClick:async()=>{if(U.status==="closed")return;const{error:V}=await X.from("threads").update({status:"closed",resolved_at:new Date().toISOString(),resolved_by_user_id:(R==null?void 0:R.id)??null}).eq("id",U.id);V?Oe.error("Failed to resolve"):(Oe.success("Conversation resolved"),await b(),s("resolved"))},children:"Resolve"}),l.jsx(bt,{className:U.assigned?"bg-success text-success-foreground hover:bg-success":"bg-secondary text-secondary-foreground hover:bg-secondary",children:U.assigned?"Assigned":"Unassigned"})]})]}),l.jsx(tc,{className:"flex-1 p-4",children:l.jsxs("div",{className:"space-y-2",children:[y.length===0?l.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No messages yet. Start the conversation!"}):y.map((V,ee)=>l.jsx("div",{ref:fe=>{m.current[V.id]=fe},children:l.jsx(oie,{message:V,isLastMessage:ee===y.length-1,highlighted:f===V.id})},V.id)),l.jsx("div",{ref:p})]})}),l.jsx("div",{className:"border-t p-3",children:U.assigned?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(it,{placeholder:`Message ${U.contact_name}...`,value:n,onChange:V=>r(V.target.value),onKeyDown:le,className:"flex-1"}),l.jsx(ne,{type:"button",onClick:Y,disabled:!n.trim(),children:l.jsx(Bv,{className:"h-4 w-4"})})]}):l.jsx(ne,{type:"button",className:"w-full bg-blue-600 hover:bg-blue-700 text-white",onClick:K,disabled:!(R!=null&&R.id),children:"Takeover Chat"})})]}):l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsxs("div",{className:"text-center text-muted-foreground",children:[l.jsx(Hm,{className:"h-12 w-12 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No conversation selected"}),l.jsx("p",{children:"Select a conversation from the sidebar to start chatting"})]})})}),l.jsx("aside",{className:"rounded-lg border bg-card p-4",children:U?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold",children:U.contact_name||"Unknown Contact"}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx(Hm,{className:"h-4 w-4 text-blue-500"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(bt,{variant:"outline",className:"text-xs",children:((re=U.channel)==null?void 0:re.display_name)||((J=U.channel)==null?void 0:J.provider)||"Unknown"}),((ke=U.channel)==null?void 0:ke.type)&&l.jsx(bt,{variant:"secondary",className:"text-xs",children:U.channel.type})]})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-sm font-medium",children:"Handled By"}),l.jsxs(Ca,{open:W,onOpenChange:D,children:[l.jsx(Ea,{asChild:!0,children:l.jsxs(ne,{variant:"outline",size:"sm",className:"h-8",children:[l.jsx(XE,{className:"h-4 w-4 mr-2"})," Assign Agent"]})}),l.jsx(Xi,{className:"w-72 p-0",children:l.jsxs(Gc,{children:[l.jsx(Yc,{placeholder:"Search agent"}),l.jsx(Xc,{children:"No agent found."}),l.jsx(Qc,{children:O.map(V=>l.jsx(Jc,{onSelect:async()=>{U&&(await N(U.id,V.user_id),D(!1))},children:V.display_name||"Agent"},V.user_id))})]})})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-sm font-medium",children:"Collaborators"}),l.jsxs(Ca,{open:B,onOpenChange:$,children:[l.jsx(Ea,{asChild:!0,children:l.jsxs(ne,{variant:"outline",size:"sm",className:"h-8",children:[l.jsx(XE,{className:"h-4 w-4 mr-2"})," Add Collaborator"]})}),l.jsx(Xi,{className:"w-72 p-0",children:l.jsxs(Gc,{children:[l.jsx(Yc,{placeholder:"Search agent"}),l.jsx(Xc,{children:"No agent found."}),l.jsx(Qc,{children:O.map(V=>l.jsx(Jc,{onSelect:async()=>{U&&(await Z(V.user_id),$(!1))},children:V.display_name||"Agent"},V.user_id))})]})})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium mb-2",children:"Notes"}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(it,{placeholder:"Add a note..."})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium mb-3",children:"Conversation Details"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Assigned By"}),l.jsx("span",{children:U.assigned_by_name||"—"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Handled By"}),l.jsx("span",{children:U.assignee_name||"—"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Resolved By"}),l.jsx("span",{children:U.resolved_by_name||"—"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"AI Handoff At"}),l.jsx("span",{children:U.ai_handoff_at?new Date(U.ai_handoff_at).toLocaleString():"—"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Assigned At"}),l.jsx("span",{children:U.assigned_at?new Date(U.assigned_at).toLocaleString():"—"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Created At"}),l.jsx("span",{children:U.created_at?new Date(U.created_at).toLocaleString():"—"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Resolved At"}),l.jsx("span",{children:U.resolved_at?new Date(U.resolved_at).toLocaleString():"—"})]})]})]})]}):l.jsx("div",{className:"text-sm text-muted-foreground",children:"No conversation selected"})})]})}var Cy="Checkbox",[lie,U$e]=Dn(Cy),[cie,ok]=lie(Cy);function uie(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:i,disabled:a,form:o,name:s,onCheckedChange:c,required:u,value:f="on",internal_do_not_use_render:d}=e,[h,p]=ri({prop:n,defaultProp:i??!1,onChange:c,caller:Cy}),[m,v]=g.useState(null),[y,x]=g.useState(null),w=g.useRef(!1),b=m?!!o||!!m.closest("form"):!0,S={checked:h,disabled:a,setChecked:p,control:m,setControl:v,name:s,form:o,value:f,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:Mo(i)?!1:i,isFormControl:b,bubbleInput:y,setBubbleInput:x};return l.jsx(cie,{scope:t,...S,children:die(d)?d(S):r})}var j3="CheckboxTrigger",k3=g.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},i)=>{const{control:a,value:o,disabled:s,checked:c,required:u,setControl:f,setChecked:d,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:m}=ok(j3,e),v=ze(i,f),y=g.useRef(c);return g.useEffect(()=>{const x=a==null?void 0:a.form;if(x){const w=()=>d(y.current);return x.addEventListener("reset",w),()=>x.removeEventListener("reset",w)}},[a,d]),l.jsx(Se.button,{type:"button",role:"checkbox","aria-checked":Mo(c)?"mixed":c,"aria-required":u,"data-state":P3(c),"data-disabled":s?"":void 0,disabled:s,value:o,...r,ref:v,onKeyDown:me(t,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:me(n,x=>{d(w=>Mo(w)?!0:!w),m&&p&&(h.current=x.isPropagationStopped(),h.current||x.stopPropagation())})})});k3.displayName=j3;var sk=g.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:a,required:o,disabled:s,value:c,onCheckedChange:u,form:f,...d}=e;return l.jsx(uie,{__scopeCheckbox:n,checked:i,defaultChecked:a,disabled:s,required:o,onCheckedChange:u,name:r,form:f,value:c,internal_do_not_use_render:({isFormControl:h})=>l.jsxs(l.Fragment,{children:[l.jsx(k3,{...d,ref:t,__scopeCheckbox:n}),h&&l.jsx(N3,{__scopeCheckbox:n})]})})});sk.displayName=Cy;var C3="CheckboxIndicator",E3=g.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,a=ok(C3,n);return l.jsx(jn,{present:r||Mo(a.checked)||a.checked===!0,children:l.jsx(Se.span,{"data-state":P3(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});E3.displayName=C3;var A3="CheckboxBubbleInput",N3=g.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:s,disabled:c,name:u,value:f,form:d,bubbleInput:h,setBubbleInput:p}=ok(A3,e),m=ze(n,p),v=nk(a),y=lj(r);g.useEffect(()=>{const w=h;if(!w)return;const b=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(b,"checked").set,_=!i.current;if(v!==a&&j){const k=new Event("click",{bubbles:_});w.indeterminate=Mo(a),j.call(w,Mo(a)?!1:a),w.dispatchEvent(k)}},[h,v,a,i]);const x=g.useRef(Mo(a)?!1:a);return l.jsx(Se.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??x.current,required:s,disabled:c,name:u,value:f,form:d,...t,tabIndex:-1,ref:m,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});N3.displayName=A3;function die(e){return typeof e=="function"}function Mo(e){return e==="indeterminate"}function P3(e){return Mo(e)?"indeterminate":e?"checked":"unchecked"}const Aa=g.forwardRef(({className:e,...t},n)=>l.jsx(sk,{ref:n,className:pe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:l.jsx(E3,{className:pe("flex items-center justify-center text-current"),children:l.jsx(XS,{className:"h-4 w-4"})})}));Aa.displayName=sk.displayName;const gc=g.forwardRef(({className:e,...t},n)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:n,className:pe("w-full caption-bottom text-sm",e),...t})}));gc.displayName="Table";const vc=g.forwardRef(({className:e,...t},n)=>l.jsx("thead",{ref:n,className:pe("[&_tr]:border-b",e),...t}));vc.displayName="TableHeader";const yc=g.forwardRef(({className:e,...t},n)=>l.jsx("tbody",{ref:n,className:pe("[&_tr:last-child]:border-0",e),...t}));yc.displayName="TableBody";const fie=g.forwardRef(({className:e,...t},n)=>l.jsx("tfoot",{ref:n,className:pe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));fie.displayName="TableFooter";const Tr=g.forwardRef(({className:e,...t},n)=>l.jsx("tr",{ref:n,className:pe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Tr.displayName="TableRow";const Bt=g.forwardRef(({className:e,...t},n)=>l.jsx("th",{ref:n,className:pe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Bt.displayName="TableHead";const Nt=g.forwardRef(({className:e,...t},n)=>l.jsx("td",{ref:n,className:pe("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Nt.displayName="TableCell";const hie=g.forwardRef(({className:e,...t},n)=>l.jsx("caption",{ref:n,className:pe("mt-4 text-sm text-muted-foreground",e),...t}));hie.displayName="TableCaption";var T3="AlertDialog",[pie,z$e]=Dn(T3,[tF]),Ya=tF(),O3=e=>{const{__scopeAlertDialog:t,...n}=e,r=Ya(t);return l.jsx(Yj,{...r,...n,modal:!0})};O3.displayName=T3;var mie="AlertDialogTrigger",I3=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Ya(n);return l.jsx(vF,{...i,...r,ref:t})});I3.displayName=mie;var gie="AlertDialogPortal",R3=e=>{const{__scopeAlertDialog:t,...n}=e,r=Ya(t);return l.jsx(Xj,{...r,...n})};R3.displayName=gie;var vie="AlertDialogOverlay",M3=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Ya(n);return l.jsx(xy,{...i,...r,ref:t})});M3.displayName=vie;var xc="AlertDialogContent",[yie,xie]=pie(xc),bie=EM("AlertDialogContent"),$3=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,a=Ya(n),o=g.useRef(null),s=ze(t,o),c=g.useRef(null);return l.jsx(Dne,{contentName:xc,titleName:D3,docsSlug:"alert-dialog",children:l.jsx(yie,{scope:n,cancelRef:c,children:l.jsxs(by,{role:"alertdialog",...a,...i,ref:s,onOpenAutoFocus:me(i.onOpenAutoFocus,u=>{var f;u.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[l.jsx(bie,{children:r}),l.jsx(_ie,{contentRef:o})]})})})});$3.displayName=xc;var D3="AlertDialogTitle",L3=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Ya(n);return l.jsx(Qj,{...i,...r,ref:t})});L3.displayName=D3;var F3="AlertDialogDescription",B3=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Ya(n);return l.jsx(Jj,{...i,...r,ref:t})});B3.displayName=F3;var wie="AlertDialogAction",U3=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Ya(n);return l.jsx(Zj,{...i,...r,ref:t})});U3.displayName=wie;var z3="AlertDialogCancel",W3=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=xie(z3,n),a=Ya(n),o=ze(t,i);return l.jsx(Zj,{...a,...r,ref:o})});W3.displayName=z3;var _ie=({contentRef:e})=>{const t=`\`${xc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${xc}\` by passing a \`${F3}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${xc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return g.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Sie=O3,jie=I3,kie=R3,H3=M3,q3=$3,V3=U3,K3=W3,G3=L3,Y3=B3;const m1=Sie,Cie=jie,Eie=kie,X3=g.forwardRef(({className:e,...t},n)=>l.jsx(H3,{className:pe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));X3.displayName=H3.displayName;const dg=g.forwardRef(({className:e,...t},n)=>l.jsxs(Eie,{children:[l.jsx(X3,{}),l.jsx(q3,{ref:n,className:pe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));dg.displayName=q3.displayName;const fg=({className:e,...t})=>l.jsx("div",{className:pe("flex flex-col space-y-2 text-center sm:text-left",e),...t});fg.displayName="AlertDialogHeader";const hg=({className:e,...t})=>l.jsx("div",{className:pe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});hg.displayName="AlertDialogFooter";const pg=g.forwardRef(({className:e,...t},n)=>l.jsx(G3,{ref:n,className:pe("text-lg font-semibold",e),...t}));pg.displayName=G3.displayName;const mg=g.forwardRef(({className:e,...t},n)=>l.jsx(Y3,{ref:n,className:pe("text-sm text-muted-foreground",e),...t}));mg.displayName=Y3.displayName;const gg=g.forwardRef(({className:e,...t},n)=>l.jsx(V3,{ref:n,className:pe(Cf(),e),...t}));gg.displayName=V3.displayName;const vg=g.forwardRef(({className:e,...t},n)=>l.jsx(K3,{ref:n,className:pe(Cf({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));vg.displayName=K3.displayName;function Aie(){const[e,t]=g.useState([]),[n,r]=g.useState(1),[i,a]=g.useState(""),[o,s]=g.useState(100),[c,u]=g.useState(!1),[f,d]=g.useState({chatStatus:"",handledBy:"",dateRange:{}}),[h,p]=g.useState(!1),[m,v]=g.useState(!1),{contacts:y,loading:x,error:w,totalCount:b,fetchContacts:S,deleteContact:j,deleteMultipleContacts:_}=S3();g.useEffect(()=>{const M=setTimeout(()=>{S(n,o,i,f)},300);return()=>clearTimeout(M)},[i,n,o,f]);const k=M=>{t(M?y.map(T=>T.id):[])},E=(M,T)=>{t(T?[...e,M]:e.filter(C=>C!==M))},I=()=>{e.length!==0&&v(!0)},P=()=>{e.length!==0&&p(!0)},N=async()=>{try{await _(e),t([]),p(!1),Oe.success(`Successfully deleted ${e.length} contact(s)`)}catch{Oe.error("Failed to delete contacts")}},O=()=>{Oe.info(`Edit feature for ${e.length} contact(s) will be implemented`),v(!1)},R=()=>{S(n,o,i,f),Oe.info("Contacts refreshed")},F=(M,T)=>{d(C=>({...C,[M]:T}))},W=(M,T)=>{d(C=>({...C,dateRange:{...C.dateRange,[M]:T}}))},D=()=>{d({chatStatus:"",handledBy:"",dateRange:{}})},B=Object.values(f).some(M=>typeof M=="string"?M!=="":Object.values(M).some(T=>T!=="")),$=e.length===y.length&&y.length>0,L=e.length>0&&e.length<y.length,A=M=>{if(!M||M==="—")return l.jsx("span",{className:"text-muted-foreground",children:"—"});const T=M==="open"?"bg-blue-100 text-blue-700":M==="pending"?"bg-amber-100 text-amber-700":"bg-green-100 text-green-700";return l.jsx(bt,{className:`${T} border-0`,children:M})};return l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-semibold",children:"Contacts"}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Total Contacts: ",x?"...":b.toLocaleString()]})]}),l.jsxs("div",{className:"flex gap-4 items-center justify-between",children:[l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsxs(Ca,{open:c,onOpenChange:u,children:[l.jsx(Ea,{asChild:!0,children:l.jsxs(ne,{variant:"outline",className:"gap-2",children:[l.jsx(r$,{className:"w-4 h-4"}),"Filter",B&&l.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"})]})}),l.jsx(Xi,{className:"w-80 p-4",align:"start",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"font-medium",children:"Filter Contacts"}),B&&l.jsx(ne,{variant:"ghost",size:"sm",onClick:D,className:"h-8 px-2 text-xs",children:"Clear All"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Chat Status"}),l.jsxs(Tt,{value:f.chatStatus,onValueChange:M=>F("chatStatus",M==="all"?"":M),children:[l.jsx(jt,{className:"h-8",children:l.jsx(Ot,{placeholder:"All statuses"})}),l.jsxs(kt,{children:[l.jsx(Ae,{value:"all",children:"All statuses"}),l.jsx(Ae,{value:"open",children:"Open"}),l.jsx(Ae,{value:"pending",children:"Pending"}),l.jsx(Ae,{value:"closed",children:"Closed"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Handled By"}),l.jsxs(Tt,{value:f.handledBy||"",onValueChange:M=>F("handledBy",M==="all"?"":M),children:[l.jsx(jt,{className:"h-8",children:l.jsx(Ot,{placeholder:"All agents"})}),l.jsxs(kt,{children:[l.jsx(Ae,{value:"all",children:"All"}),l.jsx(Ae,{value:"assigned",children:"Assigned"}),l.jsx(Ae,{value:"unassigned",children:"Unassigned"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Date Range"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx("div",{children:l.jsx(it,{type:"date",placeholder:"From",value:f.dateRange.from,onChange:M=>W("from",M.target.value),className:"h-8 text-xs"})}),l.jsx("div",{children:l.jsx(it,{type:"date",placeholder:"To",value:f.dateRange.to,onChange:M=>W("to",M.target.value),className:"h-8 text-xs"})})]})]})]})]})})]}),l.jsxs("div",{className:"relative",children:[l.jsx(qm,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"}),l.jsx(it,{placeholder:"Search by Name or Phone",className:"pl-10 pr-8 w-80",value:i,onChange:M=>a(M.target.value)}),i&&l.jsx("button",{type:"button",onClick:()=>a(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground","aria-label":"Clear search",children:l.jsx(Uv,{className:"h-4 w-4"})})]}),l.jsx(ne,{variant:"outline",size:"sm",onClick:R,disabled:x,children:l.jsx(ZS,{className:`w-4 h-4 ${x?"animate-spin":""}`})})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ne,{variant:"outline",children:"Recipient/Campaign"}),l.jsxs(ne,{variant:e.length>0?"default":"outline",className:e.length>0?"bg-blue-600 hover:bg-blue-700 text-white":"",disabled:e.length===0,onClick:I,children:["Edit Selected (",e.length,")"]}),l.jsxs(ne,{variant:e.length>0?"destructive":"outline",className:e.length>0?"bg-red-600 hover:bg-red-700 text-white":"",onClick:P,disabled:e.length===0,children:["Delete Selected (",e.length,")"]}),l.jsx(ne,{variant:"outline",children:"Export"}),l.jsx(ne,{variant:"outline",children:"Customize Columns"})]})]})]}),w&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:l.jsxs("p",{className:"text-red-800 text-sm",children:["Error: ",w]})}),l.jsx(Ie,{children:l.jsx(Je,{className:"p-0",children:l.jsxs(gc,{children:[l.jsx(vc,{children:l.jsxs(Tr,{children:[l.jsx(Bt,{className:"w-12",children:l.jsx(Aa,{checked:$,onCheckedChange:k,"aria-label":"Select all contacts",className:L?"data-[state=checked]:bg-blue-600":""})}),l.jsx(Bt,{children:"ACTION"}),l.jsx(Bt,{children:"NAME"}),l.jsx(Bt,{children:"PHONE"}),l.jsx(Bt,{children:"NOTE"}),l.jsx(Bt,{children:"LABEL NAMES"}),l.jsx(Bt,{children:"INBOX"}),l.jsx(Bt,{children:"CHAT STATUS"}),l.jsx(Bt,{children:"CHAT CREATED AT"}),l.jsx(Bt,{children:"HANDLED BY"})]})}),l.jsx(yc,{children:x?l.jsx(Tr,{children:l.jsx(Nt,{colSpan:11,className:"text-center py-8",children:l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx(St,{className:"w-4 h-4 animate-spin"}),l.jsx("span",{children:"Loading contacts..."})]})})}):y.length===0?l.jsx(Tr,{children:l.jsx(Nt,{colSpan:11,className:"text-center py-8",children:l.jsx("div",{className:"text-muted-foreground",children:i?"No contacts found matching your search.":"No contacts found."})})}):y.map(M=>{var T;return l.jsxs(Tr,{className:`hover:bg-muted/50 ${e.includes(M.id)?"bg-blue-50":""}`,children:[l.jsx(Nt,{children:l.jsx(Aa,{checked:e.includes(M.id),onCheckedChange:C=>E(M.id,C),"aria-label":`Select ${M.name}`})}),l.jsx(Nt,{children:l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(wp,{children:[l.jsx(_p,{asChild:!0,children:l.jsx(ne,{size:"sm",className:"h-8 w-8 p-0 bg-blue-600 hover:bg-blue-700","aria-label":"Open conversation",children:l.jsx(Hm,{className:"h-4 w-4"})})}),l.jsx(Ad,{children:"Open conversation"})]}),l.jsxs(wp,{children:[l.jsx(_p,{asChild:!0,children:l.jsx(ne,{size:"sm",className:"h-8 w-8 p-0 bg-yellow-500 hover:bg-yellow-600","aria-label":"Edit contact",children:l.jsx(i$,{className:"h-4 w-4"})})}),l.jsx(Ad,{children:"Edit contact"})]})]})}),l.jsx(Nt,{className:"font-medium",children:l.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[l.jsx(Jo,{className:"h-8 w-8",children:l.jsx(Zo,{className:"text-xs",children:(T=(M.name||M.phone||"?")[0])==null?void 0:T.toUpperCase()})}),l.jsx("div",{className:"min-w-0",children:l.jsx("div",{className:"truncate",children:M.name||"Unnamed Contact"})})]})}),l.jsx(Nt,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:M.phone||"-"}),M.phone&&l.jsxs(wp,{children:[l.jsx(_p,{asChild:!0,children:l.jsx(ne,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>{navigator.clipboard.writeText(M.phone),Oe.success("Phone copied")},children:l.jsx(NH,{className:"h-3 w-3"})})}),l.jsx(Ad,{children:"Copy phone"})]})]})}),l.jsx(Nt,{children:M.notes?l.jsxs(wp,{children:[l.jsx(_p,{asChild:!0,children:l.jsx("span",{className:"line-clamp-1 max-w-[260px] inline-block align-middle",children:M.notes})}),l.jsx(Ad,{className:"max-w-sm",children:M.notes})]}):l.jsx("span",{className:"text-muted-foreground",children:"-"})}),l.jsx(Nt,{children:M.labelNames||"-"}),l.jsx(Nt,{children:M.inbox?l.jsx(bt,{variant:"outline",children:M.inbox}):"—"}),l.jsx(Nt,{children:A(M.chatStatus)}),l.jsx(Nt,{className:"font-mono text-sm",children:M.chatCreatedAt||"-"}),l.jsx(Nt,{children:M.handledBy&&M.handledBy!=="—"?l.jsx(bt,{className:"bg-purple-100 text-purple-700 border-0",children:M.handledBy}):l.jsx("span",{className:"text-muted-foreground",children:"—"})})]},M.id)})})]})})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(ne,{variant:"outline",size:"sm",disabled:n===1||x,onClick:()=>r(n-1),children:l.jsx(e$,{className:"w-4 h-4"})}),l.jsxs("span",{className:"text-sm",children:["Page ",l.jsx("span",{className:"font-medium",children:n})," of ",l.jsx("span",{className:"font-medium",children:Math.ceil(b/o)})]}),l.jsx(ne,{variant:"outline",size:"sm",disabled:n>=Math.ceil(b/o)||x,onClick:()=>r(n+1),children:l.jsx(QS,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:"Items per page:"}),l.jsxs(Tt,{value:o.toString(),onValueChange:M=>s(parseInt(M)),children:[l.jsx(jt,{className:"w-20 h-8",children:l.jsx(Ot,{})}),l.jsxs(kt,{children:[l.jsx(Ae,{value:"50",children:"50"}),l.jsx(Ae,{value:"100",children:"100"}),l.jsx(Ae,{value:"200",children:"200"})]})]}),l.jsx("span",{children:"rows"})]}),l.jsxs("span",{children:["Total: ",l.jsx("span",{className:"font-medium",children:b.toLocaleString()})]})]})]}),l.jsx(m1,{open:h,onOpenChange:p,children:l.jsxs(dg,{children:[l.jsxs(fg,{children:[l.jsx(pg,{children:"Are you sure?"}),l.jsxs(mg,{children:["This action cannot be undone. This will permanently delete ",e.length," contact",e.length>1?"s":"","."]})]}),l.jsxs(hg,{children:[l.jsx(vg,{children:"Cancel"}),l.jsxs(gg,{onClick:N,className:"bg-red-600 hover:bg-red-700",children:["Delete ",e.length," Contact",e.length>1?"s":""]})]})]})}),l.jsx(m1,{open:m,onOpenChange:v,children:l.jsxs(dg,{children:[l.jsxs(fg,{children:[l.jsx(pg,{children:"Edit Selected Contacts"}),l.jsxs(mg,{children:["You are about to edit ",e.length," contact",e.length>1?"s":"",". This feature is currently being developed."]})]}),l.jsxs(hg,{children:[l.jsx(vg,{children:"Cancel"}),l.jsx(gg,{onClick:O,className:"bg-blue-600 hover:bg-blue-700",children:"Continue"})]})]})})]})}const Ki=g.forwardRef(({className:e,...t},n)=>l.jsx("textarea",{className:pe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Ki.displayName="Textarea";const Nie=()=>{const[e,t]=g.useState([]),[n,r]=g.useState(!0),[i,a]=g.useState(null),o=async()=>{try{r(!0),a(null);const{data:{user:d}}=await X.auth.getUser();if(!d){t([]);return}const{data:h,error:p}=await X.from("org_members").select("org_id").eq("user_id",d.id);if(p||!h||h.length===0){t([]);return}const m=h.map(N=>N.org_id),{data:v}=await X.from("user_roles").select("role_id").eq("user_id",d.id);let y=!1,x=!1,w=!1;if(v&&v.length>0){const N=v.map(F=>F.role_id),{data:O}=await X.from("roles").select("id, name").in("id",N),R=(O||[]).map(F=>(F.name||"").toLowerCase());y=R.includes("master_agent"),x=R.includes("super_agent"),w=R.includes("agent")&&!y&&!x}let b=null;if(w){const{data:N}=await X.from("channel_agents").select("channel_id").eq("user_id",d.id);b=new Set((N||[]).map(O=>O.channel_id))}const{data:S,error:j}=await X.from("channels").select(`
          *
        `).in("org_id",m).order("created_at",{ascending:!1});if(j){console.error("Error fetching channels:",j),a(j.message);return}const{data:_,error:k}=await X.from("org_members").select(`
          org_id,
          user_id,
          role,
          v_users!inner (
            display_name,
            email
          )
        `).in("org_id",m);k&&console.error("Error fetching org members for platforms:",k);const E={};for(const N of _||[]){const O=N.org_id;E[O]||(E[O]=[]),E[O].push(N)}const I=(S||[]).filter(N=>b?b.has(N.id):!0),P=await Promise.all(I.map(async N=>{try{const{data:O}=await X.from("channel_agents").select("user_id").eq("channel_id",N.id),R=(O||[]).map(D=>D.user_id);let F=[];if(R.length>0){const[D,B]=await Promise.all([X.from("users_profile").select("user_id, display_name").in("user_id",R),X.from("v_users").select("id, display_name, email").in("id",R)]),$=D.data||[],L=B.data||[],A={};L.forEach(M=>{A[M.id]={display_name:M.display_name,email:M.email}}),$.forEach(M=>{var T,C;A[M.user_id]={display_name:M.display_name??((T=A[M.user_id])==null?void 0:T.display_name),email:(C=A[M.user_id])==null?void 0:C.email}}),F=Object.entries(A).map(([M,T])=>({user_id:M,...T}))}const W=R.map(D=>{const B=F.find($=>$.user_id===D||$.id===D)||{};return{user_id:D,display_name:B.display_name||(B==null?void 0:B.display_name),email:B.email}});return{...N,provider:N.provider,status:N.is_active?"active":"inactive",human_agents:W,super_agent_id:N.super_agent_id??null,credentials:(N==null?void 0:N.credentials)??null}}catch{return{...N,provider:N.provider,status:N.is_active?"active":"inactive",human_agents:[],super_agent_id:N.super_agent_id??null,credentials:(N==null?void 0:N.credentials)??null}}}));t(P)}catch(d){console.error("Error fetching platforms:",d),a("Failed to fetch platforms")}finally{r(!1)}},s=async d=>{var h;try{a(null);const{data:{user:p}}=await X.auth.getUser();if(!p)throw new Error("User not authenticated");const{data:m,error:v}=await X.from("org_members").select("org_id").eq("user_id",p.id).limit(1);if(v)throw v;const y=(h=m==null?void 0:m[0])==null?void 0:h.org_id;if(!y)throw new Error("User not found in any organization");const{data:x,error:w}=await X.from("channels").insert({org_id:y,display_name:d.display_name,credentials:{},provider:d.provider,type:"inbox",profile_photo_url:d.profile_photo_url,ai_profile_id:d.ai_profile_id,super_agent_id:d.super_agent_id,is_active:!0}).select().single();if(w)throw w;if(d.human_agent_ids&&d.human_agent_ids.length>0){const b=d.human_agent_ids.map(j=>({channel_id:x.id,user_id:j})),{error:S}=await X.from("channel_agents").insert(b);S&&console.warn("Failed to attach channel agents on create:",S)}await o();try{await It({action:"channel.create",resource:"channel",resourceId:(x==null?void 0:x.id)??null,context:d})}catch{}return x}catch(p){throw console.error("Error creating platform:",p),a(p.message||"Failed to create platform"),p}},c=async(d,h)=>{try{a(null);const p={};if(typeof h.display_name<"u"&&(p.display_name=h.display_name),typeof h.profile_photo_url<"u"&&(p.profile_photo_url=h.profile_photo_url),typeof h.ai_profile_id<"u"&&(p.ai_profile_id=h.ai_profile_id),typeof h.provider<"u"&&(p.provider=h.provider),typeof h.super_agent_id<"u"&&(p.super_agent_id=h.super_agent_id),Object.keys(p).length>0){const{error:m}=await X.from("channels").update(p).eq("id",d);if(m)throw m}if(h.human_agent_ids!==void 0){const{error:m}=await X.from("channel_agents").delete().eq("channel_id",d);if(m&&console.error("Error removing human agents:",m),h.human_agent_ids.length>0){const v=h.human_agent_ids.map(x=>({channel_id:d,user_id:x})),{error:y}=await X.from("channel_agents").insert(v);y&&console.error("Error adding human agents:",y)}}await o();try{await It({action:"channel.update",resource:"channel",resourceId:d,context:h})}catch{}}catch(p){throw console.error("Error updating platform:",p),a(p.message||"Failed to update platform"),p}},u=async d=>{try{a(null);const{error:h}=await X.from("channels").delete().eq("id",d);if(h)throw h;await o();try{await It({action:"channel.delete",resource:"channel",resourceId:d})}catch{}}catch(h){throw console.error("Error deleting platform:",h),a(h.message||"Failed to delete platform"),h}},f=async d=>{try{const h=d.name.split(".").pop(),m=`platform-photos/${`${Math.random()}.${h}`}`,{error:v}=await X.storage.from("avatars").upload(m,d);if(v)throw v;const{data:{publicUrl:y}}=X.storage.from("avatars").getPublicUrl(m);return y}catch(h){throw console.error("Error uploading profile photo:",h),new Error("Failed to upload profile photo")}};return g.useEffect(()=>{o()},[]),{platforms:e,loading:n,error:i,fetchPlatforms:o,createPlatform:s,updatePlatform:c,deletePlatform:u,uploadProfilePhoto:f}},Pie=()=>{const[e,t]=g.useState({}),[n,r]=g.useState(!1),[i,a]=g.useState(null),o=g.useCallback(async s=>{if(!s)return[];try{r(!0),a(null);const{data:c,error:u}=await X.from("channels").select("*").eq("org_id",s).order("created_at",{ascending:!1});if(u)return a(u.message),[];const f=c||[];return t(d=>({...d,[s]:f})),f}catch(c){return a(c instanceof Error?c.message:"Failed to fetch channels"),[]}finally{r(!1)}},[]);return{channelsByOrg:e,loading:n,error:i,fetchByOrgId:o}};function Ey({options:e,value:t,onChange:n,onValueChange:r,placeholder:i="Select...",disabled:a,className:o}){const[s,c]=g.useState(!1),u=new Set(t),f=m=>{n&&n(m),r&&r(m)},d=m=>{const v=new Set(u);v.has(m)?v.delete(m):v.add(m),f(Array.from(v))},h=e.filter(m=>u.has(m.value)).map(m=>m.label),p=h.length===0?i:`${h.length} selected`;return l.jsxs(Ca,{open:s,onOpenChange:c,children:[l.jsx(Ea,{asChild:!0,children:l.jsxs(ne,{type:"button",variant:"outline",role:"combobox","aria-expanded":s,disabled:a,className:pe("justify-between w-64",o),children:[l.jsx("span",{className:"truncate text-left",children:p}),l.jsx("span",{className:"ml-2 text-muted-foreground",children:"▾"})]})}),l.jsx(Xi,{className:"p-0 w-80",align:"start",onOpenAutoFocus:m=>m.preventDefault(),children:l.jsxs(Gc,{children:[l.jsx(Yc,{placeholder:"Search..."}),l.jsxs(_3,{children:[l.jsx(Xc,{children:"No results found."}),l.jsx(Qc,{children:e.map(m=>l.jsxs(Jc,{onSelect:v=>{d(m.value)},className:"cursor-pointer",children:[l.jsx("div",{className:"mr-2 flex h-4 w-4 items-center justify-center",onClick:v=>{v.preventDefault(),v.stopPropagation(),d(m.value)},children:l.jsx(Aa,{checked:u.has(m.value),onCheckedChange:()=>d(m.value)})}),l.jsx("span",{children:m.label})]},m.value))})]})]})})]})}const Tie=({isOpen:e,onClose:t,onSubmit:n,isSubmitting:r=!1})=>{const{toast:i}=ll(),{user:a}=Ri(),{aiAgents:o,loading:s,setFilterBySuper:c}=Ru(),{agents:u,loading:f}=pl(),[d,h]=g.useState({platformName:"",description:"",profilePhoto:null,phoneNumber:"",selectedAIAgent:"",selectedHumanAgents:[]}),[p,m]=g.useState(!1),[v,y]=g.useState(!1),[x,w]=g.useState(null),[b,S]=g.useState(null),[j,_]=g.useState(null);g.useRef(!1);const[k,E]=g.useState(!1),[I,P]=g.useState(!1),[N,O]=g.useState(null),R="https://waha-plus-production-97c1.up.railway.app",F=T=>{var U;const C=(U=T.target.files)==null?void 0:U[0];C&&h(K=>({...K,profilePhoto:C}))},W=T=>{O(C=>T),h(C=>({...C,selectedHumanAgents:[]}))};g.useEffect(()=>{try{c(N||null)}catch{}},[N]);const D=async()=>{if(!a)return null;const{data:T}=await X.from("org_members").select("org_id").eq("user_id",a.id).single();return(T==null?void 0:T.org_id)||null},B=async()=>{try{y(!0),_(null),w(null);const T="https://primary-production-376c.up.railway.app/webhook/create_session",C="https://primary-production-376c.up.railway.app/webhook/2f6f9767-c3cb-4af3-b749-a496eefc2b74/waha",U=(d.platformName||"default").replace(/\s/g,""),K={name:U,start:!0,config:{metadata:{"user.id":(a==null?void 0:a.id)||"","user.email":(a==null?void 0:a.email)||""},proxy:null,debug:!1,noweb:{store:{enabled:!0,fullSync:!1}},webhooks:[{url:C,events:["message","session.status","message.reaction","message.any","message.ack","message.waiting","message.revoked","state.change","group.join","group.leave","presence.update","poll.vote","poll.vote.failed","chat.archive","call.received","call.accepted","call.rejected","label.upsert","label.deleted","label.chat.added","label.chat.deleted","engine.event"],hmac:null,retries:null,customHeaders:null}]}};try{const le=await fetch(T,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)});if(!le.ok){const Z=await le.text();if(le.status!==409)throw new Error(`Create session failed (${le.status}): ${Z||"Unknown error"}`)}}catch(le){throw le}const Q=await fetch(ot.buildUrl(ot.ENDPOINTS.WHATSAPP.GET_LOGIN_QR),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_name:U})});if(!Q.ok)throw new Error(`Request failed with status ${Q.status}`);const Y=Q.headers.get("content-type");if(Y&&Y.includes("image/")){const le=await Q.blob(),Z=URL.createObjectURL(le);return w(Z),S(U),y(!1),{qr:Z,sessionName:U}}else try{const le=await Q.json(),Z=Array.isArray(le)?le[0]:le;if(!Z||!Z.data||!Z.mimetype)throw new Error("Invalid QR response shape");const oe=`data:${Z.mimetype};base64,${Z.data}`;return w(oe),S(U),y(!1),{qr:oe,sessionName:U}}catch{const Z=await Q.text();if(Z&&Z.length>0){const oe=`data:image/png;base64,${Z}`;return w(oe),S(U),y(!1),{qr:oe,sessionName:U}}else throw new Error("Invalid response format")}return y(!1),null}catch(T){return _((T==null?void 0:T.message)||"Failed to generate QR"),y(!1),null}},$=async()=>{try{const C=await(async()=>{if(b&&b.trim().length>0)return b;try{const Q=await D();if(!Q)return"default";const{data:Y}=await X.from("channels").select("display_name, provider").eq("org_id",Q).eq("provider","whatsapp").order("created_at",{ascending:!1}).limit(1).maybeSingle();return((Y==null?void 0:Y.display_name)||"").replace(/\s/g,"")||"default"}catch{return"default"}})(),U=`${R}/api/sessions/${encodeURIComponent(C)}`,K=await fetch(U,{method:"GET",headers:{"Content-Type":"application/json"}});if(K.ok){const Q=await K.json();return Q&&Q.status==="WORKING"&&Q.me&&Q.me.id?(m(!0),w(null),i({title:"Success",description:"WhatsApp connected successfully!"}),!0):(m(!1),!1)}return!1}catch(T){return console.error("Error checking session status:",T),!1}};g.useEffect(()=>{if(!x||p)return;const T=setInterval(async()=>{await $()&&clearInterval(T)},5e3);return()=>clearInterval(T)},[x,p]);const L=!!(d.platformName&&d.selectedAIAgent&&N),A=async()=>{try{E(!0)}finally{E(!1),h({platformName:"",description:"",profilePhoto:null,phoneNumber:"",selectedAIAgent:"",selectedHumanAgents:[]}),m(!1),y(!1),w(null),_(null),O(null),t()}},M=async()=>{try{if(P(!0),!N||!d.selectedAIAgent){i({title:"Missing required fields",description:"Please select a Super Agent and an AI Agent.",variant:"destructive"}),P(!1);return}if(!await D())throw new Error("User not found in any organization");const C=await B(),U={...d,phoneNumber:void 0,platformType:"whatsapp",selectedSuperAgentId:N};if(await n(U),i({title:"Success",description:"Channel successfully created."}),C)try{window.dispatchEvent(new CustomEvent("open-wa-qr",{detail:{sessionName:C.sessionName,qr:C.qr}}))}catch{}try{window.dispatchEvent(new CustomEvent("refresh-platforms"))}catch{}t(),h({platformName:"",description:"",profilePhoto:null,phoneNumber:"",selectedAIAgent:"",selectedHumanAgents:[]}),O(null)}catch(T){console.error("Error submitting form:",T),i({title:"Error",description:T.message||"Failed to create WhatsApp platform",variant:"destructive"})}finally{P(!1)}};return l.jsx(Rr,{open:e,onOpenChange:t,children:l.jsxs(mr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(gr,{children:[l.jsx(vr,{children:"Setup WhatsApp Platform"}),l.jsx(Ou,{children:"Configure your new WhatsApp platform with all the necessary information."})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"platformName",children:"Platform Name *"}),l.jsx(it,{id:"platformName",placeholder:"Enter your platform or brand name",value:d.platformName,onChange:T=>h(C=>({...C,platformName:T.target.value}))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"description",children:"Description"}),l.jsx(Ki,{id:"description",placeholder:"Describe your business and what you offer",value:d.description,onChange:T=>h(C=>({...C,description:T.target.value})),rows:3})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"profilePhoto",children:"Profile Photo / Logo"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-16 w-16 rounded-full bg-muted flex items-center justify-center border-2 border-dashed border-muted-foreground/25",children:d.profilePhoto?l.jsx("img",{src:URL.createObjectURL(d.profilePhoto),alt:"Profile",className:"h-16 w-16 rounded-full object-cover"}):l.jsx(Fc,{className:"h-6 w-6 text-muted-foreground"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx(it,{id:"profilePhoto",type:"file",accept:"image/*",onChange:F,className:"hidden"}),l.jsxs(ne,{variant:"outline",className:"text-blue-600 border-blue-200 hover:bg-blue-50",onClick:()=>{var T;return(T=document.getElementById("profilePhoto"))==null?void 0:T.click()},children:[l.jsx(Fc,{className:"h-4 w-4 mr-2"}),"Upload Photo"]}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Recommended: 512x512px, max 2MB"})]})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("div",{className:"text-xs font-medium text-emerald-700",children:"Super Agent (1 max)"}),l.jsxs(Tt,{value:N||"",onValueChange:T=>W(T),children:[l.jsx(jt,{children:l.jsx(Ot,{placeholder:"Choose a Super Agent"})}),l.jsx(kt,{children:u.filter(T=>T.primaryRole==="super_agent").map(T=>l.jsx(Ae,{value:T.user_id,children:T.display_name||T.email||T.user_id.slice(0,8)},T.user_id))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"aiAgent",children:"Select AI Agent *"}),s?l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading AI agents..."}):l.jsxs(Tt,{value:d.selectedAIAgent,onValueChange:T=>h(C=>({...C,selectedAIAgent:T})),disabled:!N,children:[l.jsx(jt,{children:l.jsx(Ot,{placeholder:N?"Choose an AI agent":"Select a Super Agent first"})}),l.jsx(kt,{children:o.map(T=>l.jsx(Ae,{value:T.id,children:T.name},T.id))})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(Ge,{children:"Assign Agents"}),f?l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading human agents..."}):l.jsx(l.Fragment,{children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"text-xs font-medium",children:["Agents ",N?"":"(select a Super Agent first)"]}),(()=>{const C=u.filter(U=>U.primaryRole==="agent").filter(U=>!!N&&(!U.super_agent_id||U.super_agent_id===N)).map(U=>({value:U.user_id,label:U.display_name||U.email||`Agent ${U.user_id.slice(0,8)}`}));return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ey,{options:C,value:d.selectedHumanAgents,onValueChange:U=>h(K=>({...K,selectedHumanAgents:U})),disabled:!N,placeholder:N?"Select human agents":"Select a Super Agent first"}),l.jsx(ne,{type:"button",variant:"outline",disabled:!N||C.length===0,onClick:()=>h(U=>({...U,selectedHumanAgents:C.map(K=>K.value)})),children:"Select All"}),l.jsx(ne,{type:"button",variant:"ghost",disabled:!N||d.selectedHumanAgents.length===0,onClick:()=>h(U=>({...U,selectedHumanAgents:[]})),children:"Unselect All"})]})})()]})})]})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[l.jsx(ne,{variant:"outline",onClick:A,disabled:r||k,className:"text-blue-700 border-blue-200 hover:bg-blue-50",children:k?l.jsxs(l.Fragment,{children:[l.jsx(St,{className:"mr-2 h-4 w-4 animate-spin"}),"Cancelling..."]}):"Cancel"}),l.jsx(ne,{onClick:M,disabled:r||I||!L,className:"bg-blue-100 hover:bg-blue-200 text-blue-700 transition-all duration-200 hover:shadow-md active:scale-[.98]","aria-busy":r||I,children:r||I?l.jsxs(l.Fragment,{children:[l.jsx(St,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Create WhatsApp Platform"})]})]})})},Oie=({isOpen:e,onClose:t,onSubmit:n,isSubmitting:r=!1})=>{const{toast:i}=ll(),{user:a}=Ri(),{aiAgents:o,loading:s,setFilterBySuper:c}=Ru(),{agents:u,loading:f}=pl(),[d,h]=g.useState({displayName:"",description:"",profilePhoto:null,telegramBotToken:"",selectedAIAgent:"",selectedHumanAgents:[]}),[p,m]=g.useState(!1),[v,y]=g.useState(null),x=_=>{var E;const k=(E=_.target.files)==null?void 0:E[0];k&&h(I=>({...I,profilePhoto:k}))},w=_=>{y(_),h(k=>({...k,selectedHumanAgents:[]}))};g.useEffect(()=>{try{c(v||null)}catch{}},[v]);const b=d.displayName&&d.selectedAIAgent&&d.telegramBotToken&&v,S=async()=>{if(!a)return null;const{data:_}=await X.from("org_members").select("org_id").eq("user_id",a.id).single();return(_==null?void 0:_.org_id)||null},j=async()=>{try{if(p)return;if(m(!0),!v||!d.selectedAIAgent){i({title:"Missing required fields",description:"Please select a Super Agent and an AI Agent.",variant:"destructive"}),m(!1);return}const _=await S();if(!_)throw new Error("User not found in any organization");const k=(d.telegramBotToken||"").trim();if(!k)throw new Error("Telegram bot token is required");try{const{data:O}=await X.from("channels").select("id").eq("provider","telegram").eq("external_id",k).limit(1);if(Array.isArray(O)&&O.length>0){i({title:"Duplicate token",description:"A Telegram bot with this BotFather token already exists.",variant:"destructive"}),m(!1);return}}catch{}const E={brand_name:d.displayName,display_name:d.displayName,description:d.description,telegram_bot_token:d.telegramBotToken,ai_profile_id:d.selectedAIAgent,human_agent_ids:d.selectedHumanAgents,super_agent_id:v,org_id:_,platform_type:"telegram"},I=ot.buildUrl(ot.ENDPOINTS.TELEGRAM.CREATE_PLATFORM),P=await fetch(I,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(E)});if(!P.ok)throw new Error(`Telegram webhook failed with status ${P.status}`);let N=null;try{if((P.headers.get("content-type")||"").includes("application/json"))N=await P.json();else{const R=await P.text();try{N=R?JSON.parse(R):null}catch{N={raw:R||null}}}}catch{N=null}console.log("Telegram webhook response:",N),i({title:"Success",description:"Telegram channel created successfully"});try{window.dispatchEvent(new CustomEvent("refresh-platforms"))}catch{}t(),h({displayName:"",description:"",profilePhoto:null,telegramBotToken:"",selectedAIAgent:"",selectedHumanAgents:[]}),y(null)}catch(_){console.error("Error submitting form:",_),i({title:"Error",description:_.message||"Failed to create Telegram platform",variant:"destructive"})}finally{m(!1)}};return l.jsx(Rr,{open:e,onOpenChange:t,children:l.jsxs(mr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(gr,{children:[l.jsx(vr,{children:"Setup Telegram Bot Platform"}),l.jsx(Ou,{children:"Configure your new Telegram bot platform with all the necessary information."})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"displayName",children:"Display Name *"}),l.jsx(it,{id:"displayName",placeholder:"Enter the display name",value:d.displayName,onChange:_=>h(k=>({...k,displayName:_.target.value}))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"description",children:"Description"}),l.jsx(Ki,{id:"description",placeholder:"Describe your business and what you offer",value:d.description,onChange:_=>h(k=>({...k,description:_.target.value})),rows:3})]}),l.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/50",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:"Telegram Bot Setup"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Follow these steps to set up your Telegram bot"})]})}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"text-sm space-y-2",children:[l.jsx("p",{className:"font-medium",children:"Step 1: Create a bot with BotFather"}),l.jsxs("ol",{className:"list-decimal list-inside text-xs space-y-1 ml-2",children:[l.jsx("li",{children:"Open Telegram and search for @BotFather"}),l.jsx("li",{children:"Send /newbot command"}),l.jsx("li",{children:"Choose a name for your bot (organization name)"}),l.jsx("li",{children:"Choose a username (must end with 'bot')"}),l.jsx("li",{children:"Copy the bot token provided"})]})]}),l.jsxs("div",{className:"text-sm space-y-2",children:[l.jsx("p",{className:"font-medium",children:"Step 2: Configure bot settings"}),l.jsxs("ol",{className:"list-decimal list-inside text-xs space-y-1 ml-2",children:[l.jsx("li",{children:"Send /setdescription to set bot description"}),l.jsx("li",{children:"Send /setabouttext to set about text"}),l.jsx("li",{children:"Send /setcommands to set available commands"})]})]}),l.jsxs("div",{className:"text-sm space-y-2",children:[l.jsx("p",{className:"font-medium",children:"Step 3: Enable webhook (optional)"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Your bot will automatically receive messages once connected to our platform."})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"telegramBotToken",children:"Telegram Bot Token *"}),l.jsx(it,{id:"telegramBotToken",type:"password",placeholder:"1234567890:ABCdefGHIjklMNOpqrsTUVwxyz",value:d.telegramBotToken,onChange:_=>h(k=>({...k,telegramBotToken:_.target.value}))}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Get this token from @BotFather on Telegram. Format: 1234567890:ABCdefGHIjklMNOpqrsTUVwxyz"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:"Super Agent *"}),f?l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading..."}):l.jsxs(Tt,{value:v||"",onValueChange:_=>w(_),children:[l.jsx(jt,{children:l.jsx(Ot,{placeholder:"Choose a Super Agent"})}),l.jsx(kt,{children:u.filter(_=>_.primaryRole==="super_agent").map(_=>l.jsx(Ae,{value:_.user_id,children:_.display_name||_.email},_.user_id))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"profilePhoto",children:"Profile Photo / Logo"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-16 w-16 rounded-full bg-muted flex items-center justify-center border-2 border-dashed border-muted-foreground/25",children:d.profilePhoto?l.jsx("img",{src:URL.createObjectURL(d.profilePhoto),alt:"Profile",className:"h-16 w-16 rounded-full object-cover"}):l.jsx(Fc,{className:"h-6 w-6 text-muted-foreground"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx(it,{id:"profilePhoto",type:"file",accept:"image/*",onChange:x,className:"hidden"}),l.jsxs(ne,{variant:"outline",onClick:()=>{var _;return(_=document.getElementById("profilePhoto"))==null?void 0:_.click()},children:[l.jsx(Fc,{className:"h-4 w-4 mr-2"}),"Upload Photo"]}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Recommended: 512x512px, max 2MB"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:"Super Agent *"}),f?l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading..."}):l.jsxs(Tt,{value:v||"",onValueChange:_=>w(_),children:[l.jsx(jt,{children:l.jsx(Ot,{placeholder:"Choose a Super Agent"})}),l.jsx(kt,{children:u.filter(_=>_.primaryRole==="super_agent").map(_=>l.jsx(Ae,{value:_.user_id,children:_.display_name||_.email},_.user_id))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"aiAgent",children:"Select AI Agent *"}),s?l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading AI agents..."}):l.jsxs(Tt,{value:d.selectedAIAgent,onValueChange:_=>h(k=>({...k,selectedAIAgent:_})),disabled:!v,children:[l.jsx(jt,{children:l.jsx(Ot,{placeholder:v?"Choose an AI agent":"Select a Super Agent first"})}),l.jsx(kt,{children:o.map(_=>l.jsx(Ae,{value:_.id,children:_.name},_.id))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:"Select Human Agents (optional)"}),f?l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading human agents..."}):(()=>{const k=u.filter(E=>E.primaryRole==="agent").filter(E=>!!v&&(!E.super_agent_id||E.super_agent_id===v)).map(E=>({value:E.user_id,label:E.display_name||E.email||`Agent ${E.user_id.slice(0,8)}`}));return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ey,{options:k,value:d.selectedHumanAgents,onValueChange:E=>h(I=>({...I,selectedHumanAgents:E})),disabled:!v,placeholder:v?"Select human agents":"Select a Super Agent first"}),l.jsx(ne,{type:"button",variant:"outline",disabled:!v||k.length===0,onClick:()=>h(E=>({...E,selectedHumanAgents:k.map(I=>I.value)})),children:"Select All"}),l.jsx(ne,{type:"button",variant:"ghost",disabled:!v||d.selectedHumanAgents.length===0,onClick:()=>h(E=>({...E,selectedHumanAgents:[]})),children:"Unselect All"})]})})()]})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[l.jsx(ne,{variant:"outline",onClick:()=>{p||(h({displayName:"",description:"",profilePhoto:null,telegramBotToken:"",selectedAIAgent:"",selectedHumanAgents:[]}),y(null),t())},disabled:r||p,children:"Cancel"}),l.jsx(ne,{onClick:j,disabled:r||p||!b,className:"bg-blue-600 hover:bg-blue-700 text-white",children:r||p?l.jsxs("span",{className:"inline-flex items-center gap-2",children:[l.jsx(St,{className:"h-4 w-4 animate-spin"})," Creating..."]}):"Create Telegram Bot Platform"})]})]})})},Iie=({isOpen:e,onClose:t,onSubmit:n,isSubmitting:r=!1})=>{const{toast:i}=ll();Ri();const{aiAgents:a,loading:o}=Ru(),{agents:s,loading:c}=pl(),[u,f]=g.useState({description:"",displayName:"",profilePhoto:null,websiteUrl:"",businessCategory:"",selectedAIAgent:"",selectedHumanAgents:[]}),[d,h]=g.useState(!1),[p,m]=g.useState(null),v=S=>{var _;const j=(_=S.target.files)==null?void 0:_[0];j&&f(k=>({...k,profilePhoto:j}))},y=S=>{m(S),f(j=>({...j,selectedHumanAgents:[]}))},x=!!(u.displayName&&p&&u.selectedAIAgent),w=async()=>{try{if(d)return;if(!p||!u.selectedAIAgent){i({title:"Missing required fields",description:"Please select a Super Agent and an AI Agent.",variant:"destructive"});return}h(!0);const S={...u,platformType:"web",selectedSuperAgentId:p};await n(S);try{window.dispatchEvent(new CustomEvent("refresh-platforms"))}catch{}f({description:"",displayName:"",profilePhoto:null,websiteUrl:"",businessCategory:"",selectedAIAgent:"",selectedHumanAgents:[]}),m(null),t()}catch(S){console.error("Error submitting form:",S)}finally{h(!1)}},b=()=>{d||(f({description:"",displayName:"",profilePhoto:null,websiteUrl:"",businessCategory:"",selectedAIAgent:"",selectedHumanAgents:[]}),m(null),t())};return l.jsx(Rr,{open:e,onOpenChange:t,children:l.jsxs(mr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(gr,{children:[l.jsx(vr,{children:"Setup Web Live Chat Platform"}),l.jsx(Ou,{children:"Configure your new web live chat platform with all the necessary information."})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"description",children:"Description"}),l.jsx(Ki,{id:"description",placeholder:"Describe your business and what you offer",value:u.description,onChange:S=>f(j=>({...j,description:S.target.value})),rows:3})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"displayName",children:"Display Name *"}),l.jsx(it,{id:"displayName",placeholder:"Name that will appear in the chat widget",value:u.displayName,onChange:S=>f(j=>({...j,displayName:S.target.value}))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"profilePhoto",children:"Profile Photo / Logo"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-16 w-16 rounded-full bg-muted flex items-center justify-center border-2 border-dashed border-muted-foreground/25",children:u.profilePhoto?l.jsx("img",{src:URL.createObjectURL(u.profilePhoto),alt:"Profile",className:"h-16 w-16 rounded-full object-cover"}):l.jsx(Fc,{className:"h-6 w-6 text-muted-foreground"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx(it,{id:"profilePhoto",type:"file",accept:"image/*",onChange:v,className:"hidden"}),l.jsxs(ne,{variant:"outline",onClick:()=>{var S;return(S=document.getElementById("profilePhoto"))==null?void 0:S.click()},children:[l.jsx(Fc,{className:"h-4 w-4 mr-2"}),"Upload Photo"]}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Recommended: 512x512px, max 2MB"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:"Super Agent *"}),c?l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading super agents..."}):l.jsxs(Tt,{value:p||"",onValueChange:S=>y(S),children:[l.jsx(jt,{children:l.jsx(Ot,{placeholder:"Choose a Super Agent"})}),l.jsx(kt,{children:s.filter(S=>S.primaryRole==="super_agent").map(S=>l.jsx(Ae,{value:S.user_id,children:S.display_name||S.email||S.user_id.slice(0,8)},S.user_id))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"aiAgent",children:"Select AI Agent *"}),o?l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading AI agents..."}):l.jsxs(Tt,{value:u.selectedAIAgent,onValueChange:S=>f(j=>({...j,selectedAIAgent:S})),disabled:!p,children:[l.jsx(jt,{children:l.jsx(Ot,{placeholder:p?"Choose an AI agent":"Select a Super Agent first"})}),l.jsx(kt,{children:a.map(S=>l.jsx(Ae,{value:S.id,children:S.name},S.id))})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(Ge,{children:"Assign Agents"}),c?l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading human agents..."}):l.jsx(l.Fragment,{children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"text-xs font-medium",children:["Agents ",p?"":"(select a Super Agent first)"]}),(()=>{const j=s.filter(_=>_.primaryRole==="agent").filter(_=>!!p&&(!_.super_agent_id||_.super_agent_id===p)).map(_=>({value:_.user_id,label:_.display_name||_.email||`Agent ${_.user_id.slice(0,8)}`}));return l.jsx(l.Fragment,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ey,{options:j,value:u.selectedHumanAgents,onValueChange:_=>f(k=>({...k,selectedHumanAgents:_})),disabled:!p,placeholder:p?"Select human agents":"Select a Super Agent first"}),l.jsx(ne,{type:"button",variant:"outline",disabled:!p||j.length===0,onClick:()=>f(_=>({..._,selectedHumanAgents:j.map(k=>k.value)})),children:"Select All"}),l.jsx(ne,{type:"button",variant:"ghost",disabled:!p||u.selectedHumanAgents.length===0,onClick:()=>f(_=>({..._,selectedHumanAgents:[]})),children:"Unselect All"})]})})})()]})})]})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[l.jsx(ne,{variant:"outline",onClick:b,disabled:r||d,children:"Cancel"}),l.jsx(ne,{onClick:w,disabled:r||d||!x,children:r||d?l.jsxs("span",{className:"inline-flex items-center gap-2",children:[l.jsx(St,{className:"h-4 w-4 animate-spin"})," Creating..."]}):"Create Web Live Chat Platform"})]})]})})},Rie=()=>{var Ln;const{toast:e}=ll(),{platforms:t,loading:n,error:r,createPlatform:i,deletePlatform:a,uploadProfilePhoto:o,fetchPlatforms:s,updatePlatform:c}=Nie(),{aiAgents:u,loading:f}=Ru(),{agents:d,loading:h}=pl(),{fetchByOrgId:p,channelsByOrg:m}=Pie(),{hasRole:v}=Ga(),[y,x]=g.useState(null),[w,b]=g.useState("whatsapp"),[S,j]=g.useState("");g.useState("");const[_,k]=g.useState(!1),[E,I]=g.useState(null),[P,N]=g.useState(!1),[O,R]=g.useState(!1),[F,W]=g.useState([]),[D,B]=g.useState(!1),[$,L]=g.useState([]),[A,M]=g.useState(!1),[T,C]=g.useState(null),[U,K]=g.useState(new Set),[Q,Y]=g.useState(new Set),[le,Z]=g.useState(null),[oe,re]=g.useState(null),[J,ke]=g.useState(null),[V,ee]=g.useState(!1),[fe,je]=g.useState(null),Re=g.useRef(null),[xe,Te]=g.useState(!1),Ze="https://waha-plus-production-97c1.up.railway.app",He=g.useRef(null),Xe=g.useRef(!1),gt=g.useRef(0);g.useEffect(()=>{t.length>0&&!y&&x(t[0].id)},[t,y]),g.useEffect(()=>{u.length>0&&!S&&j(u[0].id)},[u,S]);const yt=ie=>{const ge=ie==null?void 0:ie.provider;return ge==="whatsapp"?"whatsapp":ge==="telegram"?"telegram":"web"};g.useEffect(()=>{const ie=t.find(ge=>yt(ge)===w);(!y||y&&t.find(ge=>ge.id===y&&yt(ge)!==w))&&x((ie==null?void 0:ie.id)||null)},[t,w]);const q=t.find(ie=>ie.id===y);g.useEffect(()=>{j(q&&(q==null?void 0:q.ai_profile_id)||"")},[q==null?void 0:q.id,q==null?void 0:q.ai_profile_id]),g.useEffect(()=>{const ie=Array.from(new Set(t.map(ge=>ge.org_id)));ie.length!==0&&Promise.resolve().then(()=>{ie.forEach(ge=>{p(ge)})})},[t]),g.useEffect(()=>{const ie=()=>{s()};return window.addEventListener("refresh-platforms",ie),()=>window.removeEventListener("refresh-platforms",ie)},[s]);const ce=q?yt(q):null,z=(q==null?void 0:q.human_agents)||[],G=v("master_agent")||v("super_agent"),te=v("master_agent"),de=d.filter(ie=>ie.primaryRole==="agent"&&!z.some(ge=>ge.user_id===ie.user_id)).map(ie=>({value:ie.user_id,label:ie.display_name||ie.email||ie.user_id.slice(0,8)})),ye=ie=>l.jsxs(l.Fragment,{children:[l.jsxs(Ie,{children:[l.jsx(ct,{children:l.jsx(ut,{className:"text-base",children:"AI Agent"})}),l.jsx(Je,{children:f?l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading AI agents..."}):l.jsxs(Tt,{value:S||"",onValueChange:async ge=>{q&&(await c(q.id,{ai_profile_id:ge||void 0}),j(ge))},children:[l.jsx(jt,{children:l.jsx(Ot,{placeholder:"Choose an AI agent"})}),l.jsx(kt,{children:u.map(ge=>l.jsxs(Ae,{value:ge.id,children:["🤖 ",ge.name]},ge.id))})]})})]}),l.jsxs(Ie,{children:[l.jsx(ct,{children:l.jsx(ut,{className:"text-base",children:"Super Agent"})}),l.jsx(Je,{children:(()=>{const ge=(q==null?void 0:q.super_agent_id)||null,we=d||[],Le=we.find(Ce=>Ce.user_id===ge&&Ce.primaryRole==="super_agent")||null,be=we.filter(Ce=>Ce.primaryRole==="super_agent");return te?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(Tt,{value:ge||"",onValueChange:async Ce=>{q&&await c(q.id,{super_agent_id:Ce||void 0})},children:[l.jsx(jt,{className:"w-64",children:l.jsx(Ot,{placeholder:"Assign super agent"})}),l.jsx(kt,{children:be.map(Ce=>l.jsxs(Ae,{value:Ce.user_id,children:["👤 ",Ce.display_name||Ce.email||Ce.user_id.slice(0,8)]},Ce.user_id))})]}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"(master agent only)"})]}):l.jsx("div",{className:"text-sm",children:Le?l.jsxs("div",{className:"inline-flex items-center gap-2 bg-muted px-3 py-1 rounded-md",children:["👤 ",Le.display_name||Le.email]}):l.jsx("span",{className:"text-muted-foreground",children:"No super agent assigned"})})})()})]}),l.jsxs(Ie,{children:[l.jsx(ct,{children:l.jsx(ut,{className:"text-base",children:"Human Agent"})}),l.jsxs(Je,{children:[h?l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading human agents..."}):z.length>0?l.jsx("div",{className:"flex flex-wrap gap-2",children:z.map(ge=>l.jsxs("div",{className:"flex items-center gap-2 bg-muted px-3 py-1 rounded-md",children:[l.jsxs("span",{className:"text-sm",children:["👤 ",ge.display_name||ge.email||ge.user_id]}),G&&l.jsx(ne,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0",disabled:O||!q,onClick:async()=>{if(q)try{R(!0);const we=z.filter(Le=>Le.user_id!==ge.user_id).map(Le=>Le.user_id);await c(q.id,{human_agent_ids:we})}finally{R(!1)}},children:l.jsx(Uv,{className:"h-3 w-3"})})]},ge.user_id))}):l.jsx("p",{className:"text-sm text-muted-foreground",children:"No agents connected"}),G&&q&&l.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[l.jsx(Ey,{options:de,value:F,onChange:W,placeholder:"Select human agents to add"}),l.jsx(ne,{variant:"outline",disabled:O||F.length===0,onClick:async()=>{if(q)try{R(!0);const ge=z.map(Le=>Le.user_id),we=Array.from(new Set([...ge,...F]));await c(q.id,{human_agent_ids:we}),W([])}finally{R(!1)}},children:"Add selected"})]})]})]}),ie&&l.jsxs(l.Fragment,{children:[l.jsxs(Ie,{children:[l.jsx(ct,{children:l.jsxs(ut,{className:"text-base flex items-center gap-2",children:["Link LiveChat",l.jsx(kw,{className:"h-4 w-4 text-muted-foreground"})]})}),l.jsx(Je,{children:l.jsx("div",{className:"bg-muted p-3 rounded-md",children:l.jsx(it,{value:`https://classy-frangollo-337599.netlify.app/livechat/${(q==null?void 0:q.id)||"{platform_id}"}`,readOnly:!0,className:"bg-background"})})})]}),l.jsxs(Ie,{children:[l.jsx(ct,{children:l.jsxs(ut,{className:"text-base flex items-center gap-2",children:["Embed Code",l.jsx(kw,{className:"h-4 w-4 text-muted-foreground"})]})}),l.jsx(Je,{children:l.jsx(Ki,{value:`<script>
(function(){
  // Lightweight chat embed - uses YOUR project's origin
  var w=window,d=document; if(w.chatWidgetLoaded) return; w.chatWidgetLoaded=true;
  var cfg=w.chatConfig||{}; cfg.baseUrl=cfg.baseUrl||'https://classy-frangollo-337599.netlify.app'; cfg.platformId=cfg.platformId||'${(q==null?void 0:q.id)||"{platform_id}"}';
  cfg.position=cfg.position||'bottom-right'; cfg.width=cfg.width||'360px'; cfg.height=cfg.height||'560px';
  var css='#chat-bubble{position:fixed;right:20px;bottom:20px;z-index:999999;background:#1d4ed8;color:#fff;border-radius:9999px;width:56px;height:56px;box-shadow:0 8px 20px rgba(0,0,0,.2);border:0;cursor:pointer;font-size:24px;line-height:56px;text-align:center}'+
           '#chat-panel{position:fixed;right:20px;bottom:92px;width:'+cfg.width+';height:'+cfg.height+';max-width:calc(100% - 40px);max-height:70vh;z-index:999999;box-shadow:0 10px 30px rgba(0,0,0,.25);border-radius:12px;overflow:hidden;opacity:0;transform:translateY(10px);pointer-events:none;transition:opacity .2s ease,transform .2s ease;background:#fff}'+
           '#chat-panel.open{opacity:1;transform:translateY(0);pointer-events:auto}';
  var s=d.createElement('style'); s.type='text/css'; s.appendChild(d.createTextNode(css)); d.head.appendChild(s);
  var bubble=d.createElement('button'); bubble.id='chat-bubble'; bubble.setAttribute('aria-label','Open chat'); bubble.innerHTML='💬';
  var panel=d.createElement('div'); panel.id='chat-panel';
  var iframe=d.createElement('iframe'); iframe.src=cfg.baseUrl+'/livechat/'+encodeURIComponent(cfg.platformId); iframe.style.width='100%'; iframe.style.height='100%'; iframe.style.border='0'; panel.appendChild(iframe);
  bubble.addEventListener('click',function(){ panel.classList.toggle('open'); });
  d.body.appendChild(bubble); d.body.appendChild(panel);
})();
<\/script>`,readOnly:!0,className:"font-mono text-xs h-48 bg-muted"})})]})]})]}),Ue=ie=>{I(ie),k(!1)},Ye=async ie=>{try{N(!0);let ge="";ie.profilePhoto&&(ge=await o(ie.profilePhoto));const we={display_name:ie.displayName||ie.platformName||ie.brandName,website_url:ie.websiteUrl||void 0,business_category:ie.businessCategory||void 0,description:ie.description||void 0,profile_photo_url:ge||void 0,ai_profile_id:ie.selectedAIAgent||void 0,provider:E||"web",human_agent_ids:ie.selectedHumanAgents,super_agent_id:ie.selectedSuperAgentId||void 0};await i(we),e({title:"Success",description:"Platform created successfully!"}),I(null)}catch(ge){e({title:"Error",description:ge.message||"Failed to create platform",variant:"destructive"})}finally{N(!1)}},$e=async()=>{if(!Xe.current){Xe.current=!0,M(!0),C(null);try{const ie=`${Ze}/api/sessions`,ge=await fetch(ie,{method:"GET",headers:{"Content-Type":"application/json"}});if(!ge.ok)throw new Error(`Request failed with status ${ge.status}`);const we=await ge.json(),Le=Array.isArray(we)?we:[we];L(Le),await De(Le),Date.now()>=gt.current&&(gt.current=Date.now()+2e3,await s())}catch(ie){C((ie==null?void 0:ie.message)||"Failed to load sessions")}finally{M(!1),Xe.current=!1}}},De=async ie=>{var ge,we;try{const{data:Le}=await X.auth.getUser(),be=Le==null?void 0:Le.user;if(!be)return;const{data:Ce}=await X.from("org_members").select("org_id").eq("user_id",be.id).limit(1),rt=(ge=Ce==null?void 0:Ce[0])==null?void 0:ge.org_id;if(!rt)return;const{data:$t}=await X.from("channels").select("id, display_name, provider").eq("org_id",rt).eq("provider","whatsapp");for(const Qe of ie){const ln=(Qe==null?void 0:Qe.name)||"";if(!ln)continue;const Zt=String((Qe==null?void 0:Qe.status)||"").toUpperCase(),on=((we=Qe==null?void 0:Qe.me)==null?void 0:we.id)||null,zr=Zt==="WORKING"&&!!on,Jh=(ln||"").toLowerCase().replace(/\s/g,""),Yu=($t||[]).find(Wz=>(Wz.display_name||"").toLowerCase().replace(/\s/g,"")===Jh);Yu&&await X.from("channels").update({is_active:zr,external_id:on,credentials:{waha_status:(Qe==null?void 0:Qe.status)||null,me_id:on}}).eq("id",Yu.id)}}catch(Le){console.error("Failed to sync sessions to channels",Le)}};g.useEffect(()=>{ce==="whatsapp"&&He.current!=="whatsapp"&&(He.current="whatsapp",$e()),ce!=="whatsapp"&&(He.current=ce||null)},[ce]),g.useEffect(()=>{const ie=ge=>{const we=(ge==null?void 0:ge.detail)||{};re(we.qr||null),we.sessionName&&je(we.sessionName),ee(!0)};return window.addEventListener("open-wa-qr",ie),()=>window.removeEventListener("open-wa-qr",ie)},[]),g.useEffect(()=>((()=>{if(!fe||!V)return;const ge=async()=>{var we;try{if(!fe)return;const Le=`${Ze}/api/sessions/${encodeURIComponent(fe)}`,be=await fetch(Le,{method:"GET",headers:{"Content-Type":"application/json"}});if(!be.ok)return;const Ce=await be.json(),rt=String((Ce==null?void 0:Ce.status)||"").toUpperCase();if(!!((we=Ce==null?void 0:Ce.me)!=null&&we.id)&&rt==="WORKING"){ee(!1),re(null),await $e();try{window.dispatchEvent(new CustomEvent("refresh-platforms"))}catch{}e({title:"Connected",description:"WhatsApp connected successfully."})}}catch{}};ge(),Re.current=window.setInterval(ge,3e3)})(),()=>{Re.current&&(clearInterval(Re.current),Re.current=null)}),[V,fe]);const lt=async ie=>{Z(ie),ke(null),re(null),ee(!0),je(ie);try{const ge=await fetch(ot.buildUrl(ot.ENDPOINTS.WHATSAPP.GET_LOGIN_QR),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_name:ie})});if(!ge.ok)throw new Error(`QR request failed: ${ge.status}`);const we=ge.headers.get("content-type");if(we&&we.includes("image/")){const Le=await ge.blob();re(URL.createObjectURL(Le))}else try{const Le=await ge.json(),be=Array.isArray(Le)?Le[0]:Le;if(!(be!=null&&be.data)||!(be!=null&&be.mimetype))throw new Error("Invalid QR");re(`data:${be.mimetype};base64,${be.data}`)}catch{const Le=await ge.text();Le&&re(`data:image/png;base64,${Le}`)}}catch(ge){ke((ge==null?void 0:ge.message)||"Failed to get QR")}finally{Z(null)}},sr=async ie=>{var ge;if(ie){K(we=>new Set(we).add(ie));try{const we=ot.buildUrl(ot.ENDPOINTS.WHATSAPP.DISCONNECT_SESSION||"/disconnect_session"),Le=await fetch(we,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_name:ie})});if(!Le.ok)throw new Error(`Disconnect failed ${Le.status}`);const be=Date.now();for(;Date.now()-be<2e4;){await $e();const Ce=$.find(ln=>(ln.name||"")===ie),rt=String((Ce==null?void 0:Ce.status)||"").toUpperCase(),$t=!!((ge=Ce==null?void 0:Ce.me)!=null&&ge.id);if(!(rt==="WORKING"&&$t))break;await new Promise(ln=>setTimeout(ln,2e3))}e({title:"Disconnected",description:`Session ${ie} disconnected`})}catch(we){C((we==null?void 0:we.message)||"Failed to disconnect session")}finally{K(we=>{const Le=new Set(we);return Le.delete(ie),Le})}}};return l.jsxs("div",{className:"flex h-[calc(100vh-120px)]",children:[l.jsx("div",{className:"w-80 border-r border-border bg-card",children:l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Platforms"}),l.jsx(ne,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",children:l.jsx(Fa,{className:"h-4 w-4"})})]}),l.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"This is where you can connect all your platforms"}),l.jsx(Wc,{value:w,onValueChange:ie=>b(ie),className:"mb-3",children:l.jsxs(Ks,{className:"grid w-full grid-cols-3",children:[l.jsx(In,{value:"whatsapp",children:"WhatsApp"}),l.jsx(In,{value:"telegram",children:"Telegram"}),l.jsx(In,{value:"web",children:"Live Chat"})]})}),n?l.jsx("div",{className:"space-y-2",children:[1,2,3].map(ie=>l.jsx(Ie,{className:"animate-pulse",children:l.jsx(Je,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-full bg-muted"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),l.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})]})})},ie))}):r?l.jsx("div",{className:"text-sm text-red-600 p-4",children:r}):l.jsx("div",{className:"space-y-2",children:t.filter(ie=>yt(ie)===w).length===0?l.jsx("div",{className:"text-sm text-muted-foreground p-4 text-center",children:"No platforms found. Create your first platform to get started."}):t.filter(ie=>yt(ie)===w).map(ie=>l.jsx(Ie,{className:`cursor-pointer transition-colors hover:bg-accent ${y===ie.id?"bg-accent border-primary":""}`,onClick:()=>x(ie.id),children:l.jsx(Je,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:ie.profile_photo_url?l.jsx("img",{src:ie.profile_photo_url,alt:ie.display_name||"Platform",className:"h-10 w-10 rounded-full object-cover"}):l.jsx("span",{className:"text-xs font-medium text-blue-600",children:(ie.display_name||"").charAt(0)||"?"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-medium text-sm truncate",children:ie.display_name||"Unnamed Platform"}),l.jsx("p",{className:"text-[11px] text-muted-foreground capitalize",children:yt(ie)}),l.jsx("p",{className:"text-xs text-muted-foreground",children:ie.description||ie.website_url||""})]}),l.jsx("div",{className:`h-2.5 w-2.5 rounded-full ${ie.status==="active"?"bg-green-500":"bg-gray-300"}`,"aria-label":ie.status==="active"?"Active":"Inactive",title:ie.status==="active"?"Active":"Inactive"})]})})},ie.id))}),l.jsxs(Rr,{open:_,onOpenChange:k,children:[l.jsx(ek,{asChild:!0,children:l.jsxs(ne,{variant:"outline",className:"w-full mt-4 text-blue-600 border-blue-200 hover:bg-blue-50",children:[l.jsx(Fa,{className:"h-4 w-4 mr-2"}),"Add Channel"]})}),l.jsxs(mr,{className:"sm:max-w-xl p-0 overflow-hidden",children:[l.jsxs(gr,{className:"p-6 pb-4",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx(vr,{className:"text-lg font-semibold",children:"Platform"})}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Select the platform you wish to establish your new inbox."})]}),l.jsxs("div",{className:"px-6 pb-6",children:[l.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[l.jsxs("button",{onClick:()=>Ue("whatsapp"),className:"flex flex-col items-center p-4 rounded-lg border-2 border-border hover:border-primary hover:bg-accent/50 transition-all duration-200 group",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-green-500 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform duration-200",children:l.jsx(RH,{className:"h-6 w-6 text-white"})}),l.jsx("span",{className:"text-sm font-medium text-center",children:"WhatsApp"}),l.jsx("span",{className:"text-xs text-muted-foreground text-center mt-1",children:"Connect your WhatsApp Business account"})]}),l.jsxs("button",{onClick:()=>Ue("web"),className:"flex flex-col items-center p-4 rounded-lg border-2 border-border hover:border-primary hover:bg-accent/50 transition-all duration-200 group",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform duration-200",children:l.jsx(OH,{className:"h-6 w-6 text-white"})}),l.jsx("span",{className:"text-sm font-medium text-center",children:"Web Live Chat"}),l.jsx("span",{className:"text-xs text-muted-foreground text-center mt-1",children:"Add live chat to your website"})]}),l.jsxs("button",{onClick:()=>Ue("telegram"),className:"flex flex-col items-center p-4 rounded-lg border-2 border-border hover:border-primary hover:bg-accent/50 transition-all duration-200 group",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-400 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform duration-200",children:l.jsx(Bv,{className:"h-6 w-6 text-white"})}),l.jsx("span",{className:"text-sm font-medium text-center",children:"Telegram Bot"}),l.jsx("span",{className:"text-xs text-muted-foreground text-center mt-1",children:"Connect your Telegram bot via BotFather"})]})]}),l.jsx("div",{className:"text-center",children:l.jsx("p",{className:"text-xs text-muted-foreground",children:"More platforms coming soon"})})]})]})]}),l.jsx(Tie,{isOpen:E==="whatsapp",onClose:()=>I(null),onSubmit:Ye,isSubmitting:P}),l.jsx(Oie,{isOpen:E==="telegram",onClose:()=>I(null),onSubmit:Ye,isSubmitting:P}),l.jsx(Iie,{isOpen:E==="web",onClose:()=>I(null),onSubmit:Ye,isSubmitting:P}),l.jsx("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:"Add a new platform inbox"})]})}),l.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:l.jsxs("div",{className:"max-w-4xl",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-12 w-12 bg-muted rounded-lg flex items-center justify-center",children:l.jsx(wH,{className:"h-6 w-6 text-muted-foreground"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold",children:q!=null&&q.display_name?q.display_name.toUpperCase():"Select Platform"}),l.jsx("p",{className:"text-muted-foreground",children:q?q.description||q.website_url||"":"Choose a platform to manage"})]})]}),l.jsx("div",{className:"flex gap-2",children:q&&l.jsxs(l.Fragment,{children:[l.jsx(ne,{variant:"outline",size:"sm",disabled:D||!S||S===(q==null?void 0:q.ai_profile_id),onClick:async()=>{if(q)try{B(!0);const ie={};if(S&&S!==(q==null?void 0:q.ai_profile_id)&&(ie.ai_profile_id=S),Object.keys(ie).length===0){e({title:"No changes",description:"There are no changes to save."});return}await c(q.id,ie),e({title:"Saved",description:"Platform settings updated."});try{window.dispatchEvent(new CustomEvent("refresh-platforms"))}catch{}await s()}catch(ie){e({title:"Error",description:(ie==null?void 0:ie.message)||"Failed to save platform",variant:"destructive"})}finally{B(!1)}},children:D?l.jsx(St,{className:"h-4 w-4 animate-spin"}):"Save"}),l.jsx(ne,{variant:"outline",size:"sm",disabled:xe,onClick:async()=>{if(q)try{Te(!0);const ie=yt(q);if(ie==="telegram"){const ge=ot.buildUrl(ot.ENDPOINTS.TELEGRAM.DELETE_WEBHOOK);await fetch(ge,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({channel_id:q.id})})}if(ie==="whatsapp"){const ge=ot.buildUrl(ot.ENDPOINTS.WHATSAPP.DELETE_SESSION||"/delete_session"),we=(q.display_name||"").replace(/\s/g,"");await fetch(ge,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_name:we})})}await a(q.id)}catch(ie){e({title:"Error",description:(ie==null?void 0:ie.message)||"Failed to delete channel",variant:"destructive"})}finally{Te(!1)}},children:xe?l.jsx(St,{className:"h-4 w-4 animate-spin"}):l.jsx(fc,{className:"h-4 w-4"})})]})})]}),l.jsxs("div",{className:"grid gap-6",children:[q&&l.jsxs(Ie,{children:[l.jsx(ct,{children:l.jsx(ut,{className:"text-base",children:"Channel Details"})}),l.jsx(Je,{children:l.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-muted-foreground",children:"Provider"}),l.jsx("div",{className:"capitalize",children:yt(q)})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-muted-foreground",children:"Status"}),l.jsx("div",{children:q.status==="active"?"Active":"Inactive"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-muted-foreground",children:"Display Name"}),l.jsx("div",{children:q.display_name||"—"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-muted-foreground",children:"AI Agent"}),l.jsx("div",{children:((Ln=u.find(ie=>ie.id===(q==null?void 0:q.ai_profile_id)))==null?void 0:Ln.name)||"—"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-muted-foreground",children:"Created At"}),l.jsx("div",{children:q.created_at?new Date(q.created_at).toLocaleString():"—"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-muted-foreground",children:"External ID"}),l.jsx("div",{children:(q==null?void 0:q.external_id)||"—"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-muted-foreground",children:"Secret Token"}),l.jsx("div",{children:(()=>{const ie=q==null?void 0:q.secret_token;return ie?ie.length>8?`${ie.slice(0,4)}••••${ie.slice(-2)}`:"••••":"—"})()})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-muted-foreground",children:"Channel ID"}),l.jsx("div",{children:q.id})]})]})})]}),ce==="web"&&l.jsx("div",{className:"grid gap-6",children:ye(!0)}),ce==="whatsapp"&&l.jsxs("div",{className:"grid gap-6",children:[ye(!1),l.jsxs(Ie,{children:[l.jsx(ct,{children:l.jsx(ut,{className:"text-base",children:"WhatsApp Sessions"})}),l.jsxs(Je,{children:[A&&l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading sessions..."}),T&&l.jsx("div",{className:"text-sm text-red-600",children:T}),!A&&!T&&l.jsx("div",{className:"space-y-3",children:(()=>{const ie=((q==null?void 0:q.display_name)||"").toLowerCase().replace(/\s/g,""),ge=$.filter(we=>((we==null?void 0:we.name)||"").toLowerCase().replace(/\s/g,"")===ie);return ge.length===0?l.jsx("div",{className:"text-sm text-muted-foreground",children:"No session found for this channel."}):ge.map((we,Le)=>{var Jh,Yu;const be=((Jh=we==null?void 0:we.me)==null?void 0:Jh.id)||"",Ce=be?be.replace(/@c\.us$/,""):"",rt=((Yu=we==null?void 0:we.me)==null?void 0:Yu.pushName)||"-",$t=String((we==null?void 0:we.status)||"UNKNOWN").toUpperCase(),Qe=(we==null?void 0:we.name)||"",ln=U.has(Qe)||Q.has(Qe)||le===Qe,Zt=!!Ce,on=$t==="SCAN_QR_CODE",zr=$t==="WORKING"&&Zt;return l.jsxs("div",{className:"flex items-center justify-between rounded-md border p-3",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium",children:rt}),l.jsx("div",{className:"text-xs text-muted-foreground",children:on||!Zt?"Not connected":Ce})]}),l.jsx("div",{className:"flex items-center gap-2",children:zr?l.jsx(ne,{variant:"outline",size:"sm",className:"text-amber-700 border-amber-200 hover:bg-amber-50",disabled:ln,onClick:()=>sr(Qe),children:U.has(Qe)?l.jsx(St,{className:"h-3 w-3 animate-spin"}):"Disconnect"}):l.jsx(ne,{variant:"outline",className:"text-blue-600 border-blue-200 hover:bg-blue-50",size:"sm",disabled:ln,onClick:()=>lt(Qe),children:le===Qe?l.jsx(St,{className:"h-3 w-3 animate-spin"}):"Connect"})})]},Le)})})()})]})]}),l.jsx(Rr,{open:V,onOpenChange:ee,children:l.jsxs(mr,{className:"sm:max-w-md",children:[l.jsxs(gr,{children:[l.jsx(vr,{children:"Connect WhatsApp"}),l.jsx(Ou,{children:"Scan this QR with your WhatsApp app to connect."})]}),J&&l.jsx("div",{className:"text-sm text-red-600",children:J}),oe?l.jsxs("div",{className:"flex flex-col items-center gap-3",children:[l.jsx("img",{src:oe,alt:"QR",className:"w-56 h-56 rounded border"}),l.jsx(ne,{variant:"outline",onClick:()=>lt(fe||((q==null?void 0:q.display_name)||"").replace(/\s/g,"")),disabled:!!le,className:"text-blue-600 border-blue-200 hover:bg-blue-50",children:le?l.jsx(St,{className:"h-4 w-4 animate-spin"}):"Refresh QR"})]}):l.jsx("div",{className:"flex items-center justify-center h-60",children:l.jsx(St,{className:"h-6 w-6 animate-spin"})})]})})]}),ce==="telegram"&&l.jsx("div",{className:"grid gap-6",children:ye(!1)})]}),q&&l.jsx("div",{className:"mt-8",children:l.jsxs(Ie,{className:"bg-red-50",children:[l.jsx(ct,{children:l.jsx(ut,{className:"text-base text-red-700",children:"Danger Zone"})}),l.jsx(Je,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-red-700",children:"Delete this channel"}),l.jsx("div",{className:"text-xs text-red-600/80",children:"This action cannot be undone."})]}),l.jsxs(m1,{children:[l.jsx(Cie,{asChild:!0,children:l.jsx(ne,{className:"bg-red-600 hover:bg-red-700 text-white",children:"Delete Channel"})}),l.jsxs(dg,{children:[l.jsxs(fg,{children:[l.jsx(pg,{children:"Delete channel?"}),l.jsxs(mg,{children:["This will permanently delete ",(q==null?void 0:q.display_name)||"this channel",". This action cannot be undone."]})]}),l.jsxs(hg,{children:[l.jsx(vg,{children:"Cancel"}),l.jsx(gg,{className:`bg-red-600 hover:bg-red-700 text-white ${xe?"animate-pulse cursor-wait":""}`,"aria-busy":xe,disabled:xe,onClick:async()=>{if(q)try{Te(!0);const ie=yt(q);if(ie==="whatsapp"){const ge=ot.buildUrl(ot.ENDPOINTS.WHATSAPP.DELETE_SESSION||"/delete_session"),we=(q.display_name||"").replace(/\s/g,"");await fetch(ge,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_name:we})})}else if(ie==="telegram"){const ge=ot.buildUrl(ot.ENDPOINTS.TELEGRAM.DELETE_WEBHOOK);await fetch(ge,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({channel_id:q.id})})}await a(q.id),e({title:"Deleted",description:"Channel has been deleted."}),x(null)}catch(ie){e({title:"Error",description:(ie==null?void 0:ie.message)||"Failed to delete channel",variant:"destructive"})}finally{Te(!1)}},children:xe?l.jsxs("span",{className:"inline-flex items-center gap-2",children:[l.jsx(St,{className:"h-4 w-4 animate-spin"}),l.jsx("span",{children:"Deleting…"})]}):"Delete"})]})]})]})]})})]})})]})})]})};var Mie=Array.isArray,jr=Mie,$ie=typeof fn=="object"&&fn&&fn.Object===Object&&fn,Q3=$ie,Die=Q3,Lie=typeof self=="object"&&self&&self.Object===Object&&self,Fie=Die||Lie||Function("return this")(),da=Fie,Bie=da,Uie=Bie.Symbol,Wh=Uie,xN=Wh,J3=Object.prototype,zie=J3.hasOwnProperty,Wie=J3.toString,ud=xN?xN.toStringTag:void 0;function Hie(e){var t=zie.call(e,ud),n=e[ud];try{e[ud]=void 0;var r=!0}catch{}var i=Wie.call(e);return r&&(t?e[ud]=n:delete e[ud]),i}var qie=Hie,Vie=Object.prototype,Kie=Vie.toString;function Gie(e){return Kie.call(e)}var Yie=Gie,bN=Wh,Xie=qie,Qie=Yie,Jie="[object Null]",Zie="[object Undefined]",wN=bN?bN.toStringTag:void 0;function eae(e){return e==null?e===void 0?Zie:Jie:wN&&wN in Object(e)?Xie(e):Qie(e)}var Xa=eae;function tae(e){return e!=null&&typeof e=="object"}var Qa=tae,nae=Xa,rae=Qa,iae="[object Symbol]";function aae(e){return typeof e=="symbol"||rae(e)&&nae(e)==iae}var Mu=aae,oae=jr,sae=Mu,lae=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,cae=/^\w*$/;function uae(e,t){if(oae(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||sae(e)?!0:cae.test(e)||!lae.test(e)||t!=null&&e in Object(t)}var lk=uae;function dae(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var rs=dae;const $u=Et(rs);var fae=Xa,hae=rs,pae="[object AsyncFunction]",mae="[object Function]",gae="[object GeneratorFunction]",vae="[object Proxy]";function yae(e){if(!hae(e))return!1;var t=fae(e);return t==mae||t==gae||t==pae||t==vae}var ck=yae;const at=Et(ck);var xae=da,bae=xae["__core-js_shared__"],wae=bae,L0=wae,_N=function(){var e=/[^.]+$/.exec(L0&&L0.keys&&L0.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function _ae(e){return!!_N&&_N in e}var Sae=_ae,jae=Function.prototype,kae=jae.toString;function Cae(e){if(e!=null){try{return kae.call(e)}catch{}try{return e+""}catch{}}return""}var Z3=Cae,Eae=ck,Aae=Sae,Nae=rs,Pae=Z3,Tae=/[\\^$.*+?()[\]{}|]/g,Oae=/^\[object .+?Constructor\]$/,Iae=Function.prototype,Rae=Object.prototype,Mae=Iae.toString,$ae=Rae.hasOwnProperty,Dae=RegExp("^"+Mae.call($ae).replace(Tae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Lae(e){if(!Nae(e)||Aae(e))return!1;var t=Eae(e)?Dae:Oae;return t.test(Pae(e))}var Fae=Lae;function Bae(e,t){return e==null?void 0:e[t]}var Uae=Bae,zae=Fae,Wae=Uae;function Hae(e,t){var n=Wae(e,t);return zae(n)?n:void 0}var ml=Hae,qae=ml,Vae=qae(Object,"create"),Ay=Vae,SN=Ay;function Kae(){this.__data__=SN?SN(null):{},this.size=0}var Gae=Kae;function Yae(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Xae=Yae,Qae=Ay,Jae="__lodash_hash_undefined__",Zae=Object.prototype,eoe=Zae.hasOwnProperty;function toe(e){var t=this.__data__;if(Qae){var n=t[e];return n===Jae?void 0:n}return eoe.call(t,e)?t[e]:void 0}var noe=toe,roe=Ay,ioe=Object.prototype,aoe=ioe.hasOwnProperty;function ooe(e){var t=this.__data__;return roe?t[e]!==void 0:aoe.call(t,e)}var soe=ooe,loe=Ay,coe="__lodash_hash_undefined__";function uoe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=loe&&t===void 0?coe:t,this}var doe=uoe,foe=Gae,hoe=Xae,poe=noe,moe=soe,goe=doe;function Du(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Du.prototype.clear=foe;Du.prototype.delete=hoe;Du.prototype.get=poe;Du.prototype.has=moe;Du.prototype.set=goe;var voe=Du;function yoe(){this.__data__=[],this.size=0}var xoe=yoe;function boe(e,t){return e===t||e!==e&&t!==t}var uk=boe,woe=uk;function _oe(e,t){for(var n=e.length;n--;)if(woe(e[n][0],t))return n;return-1}var Ny=_oe,Soe=Ny,joe=Array.prototype,koe=joe.splice;function Coe(e){var t=this.__data__,n=Soe(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():koe.call(t,n,1),--this.size,!0}var Eoe=Coe,Aoe=Ny;function Noe(e){var t=this.__data__,n=Aoe(t,e);return n<0?void 0:t[n][1]}var Poe=Noe,Toe=Ny;function Ooe(e){return Toe(this.__data__,e)>-1}var Ioe=Ooe,Roe=Ny;function Moe(e,t){var n=this.__data__,r=Roe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var $oe=Moe,Doe=xoe,Loe=Eoe,Foe=Poe,Boe=Ioe,Uoe=$oe;function Lu(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Lu.prototype.clear=Doe;Lu.prototype.delete=Loe;Lu.prototype.get=Foe;Lu.prototype.has=Boe;Lu.prototype.set=Uoe;var Py=Lu,zoe=ml,Woe=da,Hoe=zoe(Woe,"Map"),dk=Hoe,jN=voe,qoe=Py,Voe=dk;function Koe(){this.size=0,this.__data__={hash:new jN,map:new(Voe||qoe),string:new jN}}var Goe=Koe;function Yoe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Xoe=Yoe,Qoe=Xoe;function Joe(e,t){var n=e.__data__;return Qoe(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Ty=Joe,Zoe=Ty;function ese(e){var t=Zoe(this,e).delete(e);return this.size-=t?1:0,t}var tse=ese,nse=Ty;function rse(e){return nse(this,e).get(e)}var ise=rse,ase=Ty;function ose(e){return ase(this,e).has(e)}var sse=ose,lse=Ty;function cse(e,t){var n=lse(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var use=cse,dse=Goe,fse=tse,hse=ise,pse=sse,mse=use;function Fu(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Fu.prototype.clear=dse;Fu.prototype.delete=fse;Fu.prototype.get=hse;Fu.prototype.has=pse;Fu.prototype.set=mse;var fk=Fu,eB=fk,gse="Expected a function";function hk(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(gse);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(hk.Cache||eB),n}hk.Cache=eB;var tB=hk;const vse=Et(tB);var yse=tB,xse=500;function bse(e){var t=yse(e,function(r){return n.size===xse&&n.clear(),r}),n=t.cache;return t}var wse=bse,_se=wse,Sse=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jse=/\\(\\)?/g,kse=_se(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Sse,function(n,r,i,a){t.push(i?a.replace(jse,"$1"):r||n)}),t}),Cse=kse;function Ese(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var pk=Ese,kN=Wh,Ase=pk,Nse=jr,Pse=Mu,Tse=1/0,CN=kN?kN.prototype:void 0,EN=CN?CN.toString:void 0;function nB(e){if(typeof e=="string")return e;if(Nse(e))return Ase(e,nB)+"";if(Pse(e))return EN?EN.call(e):"";var t=e+"";return t=="0"&&1/e==-Tse?"-0":t}var Ose=nB,Ise=Ose;function Rse(e){return e==null?"":Ise(e)}var rB=Rse,Mse=jr,$se=lk,Dse=Cse,Lse=rB;function Fse(e,t){return Mse(e)?e:$se(e,t)?[e]:Dse(Lse(e))}var iB=Fse,Bse=Mu,Use=1/0;function zse(e){if(typeof e=="string"||Bse(e))return e;var t=e+"";return t=="0"&&1/e==-Use?"-0":t}var Oy=zse,Wse=iB,Hse=Oy;function qse(e,t){t=Wse(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Hse(t[n++])];return n&&n==r?e:void 0}var mk=qse,Vse=mk;function Kse(e,t,n){var r=e==null?void 0:Vse(e,t);return r===void 0?n:r}var aB=Kse;const ei=Et(aB);function Gse(e){return e==null}var Yse=Gse;const vt=Et(Yse);var Xse=Xa,Qse=jr,Jse=Qa,Zse="[object String]";function ele(e){return typeof e=="string"||!Qse(e)&&Jse(e)&&Xse(e)==Zse}var tle=ele;const Zs=Et(tle);var oB={exports:{}},At={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gk=Symbol.for("react.element"),vk=Symbol.for("react.portal"),Iy=Symbol.for("react.fragment"),Ry=Symbol.for("react.strict_mode"),My=Symbol.for("react.profiler"),$y=Symbol.for("react.provider"),Dy=Symbol.for("react.context"),nle=Symbol.for("react.server_context"),Ly=Symbol.for("react.forward_ref"),Fy=Symbol.for("react.suspense"),By=Symbol.for("react.suspense_list"),Uy=Symbol.for("react.memo"),zy=Symbol.for("react.lazy"),rle=Symbol.for("react.offscreen"),sB;sB=Symbol.for("react.module.reference");function oi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case gk:switch(e=e.type,e){case Iy:case My:case Ry:case Fy:case By:return e;default:switch(e=e&&e.$$typeof,e){case nle:case Dy:case Ly:case zy:case Uy:case $y:return e;default:return t}}case vk:return t}}}At.ContextConsumer=Dy;At.ContextProvider=$y;At.Element=gk;At.ForwardRef=Ly;At.Fragment=Iy;At.Lazy=zy;At.Memo=Uy;At.Portal=vk;At.Profiler=My;At.StrictMode=Ry;At.Suspense=Fy;At.SuspenseList=By;At.isAsyncMode=function(){return!1};At.isConcurrentMode=function(){return!1};At.isContextConsumer=function(e){return oi(e)===Dy};At.isContextProvider=function(e){return oi(e)===$y};At.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===gk};At.isForwardRef=function(e){return oi(e)===Ly};At.isFragment=function(e){return oi(e)===Iy};At.isLazy=function(e){return oi(e)===zy};At.isMemo=function(e){return oi(e)===Uy};At.isPortal=function(e){return oi(e)===vk};At.isProfiler=function(e){return oi(e)===My};At.isStrictMode=function(e){return oi(e)===Ry};At.isSuspense=function(e){return oi(e)===Fy};At.isSuspenseList=function(e){return oi(e)===By};At.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Iy||e===My||e===Ry||e===Fy||e===By||e===rle||typeof e=="object"&&e!==null&&(e.$$typeof===zy||e.$$typeof===Uy||e.$$typeof===$y||e.$$typeof===Dy||e.$$typeof===Ly||e.$$typeof===sB||e.getModuleId!==void 0)};At.typeOf=oi;oB.exports=At;var ile=oB.exports,ale=Xa,ole=Qa,sle="[object Number]";function lle(e){return typeof e=="number"||ole(e)&&ale(e)==sle}var lB=lle;const cle=Et(lB);var ule=lB;function dle(e){return ule(e)&&e!=+e}var fle=dle;const Hh=Et(fle);var ji=function(t){return t===0?0:t>0?1:-1},Cs=function(t){return Zs(t)&&t.indexOf("%")===t.length-1},_e=function(t){return cle(t)&&!Hh(t)},hle=function(t){return vt(t)},_n=function(t){return _e(t)||Zs(t)},ple=0,Wy=function(t){var n=++ple;return"".concat(t||"").concat(n)},el=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!_e(t)&&!Zs(t))return r;var a;if(Cs(t)){var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return Hh(a)&&(a=r),i&&a>n&&(a=n),a},Bl=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},mle=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},i=0;i<n;i++)if(!r[t[i]])r[t[i]]=!0;else return!0;return!1},Pl=function(t,n){return _e(t)&&_e(n)?function(r){return t+r*(n-t)}:function(){return n}};function g1(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):ei(r,t))===n})}var gle=function(t,n){return _e(t)&&_e(n)?t-n:Zs(t)&&Zs(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function bc(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function v1(e){"@babel/helpers - typeof";return v1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v1(e)}var vle=["viewBox","children"],yle=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],AN=["points","pathLength"],F0={svg:vle,polygon:AN,polyline:AN},yk=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],yg=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(g.isValidElement(t)&&(r=t.props),!$u(r))return null;var i={};return Object.keys(r).forEach(function(a){yk.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},xle=function(t,n,r){return function(i){return t(n,r,i),null}},xg=function(t,n,r){if(!$u(t)||v1(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var o=t[a];yk.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=xle(o,n,r))}),i},ble=["children"],wle=["children"];function NN(e,t){if(e==null)return{};var n=_le(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _le(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var PN={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Oa=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},TN=null,B0=null,xk=function e(t){if(t===TN&&Array.isArray(B0))return B0;var n=[];return g.Children.forEach(t,function(r){vt(r)||(ile.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),B0=n,TN=t,n};function Ei(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(i){return Oa(i)}):r=[Oa(t)],xk(e).forEach(function(i){var a=ei(i,"type.displayName")||ei(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Nr(e,t){var n=Ei(e,t);return n&&n[0]}var ON=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,i=n.height;return!(!_e(r)||r<=0||!_e(i)||i<=0)},Sle=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],jle=function(t){return t&&t.type&&Zs(t.type)&&Sle.indexOf(t.type)>=0},kle=function(t,n,r,i){var a,o=(a=F0==null?void 0:F0[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!at(t)&&(i&&o.includes(n)||yle.includes(n))||r&&yk.includes(n)},wt=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(g.isValidElement(t)&&(i=t.props),!$u(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;kle((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},y1=function e(t,n){if(t===n)return!0;var r=g.Children.count(t);if(r!==g.Children.count(n))return!1;if(r===0)return!0;if(r===1)return IN(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=t[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!IN(a,o))return!1}return!0},IN=function(t,n){if(vt(t)&&vt(n))return!0;if(!vt(t)&&!vt(n)){var r=t.props||{},i=r.children,a=NN(r,ble),o=n.props||{},s=o.children,c=NN(o,wle);return i&&s?bc(a,c)&&y1(i,s):!i&&!s?bc(a,c):!1}return!1},RN=function(t,n){var r=[],i={};return xk(t).forEach(function(a,o){if(jle(a))r.push(a);else if(a){var s=Oa(a.type),c=n[s]||{},u=c.handler,f=c.once;if(u&&(!f||!i[s])){var d=u(a,s,o);r.push(d),i[s]=!0}}}),r},Cle=function(t){var n=t&&t.type;return n&&PN[n]?PN[n]:null},Ele=function(t,n){return xk(n).indexOf(t)},Ale=["children","width","height","viewBox","className","style","title","desc"];function x1(){return x1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x1.apply(this,arguments)}function Nle(e,t){if(e==null)return{};var n=Ple(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ple(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function b1(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,a=e.className,o=e.style,s=e.title,c=e.desc,u=Nle(e,Ale),f=i||{width:n,height:r,x:0,y:0},d=ft("recharts-surface",a);return H.createElement("svg",x1({},wt(u,!0,"svg"),{className:d,width:n,height:r,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),H.createElement("title",null,s),H.createElement("desc",null,c),t)}var Tle=["children","className"];function w1(){return w1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w1.apply(this,arguments)}function Ole(e,t){if(e==null)return{};var n=Ile(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ile(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var An=H.forwardRef(function(e,t){var n=e.children,r=e.className,i=Ole(e,Tle),a=ft("recharts-layer",r);return H.createElement("g",w1({className:a},wt(i,!0),{ref:t}),n)}),Ls=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function Rle(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}var Mle=Rle,$le=Mle;function Dle(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:$le(e,t,n)}var Lle=Dle,Fle="\\ud800-\\udfff",Ble="\\u0300-\\u036f",Ule="\\ufe20-\\ufe2f",zle="\\u20d0-\\u20ff",Wle=Ble+Ule+zle,Hle="\\ufe0e\\ufe0f",qle="\\u200d",Vle=RegExp("["+qle+Fle+Wle+Hle+"]");function Kle(e){return Vle.test(e)}var cB=Kle;function Gle(e){return e.split("")}var Yle=Gle,uB="\\ud800-\\udfff",Xle="\\u0300-\\u036f",Qle="\\ufe20-\\ufe2f",Jle="\\u20d0-\\u20ff",Zle=Xle+Qle+Jle,ece="\\ufe0e\\ufe0f",tce="["+uB+"]",_1="["+Zle+"]",S1="\\ud83c[\\udffb-\\udfff]",nce="(?:"+_1+"|"+S1+")",dB="[^"+uB+"]",fB="(?:\\ud83c[\\udde6-\\uddff]){2}",hB="[\\ud800-\\udbff][\\udc00-\\udfff]",rce="\\u200d",pB=nce+"?",mB="["+ece+"]?",ice="(?:"+rce+"(?:"+[dB,fB,hB].join("|")+")"+mB+pB+")*",ace=mB+pB+ice,oce="(?:"+[dB+_1+"?",_1,fB,hB,tce].join("|")+")",sce=RegExp(S1+"(?="+S1+")|"+oce+ace,"g");function lce(e){return e.match(sce)||[]}var cce=lce,uce=Yle,dce=cB,fce=cce;function hce(e){return dce(e)?fce(e):uce(e)}var pce=hce,mce=Lle,gce=cB,vce=pce,yce=rB;function xce(e){return function(t){t=yce(t);var n=gce(t)?vce(t):void 0,r=n?n[0]:t.charAt(0),i=n?mce(n,1).join(""):t.slice(1);return r[e]()+i}}var bce=xce,wce=bce,_ce=wce("toUpperCase"),Sce=_ce;const Hy=Et(Sce);function Ft(e){return function(){return e}}const gB=Math.cos,bg=Math.sin,$i=Math.sqrt,wg=Math.PI,qy=2*wg,j1=Math.PI,k1=2*j1,gs=1e-6,jce=k1-gs;function vB(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function kce(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return vB;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Cce{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?vB:kce(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,c=r-t,u=i-n,f=o-t,d=s-n,h=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>gs)if(!(Math.abs(d*c-u*f)>gs)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-o,m=i-s,v=c*c+u*u,y=p*p+m*m,x=Math.sqrt(v),w=Math.sqrt(h),b=a*Math.tan((j1-Math.acos((v+h-y)/(2*x*w)))/2),S=b/w,j=b/x;Math.abs(S-1)>gs&&this._append`L${t+S*f},${n+S*d}`,this._append`A${a},${a},0,0,${+(d*p>f*m)},${this._x1=t+j*c},${this._y1=n+j*u}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),c=r*Math.sin(i),u=t+s,f=n+c,d=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>gs||Math.abs(this._y1-f)>gs)&&this._append`L${u},${f}`,r&&(h<0&&(h=h%k1+k1),h>jce?this._append`A${r},${r},0,1,${d},${t-s},${n-c}A${r},${r},0,1,${d},${this._x1=u},${this._y1=f}`:h>gs&&this._append`A${r},${r},0,${+(h>=j1)},${d},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function bk(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Cce(t)}function wk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function yB(e){this._context=e}yB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Vy(e){return new yB(e)}function xB(e){return e[0]}function bB(e){return e[1]}function wB(e,t){var n=Ft(!0),r=null,i=Vy,a=null,o=bk(s);e=typeof e=="function"?e:e===void 0?xB:Ft(e),t=typeof t=="function"?t:t===void 0?bB:Ft(t);function s(c){var u,f=(c=wk(c)).length,d,h=!1,p;for(r==null&&(a=i(p=o())),u=0;u<=f;++u)!(u<f&&n(d=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(d,u,c),+t(d,u,c));if(p)return a=null,p+""||null}return s.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ft(+c),s):e},s.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ft(+c),s):t},s.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Ft(!!c),s):n},s.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),s):i},s.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),s):r},s}function Ip(e,t,n){var r=null,i=Ft(!0),a=null,o=Vy,s=null,c=bk(u);e=typeof e=="function"?e:e===void 0?xB:Ft(+e),t=typeof t=="function"?t:Ft(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?bB:Ft(+n);function u(d){var h,p,m,v=(d=wk(d)).length,y,x=!1,w,b=new Array(v),S=new Array(v);for(a==null&&(s=o(w=c())),h=0;h<=v;++h){if(!(h<v&&i(y=d[h],h,d))===x)if(x=!x)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=p;--m)s.point(b[m],S[m]);s.lineEnd(),s.areaEnd()}x&&(b[h]=+e(y,h,d),S[h]=+t(y,h,d),s.point(r?+r(y,h,d):b[h],n?+n(y,h,d):S[h]))}if(w)return s=null,w+""||null}function f(){return wB().defined(i).curve(o).context(a)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Ft(+d),r=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Ft(+d),u):e},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Ft(+d),u):r},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Ft(+d),n=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Ft(+d),u):t},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Ft(+d),u):n},u.lineX0=u.lineY0=function(){return f().x(e).y(t)},u.lineY1=function(){return f().x(e).y(n)},u.lineX1=function(){return f().x(r).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Ft(!!d),u):i},u.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),u):o},u.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),u):a},u}class _B{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Ece(e){return new _B(e,!0)}function Ace(e){return new _B(e,!1)}const _k={draw(e,t){const n=$i(t/wg);e.moveTo(n,0),e.arc(0,0,n,0,qy)}},Nce={draw(e,t){const n=$i(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},SB=$i(1/3),Pce=SB*2,Tce={draw(e,t){const n=$i(t/Pce),r=n*SB;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Oce={draw(e,t){const n=$i(t),r=-n/2;e.rect(r,r,n,n)}},Ice=.8908130915292852,jB=bg(wg/10)/bg(7*wg/10),Rce=bg(qy/10)*jB,Mce=-gB(qy/10)*jB,$ce={draw(e,t){const n=$i(t*Ice),r=Rce*n,i=Mce*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const o=qy*a/5,s=gB(o),c=bg(o);e.lineTo(c*n,-s*n),e.lineTo(s*r-c*i,c*r+s*i)}e.closePath()}},U0=$i(3),Dce={draw(e,t){const n=-$i(t/(U0*3));e.moveTo(0,n*2),e.lineTo(-U0*n,-n),e.lineTo(U0*n,-n),e.closePath()}},Wr=-.5,Hr=$i(3)/2,C1=1/$i(12),Lce=(C1/2+1)*3,Fce={draw(e,t){const n=$i(t/Lce),r=n/2,i=n*C1,a=r,o=n*C1+n,s=-a,c=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(s,c),e.lineTo(Wr*r-Hr*i,Hr*r+Wr*i),e.lineTo(Wr*a-Hr*o,Hr*a+Wr*o),e.lineTo(Wr*s-Hr*c,Hr*s+Wr*c),e.lineTo(Wr*r+Hr*i,Wr*i-Hr*r),e.lineTo(Wr*a+Hr*o,Wr*o-Hr*a),e.lineTo(Wr*s+Hr*c,Wr*c-Hr*s),e.closePath()}};function Bce(e,t){let n=null,r=bk(i);e=typeof e=="function"?e:Ft(e||_k),t=typeof t=="function"?t:Ft(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Ft(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Ft(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function _g(){}function Sg(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function kB(e){this._context=e}kB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Sg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Sg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Uce(e){return new kB(e)}function CB(e){this._context=e}CB.prototype={areaStart:_g,areaEnd:_g,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Sg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function zce(e){return new CB(e)}function EB(e){this._context=e}EB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Sg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Wce(e){return new EB(e)}function AB(e){this._context=e}AB.prototype={areaStart:_g,areaEnd:_g,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Hce(e){return new AB(e)}function MN(e){return e<0?-1:1}function $N(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(MN(a)+MN(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function DN(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function z0(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function jg(e){this._context=e}jg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:z0(this,this._t0,DN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,z0(this,DN(this,n=$N(this,e,t)),n);break;default:z0(this,this._t0,n=$N(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function NB(e){this._context=new PB(e)}(NB.prototype=Object.create(jg.prototype)).point=function(e,t){jg.prototype.point.call(this,t,e)};function PB(e){this._context=e}PB.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function qce(e){return new jg(e)}function Vce(e){return new NB(e)}function TB(e){this._context=e}TB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=LN(e),i=LN(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function LN(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Kce(e){return new TB(e)}function Ky(e,t){this._context=e,this._t=t}Ky.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Gce(e){return new Ky(e,.5)}function Yce(e){return new Ky(e,0)}function Xce(e){return new Ky(e,1)}function Zc(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,s=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function E1(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Qce(e,t){return e[t]}function Jce(e){const t=[];return t.key=e,t}function Zce(){var e=Ft([]),t=E1,n=Zc,r=Qce;function i(a){var o=Array.from(e.apply(this,arguments),Jce),s,c=o.length,u=-1,f;for(const d of a)for(s=0,++u;s<c;++s)(o[s][u]=[0,+r(d,o[s].key,u,a)]).data=d;for(s=0,f=wk(t(o));s<c;++s)o[f[s]].index=s;return n(o,f),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Ft(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Ft(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?E1:typeof a=="function"?a:Ft(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Zc,i):n},i}function eue(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}Zc(e,t)}}function tue(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=e[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}Zc(e,t)}}function nue(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,c=0,u=0;s<o;++s){for(var f=e[t[s]],d=f[r][1]||0,h=f[r-1][1]||0,p=(d-h)/2,m=0;m<s;++m){var v=e[t[m]],y=v[r][1]||0,x=v[r-1][1]||0;p+=y-x}c+=d,u+=p*d}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,Zc(e,t)}}function If(e){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},If(e)}var rue=["type","size","sizeType"];function A1(){return A1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A1.apply(this,arguments)}function FN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function BN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FN(Object(n),!0).forEach(function(r){iue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iue(e,t,n){return t=aue(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aue(e){var t=oue(e,"string");return If(t)=="symbol"?t:t+""}function oue(e,t){if(If(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(If(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sue(e,t){if(e==null)return{};var n=lue(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function lue(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var OB={symbolCircle:_k,symbolCross:Nce,symbolDiamond:Tce,symbolSquare:Oce,symbolStar:$ce,symbolTriangle:Dce,symbolWye:Fce},cue=Math.PI/180,uue=function(t){var n="symbol".concat(Hy(t));return OB[n]||_k},due=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*cue;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},fue=function(t,n){OB["symbol".concat(Hy(t))]=n},Sk=function(t){var n=t.type,r=n===void 0?"circle":n,i=t.size,a=i===void 0?64:i,o=t.sizeType,s=o===void 0?"area":o,c=sue(t,rue),u=BN(BN({},c),{},{type:r,size:a,sizeType:s}),f=function(){var y=uue(r),x=Bce().type(y).size(due(a,s,r));return x()},d=u.className,h=u.cx,p=u.cy,m=wt(u,!0);return h===+h&&p===+p&&a===+a?H.createElement("path",A1({},m,{className:ft("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:f()})):null};Sk.registerSymbol=fue;function eu(e){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(e)}function N1(){return N1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N1.apply(this,arguments)}function UN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hue(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UN(Object(n),!0).forEach(function(r){Rf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,RB(r.key),r)}}function gue(e,t,n){return t&&mue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vue(e,t,n){return t=kg(t),yue(e,IB()?Reflect.construct(t,n||[],kg(e).constructor):t.apply(e,n))}function yue(e,t){if(t&&(eu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xue(e)}function xue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IB=function(){return!!e})()}function kg(e){return kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kg(e)}function bue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P1(e,t)}function P1(e,t){return P1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},P1(e,t)}function Rf(e,t,n){return t=RB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RB(e){var t=wue(e,"string");return eu(t)=="symbol"?t:t+""}function wue(e,t){if(eu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qr=32,jk=function(e){function t(){return pue(this,t),vue(this,t,arguments)}return bue(t,e),gue(t,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=qr/2,o=qr/6,s=qr/3,c=r.inactive?i:r.color;if(r.type==="plainline")return H.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:qr,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return H.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(qr,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return H.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(qr/8,"h").concat(qr,"v").concat(qr*3/4,"h").concat(-qr,"z"),className:"recharts-legend-icon"});if(H.isValidElement(r.legendIcon)){var u=hue({},r);return delete u.legendIcon,H.cloneElement(r.legendIcon,u)}return H.createElement(Sk,{fill:c,cx:a,cy:a,size:qr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,c=i.formatter,u=i.inactiveColor,f={x:0,y:0,width:qr,height:qr},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,m){var v=p.formatter||c,y=ft(Rf(Rf({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var x=at(p.value)?null:p.value;Ls(!at(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?u:p.color;return H.createElement("li",N1({className:y,style:d,key:"legend-item-".concat(m)},xg(r.props,p,m)),H.createElement(b1,{width:o,height:o,viewBox:f,style:h},r.renderIcon(p)),H.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},v?v(x,p,m):x))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return H.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(g.PureComponent);Rf(jk,"displayName","Legend");Rf(jk,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var _ue=Py;function Sue(){this.__data__=new _ue,this.size=0}var jue=Sue;function kue(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var Cue=kue;function Eue(e){return this.__data__.get(e)}var Aue=Eue;function Nue(e){return this.__data__.has(e)}var Pue=Nue,Tue=Py,Oue=dk,Iue=fk,Rue=200;function Mue(e,t){var n=this.__data__;if(n instanceof Tue){var r=n.__data__;if(!Oue||r.length<Rue-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Iue(r)}return n.set(e,t),this.size=n.size,this}var $ue=Mue,Due=Py,Lue=jue,Fue=Cue,Bue=Aue,Uue=Pue,zue=$ue;function Bu(e){var t=this.__data__=new Due(e);this.size=t.size}Bu.prototype.clear=Lue;Bu.prototype.delete=Fue;Bu.prototype.get=Bue;Bu.prototype.has=Uue;Bu.prototype.set=zue;var MB=Bu,Wue="__lodash_hash_undefined__";function Hue(e){return this.__data__.set(e,Wue),this}var que=Hue;function Vue(e){return this.__data__.has(e)}var Kue=Vue,Gue=fk,Yue=que,Xue=Kue;function Cg(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Gue;++t<n;)this.add(e[t])}Cg.prototype.add=Cg.prototype.push=Yue;Cg.prototype.has=Xue;var $B=Cg;function Que(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var DB=Que;function Jue(e,t){return e.has(t)}var LB=Jue,Zue=$B,ede=DB,tde=LB,nde=1,rde=2;function ide(e,t,n,r,i,a){var o=n&nde,s=e.length,c=t.length;if(s!=c&&!(o&&c>s))return!1;var u=a.get(e),f=a.get(t);if(u&&f)return u==t&&f==e;var d=-1,h=!0,p=n&rde?new Zue:void 0;for(a.set(e,t),a.set(t,e);++d<s;){var m=e[d],v=t[d];if(r)var y=o?r(v,m,d,t,e,a):r(m,v,d,e,t,a);if(y!==void 0){if(y)continue;h=!1;break}if(p){if(!ede(t,function(x,w){if(!tde(p,w)&&(m===x||i(m,x,n,r,a)))return p.push(w)})){h=!1;break}}else if(!(m===v||i(m,v,n,r,a))){h=!1;break}}return a.delete(e),a.delete(t),h}var FB=ide,ade=da,ode=ade.Uint8Array,sde=ode;function lde(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var cde=lde;function ude(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var kk=ude,zN=Wh,WN=sde,dde=uk,fde=FB,hde=cde,pde=kk,mde=1,gde=2,vde="[object Boolean]",yde="[object Date]",xde="[object Error]",bde="[object Map]",wde="[object Number]",_de="[object RegExp]",Sde="[object Set]",jde="[object String]",kde="[object Symbol]",Cde="[object ArrayBuffer]",Ede="[object DataView]",HN=zN?zN.prototype:void 0,W0=HN?HN.valueOf:void 0;function Ade(e,t,n,r,i,a,o){switch(n){case Ede:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Cde:return!(e.byteLength!=t.byteLength||!a(new WN(e),new WN(t)));case vde:case yde:case wde:return dde(+e,+t);case xde:return e.name==t.name&&e.message==t.message;case _de:case jde:return e==t+"";case bde:var s=hde;case Sde:var c=r&mde;if(s||(s=pde),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;r|=gde,o.set(e,t);var f=fde(s(e),s(t),r,i,a,o);return o.delete(e),f;case kde:if(W0)return W0.call(e)==W0.call(t)}return!1}var Nde=Ade;function Pde(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var BB=Pde,Tde=BB,Ode=jr;function Ide(e,t,n){var r=t(e);return Ode(e)?r:Tde(r,n(e))}var Rde=Ide;function Mde(e,t){for(var n=-1,r=e==null?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}var $de=Mde;function Dde(){return[]}var Lde=Dde,Fde=$de,Bde=Lde,Ude=Object.prototype,zde=Ude.propertyIsEnumerable,qN=Object.getOwnPropertySymbols,Wde=qN?function(e){return e==null?[]:(e=Object(e),Fde(qN(e),function(t){return zde.call(e,t)}))}:Bde,Hde=Wde;function qde(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Vde=qde,Kde=Xa,Gde=Qa,Yde="[object Arguments]";function Xde(e){return Gde(e)&&Kde(e)==Yde}var Qde=Xde,VN=Qde,Jde=Qa,UB=Object.prototype,Zde=UB.hasOwnProperty,efe=UB.propertyIsEnumerable,tfe=VN(function(){return arguments}())?VN:function(e){return Jde(e)&&Zde.call(e,"callee")&&!efe.call(e,"callee")},Ck=tfe,Eg={exports:{}};function nfe(){return!1}var rfe=nfe;Eg.exports;(function(e,t){var n=da,r=rfe,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,s=o?n.Buffer:void 0,c=s?s.isBuffer:void 0,u=c||r;e.exports=u})(Eg,Eg.exports);var zB=Eg.exports,ife=9007199254740991,afe=/^(?:0|[1-9]\d*)$/;function ofe(e,t){var n=typeof e;return t=t??ife,!!t&&(n=="number"||n!="symbol"&&afe.test(e))&&e>-1&&e%1==0&&e<t}var Ek=ofe,sfe=9007199254740991;function lfe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=sfe}var Ak=lfe,cfe=Xa,ufe=Ak,dfe=Qa,ffe="[object Arguments]",hfe="[object Array]",pfe="[object Boolean]",mfe="[object Date]",gfe="[object Error]",vfe="[object Function]",yfe="[object Map]",xfe="[object Number]",bfe="[object Object]",wfe="[object RegExp]",_fe="[object Set]",Sfe="[object String]",jfe="[object WeakMap]",kfe="[object ArrayBuffer]",Cfe="[object DataView]",Efe="[object Float32Array]",Afe="[object Float64Array]",Nfe="[object Int8Array]",Pfe="[object Int16Array]",Tfe="[object Int32Array]",Ofe="[object Uint8Array]",Ife="[object Uint8ClampedArray]",Rfe="[object Uint16Array]",Mfe="[object Uint32Array]",qt={};qt[Efe]=qt[Afe]=qt[Nfe]=qt[Pfe]=qt[Tfe]=qt[Ofe]=qt[Ife]=qt[Rfe]=qt[Mfe]=!0;qt[ffe]=qt[hfe]=qt[kfe]=qt[pfe]=qt[Cfe]=qt[mfe]=qt[gfe]=qt[vfe]=qt[yfe]=qt[xfe]=qt[bfe]=qt[wfe]=qt[_fe]=qt[Sfe]=qt[jfe]=!1;function $fe(e){return dfe(e)&&ufe(e.length)&&!!qt[cfe(e)]}var Dfe=$fe;function Lfe(e){return function(t){return e(t)}}var WB=Lfe,Ag={exports:{}};Ag.exports;(function(e,t){var n=Q3,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s})(Ag,Ag.exports);var Ffe=Ag.exports,Bfe=Dfe,Ufe=WB,KN=Ffe,GN=KN&&KN.isTypedArray,zfe=GN?Ufe(GN):Bfe,HB=zfe,Wfe=Vde,Hfe=Ck,qfe=jr,Vfe=zB,Kfe=Ek,Gfe=HB,Yfe=Object.prototype,Xfe=Yfe.hasOwnProperty;function Qfe(e,t){var n=qfe(e),r=!n&&Hfe(e),i=!n&&!r&&Vfe(e),a=!n&&!r&&!i&&Gfe(e),o=n||r||i||a,s=o?Wfe(e.length,String):[],c=s.length;for(var u in e)(t||Xfe.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Kfe(u,c)))&&s.push(u);return s}var Jfe=Qfe,Zfe=Object.prototype;function ehe(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Zfe;return e===n}var the=ehe;function nhe(e,t){return function(n){return e(t(n))}}var qB=nhe,rhe=qB,ihe=rhe(Object.keys,Object),ahe=ihe,ohe=the,she=ahe,lhe=Object.prototype,che=lhe.hasOwnProperty;function uhe(e){if(!ohe(e))return she(e);var t=[];for(var n in Object(e))che.call(e,n)&&n!="constructor"&&t.push(n);return t}var dhe=uhe,fhe=ck,hhe=Ak;function phe(e){return e!=null&&hhe(e.length)&&!fhe(e)}var Gy=phe,mhe=Jfe,ghe=dhe,vhe=Gy;function yhe(e){return vhe(e)?mhe(e):ghe(e)}var Nk=yhe,xhe=Rde,bhe=Hde,whe=Nk;function _he(e){return xhe(e,whe,bhe)}var She=_he,YN=She,jhe=1,khe=Object.prototype,Che=khe.hasOwnProperty;function Ehe(e,t,n,r,i,a){var o=n&jhe,s=YN(e),c=s.length,u=YN(t),f=u.length;if(c!=f&&!o)return!1;for(var d=c;d--;){var h=s[d];if(!(o?h in t:Che.call(t,h)))return!1}var p=a.get(e),m=a.get(t);if(p&&m)return p==t&&m==e;var v=!0;a.set(e,t),a.set(t,e);for(var y=o;++d<c;){h=s[d];var x=e[h],w=t[h];if(r)var b=o?r(w,x,h,t,e,a):r(x,w,h,e,t,a);if(!(b===void 0?x===w||i(x,w,n,r,a):b)){v=!1;break}y||(y=h=="constructor")}if(v&&!y){var S=e.constructor,j=t.constructor;S!=j&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof j=="function"&&j instanceof j)&&(v=!1)}return a.delete(e),a.delete(t),v}var Ahe=Ehe,Nhe=ml,Phe=da,The=Nhe(Phe,"DataView"),Ohe=The,Ihe=ml,Rhe=da,Mhe=Ihe(Rhe,"Promise"),$he=Mhe,Dhe=ml,Lhe=da,Fhe=Dhe(Lhe,"Set"),VB=Fhe,Bhe=ml,Uhe=da,zhe=Bhe(Uhe,"WeakMap"),Whe=zhe,T1=Ohe,O1=dk,I1=$he,R1=VB,M1=Whe,KB=Xa,Uu=Z3,XN="[object Map]",Hhe="[object Object]",QN="[object Promise]",JN="[object Set]",ZN="[object WeakMap]",eP="[object DataView]",qhe=Uu(T1),Vhe=Uu(O1),Khe=Uu(I1),Ghe=Uu(R1),Yhe=Uu(M1),vs=KB;(T1&&vs(new T1(new ArrayBuffer(1)))!=eP||O1&&vs(new O1)!=XN||I1&&vs(I1.resolve())!=QN||R1&&vs(new R1)!=JN||M1&&vs(new M1)!=ZN)&&(vs=function(e){var t=KB(e),n=t==Hhe?e.constructor:void 0,r=n?Uu(n):"";if(r)switch(r){case qhe:return eP;case Vhe:return XN;case Khe:return QN;case Ghe:return JN;case Yhe:return ZN}return t});var Xhe=vs,H0=MB,Qhe=FB,Jhe=Nde,Zhe=Ahe,tP=Xhe,nP=jr,rP=zB,epe=HB,tpe=1,iP="[object Arguments]",aP="[object Array]",Rp="[object Object]",npe=Object.prototype,oP=npe.hasOwnProperty;function rpe(e,t,n,r,i,a){var o=nP(e),s=nP(t),c=o?aP:tP(e),u=s?aP:tP(t);c=c==iP?Rp:c,u=u==iP?Rp:u;var f=c==Rp,d=u==Rp,h=c==u;if(h&&rP(e)){if(!rP(t))return!1;o=!0,f=!1}if(h&&!f)return a||(a=new H0),o||epe(e)?Qhe(e,t,n,r,i,a):Jhe(e,t,c,n,r,i,a);if(!(n&tpe)){var p=f&&oP.call(e,"__wrapped__"),m=d&&oP.call(t,"__wrapped__");if(p||m){var v=p?e.value():e,y=m?t.value():t;return a||(a=new H0),i(v,y,n,r,a)}}return h?(a||(a=new H0),Zhe(e,t,n,r,i,a)):!1}var ipe=rpe,ape=ipe,sP=Qa;function GB(e,t,n,r,i){return e===t?!0:e==null||t==null||!sP(e)&&!sP(t)?e!==e&&t!==t:ape(e,t,n,r,GB,i)}var Pk=GB,ope=MB,spe=Pk,lpe=1,cpe=2;function upe(e,t,n,r){var i=n.length,a=i,o=!r;if(e==null)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){s=n[i];var c=s[0],u=e[c],f=s[1];if(o&&s[2]){if(u===void 0&&!(c in e))return!1}else{var d=new ope;if(r)var h=r(u,f,c,e,t,d);if(!(h===void 0?spe(f,u,lpe|cpe,r,d):h))return!1}}return!0}var dpe=upe,fpe=rs;function hpe(e){return e===e&&!fpe(e)}var YB=hpe,ppe=YB,mpe=Nk;function gpe(e){for(var t=mpe(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,ppe(i)]}return t}var vpe=gpe;function ype(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var XB=ype,xpe=dpe,bpe=vpe,wpe=XB;function _pe(e){var t=bpe(e);return t.length==1&&t[0][2]?wpe(t[0][0],t[0][1]):function(n){return n===e||xpe(n,e,t)}}var Spe=_pe;function jpe(e,t){return e!=null&&t in Object(e)}var kpe=jpe,Cpe=iB,Epe=Ck,Ape=jr,Npe=Ek,Ppe=Ak,Tpe=Oy;function Ope(e,t,n){t=Cpe(t,e);for(var r=-1,i=t.length,a=!1;++r<i;){var o=Tpe(t[r]);if(!(a=e!=null&&n(e,o)))break;e=e[o]}return a||++r!=i?a:(i=e==null?0:e.length,!!i&&Ppe(i)&&Npe(o,i)&&(Ape(e)||Epe(e)))}var Ipe=Ope,Rpe=kpe,Mpe=Ipe;function $pe(e,t){return e!=null&&Mpe(e,t,Rpe)}var Dpe=$pe,Lpe=Pk,Fpe=aB,Bpe=Dpe,Upe=lk,zpe=YB,Wpe=XB,Hpe=Oy,qpe=1,Vpe=2;function Kpe(e,t){return Upe(e)&&zpe(t)?Wpe(Hpe(e),t):function(n){var r=Fpe(n,e);return r===void 0&&r===t?Bpe(n,e):Lpe(t,r,qpe|Vpe)}}var Gpe=Kpe;function Ype(e){return e}var zu=Ype;function Xpe(e){return function(t){return t==null?void 0:t[e]}}var Qpe=Xpe,Jpe=mk;function Zpe(e){return function(t){return Jpe(t,e)}}var eme=Zpe,tme=Qpe,nme=eme,rme=lk,ime=Oy;function ame(e){return rme(e)?tme(ime(e)):nme(e)}var ome=ame,sme=Spe,lme=Gpe,cme=zu,ume=jr,dme=ome;function fme(e){return typeof e=="function"?e:e==null?cme:typeof e=="object"?ume(e)?lme(e[0],e[1]):sme(e):dme(e)}var Wu=fme;function hme(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var pme=hme;function mme(e){return e!==e}var gme=mme;function vme(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var yme=vme,xme=pme,bme=gme,wme=yme;function _me(e,t,n){return t===t?wme(e,t,n):xme(e,bme,n)}var Sme=_me,jme=Sme;function kme(e,t){var n=e==null?0:e.length;return!!n&&jme(e,t,0)>-1}var Cme=kme;function Eme(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var Ame=Eme;function Nme(){}var Pme=Nme,q0=VB,Tme=Pme,Ome=kk,Ime=1/0,Rme=q0&&1/Ome(new q0([,-0]))[1]==Ime?function(e){return new q0(e)}:Tme,Mme=Rme,$me=$B,Dme=Cme,Lme=Ame,Fme=LB,Bme=Mme,Ume=kk,zme=200;function Wme(e,t,n){var r=-1,i=Dme,a=e.length,o=!0,s=[],c=s;if(n)o=!1,i=Lme;else if(a>=zme){var u=t?null:Bme(e);if(u)return Ume(u);o=!1,i=Fme,c=new $me}else c=t?[]:s;e:for(;++r<a;){var f=e[r],d=t?t(f):f;if(f=n||f!==0?f:0,o&&d===d){for(var h=c.length;h--;)if(c[h]===d)continue e;t&&c.push(d),s.push(f)}else i(c,d,n)||(c!==s&&c.push(d),s.push(f))}return s}var Hme=Wme,qme=Wu,Vme=Hme;function Kme(e,t){return e&&e.length?Vme(e,qme(t)):[]}var Gme=Kme;const lP=Et(Gme);function QB(e,t,n){return t===!0?lP(e,n):at(t)?lP(e,t):e}function tu(e){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tu(e)}var Yme=["ref"];function cP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ma(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cP(Object(n),!0).forEach(function(r){Yy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ZB(r.key),r)}}function Qme(e,t,n){return t&&uP(e.prototype,t),n&&uP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jme(e,t,n){return t=Ng(t),Zme(e,JB()?Reflect.construct(t,n||[],Ng(e).constructor):t.apply(e,n))}function Zme(e,t){if(t&&(tu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ege(e)}function ege(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JB=function(){return!!e})()}function Ng(e){return Ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ng(e)}function tge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$1(e,t)}function $1(e,t){return $1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$1(e,t)}function Yy(e,t,n){return t=ZB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZB(e){var t=nge(e,"string");return tu(t)=="symbol"?t:t+""}function nge(e,t){if(tu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rge(e,t){if(e==null)return{};var n=ige(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ige(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function age(e){return e.value}function oge(e,t){if(H.isValidElement(e))return H.cloneElement(e,t);if(typeof e=="function")return H.createElement(e,t);t.ref;var n=rge(t,Yme);return H.createElement(jk,n)}var dP=1,Qi=function(e){function t(){var n;Xme(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Jme(this,t,[].concat(i)),Yy(n,"lastBoundingBox",{width:-1,height:-1}),n}return tge(t,e),Qme(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>dP||Math.abs(i.height-this.lastBoundingBox.height)>dP)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ma({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,c=i.margin,u=i.chartWidth,f=i.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();d={left:((u||0)-p.width)/2}}else d=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();h={top:((f||0)-m.height)/2}}else h=s==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return ma(ma({},d),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,f=i.payload,d=ma(ma({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(c)),c);return H.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){r.wrapperNode=p}},oge(a,ma(ma({},this.props),{},{payload:QB(f,u,age)})))}}],[{key:"getWithHeight",value:function(r,i){var a=ma(ma({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&_e(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(g.PureComponent);Yy(Qi,"displayName","Legend");Yy(Qi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var fP=Wh,sge=Ck,lge=jr,hP=fP?fP.isConcatSpreadable:void 0;function cge(e){return lge(e)||sge(e)||!!(hP&&e&&e[hP])}var uge=cge,dge=BB,fge=uge;function e5(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=fge),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?e5(s,t-1,n,r,i):dge(i,s):r||(i[i.length]=s)}return i}var t5=e5;function hge(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var c=o[e?s:++i];if(n(a[c],c,a)===!1)break}return t}}var pge=hge,mge=pge,gge=mge(),vge=gge,yge=vge,xge=Nk;function bge(e,t){return e&&yge(e,t,xge)}var n5=bge,wge=Gy;function _ge(e,t){return function(n,r){if(n==null)return n;if(!wge(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var Sge=_ge,jge=n5,kge=Sge,Cge=kge(jge),Tk=Cge,Ege=Tk,Age=Gy;function Nge(e,t){var n=-1,r=Age(e)?Array(e.length):[];return Ege(e,function(i,a,o){r[++n]=t(i,a,o)}),r}var r5=Nge;function Pge(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var Tge=Pge,pP=Mu;function Oge(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,a=pP(e),o=t!==void 0,s=t===null,c=t===t,u=pP(t);if(!s&&!u&&!a&&e>t||a&&o&&c&&!s&&!u||r&&o&&c||!n&&c||!i)return 1;if(!r&&!a&&!u&&e<t||u&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!c)return-1}return 0}var Ige=Oge,Rge=Ige;function Mge(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;++r<o;){var c=Rge(i[r],a[r]);if(c){if(r>=s)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return e.index-t.index}var $ge=Mge,V0=pk,Dge=mk,Lge=Wu,Fge=r5,Bge=Tge,Uge=WB,zge=$ge,Wge=zu,Hge=jr;function qge(e,t,n){t.length?t=V0(t,function(a){return Hge(a)?function(o){return Dge(o,a.length===1?a[0]:a)}:a}):t=[Wge];var r=-1;t=V0(t,Uge(Lge));var i=Fge(e,function(a,o,s){var c=V0(t,function(u){return u(a)});return{criteria:c,index:++r,value:a}});return Bge(i,function(a,o){return zge(a,o,n)})}var Vge=qge;function Kge(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Gge=Kge,Yge=Gge,mP=Math.max;function Xge(e,t,n){return t=mP(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=mP(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),Yge(e,this,s)}}var Qge=Xge;function Jge(e){return function(){return e}}var Zge=Jge,eve=ml,tve=function(){try{var e=eve(Object,"defineProperty");return e({},"",{}),e}catch{}}(),i5=tve,nve=Zge,gP=i5,rve=zu,ive=gP?function(e,t){return gP(e,"toString",{configurable:!0,enumerable:!1,value:nve(t),writable:!0})}:rve,ave=ive,ove=800,sve=16,lve=Date.now;function cve(e){var t=0,n=0;return function(){var r=lve(),i=sve-(r-n);if(n=r,i>0){if(++t>=ove)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var uve=cve,dve=ave,fve=uve,hve=fve(dve),pve=hve,mve=zu,gve=Qge,vve=pve;function yve(e,t){return vve(gve(e,t,mve),e+"")}var xve=yve,bve=uk,wve=Gy,_ve=Ek,Sve=rs;function jve(e,t,n){if(!Sve(n))return!1;var r=typeof t;return(r=="number"?wve(n)&&_ve(t,n.length):r=="string"&&t in n)?bve(n[t],e):!1}var Xy=jve,kve=t5,Cve=Vge,Eve=xve,vP=Xy,Ave=Eve(function(e,t){if(e==null)return[];var n=t.length;return n>1&&vP(e,t[0],t[1])?t=[]:n>2&&vP(t[0],t[1],t[2])&&(t=[t[0]]),Cve(e,kve(t,1),[])}),Nve=Ave;const Ok=Et(Nve);function Mf(e){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mf(e)}function D1(){return D1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D1.apply(this,arguments)}function Pve(e,t){return Rve(e)||Ive(e,t)||Ove(e,t)||Tve()}function Tve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ove(e,t){if(e){if(typeof e=="string")return yP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yP(e,t)}}function yP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ive(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Rve(e){if(Array.isArray(e))return e}function xP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function K0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xP(Object(n),!0).forEach(function(r){Mve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mve(e,t,n){return t=$ve(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $ve(e){var t=Dve(e,"string");return Mf(t)=="symbol"?t:t+""}function Dve(e,t){if(Mf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lve(e){return Array.isArray(e)&&_n(e[0])&&_n(e[1])?e.join(" ~ "):e}var Fve=function(t){var n=t.separator,r=n===void 0?" : ":n,i=t.contentStyle,a=i===void 0?{}:i,o=t.itemStyle,s=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,f=t.payload,d=t.formatter,h=t.itemSorter,p=t.wrapperClassName,m=t.labelClassName,v=t.label,y=t.labelFormatter,x=t.accessibilityLayer,w=x===void 0?!1:x,b=function(){if(f&&f.length){var O={padding:0,margin:0},R=(h?Ok(f,h):f).map(function(F,W){if(F.type==="none")return null;var D=K0({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},s),B=F.formatter||d||Lve,$=F.value,L=F.name,A=$,M=L;if(B&&A!=null&&M!=null){var T=B($,L,F,W,f);if(Array.isArray(T)){var C=Pve(T,2);A=C[0],M=C[1]}else A=T}return H.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:D},_n(M)?H.createElement("span",{className:"recharts-tooltip-item-name"},M):null,_n(M)?H.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,H.createElement("span",{className:"recharts-tooltip-item-value"},A),H.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return H.createElement("ul",{className:"recharts-tooltip-item-list",style:O},R)}return null},S=K0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),j=K0({margin:0},u),_=!vt(v),k=_?v:"",E=ft("recharts-default-tooltip",p),I=ft("recharts-tooltip-label",m);_&&y&&f!==void 0&&f!==null&&(k=y(v,f));var P=w?{role:"status","aria-live":"assertive"}:{};return H.createElement("div",D1({className:E,style:S},P),H.createElement("p",{className:I,style:j},H.isValidElement(k)?k:"".concat(k)),b())};function $f(e){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$f(e)}function Mp(e,t,n){return t=Bve(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bve(e){var t=Uve(e,"string");return $f(t)=="symbol"?t:t+""}function Uve(e,t){if($f(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if($f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dd="recharts-tooltip-wrapper",zve={visibility:"hidden"};function Wve(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return ft(dd,Mp(Mp(Mp(Mp({},"".concat(dd,"-right"),_e(n)&&t&&_e(t.x)&&n>=t.x),"".concat(dd,"-left"),_e(n)&&t&&_e(t.x)&&n<t.x),"".concat(dd,"-bottom"),_e(r)&&t&&_e(t.y)&&r>=t.y),"".concat(dd,"-top"),_e(r)&&t&&_e(t.y)&&r<t.y))}function bP(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,a=e.position,o=e.reverseDirection,s=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(a&&_e(a[r]))return a[r];var f=n[r]-s-i,d=n[r]+i;if(t[r])return o[r]?f:d;if(o[r]){var h=f,p=c[r];return h<p?Math.max(d,c[r]):Math.max(f,c[r])}var m=d+s,v=c[r]+u;return m>v?Math.max(f,c[r]):Math.max(d,c[r])}function Hve(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function qve(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,i=e.position,a=e.reverseDirection,o=e.tooltipBox,s=e.useTranslate3d,c=e.viewBox,u,f,d;return o.height>0&&o.width>0&&n?(f=bP({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),d=bP({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Hve({translateX:f,translateY:d,useTranslate3d:s})):u=zve,{cssProperties:u,cssClasses:Wve({translateX:f,translateY:d,coordinate:n})}}function nu(e){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(e)}function wP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _P(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wP(Object(n),!0).forEach(function(r){F1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o5(r.key),r)}}function Gve(e,t,n){return t&&Kve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yve(e,t,n){return t=Pg(t),Xve(e,a5()?Reflect.construct(t,n||[],Pg(e).constructor):t.apply(e,n))}function Xve(e,t){if(t&&(nu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qve(e)}function Qve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a5=function(){return!!e})()}function Pg(e){return Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pg(e)}function Jve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L1(e,t)}function L1(e,t){return L1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},L1(e,t)}function F1(e,t,n){return t=o5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o5(e){var t=Zve(e,"string");return nu(t)=="symbol"?t:t+""}function Zve(e,t){if(nu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SP=1,eye=function(e){function t(){var n;Vve(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Yve(this,t,[].concat(i)),F1(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),F1(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,c,u,f;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&s!==void 0?s:0,y:(u=(f=n.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),n}return Jve(t,e),Gve(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>SP||Math.abs(r.height-this.state.lastBoundingBox.height)>SP)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,c=i.animationEasing,u=i.children,f=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,p=i.offset,m=i.position,v=i.reverseDirection,y=i.useTranslate3d,x=i.viewBox,w=i.wrapperStyle,b=qve({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:p,position:m,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:x}),S=b.cssClasses,j=b.cssProperties,_=_P(_P({transition:h&&a?"transform ".concat(s,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},w);return H.createElement("div",{tabIndex:-1,className:S,style:_,ref:function(E){r.wrapperNode=E}},u)}}])}(g.PureComponent),tye=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},$o={isSsr:tye(),get:function(t){return $o[t]},set:function(t,n){if(typeof t=="string")$o[t]=n;else{var r=Object.keys(t);r&&r.length&&r.forEach(function(i){$o[i]=t[i]})}}};function ru(e){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ru(e)}function jP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jP(Object(n),!0).forEach(function(r){Ik(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l5(r.key),r)}}function iye(e,t,n){return t&&rye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aye(e,t,n){return t=Tg(t),oye(e,s5()?Reflect.construct(t,n||[],Tg(e).constructor):t.apply(e,n))}function oye(e,t){if(t&&(ru(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sye(e)}function sye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s5=function(){return!!e})()}function Tg(e){return Tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tg(e)}function lye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B1(e,t)}function B1(e,t){return B1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},B1(e,t)}function Ik(e,t,n){return t=l5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l5(e){var t=cye(e,"string");return ru(t)=="symbol"?t:t+""}function cye(e,t){if(ru(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uye(e){return e.dataKey}function dye(e,t){return H.isValidElement(e)?H.cloneElement(e,t):typeof e=="function"?H.createElement(e,t):H.createElement(Fve,t)}var Zn=function(e){function t(){return nye(this,t),aye(this,t,arguments)}return lye(t,e),iye(t,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,c=i.animationEasing,u=i.content,f=i.coordinate,d=i.filterNull,h=i.isAnimationActive,p=i.offset,m=i.payload,v=i.payloadUniqBy,y=i.position,x=i.reverseDirection,w=i.useTranslate3d,b=i.viewBox,S=i.wrapperStyle,j=m??[];d&&j.length&&(j=QB(m.filter(function(k){return k.value!=null&&(k.hide!==!0||r.props.includeHidden)}),v,uye));var _=j.length>0;return H.createElement(eye,{allowEscapeViewBox:o,animationDuration:s,animationEasing:c,isAnimationActive:h,active:a,coordinate:f,hasPayload:_,offset:p,position:y,reverseDirection:x,useTranslate3d:w,viewBox:b,wrapperStyle:S},dye(u,kP(kP({},this.props),{},{payload:j})))}}])}(g.PureComponent);Ik(Zn,"displayName","Tooltip");Ik(Zn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!$o.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var fye=da,hye=function(){return fye.Date.now()},pye=hye,mye=/\s/;function gye(e){for(var t=e.length;t--&&mye.test(e.charAt(t)););return t}var vye=gye,yye=vye,xye=/^\s+/;function bye(e){return e&&e.slice(0,yye(e)+1).replace(xye,"")}var wye=bye,_ye=wye,CP=rs,Sye=Mu,EP=NaN,jye=/^[-+]0x[0-9a-f]+$/i,kye=/^0b[01]+$/i,Cye=/^0o[0-7]+$/i,Eye=parseInt;function Aye(e){if(typeof e=="number")return e;if(Sye(e))return EP;if(CP(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=CP(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=_ye(e);var n=kye.test(e);return n||Cye.test(e)?Eye(e.slice(2),n?2:8):jye.test(e)?EP:+e}var c5=Aye,Nye=rs,G0=pye,AP=c5,Pye="Expected a function",Tye=Math.max,Oye=Math.min;function Iye(e,t,n){var r,i,a,o,s,c,u=0,f=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(Pye);t=AP(t)||0,Nye(n)&&(f=!!n.leading,d="maxWait"in n,a=d?Tye(AP(n.maxWait)||0,t):a,h="trailing"in n?!!n.trailing:h);function p(_){var k=r,E=i;return r=i=void 0,u=_,o=e.apply(E,k),o}function m(_){return u=_,s=setTimeout(x,t),f?p(_):o}function v(_){var k=_-c,E=_-u,I=t-k;return d?Oye(I,a-E):I}function y(_){var k=_-c,E=_-u;return c===void 0||k>=t||k<0||d&&E>=a}function x(){var _=G0();if(y(_))return w(_);s=setTimeout(x,v(_))}function w(_){return s=void 0,h&&r?p(_):(r=i=void 0,o)}function b(){s!==void 0&&clearTimeout(s),u=0,r=c=i=s=void 0}function S(){return s===void 0?o:w(G0())}function j(){var _=G0(),k=y(_);if(r=arguments,i=this,c=_,k){if(s===void 0)return m(c);if(d)return clearTimeout(s),s=setTimeout(x,t),p(c)}return s===void 0&&(s=setTimeout(x,t)),o}return j.cancel=b,j.flush=S,j}var Rye=Iye,Mye=Rye,$ye=rs,Dye="Expected a function";function Lye(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(Dye);return $ye(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Mye(e,t,{leading:r,maxWait:t,trailing:i})}var Fye=Lye;const u5=Et(Fye);function Df(e){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Df(e)}function NP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $p(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NP(Object(n),!0).forEach(function(r){Bye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bye(e,t,n){return t=Uye(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uye(e){var t=zye(e,"string");return Df(t)=="symbol"?t:t+""}function zye(e,t){if(Df(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wye(e,t){return Kye(e)||Vye(e,t)||qye(e,t)||Hye()}function Hye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qye(e,t){if(e){if(typeof e=="string")return PP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PP(e,t)}}function PP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vye(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Kye(e){if(Array.isArray(e))return e}var Tl=g.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=e.width,o=a===void 0?"100%":a,s=e.height,c=s===void 0?"100%":s,u=e.minWidth,f=u===void 0?0:u,d=e.minHeight,h=e.maxHeight,p=e.children,m=e.debounce,v=m===void 0?0:m,y=e.id,x=e.className,w=e.onResize,b=e.style,S=b===void 0?{}:b,j=g.useRef(null),_=g.useRef();_.current=w,g.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var k=g.useState({containerWidth:i.width,containerHeight:i.height}),E=Wye(k,2),I=E[0],P=E[1],N=g.useCallback(function(R,F){P(function(W){var D=Math.round(R),B=Math.round(F);return W.containerWidth===D&&W.containerHeight===B?W:{containerWidth:D,containerHeight:B}})},[]);g.useEffect(function(){var R=function(L){var A,M=L[0].contentRect,T=M.width,C=M.height;N(T,C),(A=_.current)===null||A===void 0||A.call(_,T,C)};v>0&&(R=u5(R,v,{trailing:!0,leading:!1}));var F=new ResizeObserver(R),W=j.current.getBoundingClientRect(),D=W.width,B=W.height;return N(D,B),F.observe(j.current),function(){F.disconnect()}},[N,v]);var O=g.useMemo(function(){var R=I.containerWidth,F=I.containerHeight;if(R<0||F<0)return null;Ls(Cs(o)||Cs(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Ls(!n||n>0,"The aspect(%s) must be greater than zero.",n);var W=Cs(o)?R:o,D=Cs(c)?F:c;n&&n>0&&(W?D=W/n:D&&(W=D*n),h&&D>h&&(D=h)),Ls(W>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,W,D,o,c,f,d,n);var B=!Array.isArray(p)&&Oa(p.type).endsWith("Chart");return H.Children.map(p,function($){return H.isValidElement($)?g.cloneElement($,$p({width:W,height:D},B?{style:$p({height:"100%",width:"100%",maxHeight:D,maxWidth:W},$.props.style)}:{})):$})},[n,p,c,h,d,f,I,o]);return H.createElement("div",{id:y?"".concat(y):void 0,className:ft("recharts-responsive-container",x),style:$p($p({},S),{},{width:o,height:c,minWidth:f,minHeight:d,maxHeight:h}),ref:j},O)}),d5=function(t){return null};d5.displayName="Cell";function Lf(e){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lf(e)}function TP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function U1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(n),!0).forEach(function(r){Gye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gye(e,t,n){return t=Yye(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yye(e){var t=Xye(e,"string");return Lf(t)=="symbol"?t:t+""}function Xye(e,t){if(Lf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ol={widthCache:{},cacheCount:0},Qye=2e3,Jye={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},OP="recharts_measurement_span";function Zye(e){var t=U1({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var Vd=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||$o.isSsr)return{width:0,height:0};var r=Zye(n),i=JSON.stringify({text:t,copyStyle:r});if(Ol.widthCache[i])return Ol.widthCache[i];try{var a=document.getElementById(OP);a||(a=document.createElement("span"),a.setAttribute("id",OP),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=U1(U1({},Jye),r);Object.assign(a.style,o),a.textContent="".concat(t);var s=a.getBoundingClientRect(),c={width:s.width,height:s.height};return Ol.widthCache[i]=c,++Ol.cacheCount>Qye&&(Ol.cacheCount=0,Ol.widthCache={}),c}catch{return{width:0,height:0}}},exe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Ff(e){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ff(e)}function Og(e,t){return ixe(e)||rxe(e,t)||nxe(e,t)||txe()}function txe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nxe(e,t){if(e){if(typeof e=="string")return IP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IP(e,t)}}function IP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rxe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function ixe(e){if(Array.isArray(e))return e}function axe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sxe(r.key),r)}}function oxe(e,t,n){return t&&RP(e.prototype,t),n&&RP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function sxe(e){var t=lxe(e,"string");return Ff(t)=="symbol"?t:t+""}function lxe(e,t){if(Ff(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var MP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$P=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cxe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,uxe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,f5={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},dxe=Object.keys(f5),nc="NaN";function fxe(e,t){return e*f5[t]}var Dp=function(){function e(t,n){axe(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!cxe.test(n)&&(this.num=NaN,this.unit=""),dxe.includes(n)&&(this.num=fxe(t,n),this.unit="px")}return oxe(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=uxe.exec(n))!==null&&r!==void 0?r:[],a=Og(i,3),o=a[1],s=a[2];return new e(parseFloat(o),s??"")}}])}();function h5(e){if(e.includes(nc))return nc;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=MP.exec(t))!==null&&n!==void 0?n:[],i=Og(r,4),a=i[1],o=i[2],s=i[3],c=Dp.parse(a??""),u=Dp.parse(s??""),f=o==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return nc;t=t.replace(MP,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,h=(d=$P.exec(t))!==null&&d!==void 0?d:[],p=Og(h,4),m=p[1],v=p[2],y=p[3],x=Dp.parse(m??""),w=Dp.parse(y??""),b=v==="+"?x.add(w):x.subtract(w);if(b.isNaN())return nc;t=t.replace($P,b.toString())}return t}var DP=/\(([^()]*)\)/;function hxe(e){for(var t=e;t.includes("(");){var n=DP.exec(t),r=Og(n,2),i=r[1];t=t.replace(DP,h5(i))}return t}function pxe(e){var t=e.replace(/\s+/g,"");return t=hxe(t),t=h5(t),t}function mxe(e){try{return pxe(e)}catch{return nc}}function Y0(e){var t=mxe(e.slice(5,-1));return t===nc?"":t}var gxe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],vxe=["dx","dy","angle","className","breakAll"];function z1(){return z1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z1.apply(this,arguments)}function LP(e,t){if(e==null)return{};var n=yxe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function yxe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function FP(e,t){return _xe(e)||wxe(e,t)||bxe(e,t)||xxe()}function xxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bxe(e,t){if(e){if(typeof e=="string")return BP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BP(e,t)}}function BP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wxe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function _xe(e){if(Array.isArray(e))return e}var p5=/[ \f\n\r\t\v\u2028\u2029]+/,m5=function(t){var n=t.children,r=t.breakAll,i=t.style;try{var a=[];vt(n)||(r?a=n.toString().split(""):a=n.toString().split(p5));var o=a.map(function(c){return{word:c,width:Vd(c,i).width}}),s=r?0:Vd(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},Sxe=function(t,n,r,i,a){var o=t.maxLines,s=t.children,c=t.style,u=t.breakAll,f=_e(o),d=s,h=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce(function(D,B){var $=B.word,L=B.width,A=D[D.length-1];if(A&&(i==null||a||A.width+L+r<Number(i)))A.words.push($),A.width+=L+r;else{var M={words:[$],width:L};D.push(M)}return D},[])},p=h(n),m=function(W){return W.reduce(function(D,B){return D.width>B.width?D:B})};if(!f)return p;for(var v="…",y=function(W){var D=d.slice(0,W),B=m5({breakAll:u,style:c,children:D+v}).wordsWithComputedWidth,$=h(B),L=$.length>o||m($).width>Number(i);return[L,$]},x=0,w=d.length-1,b=0,S;x<=w&&b<=d.length-1;){var j=Math.floor((x+w)/2),_=j-1,k=y(_),E=FP(k,2),I=E[0],P=E[1],N=y(j),O=FP(N,1),R=O[0];if(!I&&!R&&(x=j+1),I&&R&&(w=j-1),!I&&R){S=P;break}b++}return S||p},UP=function(t){var n=vt(t)?[]:t.toString().split(p5);return[{words:n}]},jxe=function(t){var n=t.width,r=t.scaleToFit,i=t.children,a=t.style,o=t.breakAll,s=t.maxLines;if((n||r)&&!$o.isSsr){var c,u,f=m5({breakAll:o,children:i,style:a});if(f){var d=f.wordsWithComputedWidth,h=f.spaceWidth;c=d,u=h}else return UP(i);return Sxe({breakAll:o,children:i,maxLines:s,style:a},c,u,n,r)}return UP(i)},zP="#808080",Ig=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.lineHeight,s=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,f=t.scaleToFit,d=f===void 0?!1:f,h=t.textAnchor,p=h===void 0?"start":h,m=t.verticalAnchor,v=m===void 0?"end":m,y=t.fill,x=y===void 0?zP:y,w=LP(t,gxe),b=g.useMemo(function(){return jxe({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:d,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,d,w.style,w.width]),S=w.dx,j=w.dy,_=w.angle,k=w.className,E=w.breakAll,I=LP(w,vxe);if(!_n(r)||!_n(a))return null;var P=r+(_e(S)?S:0),N=a+(_e(j)?j:0),O;switch(v){case"start":O=Y0("calc(".concat(u,")"));break;case"middle":O=Y0("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:O=Y0("calc(".concat(b.length-1," * -").concat(s,")"));break}var R=[];if(d){var F=b[0].width,W=w.width;R.push("scale(".concat((_e(W)?W/F:1)/F,")"))}return _&&R.push("rotate(".concat(_,", ").concat(P,", ").concat(N,")")),R.length&&(I.transform=R.join(" ")),H.createElement("text",z1({},wt(I,!0),{x:P,y:N,className:ft("recharts-text",k),textAnchor:p,fill:x.includes("url")?zP:x}),b.map(function(D,B){var $=D.words.join(E?"":" ");return H.createElement("tspan",{x:P,dy:B===0?O:s,key:"".concat($,"-").concat(B)},$)}))};function Do(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function kxe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Rk(e){let t,n,r;e.length!==2?(t=Do,n=(s,c)=>Do(e(s),c),r=(s,c)=>e(s)-c):(t=e===Do||e===kxe?e:Cxe,n=e,r=e);function i(s,c,u=0,f=s.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;n(s[d],c)<0?u=d+1:f=d}while(u<f)}return u}function a(s,c,u=0,f=s.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;n(s[d],c)<=0?u=d+1:f=d}while(u<f)}return u}function o(s,c,u=0,f=s.length){const d=i(s,c,u,f-1);return d>u&&r(s[d-1],c)>-r(s[d],c)?d-1:d}return{left:i,center:o,right:a}}function Cxe(){return 0}function g5(e){return e===null?NaN:+e}function*Exe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Axe=Rk(Do),qh=Axe.right;Rk(g5).center;class WP extends Map{constructor(t,n=Txe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(HP(this,t))}has(t){return super.has(HP(this,t))}set(t,n){return super.set(Nxe(this,t),n)}delete(t){return super.delete(Pxe(this,t))}}function HP({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Nxe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Pxe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Txe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Oxe(e=Do){if(e===Do)return v5;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function v5(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Ixe=Math.sqrt(50),Rxe=Math.sqrt(10),Mxe=Math.sqrt(2);function Rg(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Ixe?10:a>=Rxe?5:a>=Mxe?2:1;let s,c,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(e*u),c=Math.round(t*u),s/u<e&&++s,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*o,s=Math.round(e/u),c=Math.round(t/u),s*u<e&&++s,c*u>t&&--c),c<s&&.5<=n&&n<2?Rg(e,t,n*2):[s,c,u]}function W1(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?Rg(t,e,n):Rg(e,t,n);if(!(a>=i))return[];const s=a-i+1,c=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)c[u]=(a-u)/-o;else for(let u=0;u<s;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)c[u]=(i+u)/-o;else for(let u=0;u<s;++u)c[u]=(i+u)*o;return c}function H1(e,t,n){return t=+t,e=+e,n=+n,Rg(e,t,n)[2]}function q1(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?H1(t,e,n):H1(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function qP(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function VP(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function y5(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?v5:Oxe(i);r>n;){if(r-n>600){const c=r-n+1,u=t-n+1,f=Math.log(c),d=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*d*(c-d)/c)*(u-c/2<0?-1:1),p=Math.max(n,Math.floor(t-u*d/c+h)),m=Math.min(r,Math.floor(t+(c-u)*d/c+h));y5(e,t,p,m,i)}const a=e[t];let o=n,s=r;for(fd(e,n,t),i(e[r],a)>0&&fd(e,n,r);o<s;){for(fd(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[n],a)===0?fd(e,n,s):(++s,fd(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function fd(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function $xe(e,t,n){if(e=Float64Array.from(Exe(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return VP(e);if(t>=1)return qP(e);var r,i=(r-1)*t,a=Math.floor(i),o=qP(y5(e,a).subarray(0,a+1)),s=VP(e.subarray(a+1));return o+(s-o)*(i-a)}}function Dxe(e,t,n=g5){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),s=+n(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function Lxe(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function si(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ja(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const V1=Symbol("implicit");function Mk(){var e=new WP,t=[],n=[],r=V1;function i(a){let o=e.get(a);if(o===void 0){if(r!==V1)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new WP;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Mk(t,n).unknown(r)},si.apply(i,arguments),i}function Bf(){var e=Mk().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,s=!1,c=0,u=0,f=.5;delete e.unknown;function d(){var h=t().length,p=i<r,m=p?i:r,v=p?r:i;a=(v-m)/Math.max(1,h-c+u*2),s&&(a=Math.floor(a)),m+=(v-m-a*(h-c))*f,o=a*(1-c),s&&(m=Math.round(m),o=Math.round(o));var y=Lxe(h).map(function(x){return m+a*x});return n(p?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,d()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(h){return arguments.length?(s=!!h,d()):s},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),d()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),d()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),d()):f},e.copy=function(){return Bf(t(),[r,i]).round(s).paddingInner(c).paddingOuter(u).align(f)},si.apply(d(),arguments)}function x5(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return x5(t())},e}function Kd(){return x5(Bf.apply(null,arguments).paddingInner(1))}function $k(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function b5(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Vh(){}var Uf=.7,Mg=1/Uf,wc="\\s*([+-]?\\d+)\\s*",zf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",na="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Fxe=/^#([0-9a-f]{3,8})$/,Bxe=new RegExp(`^rgb\\(${wc},${wc},${wc}\\)$`),Uxe=new RegExp(`^rgb\\(${na},${na},${na}\\)$`),zxe=new RegExp(`^rgba\\(${wc},${wc},${wc},${zf}\\)$`),Wxe=new RegExp(`^rgba\\(${na},${na},${na},${zf}\\)$`),Hxe=new RegExp(`^hsl\\(${zf},${na},${na}\\)$`),qxe=new RegExp(`^hsla\\(${zf},${na},${na},${zf}\\)$`),KP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$k(Vh,Wf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:GP,formatHex:GP,formatHex8:Vxe,formatHsl:Kxe,formatRgb:YP,toString:YP});function GP(){return this.rgb().formatHex()}function Vxe(){return this.rgb().formatHex8()}function Kxe(){return w5(this).formatHsl()}function YP(){return this.rgb().formatRgb()}function Wf(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Fxe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?XP(t):n===3?new yr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Lp(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Lp(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Bxe.exec(e))?new yr(t[1],t[2],t[3],1):(t=Uxe.exec(e))?new yr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=zxe.exec(e))?Lp(t[1],t[2],t[3],t[4]):(t=Wxe.exec(e))?Lp(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Hxe.exec(e))?ZP(t[1],t[2]/100,t[3]/100,1):(t=qxe.exec(e))?ZP(t[1],t[2]/100,t[3]/100,t[4]):KP.hasOwnProperty(e)?XP(KP[e]):e==="transparent"?new yr(NaN,NaN,NaN,0):null}function XP(e){return new yr(e>>16&255,e>>8&255,e&255,1)}function Lp(e,t,n,r){return r<=0&&(e=t=n=NaN),new yr(e,t,n,r)}function Gxe(e){return e instanceof Vh||(e=Wf(e)),e?(e=e.rgb(),new yr(e.r,e.g,e.b,e.opacity)):new yr}function K1(e,t,n,r){return arguments.length===1?Gxe(e):new yr(e,t,n,r??1)}function yr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}$k(yr,K1,b5(Vh,{brighter(e){return e=e==null?Mg:Math.pow(Mg,e),new yr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Uf:Math.pow(Uf,e),new yr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new yr(Fs(this.r),Fs(this.g),Fs(this.b),$g(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:QP,formatHex:QP,formatHex8:Yxe,formatRgb:JP,toString:JP}));function QP(){return`#${Es(this.r)}${Es(this.g)}${Es(this.b)}`}function Yxe(){return`#${Es(this.r)}${Es(this.g)}${Es(this.b)}${Es((isNaN(this.opacity)?1:this.opacity)*255)}`}function JP(){const e=$g(this.opacity);return`${e===1?"rgb(":"rgba("}${Fs(this.r)}, ${Fs(this.g)}, ${Fs(this.b)}${e===1?")":`, ${e})`}`}function $g(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Fs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Es(e){return e=Fs(e),(e<16?"0":"")+e.toString(16)}function ZP(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Si(e,t,n,r)}function w5(e){if(e instanceof Si)return new Si(e.h,e.s,e.l,e.opacity);if(e instanceof Vh||(e=Wf(e)),!e)return new Si;if(e instanceof Si)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,c=(a+i)/2;return s?(t===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-t)/s+2:o=(t-n)/s+4,s/=c<.5?a+i:2-a-i,o*=60):s=c>0&&c<1?0:o,new Si(o,s,c,e.opacity)}function Xxe(e,t,n,r){return arguments.length===1?w5(e):new Si(e,t,n,r??1)}function Si(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}$k(Si,Xxe,b5(Vh,{brighter(e){return e=e==null?Mg:Math.pow(Mg,e),new Si(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Uf:Math.pow(Uf,e),new Si(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new yr(X0(e>=240?e-240:e+120,i,r),X0(e,i,r),X0(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Si(eT(this.h),Fp(this.s),Fp(this.l),$g(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=$g(this.opacity);return`${e===1?"hsl(":"hsla("}${eT(this.h)}, ${Fp(this.s)*100}%, ${Fp(this.l)*100}%${e===1?")":`, ${e})`}`}}));function eT(e){return e=(e||0)%360,e<0?e+360:e}function Fp(e){return Math.max(0,Math.min(1,e||0))}function X0(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Dk=e=>()=>e;function Qxe(e,t){return function(n){return e+n*t}}function Jxe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Zxe(e){return(e=+e)==1?_5:function(t,n){return n-t?Jxe(t,n,e):Dk(isNaN(t)?n:t)}}function _5(e,t){var n=t-e;return n?Qxe(e,n):Dk(isNaN(e)?t:e)}const tT=function e(t){var n=Zxe(t);function r(i,a){var o=n((i=K1(i)).r,(a=K1(a)).r),s=n(i.g,a.g),c=n(i.b,a.b),u=_5(i.opacity,a.opacity);return function(f){return i.r=o(f),i.g=s(f),i.b=c(f),i.opacity=u(f),i+""}}return r.gamma=e,r}(1);function e0e(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function t0e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function n0e(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Hu(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function r0e(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Dg(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function i0e(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Hu(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var G1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Q0=new RegExp(G1.source,"g");function a0e(e){return function(){return e}}function o0e(e){return function(t){return e(t)+""}}function s0e(e,t){var n=G1.lastIndex=Q0.lastIndex=0,r,i,a,o=-1,s=[],c=[];for(e=e+"",t=t+"";(r=G1.exec(e))&&(i=Q0.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,c.push({i:o,x:Dg(r,i)})),n=Q0.lastIndex;return n<t.length&&(a=t.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?c[0]?o0e(c[0].x):a0e(t):(t=c.length,function(u){for(var f=0,d;f<t;++f)s[(d=c[f]).i]=d.x(u);return s.join("")})}function Hu(e,t){var n=typeof t,r;return t==null||n==="boolean"?Dk(t):(n==="number"?Dg:n==="string"?(r=Wf(t))?(t=r,tT):s0e:t instanceof Wf?tT:t instanceof Date?r0e:t0e(t)?e0e:Array.isArray(t)?n0e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?i0e:Dg)(e,t)}function Lk(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function l0e(e,t){t===void 0&&(t=e,e=Hu);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function c0e(e){return function(){return e}}function Lg(e){return+e}var nT=[0,1];function nr(e){return e}function Y1(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:c0e(isNaN(t)?NaN:.5)}function u0e(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function d0e(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=Y1(i,r),a=n(o,a)):(r=Y1(r,i),a=n(a,o)),function(s){return a(r(s))}}function f0e(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=Y1(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(s){var c=qh(e,s,1,r)-1;return a[c](i[c](s))}}function Kh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Qy(){var e=nT,t=nT,n=Hu,r,i,a,o=nr,s,c,u;function f(){var h=Math.min(e.length,t.length);return o!==nr&&(o=u0e(e[0],e[h-1])),s=h>2?f0e:d0e,c=u=null,d}function d(h){return h==null||isNaN(h=+h)?a:(c||(c=s(e.map(r),t,n)))(r(o(h)))}return d.invert=function(h){return o(i((u||(u=s(t,e.map(r),Dg)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,Lg),f()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),n=Lk,f()},d.clamp=function(h){return arguments.length?(o=h?!0:nr,f()):o!==nr},d.interpolate=function(h){return arguments.length?(n=h,f()):n},d.unknown=function(h){return arguments.length?(a=h,d):a},function(h,p){return r=h,i=p,f()}}function Fk(){return Qy()(nr,nr)}function h0e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Fg(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function iu(e){return e=Fg(Math.abs(e)),e?e[1]:NaN}function p0e(e,t){return function(n,r){for(var i=n.length,a=[],o=0,s=e[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),a.push(n.substring(i-=s,i+s)),!((c+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function m0e(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var g0e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Hf(e){if(!(t=g0e.exec(e)))throw new Error("invalid format: "+e);var t;return new Bk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Hf.prototype=Bk.prototype;function Bk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Bk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function v0e(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var S5;function y0e(e,t){var n=Fg(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(S5=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Fg(e,Math.max(0,t+a-1))[0]}function rT(e,t){var n=Fg(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const iT={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:h0e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>rT(e*100,t),r:rT,s:y0e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function aT(e){return e}var oT=Array.prototype.map,sT=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function x0e(e){var t=e.grouping===void 0||e.thousands===void 0?aT:p0e(oT.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?aT:m0e(oT.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(d){d=Hf(d);var h=d.fill,p=d.align,m=d.sign,v=d.symbol,y=d.zero,x=d.width,w=d.comma,b=d.precision,S=d.trim,j=d.type;j==="n"?(w=!0,j="g"):iT[j]||(b===void 0&&(b=12),S=!0,j="g"),(y||h==="0"&&p==="=")&&(y=!0,h="0",p="=");var _=v==="$"?n:v==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",k=v==="$"?r:/[%p]/.test(j)?o:"",E=iT[j],I=/[defgprs%]/.test(j);b=b===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function P(N){var O=_,R=k,F,W,D;if(j==="c")R=E(N)+R,N="";else{N=+N;var B=N<0||1/N<0;if(N=isNaN(N)?c:E(Math.abs(N),b),S&&(N=v0e(N)),B&&+N==0&&m!=="+"&&(B=!1),O=(B?m==="("?m:s:m==="-"||m==="("?"":m)+O,R=(j==="s"?sT[8+S5/3]:"")+R+(B&&m==="("?")":""),I){for(F=-1,W=N.length;++F<W;)if(D=N.charCodeAt(F),48>D||D>57){R=(D===46?i+N.slice(F+1):N.slice(F))+R,N=N.slice(0,F);break}}}w&&!y&&(N=t(N,1/0));var $=O.length+N.length+R.length,L=$<x?new Array(x-$+1).join(h):"";switch(w&&y&&(N=t(L+N,L.length?x-R.length:1/0),L=""),p){case"<":N=O+N+R+L;break;case"=":N=O+L+N+R;break;case"^":N=L.slice(0,$=L.length>>1)+O+N+R+L.slice($);break;default:N=L+O+N+R;break}return a(N)}return P.toString=function(){return d+""},P}function f(d,h){var p=u((d=Hf(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(iu(h)/3)))*3,v=Math.pow(10,-m),y=sT[8+m/3];return function(x){return p(v*x)+y}}return{format:u,formatPrefix:f}}var Bp,Uk,j5;b0e({thousands:",",grouping:[3],currency:["$",""]});function b0e(e){return Bp=x0e(e),Uk=Bp.format,j5=Bp.formatPrefix,Bp}function w0e(e){return Math.max(0,-iu(Math.abs(e)))}function _0e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(iu(t)/3)))*3-iu(Math.abs(e)))}function S0e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,iu(t)-iu(e))+1}function k5(e,t,n,r){var i=q1(e,t,n),a;switch(r=Hf(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=_0e(i,o))&&(r.precision=a),j5(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=S0e(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=w0e(i))&&(r.precision=a-(r.type==="%")*2);break}}return Uk(r)}function is(e){var t=e.domain;return e.ticks=function(n){var r=t();return W1(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return k5(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],s=r[a],c,u,f=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);f-- >0;){if(u=H1(o,s,n),u===c)return r[i]=o,r[a]=s,t(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;c=u}return e},e}function Bg(){var e=Fk();return e.copy=function(){return Kh(e,Bg())},si.apply(e,arguments),is(e)}function C5(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Lg),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return C5(e).unknown(t)},e=arguments.length?Array.from(e,Lg):[0,1],is(n)}function E5(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function lT(e){return Math.log(e)}function cT(e){return Math.exp(e)}function j0e(e){return-Math.log(-e)}function k0e(e){return-Math.exp(-e)}function C0e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function E0e(e){return e===10?C0e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function A0e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function uT(e){return(t,n)=>-e(-t,n)}function zk(e){const t=e(lT,cT),n=t.domain;let r=10,i,a;function o(){return i=A0e(r),a=E0e(r),n()[0]<0?(i=uT(i),a=uT(a),e(j0e,k0e)):e(lT,cT),t}return t.base=function(s){return arguments.length?(r=+s,o()):r},t.domain=function(s){return arguments.length?(n(s),o()):n()},t.ticks=s=>{const c=n();let u=c[0],f=c[c.length-1];const d=f<u;d&&([u,f]=[f,u]);let h=i(u),p=i(f),m,v;const y=s==null?10:+s;let x=[];if(!(r%1)&&p-h<y){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(m=1;m<r;++m)if(v=h<0?m/a(-h):m*a(h),!(v<u)){if(v>f)break;x.push(v)}}else for(;h<=p;++h)for(m=r-1;m>=1;--m)if(v=h>0?m/a(-h):m*a(h),!(v<u)){if(v>f)break;x.push(v)}x.length*2<y&&(x=W1(u,f,y))}else x=W1(h,p,Math.min(p-h,y)).map(a);return d?x.reverse():x},t.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Hf(c)).precision==null&&(c.trim=!0),c=Uk(c)),s===1/0)return c;const u=Math.max(1,r*s/t.ticks().length);return f=>{let d=f/a(Math.round(i(f)));return d*r<r-.5&&(d*=r),d<=u?c(f):""}},t.nice=()=>n(E5(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function A5(){const e=zk(Qy()).domain([1,10]);return e.copy=()=>Kh(e,A5()).base(e.base()),si.apply(e,arguments),e}function dT(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function fT(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Wk(e){var t=1,n=e(dT(t),fT(t));return n.constant=function(r){return arguments.length?e(dT(t=+r),fT(t)):t},is(n)}function N5(){var e=Wk(Qy());return e.copy=function(){return Kh(e,N5()).constant(e.constant())},si.apply(e,arguments)}function hT(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function N0e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function P0e(e){return e<0?-e*e:e*e}function Hk(e){var t=e(nr,nr),n=1;function r(){return n===1?e(nr,nr):n===.5?e(N0e,P0e):e(hT(n),hT(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},is(t)}function qk(){var e=Hk(Qy());return e.copy=function(){return Kh(e,qk()).exponent(e.exponent())},si.apply(e,arguments),e}function T0e(){return qk.apply(null,arguments).exponent(.5)}function pT(e){return Math.sign(e)*e*e}function O0e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function P5(){var e=Fk(),t=[0,1],n=!1,r;function i(a){var o=O0e(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(pT(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Lg)).map(pT)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return P5(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},si.apply(i,arguments),is(i)}function T5(){var e=[],t=[],n=[],r;function i(){var o=0,s=Math.max(1,t.length);for(n=new Array(s-1);++o<s;)n[o-1]=Dxe(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:t[qh(n,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Do),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return T5().domain(e).range(t).unknown(r)},si.apply(a,arguments)}function O5(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[qh(r,c,0,n)]:a}function s(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,s()):[e,t]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,s()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return O5().domain([e,t]).range(i).unknown(a)},si.apply(is(o),arguments)}function I5(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[qh(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return I5().domain(e).range(t).unknown(n)},si.apply(i,arguments)}const J0=new Date,Z0=new Date;function kn(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const c=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return c;let u;do c.push(u=new Date(+a)),t(a,s),e(a);while(u<a&&a<o);return c},i.filter=a=>kn(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(J0.setTime(+a),Z0.setTime(+o),e(J0),e(Z0),Math.floor(n(J0,Z0))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Ug=kn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ug.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?kn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Ug);Ug.range;const Na=1e3,Qr=Na*60,Pa=Qr*60,Wa=Pa*24,Vk=Wa*7,mT=Wa*30,eb=Wa*365,As=kn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Na)},(e,t)=>(t-e)/Na,e=>e.getUTCSeconds());As.range;const Kk=kn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Na)},(e,t)=>{e.setTime(+e+t*Qr)},(e,t)=>(t-e)/Qr,e=>e.getMinutes());Kk.range;const Gk=kn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Qr)},(e,t)=>(t-e)/Qr,e=>e.getUTCMinutes());Gk.range;const Yk=kn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Na-e.getMinutes()*Qr)},(e,t)=>{e.setTime(+e+t*Pa)},(e,t)=>(t-e)/Pa,e=>e.getHours());Yk.range;const Xk=kn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Pa)},(e,t)=>(t-e)/Pa,e=>e.getUTCHours());Xk.range;const Gh=kn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Qr)/Wa,e=>e.getDate()-1);Gh.range;const Jy=kn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Wa,e=>e.getUTCDate()-1);Jy.range;const R5=kn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Wa,e=>Math.floor(e/Wa));R5.range;function gl(e){return kn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Qr)/Vk)}const Zy=gl(0),zg=gl(1),I0e=gl(2),R0e=gl(3),au=gl(4),M0e=gl(5),$0e=gl(6);Zy.range;zg.range;I0e.range;R0e.range;au.range;M0e.range;$0e.range;function vl(e){return kn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Vk)}const ex=vl(0),Wg=vl(1),D0e=vl(2),L0e=vl(3),ou=vl(4),F0e=vl(5),B0e=vl(6);ex.range;Wg.range;D0e.range;L0e.range;ou.range;F0e.range;B0e.range;const Qk=kn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Qk.range;const Jk=kn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Jk.range;const Ha=kn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ha.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:kn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ha.range;const qa=kn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());qa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:kn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});qa.range;function M5(e,t,n,r,i,a){const o=[[As,1,Na],[As,5,5*Na],[As,15,15*Na],[As,30,30*Na],[a,1,Qr],[a,5,5*Qr],[a,15,15*Qr],[a,30,30*Qr],[i,1,Pa],[i,3,3*Pa],[i,6,6*Pa],[i,12,12*Pa],[r,1,Wa],[r,2,2*Wa],[n,1,Vk],[t,1,mT],[t,3,3*mT],[e,1,eb]];function s(u,f,d){const h=f<u;h&&([u,f]=[f,u]);const p=d&&typeof d.range=="function"?d:c(u,f,d),m=p?p.range(u,+f+1):[];return h?m.reverse():m}function c(u,f,d){const h=Math.abs(f-u)/d,p=Rk(([,,y])=>y).right(o,h);if(p===o.length)return e.every(q1(u/eb,f/eb,d));if(p===0)return Ug.every(Math.max(q1(u,f,d),1));const[m,v]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return m.every(v)}return[s,c]}const[U0e,z0e]=M5(qa,Jk,ex,R5,Xk,Gk),[W0e,H0e]=M5(Ha,Qk,Zy,Gh,Yk,Kk);function tb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function nb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function hd(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function q0e(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,c=e.shortMonths,u=pd(i),f=md(i),d=pd(a),h=md(a),p=pd(o),m=md(o),v=pd(s),y=md(s),x=pd(c),w=md(c),b={a:B,A:$,b:L,B:A,c:null,d:wT,e:wT,f:pbe,g:jbe,G:Cbe,H:dbe,I:fbe,j:hbe,L:$5,m:mbe,M:gbe,p:M,q:T,Q:jT,s:kT,S:vbe,u:ybe,U:xbe,V:bbe,w:wbe,W:_be,x:null,X:null,y:Sbe,Y:kbe,Z:Ebe,"%":ST},S={a:C,A:U,b:K,B:Q,c:null,d:_T,e:_T,f:Tbe,g:Ube,G:Wbe,H:Abe,I:Nbe,j:Pbe,L:L5,m:Obe,M:Ibe,p:Y,q:le,Q:jT,s:kT,S:Rbe,u:Mbe,U:$be,V:Dbe,w:Lbe,W:Fbe,x:null,X:null,y:Bbe,Y:zbe,Z:Hbe,"%":ST},j={a:P,A:N,b:O,B:R,c:F,d:xT,e:xT,f:sbe,g:yT,G:vT,H:bT,I:bT,j:rbe,L:obe,m:nbe,M:ibe,p:I,q:tbe,Q:cbe,s:ube,S:abe,u:X0e,U:Q0e,V:J0e,w:Y0e,W:Z0e,x:W,X:D,y:yT,Y:vT,Z:ebe,"%":lbe};b.x=_(n,b),b.X=_(r,b),b.c=_(t,b),S.x=_(n,S),S.X=_(r,S),S.c=_(t,S);function _(Z,oe){return function(re){var J=[],ke=-1,V=0,ee=Z.length,fe,je,Re;for(re instanceof Date||(re=new Date(+re));++ke<ee;)Z.charCodeAt(ke)===37&&(J.push(Z.slice(V,ke)),(je=gT[fe=Z.charAt(++ke)])!=null?fe=Z.charAt(++ke):je=fe==="e"?" ":"0",(Re=oe[fe])&&(fe=Re(re,je)),J.push(fe),V=ke+1);return J.push(Z.slice(V,ke)),J.join("")}}function k(Z,oe){return function(re){var J=hd(1900,void 0,1),ke=E(J,Z,re+="",0),V,ee;if(ke!=re.length)return null;if("Q"in J)return new Date(J.Q);if("s"in J)return new Date(J.s*1e3+("L"in J?J.L:0));if(oe&&!("Z"in J)&&(J.Z=0),"p"in J&&(J.H=J.H%12+J.p*12),J.m===void 0&&(J.m="q"in J?J.q:0),"V"in J){if(J.V<1||J.V>53)return null;"w"in J||(J.w=1),"Z"in J?(V=nb(hd(J.y,0,1)),ee=V.getUTCDay(),V=ee>4||ee===0?Wg.ceil(V):Wg(V),V=Jy.offset(V,(J.V-1)*7),J.y=V.getUTCFullYear(),J.m=V.getUTCMonth(),J.d=V.getUTCDate()+(J.w+6)%7):(V=tb(hd(J.y,0,1)),ee=V.getDay(),V=ee>4||ee===0?zg.ceil(V):zg(V),V=Gh.offset(V,(J.V-1)*7),J.y=V.getFullYear(),J.m=V.getMonth(),J.d=V.getDate()+(J.w+6)%7)}else("W"in J||"U"in J)&&("w"in J||(J.w="u"in J?J.u%7:"W"in J?1:0),ee="Z"in J?nb(hd(J.y,0,1)).getUTCDay():tb(hd(J.y,0,1)).getDay(),J.m=0,J.d="W"in J?(J.w+6)%7+J.W*7-(ee+5)%7:J.w+J.U*7-(ee+6)%7);return"Z"in J?(J.H+=J.Z/100|0,J.M+=J.Z%100,nb(J)):tb(J)}}function E(Z,oe,re,J){for(var ke=0,V=oe.length,ee=re.length,fe,je;ke<V;){if(J>=ee)return-1;if(fe=oe.charCodeAt(ke++),fe===37){if(fe=oe.charAt(ke++),je=j[fe in gT?oe.charAt(ke++):fe],!je||(J=je(Z,re,J))<0)return-1}else if(fe!=re.charCodeAt(J++))return-1}return J}function I(Z,oe,re){var J=u.exec(oe.slice(re));return J?(Z.p=f.get(J[0].toLowerCase()),re+J[0].length):-1}function P(Z,oe,re){var J=p.exec(oe.slice(re));return J?(Z.w=m.get(J[0].toLowerCase()),re+J[0].length):-1}function N(Z,oe,re){var J=d.exec(oe.slice(re));return J?(Z.w=h.get(J[0].toLowerCase()),re+J[0].length):-1}function O(Z,oe,re){var J=x.exec(oe.slice(re));return J?(Z.m=w.get(J[0].toLowerCase()),re+J[0].length):-1}function R(Z,oe,re){var J=v.exec(oe.slice(re));return J?(Z.m=y.get(J[0].toLowerCase()),re+J[0].length):-1}function F(Z,oe,re){return E(Z,t,oe,re)}function W(Z,oe,re){return E(Z,n,oe,re)}function D(Z,oe,re){return E(Z,r,oe,re)}function B(Z){return o[Z.getDay()]}function $(Z){return a[Z.getDay()]}function L(Z){return c[Z.getMonth()]}function A(Z){return s[Z.getMonth()]}function M(Z){return i[+(Z.getHours()>=12)]}function T(Z){return 1+~~(Z.getMonth()/3)}function C(Z){return o[Z.getUTCDay()]}function U(Z){return a[Z.getUTCDay()]}function K(Z){return c[Z.getUTCMonth()]}function Q(Z){return s[Z.getUTCMonth()]}function Y(Z){return i[+(Z.getUTCHours()>=12)]}function le(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var oe=_(Z+="",b);return oe.toString=function(){return Z},oe},parse:function(Z){var oe=k(Z+="",!1);return oe.toString=function(){return Z},oe},utcFormat:function(Z){var oe=_(Z+="",S);return oe.toString=function(){return Z},oe},utcParse:function(Z){var oe=k(Z+="",!0);return oe.toString=function(){return Z},oe}}}var gT={"-":"",_:" ",0:"0"},Pn=/^\s*\d+/,V0e=/^%/,K0e=/[\\^$*+?|[\]().{}]/g;function mt(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function G0e(e){return e.replace(K0e,"\\$&")}function pd(e){return new RegExp("^(?:"+e.map(G0e).join("|")+")","i")}function md(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Y0e(e,t,n){var r=Pn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function X0e(e,t,n){var r=Pn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Q0e(e,t,n){var r=Pn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function J0e(e,t,n){var r=Pn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Z0e(e,t,n){var r=Pn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function vT(e,t,n){var r=Pn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function yT(e,t,n){var r=Pn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ebe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function tbe(e,t,n){var r=Pn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function nbe(e,t,n){var r=Pn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function xT(e,t,n){var r=Pn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function rbe(e,t,n){var r=Pn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function bT(e,t,n){var r=Pn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function ibe(e,t,n){var r=Pn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function abe(e,t,n){var r=Pn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function obe(e,t,n){var r=Pn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function sbe(e,t,n){var r=Pn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function lbe(e,t,n){var r=V0e.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function cbe(e,t,n){var r=Pn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function ube(e,t,n){var r=Pn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function wT(e,t){return mt(e.getDate(),t,2)}function dbe(e,t){return mt(e.getHours(),t,2)}function fbe(e,t){return mt(e.getHours()%12||12,t,2)}function hbe(e,t){return mt(1+Gh.count(Ha(e),e),t,3)}function $5(e,t){return mt(e.getMilliseconds(),t,3)}function pbe(e,t){return $5(e,t)+"000"}function mbe(e,t){return mt(e.getMonth()+1,t,2)}function gbe(e,t){return mt(e.getMinutes(),t,2)}function vbe(e,t){return mt(e.getSeconds(),t,2)}function ybe(e){var t=e.getDay();return t===0?7:t}function xbe(e,t){return mt(Zy.count(Ha(e)-1,e),t,2)}function D5(e){var t=e.getDay();return t>=4||t===0?au(e):au.ceil(e)}function bbe(e,t){return e=D5(e),mt(au.count(Ha(e),e)+(Ha(e).getDay()===4),t,2)}function wbe(e){return e.getDay()}function _be(e,t){return mt(zg.count(Ha(e)-1,e),t,2)}function Sbe(e,t){return mt(e.getFullYear()%100,t,2)}function jbe(e,t){return e=D5(e),mt(e.getFullYear()%100,t,2)}function kbe(e,t){return mt(e.getFullYear()%1e4,t,4)}function Cbe(e,t){var n=e.getDay();return e=n>=4||n===0?au(e):au.ceil(e),mt(e.getFullYear()%1e4,t,4)}function Ebe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+mt(t/60|0,"0",2)+mt(t%60,"0",2)}function _T(e,t){return mt(e.getUTCDate(),t,2)}function Abe(e,t){return mt(e.getUTCHours(),t,2)}function Nbe(e,t){return mt(e.getUTCHours()%12||12,t,2)}function Pbe(e,t){return mt(1+Jy.count(qa(e),e),t,3)}function L5(e,t){return mt(e.getUTCMilliseconds(),t,3)}function Tbe(e,t){return L5(e,t)+"000"}function Obe(e,t){return mt(e.getUTCMonth()+1,t,2)}function Ibe(e,t){return mt(e.getUTCMinutes(),t,2)}function Rbe(e,t){return mt(e.getUTCSeconds(),t,2)}function Mbe(e){var t=e.getUTCDay();return t===0?7:t}function $be(e,t){return mt(ex.count(qa(e)-1,e),t,2)}function F5(e){var t=e.getUTCDay();return t>=4||t===0?ou(e):ou.ceil(e)}function Dbe(e,t){return e=F5(e),mt(ou.count(qa(e),e)+(qa(e).getUTCDay()===4),t,2)}function Lbe(e){return e.getUTCDay()}function Fbe(e,t){return mt(Wg.count(qa(e)-1,e),t,2)}function Bbe(e,t){return mt(e.getUTCFullYear()%100,t,2)}function Ube(e,t){return e=F5(e),mt(e.getUTCFullYear()%100,t,2)}function zbe(e,t){return mt(e.getUTCFullYear()%1e4,t,4)}function Wbe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ou(e):ou.ceil(e),mt(e.getUTCFullYear()%1e4,t,4)}function Hbe(){return"+0000"}function ST(){return"%"}function jT(e){return+e}function kT(e){return Math.floor(+e/1e3)}var Il,B5,U5;qbe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function qbe(e){return Il=q0e(e),B5=Il.format,Il.parse,U5=Il.utcFormat,Il.utcParse,Il}function Vbe(e){return new Date(e)}function Kbe(e){return e instanceof Date?+e:+new Date(+e)}function Zk(e,t,n,r,i,a,o,s,c,u){var f=Fk(),d=f.invert,h=f.domain,p=u(".%L"),m=u(":%S"),v=u("%I:%M"),y=u("%I %p"),x=u("%a %d"),w=u("%b %d"),b=u("%B"),S=u("%Y");function j(_){return(c(_)<_?p:s(_)<_?m:o(_)<_?v:a(_)<_?y:r(_)<_?i(_)<_?x:w:n(_)<_?b:S)(_)}return f.invert=function(_){return new Date(d(_))},f.domain=function(_){return arguments.length?h(Array.from(_,Kbe)):h().map(Vbe)},f.ticks=function(_){var k=h();return e(k[0],k[k.length-1],_??10)},f.tickFormat=function(_,k){return k==null?j:u(k)},f.nice=function(_){var k=h();return(!_||typeof _.range!="function")&&(_=t(k[0],k[k.length-1],_??10)),_?h(E5(k,_)):f},f.copy=function(){return Kh(f,Zk(e,t,n,r,i,a,o,s,c,u))},f}function Gbe(){return si.apply(Zk(W0e,H0e,Ha,Qk,Zy,Gh,Yk,Kk,As,B5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ybe(){return si.apply(Zk(U0e,z0e,qa,Jk,ex,Jy,Xk,Gk,As,U5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function tx(){var e=0,t=1,n,r,i,a,o=nr,s=!1,c;function u(d){return d==null||isNaN(d=+d)?c:o(i===0?.5:(d=(a(d)-n)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(o=d,u):o};function f(d){return function(h){var p,m;return arguments.length?([p,m]=h,o=d(p,m),u):[o(0),o(1)]}}return u.range=f(Hu),u.rangeRound=f(Lk),u.unknown=function(d){return arguments.length?(c=d,u):c},function(d){return a=d,n=d(e),r=d(t),i=n===r?0:1/(r-n),u}}function as(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function z5(){var e=is(tx()(nr));return e.copy=function(){return as(e,z5())},Ja.apply(e,arguments)}function W5(){var e=zk(tx()).domain([1,10]);return e.copy=function(){return as(e,W5()).base(e.base())},Ja.apply(e,arguments)}function H5(){var e=Wk(tx());return e.copy=function(){return as(e,H5()).constant(e.constant())},Ja.apply(e,arguments)}function eC(){var e=Hk(tx());return e.copy=function(){return as(e,eC()).exponent(e.exponent())},Ja.apply(e,arguments)}function Xbe(){return eC.apply(null,arguments).exponent(.5)}function q5(){var e=[],t=nr;function n(r){if(r!=null&&!isNaN(r=+r))return t((qh(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Do),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>$xe(e,a/r))},n.copy=function(){return q5(t).domain(e)},Ja.apply(n,arguments)}function nx(){var e=0,t=.5,n=1,r=1,i,a,o,s,c,u=nr,f,d=!1,h;function p(v){return isNaN(v=+v)?h:(v=.5+((v=+f(v))-a)*(r*v<r*a?s:c),u(d?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([e,t,n]=v,i=f(e=+e),a=f(t=+t),o=f(n=+n),s=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,p):[e,t,n]},p.clamp=function(v){return arguments.length?(d=!!v,p):d},p.interpolator=function(v){return arguments.length?(u=v,p):u};function m(v){return function(y){var x,w,b;return arguments.length?([x,w,b]=y,u=l0e(v,[x,w,b]),p):[u(0),u(.5),u(1)]}}return p.range=m(Hu),p.rangeRound=m(Lk),p.unknown=function(v){return arguments.length?(h=v,p):h},function(v){return f=v,i=v(e),a=v(t),o=v(n),s=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,p}}function V5(){var e=is(nx()(nr));return e.copy=function(){return as(e,V5())},Ja.apply(e,arguments)}function K5(){var e=zk(nx()).domain([.1,1,10]);return e.copy=function(){return as(e,K5()).base(e.base())},Ja.apply(e,arguments)}function G5(){var e=Wk(nx());return e.copy=function(){return as(e,G5()).constant(e.constant())},Ja.apply(e,arguments)}function tC(){var e=Hk(nx());return e.copy=function(){return as(e,tC()).exponent(e.exponent())},Ja.apply(e,arguments)}function Qbe(){return tC.apply(null,arguments).exponent(.5)}const CT=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Bf,scaleDiverging:V5,scaleDivergingLog:K5,scaleDivergingPow:tC,scaleDivergingSqrt:Qbe,scaleDivergingSymlog:G5,scaleIdentity:C5,scaleImplicit:V1,scaleLinear:Bg,scaleLog:A5,scaleOrdinal:Mk,scalePoint:Kd,scalePow:qk,scaleQuantile:T5,scaleQuantize:O5,scaleRadial:P5,scaleSequential:z5,scaleSequentialLog:W5,scaleSequentialPow:eC,scaleSequentialQuantile:q5,scaleSequentialSqrt:Xbe,scaleSequentialSymlog:H5,scaleSqrt:T0e,scaleSymlog:N5,scaleThreshold:I5,scaleTime:Gbe,scaleUtc:Ybe,tickFormat:k5},Symbol.toStringTag,{value:"Module"}));var Jbe=Mu;function Zbe(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],o=t(a);if(o!=null&&(s===void 0?o===o&&!Jbe(o):n(o,s)))var s=o,c=a}return c}var Y5=Zbe;function ewe(e,t){return e>t}var twe=ewe,nwe=Y5,rwe=twe,iwe=zu;function awe(e){return e&&e.length?nwe(e,iwe,rwe):void 0}var owe=awe;const rx=Et(owe);function swe(e,t){return e<t}var lwe=swe,cwe=Y5,uwe=lwe,dwe=zu;function fwe(e){return e&&e.length?cwe(e,dwe,uwe):void 0}var hwe=fwe;const ix=Et(hwe);var pwe=pk,mwe=Wu,gwe=r5,vwe=jr;function ywe(e,t){var n=vwe(e)?pwe:gwe;return n(e,mwe(t))}var xwe=ywe,bwe=t5,wwe=xwe;function _we(e,t){return bwe(wwe(e,t),1)}var Swe=_we;const jwe=Et(Swe);var kwe=Pk;function Cwe(e,t){return kwe(e,t)}var Ewe=Cwe;const nC=Et(Ewe);var qu=1e9,Awe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},iC,Yt=!0,ii="[DecimalError] ",Bs=ii+"Invalid argument: ",rC=ii+"Exponent out of range: ",Vu=Math.floor,ys=Math.pow,Nwe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Or,Cn=1e7,Vt=7,X5=9007199254740991,Hg=Vu(X5/Vt),Ne={};Ne.absoluteValue=Ne.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ne.comparedTo=Ne.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Ne.decimalPlaces=Ne.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Vt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Ne.dividedBy=Ne.div=function(e){return Ia(this,new this.constructor(e))};Ne.dividedToIntegerBy=Ne.idiv=function(e){var t=this,n=t.constructor;return Rt(Ia(t,new n(e),0,1),n.precision)};Ne.equals=Ne.eq=function(e){return!this.cmp(e)};Ne.exponent=function(){return pn(this)};Ne.greaterThan=Ne.gt=function(e){return this.cmp(e)>0};Ne.greaterThanOrEqualTo=Ne.gte=function(e){return this.cmp(e)>=0};Ne.isInteger=Ne.isint=function(){return this.e>this.d.length-2};Ne.isNegative=Ne.isneg=function(){return this.s<0};Ne.isPositive=Ne.ispos=function(){return this.s>0};Ne.isZero=function(){return this.s===0};Ne.lessThan=Ne.lt=function(e){return this.cmp(e)<0};Ne.lessThanOrEqualTo=Ne.lte=function(e){return this.cmp(e)<1};Ne.logarithm=Ne.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Or))throw Error(ii+"NaN");if(n.s<1)throw Error(ii+(n.s?"NaN":"-Infinity"));return n.eq(Or)?new r(0):(Yt=!1,t=Ia(qf(n,a),qf(e,a),a),Yt=!0,Rt(t,i))};Ne.minus=Ne.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Z5(t,e):Q5(t,(e.s=-e.s,e))};Ne.modulo=Ne.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(ii+"NaN");return n.s?(Yt=!1,t=Ia(n,e,0,1).times(e),Yt=!0,n.minus(t)):Rt(new r(n),i)};Ne.naturalExponential=Ne.exp=function(){return J5(this)};Ne.naturalLogarithm=Ne.ln=function(){return qf(this)};Ne.negated=Ne.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ne.plus=Ne.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Q5(t,e):Z5(t,(e.s=-e.s,e))};Ne.precision=Ne.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Bs+e);if(t=pn(i)+1,r=i.d.length-1,n=r*Vt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Ne.squareRoot=Ne.sqrt=function(){var e,t,n,r,i,a,o,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(ii+"NaN")}for(e=pn(s),Yt=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=Ji(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Vu((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(i.toString()),n=c.precision,i=o=n+3;;)if(a=r,r=a.plus(Ia(s,a,o+2)).times(.5),Ji(a.d).slice(0,o)===(t=Ji(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Rt(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(t!="9999")break;o+=4}return Yt=!0,Rt(r,n)};Ne.times=Ne.mul=function(e){var t,n,r,i,a,o,s,c,u,f=this,d=f.constructor,h=f.d,p=(e=new d(e)).d;if(!f.s||!e.s)return new d(0);for(e.s*=f.s,n=f.e+e.e,c=h.length,u=p.length,c<u&&(a=h,h=p,p=a,o=c,c=u,u=o),a=[],o=c+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(t=0,i=c+r;i>r;)s=a[i]+p[r]*h[i-r-1]+t,a[i--]=s%Cn|0,t=s/Cn|0;a[i]=(a[i]+t)%Cn|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,Yt?Rt(e,d.precision):e};Ne.toDecimalPlaces=Ne.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(sa(e,0,qu),t===void 0?t=r.rounding:sa(t,0,8),Rt(n,e+pn(n)+1,t))};Ne.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=tl(r,!0):(sa(e,0,qu),t===void 0?t=i.rounding:sa(t,0,8),r=Rt(new i(r),e+1,t),n=tl(r,!0,e+1)),n};Ne.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?tl(i):(sa(e,0,qu),t===void 0?t=a.rounding:sa(t,0,8),r=Rt(new a(i),e+pn(i)+1,t),n=tl(r.abs(),!1,e+pn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ne.toInteger=Ne.toint=function(){var e=this,t=e.constructor;return Rt(new t(e),pn(e)+1,t.rounding)};Ne.toNumber=function(){return+this};Ne.toPower=Ne.pow=function(e){var t,n,r,i,a,o,s=this,c=s.constructor,u=12,f=+(e=new c(e));if(!e.s)return new c(Or);if(s=new c(s),!s.s){if(e.s<1)throw Error(ii+"Infinity");return s}if(s.eq(Or))return s;if(r=c.precision,e.eq(Or))return Rt(s,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=s.s,o){if((n=f<0?-f:f)<=X5){for(i=new c(Or),t=Math.ceil(r/Vt+4),Yt=!1;n%2&&(i=i.times(s),AT(i.d,t)),n=Vu(n/2),n!==0;)s=s.times(s),AT(s.d,t);return Yt=!0,e.s<0?new c(Or).div(i):Rt(i,r)}}else if(a<0)throw Error(ii+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,Yt=!1,i=e.times(qf(s,r+u)),Yt=!0,i=J5(i),i.s=a,i};Ne.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=pn(i),r=tl(i,n<=a.toExpNeg||n>=a.toExpPos)):(sa(e,1,qu),t===void 0?t=a.rounding:sa(t,0,8),i=Rt(new a(i),e,t),n=pn(i),r=tl(i,e<=n||n<=a.toExpNeg,e)),r};Ne.toSignificantDigits=Ne.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(sa(e,1,qu),t===void 0?t=r.rounding:sa(t,0,8)),Rt(new r(n),e,t)};Ne.toString=Ne.valueOf=Ne.val=Ne.toJSON=Ne[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=pn(e),n=e.constructor;return tl(e,t<=n.toExpNeg||t>=n.toExpPos)};function Q5(e,t){var n,r,i,a,o,s,c,u,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Yt?Rt(t,d):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i,a){for(a<0?(r=c,a=-a,s=u.length):(r=u,i=o,s=c.length),o=Math.ceil(d/Vt),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=c.length,a=u.length,s-a<0&&(a=s,r=u,u=c,c=r),n=0;a;)n=(c[--a]=c[a]+u[a]+n)/Cn|0,c[a]%=Cn;for(n&&(c.unshift(n),++i),s=c.length;c[--s]==0;)c.pop();return t.d=c,t.e=i,Yt?Rt(t,d):t}function sa(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Bs+e)}function Ji(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=Vt-r.length,n&&(a+=ho(n)),a+=r;o=e[t],r=o+"",n=Vt-r.length,n&&(a+=ho(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Ia=function(){function e(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%Cn|0,o=a/Cn|0;return o&&r.unshift(o),r}function t(r,i,a,o){var s,c;if(a!=o)c=a>o?1:-1;else for(s=c=0;s<a;s++)if(r[s]!=i[s]){c=r[s]>i[s]?1:-1;break}return c}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*Cn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,c,u,f,d,h,p,m,v,y,x,w,b,S,j,_,k,E,I=r.constructor,P=r.s==i.s?1:-1,N=r.d,O=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(ii+"Division by zero");for(c=r.e-i.e,k=O.length,j=N.length,p=new I(P),m=p.d=[],u=0;O[u]==(N[u]||0);)++u;if(O[u]>(N[u]||0)&&--c,a==null?w=a=I.precision:o?w=a+(pn(r)-pn(i))+1:w=a,w<0)return new I(0);if(w=w/Vt+2|0,u=0,k==1)for(f=0,O=O[0],w++;(u<j||f)&&w--;u++)b=f*Cn+(N[u]||0),m[u]=b/O|0,f=b%O|0;else{for(f=Cn/(O[0]+1)|0,f>1&&(O=e(O,f),N=e(N,f),k=O.length,j=N.length),S=k,v=N.slice(0,k),y=v.length;y<k;)v[y++]=0;E=O.slice(),E.unshift(0),_=O[0],O[1]>=Cn/2&&++_;do f=0,s=t(O,v,k,y),s<0?(x=v[0],k!=y&&(x=x*Cn+(v[1]||0)),f=x/_|0,f>1?(f>=Cn&&(f=Cn-1),d=e(O,f),h=d.length,y=v.length,s=t(d,v,h,y),s==1&&(f--,n(d,k<h?E:O,h))):(f==0&&(s=f=1),d=O.slice()),h=d.length,h<y&&d.unshift(0),n(v,d,y),s==-1&&(y=v.length,s=t(O,v,k,y),s<1&&(f++,n(v,k<y?E:O,y))),y=v.length):s===0&&(f++,v=[0]),m[u++]=f,s&&v[0]?v[y++]=N[S]||0:(v=[N[S]],y=1);while((S++<j||v[0]!==void 0)&&w--)}return m[0]||m.shift(),p.e=c,Rt(p,o?a+pn(p)+1:a)}}();function J5(e,t){var n,r,i,a,o,s,c=0,u=0,f=e.constructor,d=f.precision;if(pn(e)>16)throw Error(rC+pn(e));if(!e.s)return new f(Or);for(t==null?(Yt=!1,s=d):s=t,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(r=Math.log(ys(2,u))/Math.LN10*2+5|0,s+=r,n=i=a=new f(Or),f.precision=s;;){if(i=Rt(i.times(e),s),n=n.times(++c),o=a.plus(Ia(i,n,s)),Ji(o.d).slice(0,s)===Ji(a.d).slice(0,s)){for(;u--;)a=Rt(a.times(a),s);return f.precision=d,t==null?(Yt=!0,Rt(a,d)):a}a=o}}function pn(e){for(var t=e.e*Vt,n=e.d[0];n>=10;n/=10)t++;return t}function rb(e,t,n){if(t>e.LN10.sd())throw Yt=!0,n&&(e.precision=n),Error(ii+"LN10 precision limit exceeded");return Rt(new e(e.LN10),t)}function ho(e){for(var t="";e--;)t+="0";return t}function qf(e,t){var n,r,i,a,o,s,c,u,f,d=1,h=10,p=e,m=p.d,v=p.constructor,y=v.precision;if(p.s<1)throw Error(ii+(p.s?"NaN":"-Infinity"));if(p.eq(Or))return new v(0);if(t==null?(Yt=!1,u=y):u=t,p.eq(10))return t==null&&(Yt=!0),rb(v,u);if(u+=h,v.precision=u,n=Ji(m),r=n.charAt(0),a=pn(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(e),n=Ji(p.d),r=n.charAt(0),d++;a=pn(p),r>1?(p=new v("0."+n),a++):p=new v(r+"."+n.slice(1))}else return c=rb(v,u+2,y).times(a+""),p=qf(new v(r+"."+n.slice(1)),u-h).plus(c),v.precision=y,t==null?(Yt=!0,Rt(p,y)):p;for(s=o=p=Ia(p.minus(Or),p.plus(Or),u),f=Rt(p.times(p),u),i=3;;){if(o=Rt(o.times(f),u),c=s.plus(Ia(o,new v(i),u)),Ji(c.d).slice(0,u)===Ji(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(rb(v,u+2,y).times(a+""))),s=Ia(s,new v(d),u),v.precision=y,t==null?(Yt=!0,Rt(s,y)):s;s=c,i+=2}}function ET(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Vu(n/Vt),e.d=[],r=(n+1)%Vt,n<0&&(r+=Vt),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Vt;r<i;)e.d.push(+t.slice(r,r+=Vt));t=t.slice(r),r=Vt-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Yt&&(e.e>Hg||e.e<-Hg))throw Error(rC+n)}else e.s=0,e.e=0,e.d=[0];return e}function Rt(e,t,n){var r,i,a,o,s,c,u,f,d=e.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=Vt,i=t,u=d[f=0];else{if(f=Math.ceil((r+1)/Vt),a=d.length,f>=a)return e;for(u=a=d[f],o=1;a>=10;a/=10)o++;r%=Vt,i=r-Vt+o}if(n!==void 0&&(a=ys(10,o-i-1),s=u/a%10|0,c=t<0||d[f+1]!==void 0||u%a,c=n<4?(s||c)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||c||n==6&&(r>0?i>0?u/ys(10,o-i):0:d[f-1])%10&1||n==(e.s<0?8:7))),t<1||!d[0])return c?(a=pn(e),d.length=1,t=t-a-1,d[0]=ys(10,(Vt-t%Vt)%Vt),e.e=Vu(-t/Vt)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(r==0?(d.length=f,a=1,f--):(d.length=f+1,a=ys(10,Vt-r),d[f]=i>0?(u/ys(10,o-i)%ys(10,i)|0)*a:0),c)for(;;)if(f==0){(d[0]+=a)==Cn&&(d[0]=1,++e.e);break}else{if(d[f]+=a,d[f]!=Cn)break;d[f--]=0,a=1}for(r=d.length;d[--r]===0;)d.pop();if(Yt&&(e.e>Hg||e.e<-Hg))throw Error(rC+pn(e));return e}function Z5(e,t){var n,r,i,a,o,s,c,u,f,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Yt?Rt(t,p):t;if(c=e.d,d=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r,o){for(f=o<0,f?(n=c,o=-o,s=d.length):(n=d,r=u,s=c.length),i=Math.max(Math.ceil(p/Vt),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,s=d.length,f=i<s,f&&(s=i),i=0;i<s;i++)if(c[i]!=d[i]){f=c[i]<d[i];break}o=0}for(f&&(n=c,c=d,d=n,t.s=-t.s),s=c.length,i=d.length-s;i>0;--i)c[s++]=0;for(i=d.length;i>o;){if(c[--i]<d[i]){for(a=i;a&&c[--a]===0;)c[a]=Cn-1;--c[a],c[i]+=Cn}c[i]-=d[i]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,Yt?Rt(t,p):t):new h(0)}function tl(e,t,n){var r,i=pn(e),a=Ji(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+ho(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+ho(-i-1)+a,n&&(r=n-o)>0&&(a+=ho(r))):i>=o?(a+=ho(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+ho(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=ho(r))),e.s<0?"-"+a:a}function AT(e,t){if(e.length>t)return e.length=t,!0}function eU(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Bs+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return ET(o,a.toString())}else if(typeof a!="string")throw Error(Bs+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Nwe.test(a))ET(o,a);else throw Error(Bs+a)}if(i.prototype=Ne,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=eU,i.config=i.set=Pwe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Pwe(e){if(!e||typeof e!="object")throw Error(ii+"Object expected");var t,n,r,i=["precision",1,qu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Vu(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Bs+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Bs+n+": "+r);return this}var iC=eU(Awe);Or=new iC(1);const Pt=iC;function Twe(e){return Mwe(e)||Rwe(e)||Iwe(e)||Owe()}function Owe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iwe(e,t){if(e){if(typeof e=="string")return X1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X1(e,t)}}function Rwe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Mwe(e){if(Array.isArray(e))return X1(e)}function X1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $we=function(t){return t},tU={"@@functional/placeholder":!0},nU=function(t){return t===tU},NT=function(t){return function n(){return arguments.length===0||arguments.length===1&&nU(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},Dwe=function e(t,n){return t===1?n:NT(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==tU}).length;return o>=t?n.apply(void 0,i):e(t-o,NT(function(){for(var s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];var f=i.map(function(d){return nU(d)?c.shift():d});return n.apply(void 0,Twe(f).concat(c))}))})},ax=function(t){return Dwe(t.length,t)},Q1=function(t,n){for(var r=[],i=t;i<n;++i)r[i-t]=i;return r},Lwe=ax(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),Fwe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return $we;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,c){return c(s)},a.apply(void 0,arguments))}},J1=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},rU=function(t){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,c){return s===n[c]})||(n=a,r=t.apply(void 0,a)),r}};function Bwe(e){var t;return e===0?t=1:t=Math.floor(new Pt(e).abs().log(10).toNumber())+1,t}function Uwe(e,t,n){for(var r=new Pt(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var zwe=ax(function(e,t,n){var r=+e,i=+t;return r+n*(i-r)}),Wwe=ax(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),Hwe=ax(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const ox={rangeStep:Uwe,getDigitCount:Bwe,interpolateNumber:zwe,uninterpolateNumber:Wwe,uninterpolateTruncation:Hwe};function Z1(e){return Kwe(e)||Vwe(e)||iU(e)||qwe()}function qwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vwe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Kwe(e){if(Array.isArray(e))return e_(e)}function Vf(e,t){return Xwe(e)||Ywe(e,t)||iU(e,t)||Gwe()}function Gwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iU(e,t){if(e){if(typeof e=="string")return e_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e_(e,t)}}function e_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ywe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(t&&n.length===t));r=!0);}catch(c){i=!0,a=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function Xwe(e){if(Array.isArray(e))return e}function aU(e){var t=Vf(e,2),n=t[0],r=t[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function oU(e,t,n){if(e.lte(0))return new Pt(0);var r=ox.getDigitCount(e.toNumber()),i=new Pt(10).pow(r),a=e.div(i),o=r!==1?.05:.1,s=new Pt(Math.ceil(a.div(o).toNumber())).add(n).mul(o),c=s.mul(i);return t?c:new Pt(Math.ceil(c))}function Qwe(e,t,n){var r=1,i=new Pt(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Pt(10).pow(ox.getDigitCount(e)-1),i=new Pt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Pt(Math.floor(e)))}else e===0?i=new Pt(Math.floor((t-1)/2)):n||(i=new Pt(Math.floor(e)));var o=Math.floor((t-1)/2),s=Fwe(Lwe(function(c){return i.add(new Pt(c-o).mul(r)).toNumber()}),Q1);return s(0,t)}function sU(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Pt(0),tickMin:new Pt(0),tickMax:new Pt(0)};var a=oU(new Pt(t).sub(e).div(n-1),r,i),o;e<=0&&t>=0?o=new Pt(0):(o=new Pt(e).add(t).div(2),o=o.sub(new Pt(o).mod(a)));var s=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new Pt(t).sub(o).div(a).toNumber()),u=s+c+1;return u>n?sU(e,t,n,r,i+1):(u<n&&(c=t>0?c+(n-u):c,s=t>0?s:s+(n-u)),{step:a,tickMin:o.sub(new Pt(s).mul(a)),tickMax:o.add(new Pt(c).mul(a))})}function Jwe(e){var t=Vf(e,2),n=t[0],r=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=aU([n,r]),c=Vf(s,2),u=c[0],f=c[1];if(u===-1/0||f===1/0){var d=f===1/0?[u].concat(Z1(Q1(0,i-1).map(function(){return 1/0}))):[].concat(Z1(Q1(0,i-1).map(function(){return-1/0})),[f]);return n>r?J1(d):d}if(u===f)return Qwe(u,i,a);var h=sU(u,f,o,a),p=h.step,m=h.tickMin,v=h.tickMax,y=ox.rangeStep(m,v.add(new Pt(.1).mul(p)),p);return n>r?J1(y):y}function Zwe(e,t){var n=Vf(e,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=aU([r,i]),s=Vf(o,2),c=s[0],u=s[1];if(c===-1/0||u===1/0)return[r,i];if(c===u)return[c];var f=Math.max(t,2),d=oU(new Pt(u).sub(c).div(f-1),a,0),h=[].concat(Z1(ox.rangeStep(new Pt(c),new Pt(u).sub(new Pt(.99).mul(d)),d)),[u]);return r>i?J1(h):h}var e1e=rU(Jwe),t1e=rU(Zwe),n1e="Invariant failed";function nl(e,t){throw new Error(n1e)}var r1e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function su(e){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(e)}function qg(){return qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qg.apply(this,arguments)}function i1e(e,t){return l1e(e)||s1e(e,t)||o1e(e,t)||a1e()}function a1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o1e(e,t){if(e){if(typeof e=="string")return PT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PT(e,t)}}function PT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s1e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function l1e(e){if(Array.isArray(e))return e}function c1e(e,t){if(e==null)return{};var n=u1e(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function u1e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function d1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f1e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uU(r.key),r)}}function h1e(e,t,n){return t&&f1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function p1e(e,t,n){return t=Vg(t),m1e(e,lU()?Reflect.construct(t,n||[],Vg(e).constructor):t.apply(e,n))}function m1e(e,t){if(t&&(su(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g1e(e)}function g1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lU=function(){return!!e})()}function Vg(e){return Vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vg(e)}function v1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t_(e,t)}function t_(e,t){return t_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},t_(e,t)}function cU(e,t,n){return t=uU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uU(e){var t=y1e(e,"string");return su(t)=="symbol"?t:t+""}function y1e(e,t){if(su(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sx=function(e){function t(){return d1e(this,t),p1e(this,t,arguments)}return v1e(t,e),h1e(t,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,s=r.dataKey,c=r.data,u=r.dataPointFormatter,f=r.xAxis,d=r.yAxis,h=c1e(r,r1e),p=wt(h,!1);this.props.direction==="x"&&f.type!=="number"&&nl();var m=c.map(function(v){var y=u(v,s),x=y.x,w=y.y,b=y.value,S=y.errorVal;if(!S)return null;var j=[],_,k;if(Array.isArray(S)){var E=i1e(S,2);_=E[0],k=E[1]}else _=k=S;if(a==="vertical"){var I=f.scale,P=w+i,N=P+o,O=P-o,R=I(b-_),F=I(b+k);j.push({x1:F,y1:N,x2:F,y2:O}),j.push({x1:R,y1:P,x2:F,y2:P}),j.push({x1:R,y1:N,x2:R,y2:O})}else if(a==="horizontal"){var W=d.scale,D=x+i,B=D-o,$=D+o,L=W(b-_),A=W(b+k);j.push({x1:B,y1:A,x2:$,y2:A}),j.push({x1:D,y1:L,x2:D,y2:A}),j.push({x1:B,y1:L,x2:$,y2:L})}return H.createElement(An,qg({className:"recharts-errorBar",key:"bar-".concat(j.map(function(M){return"".concat(M.x1,"-").concat(M.x2,"-").concat(M.y1,"-").concat(M.y2)}))},p),j.map(function(M){return H.createElement("line",qg({},M,{key:"line-".concat(M.x1,"-").concat(M.x2,"-").concat(M.y1,"-").concat(M.y2)}))}))});return H.createElement(An,{className:"recharts-errorBars"},m)}}])}(H.Component);cU(sx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});cU(sx,"displayName","ErrorBar");function Kf(e){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kf(e)}function TT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function us(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TT(Object(n),!0).forEach(function(r){x1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function x1e(e,t,n){return t=b1e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b1e(e){var t=w1e(e,"string");return Kf(t)=="symbol"?t:t+""}function w1e(e,t){if(Kf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dU=function(t){var n=t.children,r=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,o=Nr(n,Qi);if(!o)return null;var s=Qi.defaultProps,c=s!==void 0?us(us({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(r||[]).reduce(function(f,d){var h=d.item,p=d.props,m=p.sectors||p.data||[];return f.concat(m.map(function(v){return{type:o.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(r||[]).map(function(f){var d=f.item,h=d.type.defaultProps,p=h!==void 0?us(us({},h),d.props):{},m=p.dataKey,v=p.name,y=p.legendType,x=p.hide;return{inactive:x,dataKey:m,type:c.iconType||y||"square",color:aC(d),value:v||m,payload:p}}),us(us(us({},c),Qi.getWithHeight(o,i)),{},{payload:u,item:o})};function Gf(e){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gf(e)}function OT(e){return k1e(e)||j1e(e)||S1e(e)||_1e()}function _1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S1e(e,t){if(e){if(typeof e=="string")return n_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n_(e,t)}}function j1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function k1e(e){if(Array.isArray(e))return n_(e)}function n_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function IT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IT(Object(n),!0).forEach(function(r){_c(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _c(e,t,n){return t=C1e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C1e(e){var t=E1e(e,"string");return Gf(t)=="symbol"?t:t+""}function E1e(e,t){if(Gf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function la(e,t,n){return vt(e)||vt(t)?n:_n(t)?ei(e,t,n):at(t)?t(e):n}function Gd(e,t,n,r){var i=jwe(e,function(s){return la(s,t)});if(n==="number"){var a=i.filter(function(s){return _e(s)||parseFloat(s)});return a.length?[ix(a),rx(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!vt(s)}):i;return o.map(function(s){return _n(s)||s instanceof Date?s:""})}var A1e=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<s;u++){var f=u>0?i[u-1].coordinate:i[s-1].coordinate,d=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(ji(d-f)!==ji(h-d)){var m=[];if(ji(h-d)===ji(c[1]-c[0])){p=h;var v=d+c[1]-c[0];m[0]=Math.min(v,(v+f)/2),m[1]=Math.max(v,(v+f)/2)}else{p=f;var y=h+c[1]-c[0];m[0]=Math.min(d,(y+d)/2),m[1]=Math.max(d,(y+d)/2)}var x=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(t>x[0]&&t<=x[1]||t>=m[0]&&t<=m[1]){o=i[u].index;break}}else{var w=Math.min(f,h),b=Math.max(f,h);if(t>(w+d)/2&&t<=(b+d)/2){o=i[u].index;break}}}else for(var S=0;S<s;S++)if(S===0&&t<=(r[S].coordinate+r[S+1].coordinate)/2||S>0&&S<s-1&&t>(r[S].coordinate+r[S-1].coordinate)/2&&t<=(r[S].coordinate+r[S+1].coordinate)/2||S===s-1&&t>(r[S].coordinate+r[S-1].coordinate)/2){o=r[S].index;break}return o},aC=function(t){var n,r=t,i=r.type.displayName,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?nn(nn({},t.type.defaultProps),t.props):t.props,o=a.stroke,s=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:s;break;default:c=s;break}return c},N1e=function(t){var n=t.barSize,r=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),c=0,u=s.length;c<u;c++)for(var f=a[s[c]].stackGroups,d=Object.keys(f),h=0,p=d.length;h<p;h++){var m=f[d[h]],v=m.items,y=m.cateAxisId,x=v.filter(function(k){return Oa(k.type).indexOf("Bar")>=0});if(x&&x.length){var w=x[0].type.defaultProps,b=w!==void 0?nn(nn({},w),x[0].props):x[0].props,S=b.barSize,j=b[y];o[j]||(o[j]=[]);var _=vt(S)?n:S;o[j].push({item:x[0],stackList:x.slice(1),barSize:vt(_)?void 0:el(_,r,0)})}}return o},P1e=function(t){var n=t.barGap,r=t.barCategoryGap,i=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,s=t.maxBarSize,c=o.length;if(c<1)return null;var u=el(n,i,0,!0),f,d=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=i/c,m=o.reduce(function(S,j){return S+j.barSize||0},0);m+=(c-1)*u,m>=i&&(m-=(c-1)*u,u=0),m>=i&&p>0&&(h=!0,p*=.9,m=c*p);var v=(i-m)/2>>0,y={offset:v-u,size:0};f=o.reduce(function(S,j){var _={item:j.item,position:{offset:y.offset+y.size+u,size:h?p:j.barSize}},k=[].concat(OT(S),[_]);return y=k[k.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(E){k.push({item:E,position:y})}),k},d)}else{var x=el(r,i,0,!0);i-2*x-(c-1)*u<=0&&(u=0);var w=(i-2*x-(c-1)*u)/c;w>1&&(w>>=0);var b=s===+s?Math.min(w,s):w;f=o.reduce(function(S,j,_){var k=[].concat(OT(S),[{item:j.item,position:{offset:x+(w+u)*_+(w-b)/2,size:b}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(E){k.push({item:E,position:k[k.length-1].position})}),k},d)}return f},T1e=function(t,n,r,i){var a=r.children,o=r.width,s=r.margin,c=o-(s.left||0)-(s.right||0),u=dU({children:a,legendWidth:c});if(u){var f=i||{},d=f.width,h=f.height,p=u.align,m=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&m==="middle")&&p!=="center"&&_e(t[p]))return nn(nn({},t),{},_c({},p,t[p]+(d||0)));if((v==="horizontal"||v==="vertical"&&p==="center")&&m!=="middle"&&_e(t[m]))return nn(nn({},t),{},_c({},m,t[m]+(h||0)))}return t},O1e=function(t,n,r){return vt(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},fU=function(t,n,r,i,a){var o=n.props.children,s=Ei(o,sx).filter(function(u){return O1e(i,a,u.props.direction)});if(s&&s.length){var c=s.map(function(u){return u.props.dataKey});return t.reduce(function(u,f){var d=la(f,r);if(vt(d))return u;var h=Array.isArray(d)?[ix(d),rx(d)]:[d,d],p=c.reduce(function(m,v){var y=la(f,v,0),x=h[0]-Math.abs(Array.isArray(y)?y[0]:y),w=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(x,m[0]),Math.max(w,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},I1e=function(t,n,r,i,a){var o=n.map(function(s){return fU(t,s,r,a,i)}).filter(function(s){return!vt(s)});return o&&o.length?o.reduce(function(s,c){return[Math.min(s[0],c[0]),Math.max(s[1],c[1])]},[1/0,-1/0]):null},hU=function(t,n,r,i,a){var o=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&fU(t,c,u,i)||Gd(t,u,r,a)});if(r==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(c,u){for(var f=0,d=u.length;f<d;f++)s[u[f]]||(s[u[f]]=!0,c.push(u[f]));return c},[])},pU=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},Ns=function(t,n,r){if(!t)return null;var i=t.scale,a=t.duplicateDomain,o=t.type,s=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?ji(s[0]-s[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(d){var h=a?a.indexOf(d):d;return{coordinate:i(h)+u,value:d,offset:u}});return f.filter(function(d){return!Hh(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,h){return{coordinate:i(d)+u,value:d,index:h,offset:u}}):i.ticks&&!r?i.ticks(t.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,h){return{coordinate:i(d)+u,value:a?a[d]:d,index:h,offset:u}})},ib=new WeakMap,Up=function(t,n){if(typeof n!="function")return t;ib.has(t)||ib.set(t,new WeakMap);var r=ib.get(t);if(r.has(n))return r.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},R1e=function(t,n,r){var i=t.scale,a=t.type,o=t.layout,s=t.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Bf(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:Bg(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Kd(),realScaleType:"point"}:a==="category"?{scale:Bf(),realScaleType:"band"}:{scale:Bg(),realScaleType:"linear"};if(Zs(i)){var c="scale".concat(Hy(i));return{scale:(CT[c]||Kd)(),realScaleType:CT[c]?c:"point"}}return at(i)?{scale:i}:{scale:Kd(),realScaleType:"point"}},RT=1e-4,M1e=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,i=t.range(),a=Math.min(i[0],i[1])-RT,o=Math.max(i[0],i[1])+RT,s=t(n[0]),c=t(n[r-1]);(s<a||s>o||c<a||c>o)&&t.domain([n[0],n[r-1]])}},$1e=function(t,n){if(!t)return null;for(var r=0,i=t.length;r<i;r++)if(t[r].item===n)return t[r].position;return null},D1e=function(t,n){if(!n||n.length!==2||!_e(n[0])||!_e(n[1]))return t;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[t[0],t[1]];return(!_e(t[0])||t[0]<r)&&(a[0]=r),(!_e(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},L1e=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var c=Hh(t[s][r][1])?t[s][r][0]:t[s][r][1];c>=0?(t[s][r][0]=a,t[s][r][1]=a+c,a=t[s][r][1]):(t[s][r][0]=o,t[s][r][1]=o+c,o=t[s][r][1])}},F1e=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=Hh(t[o][r][1])?t[o][r][0]:t[o][r][1];s>=0?(t[o][r][0]=a,t[o][r][1]=a+s,a=t[o][r][1]):(t[o][r][0]=0,t[o][r][1]=0)}},B1e={sign:L1e,expand:eue,none:Zc,silhouette:tue,wiggle:nue,positive:F1e},U1e=function(t,n,r){var i=n.map(function(s){return s.props.dataKey}),a=B1e[r],o=Zce().keys(i).value(function(s,c){return+la(s,c,0)}).order(E1).offset(a);return o(t)},z1e=function(t,n,r,i,a,o){if(!t)return null;var s=o?n.reverse():n,c={},u=s.reduce(function(d,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?nn(nn({},h.type.defaultProps),h.props):h.props,v=m.stackId,y=m.hide;if(y)return d;var x=m[r],w=d[x]||{hasStack:!1,stackGroups:{}};if(_n(v)){var b=w.stackGroups[v]||{numericAxisId:r,cateAxisId:i,items:[]};b.items.push(h),w.hasStack=!0,w.stackGroups[v]=b}else w.stackGroups[Wy("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return nn(nn({},d),{},_c({},x,w))},c),f={};return Object.keys(u).reduce(function(d,h){var p=u[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(v,y){var x=p.stackGroups[y];return nn(nn({},v),{},_c({},y,{numericAxisId:r,cateAxisId:i,items:x.items,stackedData:U1e(t,x.items,a)}))},m)}return nn(nn({},d),{},_c({},h,p))},f)},W1e=function(t,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var f=e1e(u,a,s);return t.domain([ix(f),rx(f)]),{niceTicks:f}}if(a&&i==="number"){var d=t.domain(),h=t1e(d,a,s);return{niceTicks:h}}return null},MT=function(t){var n=t.axis,r=t.ticks,i=t.offset,a=t.bandSize,o=t.entry,s=t.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var c=la(o,n.dataKey,n.domain[s]);return vt(c)?null:n.scale(c)-a/2+i},H1e=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},q1e=function(t,n){var r,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?nn(nn({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(_n(a)){var o=n[a];if(o){var s=o.items.indexOf(t);return s>=0?o.stackedData[s]:null}}return null},V1e=function(t){return t.reduce(function(n,r){return[ix(r.concat([n[0]]).filter(_e)),rx(r.concat([n[1]]).filter(_e))]},[1/0,-1/0])},mU=function(t,n,r){return Object.keys(t).reduce(function(i,a){var o=t[a],s=o.stackedData,c=s.reduce(function(u,f){var d=V1e(f.slice(n,r+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},$T=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,DT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,r_=function(t,n,r){if(at(t))return t(n,r);if(!Array.isArray(t))return n;var i=[];if(_e(t[0]))i[0]=r?t[0]:Math.min(t[0],n[0]);else if($T.test(t[0])){var a=+$T.exec(t[0])[1];i[0]=n[0]-a}else at(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(_e(t[1]))i[1]=r?t[1]:Math.max(t[1],n[1]);else if(DT.test(t[1])){var o=+DT.exec(t[1])[1];i[1]=n[1]+o}else at(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},Kg=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!r||i>0)return i}if(t&&n&&n.length>=2){for(var a=Ok(n,function(d){return d.coordinate}),o=1/0,s=1,c=a.length;s<c;s++){var u=a[s],f=a[s-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},LT=function(t,n,r){return!t||!t.length||nC(t,ei(r,"type.defaultProps.domain"))?n:t},gU=function(t,n){var r=t.type.defaultProps?nn(nn({},t.type.defaultProps),t.props):t.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,c=r.tooltipType,u=r.chartType,f=r.hide;return nn(nn({},wt(t,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:aC(t),value:la(n,i),type:c,payload:n,chartType:u,hide:f})};function Yf(e){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yf(e)}function FT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function BT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FT(Object(n),!0).forEach(function(r){K1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function K1e(e,t,n){return t=G1e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G1e(e){var t=Y1e(e,"string");return Yf(t)=="symbol"?t:t+""}function Y1e(e,t){if(Yf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gg=Math.PI/180,X1e=function(t){return t*180/Math.PI},Rn=function(t,n,r,i){return{x:t+Math.cos(-Gg*i)*r,y:n+Math.sin(-Gg*i)*r}},Q1e=function(t,n){var r=t.x,i=t.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},J1e=function(t,n){var r=t.x,i=t.y,a=n.cx,o=n.cy,s=Q1e({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var c=(r-a)/s,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:s,angle:X1e(u),angleInRadian:u}},Z1e=function(t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},e_e=function(t,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return t+s*360},UT=function(t,n){var r=t.x,i=t.y,a=J1e({x:r,y:i},n),o=a.radius,s=a.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var f=Z1e(n),d=f.startAngle,h=f.endAngle,p=s,m;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=d}return m?BT(BT({},n),{},{radius:o,angle:e_e(p,n)}):null};function Xf(e){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xf(e)}var t_e=["offset"];function n_e(e){return o_e(e)||a_e(e)||i_e(e)||r_e()}function r_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i_e(e,t){if(e){if(typeof e=="string")return i_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i_(e,t)}}function a_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function o_e(e){if(Array.isArray(e))return i_(e)}function i_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s_e(e,t){if(e==null)return{};var n=l_e(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function l_e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function zT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zT(Object(n),!0).forEach(function(r){c_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function c_e(e,t,n){return t=u_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u_e(e){var t=d_e(e,"string");return Xf(t)=="symbol"?t:t+""}function d_e(e,t){if(Xf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qf(){return Qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qf.apply(this,arguments)}var f_e=function(t){var n=t.value,r=t.formatter,i=vt(t.children)?n:t.children;return at(r)?r(i):i},h_e=function(t,n){var r=ji(n-t),i=Math.min(Math.abs(n-t),360);return r*i},p_e=function(t,n,r){var i=t.position,a=t.viewBox,o=t.offset,s=t.className,c=a,u=c.cx,f=c.cy,d=c.innerRadius,h=c.outerRadius,p=c.startAngle,m=c.endAngle,v=c.clockWise,y=(d+h)/2,x=h_e(p,m),w=x>=0?1:-1,b,S;i==="insideStart"?(b=p+w*o,S=v):i==="insideEnd"?(b=m-w*o,S=!v):i==="end"&&(b=m+w*o,S=v),S=x<=0?S:!S;var j=Rn(u,f,y,b),_=Rn(u,f,y,b+(S?1:-1)*359),k="M".concat(j.x,",").concat(j.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(S?0:1,`,
    `).concat(_.x,",").concat(_.y),E=vt(t.id)?Wy("recharts-radial-line-"):t.id;return H.createElement("text",Qf({},r,{dominantBaseline:"central",className:ft("recharts-radial-bar-label",s)}),H.createElement("defs",null,H.createElement("path",{id:E,d:k})),H.createElement("textPath",{xlinkHref:"#".concat(E)},n))},m_e=function(t){var n=t.viewBox,r=t.offset,i=t.position,a=n,o=a.cx,s=a.cy,c=a.innerRadius,u=a.outerRadius,f=a.startAngle,d=a.endAngle,h=(f+d)/2;if(i==="outside"){var p=Rn(o,s,u+r,h),m=p.x,v=p.y;return{x:m,y:v,textAnchor:m>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,x=Rn(o,s,y,h),w=x.x,b=x.y;return{x:w,y:b,textAnchor:"middle",verticalAnchor:"middle"}},g_e=function(t){var n=t.viewBox,r=t.parentViewBox,i=t.offset,a=t.position,o=n,s=o.x,c=o.y,u=o.width,f=o.height,d=f>=0?1:-1,h=d*i,p=d>0?"end":"start",m=d>0?"start":"end",v=u>=0?1:-1,y=v*i,x=v>0?"end":"start",w=v>0?"start":"end";if(a==="top"){var b={x:s+u/2,y:c-d*i,textAnchor:"middle",verticalAnchor:p};return gn(gn({},b),r?{height:Math.max(c-r.y,0),width:u}:{})}if(a==="bottom"){var S={x:s+u/2,y:c+f+h,textAnchor:"middle",verticalAnchor:m};return gn(gn({},S),r?{height:Math.max(r.y+r.height-(c+f),0),width:u}:{})}if(a==="left"){var j={x:s-y,y:c+f/2,textAnchor:x,verticalAnchor:"middle"};return gn(gn({},j),r?{width:Math.max(j.x-r.x,0),height:f}:{})}if(a==="right"){var _={x:s+u+y,y:c+f/2,textAnchor:w,verticalAnchor:"middle"};return gn(gn({},_),r?{width:Math.max(r.x+r.width-_.x,0),height:f}:{})}var k=r?{width:u,height:f}:{};return a==="insideLeft"?gn({x:s+y,y:c+f/2,textAnchor:w,verticalAnchor:"middle"},k):a==="insideRight"?gn({x:s+u-y,y:c+f/2,textAnchor:x,verticalAnchor:"middle"},k):a==="insideTop"?gn({x:s+u/2,y:c+h,textAnchor:"middle",verticalAnchor:m},k):a==="insideBottom"?gn({x:s+u/2,y:c+f-h,textAnchor:"middle",verticalAnchor:p},k):a==="insideTopLeft"?gn({x:s+y,y:c+h,textAnchor:w,verticalAnchor:m},k):a==="insideTopRight"?gn({x:s+u-y,y:c+h,textAnchor:x,verticalAnchor:m},k):a==="insideBottomLeft"?gn({x:s+y,y:c+f-h,textAnchor:w,verticalAnchor:p},k):a==="insideBottomRight"?gn({x:s+u-y,y:c+f-h,textAnchor:x,verticalAnchor:p},k):$u(a)&&(_e(a.x)||Cs(a.x))&&(_e(a.y)||Cs(a.y))?gn({x:s+el(a.x,u),y:c+el(a.y,f),textAnchor:"end",verticalAnchor:"end"},k):gn({x:s+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},k)},v_e=function(t){return"cx"in t&&_e(t.cx)};function qn(e){var t=e.offset,n=t===void 0?5:t,r=s_e(e,t_e),i=gn({offset:n},r),a=i.viewBox,o=i.position,s=i.value,c=i.children,u=i.content,f=i.className,d=f===void 0?"":f,h=i.textBreakAll;if(!a||vt(s)&&vt(c)&&!g.isValidElement(u)&&!at(u))return null;if(g.isValidElement(u))return g.cloneElement(u,i);var p;if(at(u)){if(p=g.createElement(u,i),g.isValidElement(p))return p}else p=f_e(i);var m=v_e(a),v=wt(i,!0);if(m&&(o==="insideStart"||o==="insideEnd"||o==="end"))return p_e(i,p,v);var y=m?m_e(i):g_e(i);return H.createElement(Ig,Qf({className:ft("recharts-label",d)},v,y,{breakAll:h}),p)}qn.displayName="Label";var vU=function(t){var n=t.cx,r=t.cy,i=t.angle,a=t.startAngle,o=t.endAngle,s=t.r,c=t.radius,u=t.innerRadius,f=t.outerRadius,d=t.x,h=t.y,p=t.top,m=t.left,v=t.width,y=t.height,x=t.clockWise,w=t.labelViewBox;if(w)return w;if(_e(v)&&_e(y)){if(_e(d)&&_e(h))return{x:d,y:h,width:v,height:y};if(_e(p)&&_e(m))return{x:p,y:m,width:v,height:y}}return _e(d)&&_e(h)?{x:d,y:h,width:0,height:0}:_e(n)&&_e(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:f||c||s||0,clockWise:x}:t.viewBox?t.viewBox:{}},y_e=function(t,n){return t?t===!0?H.createElement(qn,{key:"label-implicit",viewBox:n}):_n(t)?H.createElement(qn,{key:"label-implicit",viewBox:n,value:t}):g.isValidElement(t)?t.type===qn?g.cloneElement(t,{key:"label-implicit",viewBox:n}):H.createElement(qn,{key:"label-implicit",content:t,viewBox:n}):at(t)?H.createElement(qn,{key:"label-implicit",content:t,viewBox:n}):$u(t)?H.createElement(qn,Qf({viewBox:n},t,{key:"label-implicit"})):null:null},x_e=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var i=t.children,a=vU(t),o=Ei(i,qn).map(function(c,u){return g.cloneElement(c,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var s=y_e(t.label,n||a);return[s].concat(n_e(o))};qn.parseViewBox=vU;qn.renderCallByParent=x_e;function b_e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var w_e=b_e;const __e=Et(w_e);function Jf(e){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jf(e)}var S_e=["valueAccessor"],j_e=["data","dataKey","clockWise","id","textBreakAll"];function k_e(e){return N_e(e)||A_e(e)||E_e(e)||C_e()}function C_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E_e(e,t){if(e){if(typeof e=="string")return a_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a_(e,t)}}function A_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function N_e(e){if(Array.isArray(e))return a_(e)}function a_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yg(){return Yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yg.apply(this,arguments)}function WT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function HT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WT(Object(n),!0).forEach(function(r){P_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function P_e(e,t,n){return t=T_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T_e(e){var t=O_e(e,"string");return Jf(t)=="symbol"?t:t+""}function O_e(e,t){if(Jf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qT(e,t){if(e==null)return{};var n=I_e(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function I_e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var R_e=function(t){return Array.isArray(t.value)?__e(t.value):t.value};function ra(e){var t=e.valueAccessor,n=t===void 0?R_e:t,r=qT(e,S_e),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,c=r.textBreakAll,u=qT(r,j_e);return!i||!i.length?null:H.createElement(An,{className:"recharts-label-list"},i.map(function(f,d){var h=vt(a)?n(f,d):la(f&&f.payload,a),p=vt(s)?{}:{id:"".concat(s,"-").concat(d)};return H.createElement(qn,Yg({},wt(f,!0),u,p,{parentViewBox:f.parentViewBox,value:h,textBreakAll:c,viewBox:qn.parseViewBox(vt(o)?f:HT(HT({},f),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}ra.displayName="LabelList";function M_e(e,t){return e?e===!0?H.createElement(ra,{key:"labelList-implicit",data:t}):H.isValidElement(e)||at(e)?H.createElement(ra,{key:"labelList-implicit",data:t,content:e}):$u(e)?H.createElement(ra,Yg({data:t},e,{key:"labelList-implicit"})):null:null}function $_e(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=Ei(r,ra).map(function(o,s){return g.cloneElement(o,{data:t,key:"labelList-".concat(s)})});if(!n)return i;var a=M_e(e.label,t);return[a].concat(k_e(i))}ra.renderCallByParent=$_e;function Zf(e){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zf(e)}function o_(){return o_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o_.apply(this,arguments)}function VT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function KT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VT(Object(n),!0).forEach(function(r){D_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function D_e(e,t,n){return t=L_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L_e(e){var t=F_e(e,"string");return Zf(t)=="symbol"?t:t+""}function F_e(e,t){if(Zf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var B_e=function(t,n){var r=ji(n-t),i=Math.min(Math.abs(n-t),359.999);return r*i},zp=function(t){var n=t.cx,r=t.cy,i=t.radius,a=t.angle,o=t.sign,s=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,f=c*(s?1:-1)+i,d=Math.asin(c/f)/Gg,h=u?a:a+o*d,p=Rn(n,r,f,h),m=Rn(n,r,i,h),v=u?a-o*d:a,y=Rn(n,r,f*Math.cos(d*Gg),v);return{center:p,circleTangency:m,lineTangency:y,theta:d}},yU=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.startAngle,s=t.endAngle,c=B_e(o,s),u=o+c,f=Rn(n,r,a,o),d=Rn(n,r,a,u),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var p=Rn(n,r,i,o),m=Rn(n,r,i,u);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},U_e=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,s=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,f=t.endAngle,d=ji(f-u),h=zp({cx:n,cy:r,radius:a,angle:u,sign:d,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,m=h.lineTangency,v=h.theta,y=zp({cx:n,cy:r,radius:a,angle:f,sign:-d,cornerRadius:o,cornerIsExternal:c}),x=y.circleTangency,w=y.lineTangency,b=y.theta,S=c?Math.abs(u-f):Math.abs(u-f)-v-b;if(S<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):yU({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:f});var j="M ".concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var _=zp({cx:n,cy:r,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=_.circleTangency,E=_.lineTangency,I=_.theta,P=zp({cx:n,cy:r,radius:i,angle:f,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),N=P.circleTangency,O=P.lineTangency,R=P.theta,F=c?Math.abs(u-f):Math.abs(u-f)-I-R;if(F<0&&o===0)return"".concat(j,"L").concat(n,",").concat(r,"Z");j+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(d>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(E.x,",").concat(E.y,"Z")}else j+="L".concat(n,",").concat(r,"Z");return j},z_e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},xU=function(t){var n=KT(KT({},z_e),t),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,f=n.startAngle,d=n.endAngle,h=n.className;if(o<a||f===d)return null;var p=ft("recharts-sector",h),m=o-a,v=el(s,m,0,!0),y;return v>0&&Math.abs(f-d)<360?y=U_e({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(v,m/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:d}):y=yU({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:f,endAngle:d}),H.createElement("path",o_({},wt(n,!0),{className:p,d:y,role:"img"}))};function eh(e){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eh(e)}function s_(){return s_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s_.apply(this,arguments)}function GT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GT(Object(n),!0).forEach(function(r){W_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function W_e(e,t,n){return t=H_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H_e(e){var t=q_e(e,"string");return eh(t)=="symbol"?t:t+""}function q_e(e,t){if(eh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(eh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XT={curveBasisClosed:zce,curveBasisOpen:Wce,curveBasis:Uce,curveBumpX:Ece,curveBumpY:Ace,curveLinearClosed:Hce,curveLinear:Vy,curveMonotoneX:qce,curveMonotoneY:Vce,curveNatural:Kce,curveStep:Gce,curveStepAfter:Xce,curveStepBefore:Yce},Wp=function(t){return t.x===+t.x&&t.y===+t.y},gd=function(t){return t.x},vd=function(t){return t.y},V_e=function(t,n){if(at(t))return t;var r="curve".concat(Hy(t));return(r==="curveMonotone"||r==="curveBump")&&n?XT["".concat(r).concat(n==="vertical"?"Y":"X")]:XT[r]||Vy},K_e=function(t){var n=t.type,r=n===void 0?"linear":n,i=t.points,a=i===void 0?[]:i,o=t.baseLine,s=t.layout,c=t.connectNulls,u=c===void 0?!1:c,f=V_e(r,s),d=u?a.filter(function(v){return Wp(v)}):a,h;if(Array.isArray(o)){var p=u?o.filter(function(v){return Wp(v)}):o,m=d.map(function(v,y){return YT(YT({},v),{},{base:p[y]})});return s==="vertical"?h=Ip().y(vd).x1(gd).x0(function(v){return v.base.x}):h=Ip().x(gd).y1(vd).y0(function(v){return v.base.y}),h.defined(Wp).curve(f),h(m)}return s==="vertical"&&_e(o)?h=Ip().y(vd).x1(gd).x0(o):_e(o)?h=Ip().x(gd).y1(vd).y0(o):h=wB().x(gd).y(vd),h.defined(Wp).curve(f),h(d)},QT=function(t){var n=t.className,r=t.points,i=t.path,a=t.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?K_e(t):i;return g.createElement("path",s_({},wt(t,!1),yg(t),{className:ft("recharts-curve",n),d:o,ref:a}))},bU={exports:{}},G_e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Y_e=G_e,X_e=Y_e;function wU(){}function _U(){}_U.resetWarningCache=wU;var Q_e=function(){function e(r,i,a,o,s,c){if(c!==X_e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:_U,resetWarningCache:wU};return n.PropTypes=n,n};bU.exports=Q_e();var J_e=bU.exports;const xt=Et(J_e);var Z_e=Object.getOwnPropertyNames,eSe=Object.getOwnPropertySymbols,tSe=Object.prototype.hasOwnProperty;function JT(e,t){return function(r,i,a){return e(r,i,a)&&t(r,i,a)}}function Hp(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);var a=i.cache,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);var c=e(n,r,i);return a.delete(n),a.delete(r),c}}function ZT(e){return Z_e(e).concat(eSe(e))}var nSe=Object.hasOwn||function(e,t){return tSe.call(e,t)};function yl(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var rSe="__v",iSe="__o",aSe="_owner",eO=Object.getOwnPropertyDescriptor,tO=Object.keys;function oSe(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function sSe(e,t){return yl(e.getTime(),t.getTime())}function lSe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function cSe(e,t){return e===t}function nO(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),a=e.entries(),o,s,c=0;(o=a.next())&&!o.done;){for(var u=t.entries(),f=!1,d=0;(s=u.next())&&!s.done;){if(i[d]){d++;continue}var h=o.value,p=s.value;if(n.equals(h[0],p[0],c,d,e,t,n)&&n.equals(h[1],p[1],h[0],p[0],e,t,n)){f=i[d]=!0;break}d++}if(!f)return!1;c++}return!0}var uSe=yl;function dSe(e,t,n){var r=tO(e),i=r.length;if(tO(t).length!==i)return!1;for(;i-- >0;)if(!SU(e,t,n,r[i]))return!1;return!0}function yd(e,t,n){var r=ZT(e),i=r.length;if(ZT(t).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=r[i],!SU(e,t,n,a)||(o=eO(e,a),s=eO(t,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function fSe(e,t){return yl(e.valueOf(),t.valueOf())}function hSe(e,t){return e.source===t.source&&e.flags===t.flags}function rO(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),a=e.values(),o,s;(o=a.next())&&!o.done;){for(var c=t.values(),u=!1,f=0;(s=c.next())&&!s.done;){if(!i[f]&&n.equals(o.value,s.value,o.value,s.value,e,t,n)){u=i[f]=!0;break}f++}if(!u)return!1}return!0}function pSe(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function mSe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function SU(e,t,n,r){return(r===aSe||r===iSe||r===rSe)&&(e.$$typeof||t.$$typeof)?!0:nSe(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var gSe="[object Arguments]",vSe="[object Boolean]",ySe="[object Date]",xSe="[object Error]",bSe="[object Map]",wSe="[object Number]",_Se="[object Object]",SSe="[object RegExp]",jSe="[object Set]",kSe="[object String]",CSe="[object URL]",ESe=Array.isArray,iO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,aO=Object.assign,ASe=Object.prototype.toString.call.bind(Object.prototype.toString);function NSe(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,f=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(m,v,y){if(m===v)return!0;if(m==null||v==null)return!1;var x=typeof m;if(x!==typeof v)return!1;if(x!=="object")return x==="number"?o(m,v,y):x==="function"?i(m,v,y):!1;var w=m.constructor;if(w!==v.constructor)return!1;if(w===Object)return s(m,v,y);if(ESe(m))return t(m,v,y);if(iO!=null&&iO(m))return d(m,v,y);if(w===Date)return n(m,v,y);if(w===RegExp)return u(m,v,y);if(w===Map)return a(m,v,y);if(w===Set)return f(m,v,y);var b=ASe(m);return b===ySe?n(m,v,y):b===SSe?u(m,v,y):b===bSe?a(m,v,y):b===jSe?f(m,v,y):b===_Se?typeof m.then!="function"&&typeof v.then!="function"&&s(m,v,y):b===CSe?h(m,v,y):b===xSe?r(m,v,y):b===gSe?s(m,v,y):b===vSe||b===wSe||b===kSe?c(m,v,y):!1}}function PSe(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?yd:oSe,areDatesEqual:sSe,areErrorsEqual:lSe,areFunctionsEqual:cSe,areMapsEqual:r?JT(nO,yd):nO,areNumbersEqual:uSe,areObjectsEqual:r?yd:dSe,arePrimitiveWrappersEqual:fSe,areRegExpsEqual:hSe,areSetsEqual:r?JT(rO,yd):rO,areTypedArraysEqual:r?yd:pSe,areUrlsEqual:mSe};if(n&&(i=aO({},i,n(i))),t){var a=Hp(i.areArraysEqual),o=Hp(i.areMapsEqual),s=Hp(i.areObjectsEqual),c=Hp(i.areSetsEqual);i=aO({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:c})}return i}function TSe(e){return function(t,n,r,i,a,o,s){return e(t,n,s)}}function OSe(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,a=e.strict;if(r)return function(c,u){var f=r(),d=f.cache,h=d===void 0?t?new WeakMap:void 0:d,p=f.meta;return n(c,u,{cache:h,equals:i,meta:p,strict:a})};if(t)return function(c,u){return n(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,u){return n(c,u,o)}}var ISe=os();os({strict:!0});os({circular:!0});os({circular:!0,strict:!0});os({createInternalComparator:function(){return yl}});os({strict:!0,createInternalComparator:function(){return yl}});os({circular:!0,createInternalComparator:function(){return yl}});os({circular:!0,createInternalComparator:function(){return yl},strict:!0});function os(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,i=e.createState,a=e.strict,o=a===void 0?!1:a,s=PSe(e),c=NSe(s),u=r?r(c):TSe(c);return OSe({circular:n,comparator:c,createState:i,equals:u,strict:o})}function RSe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function oO(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>t?(e(a),n=-1):RSe(i)};requestAnimationFrame(r)}function l_(e){"@babel/helpers - typeof";return l_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l_(e)}function MSe(e){return FSe(e)||LSe(e)||DSe(e)||$Se()}function $Se(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DSe(e,t){if(e){if(typeof e=="string")return sO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sO(e,t)}}function sO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function LSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FSe(e){if(Array.isArray(e))return e}function BSe(){var e={},t=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=MSe(o),c=s[0],u=s.slice(1);if(typeof c=="number"){oO(i.bind(null,u),c);return}i(c),oO(i.bind(null,u));return}l_(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function th(e){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},th(e)}function lO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lO(Object(n),!0).forEach(function(r){jU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jU(e,t,n){return t=USe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function USe(e){var t=zSe(e,"string");return th(t)==="symbol"?t:String(t)}function zSe(e,t){if(th(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(th(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WSe=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},HSe=function(t){return t},qSe=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Yd=function(t,n){return Object.keys(n).reduce(function(r,i){return cO(cO({},r),{},jU({},i,t(i,n[i])))},{})},uO=function(t,n,r){return t.map(function(i){return"".concat(qSe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function VSe(e,t){return YSe(e)||GSe(e,t)||kU(e,t)||KSe()}function KSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GSe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function YSe(e){if(Array.isArray(e))return e}function XSe(e){return ZSe(e)||JSe(e)||kU(e)||QSe()}function QSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kU(e,t){if(e){if(typeof e=="string")return c_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c_(e,t)}}function JSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZSe(e){if(Array.isArray(e))return c_(e)}function c_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Xg=1e-4,CU=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},EU=function(t,n){return t.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},dO=function(t,n){return function(r){var i=CU(t,n);return EU(i,r)}},eje=function(t,n){return function(r){var i=CU(t,n),a=[].concat(XSe(i.map(function(o,s){return o*s}).slice(1)),[0]);return EU(a,r)}},fO=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),f=VSe(u,4);i=f[0],a=f[1],o=f[2],s=f[3]}}}var d=dO(i,o),h=dO(a,s),p=eje(i,o),m=function(x){return x>1?1:x<0?0:x},v=function(x){for(var w=x>1?1:x,b=w,S=0;S<8;++S){var j=d(b)-w,_=p(b);if(Math.abs(j-w)<Xg||_<Xg)return h(b);b=m(b-j/_)}return h(b)};return v.isStepper=!1,v},tje=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,i=t.damping,a=i===void 0?8:i,o=t.dt,s=o===void 0?17:o,c=function(f,d,h){var p=-(f-d)*r,m=h*a,v=h+(p-m)*s/1e3,y=h*s/1e3+f;return Math.abs(y-d)<Xg&&Math.abs(v)<Xg?[d,0]:[y,v]};return c.isStepper=!0,c.dt=s,c},nje=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return fO(i);case"spring":return tje();default:if(i.split("(")[0]==="cubic-bezier")return fO(i)}return typeof i=="function"?i:null};function nh(e){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nh(e)}function hO(e){return aje(e)||ije(e)||AU(e)||rje()}function rje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ije(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aje(e){if(Array.isArray(e))return d_(e)}function pO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pO(Object(n),!0).forEach(function(r){u_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function u_(e,t,n){return t=oje(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oje(e){var t=sje(e,"string");return nh(t)==="symbol"?t:String(t)}function sje(e,t){if(nh(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(nh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lje(e,t){return dje(e)||uje(e,t)||AU(e,t)||cje()}function cje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AU(e,t){if(e){if(typeof e=="string")return d_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d_(e,t)}}function d_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uje(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function dje(e){if(Array.isArray(e))return e}var Qg=function(t,n,r){return t+(n-t)*r},f_=function(t){var n=t.from,r=t.to;return n!==r},fje=function e(t,n,r){var i=Yd(function(a,o){if(f_(o)){var s=t(o.from,o.to,o.velocity),c=lje(s,2),u=c[0],f=c[1];return Tn(Tn({},o),{},{from:u,velocity:f})}return o},n);return r<1?Yd(function(a,o){return f_(o)?Tn(Tn({},o),{},{velocity:Qg(o.velocity,i[a].velocity,r),from:Qg(o.from,i[a].from,r)}):o},n):e(t,i,r-1)};const hje=function(e,t,n,r,i){var a=WSe(e,t),o=a.reduce(function(y,x){return Tn(Tn({},y),{},u_({},x,[e[x],t[x]]))},{}),s=a.reduce(function(y,x){return Tn(Tn({},y),{},u_({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,u,f,d=function(){return null},h=function(){return Yd(function(x,w){return w.from},s)},p=function(){return!Object.values(s).filter(f_).length},m=function(x){u||(u=x);var w=x-u,b=w/n.dt;s=fje(n,s,b),i(Tn(Tn(Tn({},e),t),h())),u=x,p()||(c=requestAnimationFrame(d))},v=function(x){f||(f=x);var w=(x-f)/r,b=Yd(function(j,_){return Qg.apply(void 0,hO(_).concat([n(w)]))},o);if(i(Tn(Tn(Tn({},e),t),b)),w<1)c=requestAnimationFrame(d);else{var S=Yd(function(j,_){return Qg.apply(void 0,hO(_).concat([n(1)]))},o);i(Tn(Tn(Tn({},e),t),S))}};return d=n.isStepper?m:v,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(c)}}};function lu(e){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lu(e)}var pje=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function mje(e,t){if(e==null)return{};var n=gje(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function gje(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function ab(e){return bje(e)||xje(e)||yje(e)||vje()}function vje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yje(e,t){if(e){if(typeof e=="string")return h_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h_(e,t)}}function xje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bje(e){if(Array.isArray(e))return h_(e)}function h_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ui(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mO(Object(n),!0).forEach(function(r){Od(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Od(e,t,n){return t=NU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,NU(r.key),r)}}function Sje(e,t,n){return t&&_je(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function NU(e){var t=jje(e,"string");return lu(t)==="symbol"?t:String(t)}function jje(e,t){if(lu(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(lu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p_(e,t)}function p_(e,t){return p_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},p_(e,t)}function Cje(e){var t=Eje();return function(){var r=Jg(e),i;if(t){var a=Jg(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return m_(this,i)}}function m_(e,t){if(t&&(lu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g_(e)}function g_(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Eje(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Jg(e){return Jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jg(e)}var Ho=function(e){kje(n,e);var t=Cje(n);function n(r,i){var a;wje(this,n),a=t.call(this,r,i);var o=a.props,s=o.isActive,c=o.attributeName,u=o.from,f=o.to,d=o.steps,h=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(g_(a)),a.changeStyle=a.changeStyle.bind(g_(a)),!s||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:f}),m_(a);if(d&&d.length)a.state={style:d[0].style};else if(u){if(typeof h=="function")return a.state={style:u},m_(a);a.state={style:c?Od({},c,u):u}}else a.state={style:{}};return a}return Sje(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,f=a.to,d=a.from,h=this.state.style;if(s){if(!o){var p={style:c?Od({},c,f):f};this.state&&h&&(c&&h[c]!==f||!c&&h!==f)&&this.setState(p);return}if(!(ISe(i.to,f)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=m||u?d:i.to;if(this.state&&h){var y={style:c?Od({},c,v):v};(c&&h[c]!==v||!c&&h!==v)&&this.setState(y)}this.runAnimation(ui(ui({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,c=i.duration,u=i.easing,f=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,p=hje(o,s,nje(u),c,this.changeStyle),m=function(){a.stopJSAnimation=p()};this.manager.start([h,f,m,c,d])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,c=i.onAnimationStart,u=o[0],f=u.style,d=u.duration,h=d===void 0?0:d,p=function(v,y,x){if(x===0)return v;var w=y.duration,b=y.easing,S=b===void 0?"ease":b,j=y.style,_=y.properties,k=y.onAnimationEnd,E=x>0?o[x-1]:y,I=_||Object.keys(j);if(typeof S=="function"||S==="spring")return[].concat(ab(v),[a.runJSAnimation.bind(a,{from:E.style,to:j,duration:w,easing:S}),w]);var P=uO(I,w,S),N=ui(ui(ui({},E.style),j),{},{transition:P});return[].concat(ab(v),[N,w,k]).filter(HSe)};return this.manager.start([c].concat(ab(o.reduce(p,[f,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=BSe());var a=i.begin,o=i.duration,s=i.attributeName,c=i.to,u=i.easing,f=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var v=s?Od({},s,c):c,y=uO(Object.keys(v),o,u);m.start([f,a,ui(ui({},v),{},{transition:y}),o,d])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=mje(i,pje),u=g.Children.count(a),f=this.state.style;if(typeof a=="function")return a(f);if(!s||u===0||o<=0)return a;var d=function(p){var m=p.props,v=m.style,y=v===void 0?{}:v,x=m.className,w=g.cloneElement(p,ui(ui({},c),{},{style:ui(ui({},y),f),className:x}));return w};return u===1?d(g.Children.only(a)):H.createElement("div",null,g.Children.map(a,function(h){return d(h)}))}}]),n}(g.PureComponent);Ho.displayName="Animate";Ho.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ho.propTypes={from:xt.oneOfType([xt.object,xt.string]),to:xt.oneOfType([xt.object,xt.string]),attributeName:xt.string,duration:xt.number,begin:xt.number,easing:xt.oneOfType([xt.string,xt.func]),steps:xt.arrayOf(xt.shape({duration:xt.number.isRequired,style:xt.object.isRequired,easing:xt.oneOfType([xt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),xt.func]),properties:xt.arrayOf("string"),onAnimationEnd:xt.func})),children:xt.oneOfType([xt.node,xt.func]),isActive:xt.bool,canBegin:xt.bool,onAnimationEnd:xt.func,shouldReAnimate:xt.bool,onAnimationStart:xt.func,onAnimationReStart:xt.func};function rh(e){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rh(e)}function Zg(){return Zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zg.apply(this,arguments)}function Aje(e,t){return Oje(e)||Tje(e,t)||Pje(e,t)||Nje()}function Nje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pje(e,t){if(e){if(typeof e=="string")return gO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gO(e,t)}}function gO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tje(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Oje(e){if(Array.isArray(e))return e}function vO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vO(Object(n),!0).forEach(function(r){Ije(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ije(e,t,n){return t=Rje(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rje(e){var t=Mje(e,"string");return rh(t)=="symbol"?t:t+""}function Mje(e,t){if(rh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xO=function(t,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,c=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,f;if(o>0&&a instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=a[h]>o?o:a[h];f="M".concat(t,",").concat(n+s*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(t+c*d[0],",").concat(n)),f+="L ".concat(t+r-c*d[1],",").concat(n),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(t+r,",").concat(n+s*d[1])),f+="L ".concat(t+r,",").concat(n+i-s*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(t+r-c*d[2],",").concat(n+i)),f+="L ".concat(t+c*d[3],",").concat(n+i),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+i-s*d[3])),f+="Z"}else if(o>0&&a===+a&&a>0){var m=Math.min(o,a);f="M ".concat(t,",").concat(n+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+c*m,",").concat(n,`
            L `).concat(t+r-c*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+r,",").concat(n+s*m,`
            L `).concat(t+r,",").concat(n+i-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+r-c*m,",").concat(n+i,`
            L `).concat(t+c*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t,",").concat(n+i-s*m," Z")}else f="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return f},$je=function(t,n){if(!t||!n)return!1;var r=t.x,i=t.y,a=n.x,o=n.y,s=n.width,c=n.height;if(Math.abs(s)>0&&Math.abs(c)>0){var u=Math.min(a,a+s),f=Math.max(a,a+s),d=Math.min(o,o+c),h=Math.max(o,o+c);return r>=u&&r<=f&&i>=d&&i<=h}return!1},Dje={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oC=function(t){var n=yO(yO({},Dje),t),r=g.useRef(),i=g.useState(-1),a=Aje(i,2),o=a[0],s=a[1];g.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&s(S)}catch{}},[]);var c=n.x,u=n.y,f=n.width,d=n.height,h=n.radius,p=n.className,m=n.animationEasing,v=n.animationDuration,y=n.animationBegin,x=n.isAnimationActive,w=n.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||d!==+d||f===0||d===0)return null;var b=ft("recharts-rectangle",p);return w?H.createElement(Ho,{canBegin:o>0,from:{width:f,height:d,x:c,y:u},to:{width:f,height:d,x:c,y:u},duration:v,animationEasing:m,isActive:w},function(S){var j=S.width,_=S.height,k=S.x,E=S.y;return H.createElement(Ho,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,isActive:x,easing:m},H.createElement("path",Zg({},wt(n,!0),{className:b,d:xO(k,E,j,_,h),ref:r})))}):H.createElement("path",Zg({},wt(n,!0),{className:b,d:xO(c,u,f,d,h)}))};function v_(){return v_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v_.apply(this,arguments)}var PU=function(t){var n=t.cx,r=t.cy,i=t.r,a=t.className,o=ft("recharts-dot",a);return n===+n&&r===+r&&i===+i?g.createElement("circle",v_({},wt(t,!1),yg(t),{className:o,cx:n,cy:r,r:i})):null};function ih(e){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ih(e)}var Lje=["x","y","top","left","width","height","className"];function y_(){return y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y_.apply(this,arguments)}function bO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fje(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bO(Object(n),!0).forEach(function(r){Bje(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bje(e,t,n){return t=Uje(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uje(e){var t=zje(e,"string");return ih(t)=="symbol"?t:t+""}function zje(e,t){if(ih(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wje(e,t){if(e==null)return{};var n=Hje(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Hje(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var qje=function(t,n,r,i,a,o){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},Vje=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.top,s=o===void 0?0:o,c=t.left,u=c===void 0?0:c,f=t.width,d=f===void 0?0:f,h=t.height,p=h===void 0?0:h,m=t.className,v=Wje(t,Lje),y=Fje({x:r,y:a,top:s,left:u,width:d,height:p},v);return!_e(r)||!_e(a)||!_e(d)||!_e(p)||!_e(s)||!_e(u)?null:H.createElement("path",y_({},wt(y,!0),{className:ft("recharts-cross",m),d:qje(r,a,d,p,s,u)}))},Kje=qB,Gje=Kje(Object.getPrototypeOf,Object),Yje=Gje,Xje=Xa,Qje=Yje,Jje=Qa,Zje="[object Object]",eke=Function.prototype,tke=Object.prototype,TU=eke.toString,nke=tke.hasOwnProperty,rke=TU.call(Object);function ike(e){if(!Jje(e)||Xje(e)!=Zje)return!1;var t=Qje(e);if(t===null)return!0;var n=nke.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&TU.call(n)==rke}var ake=ike;const oke=Et(ake);var ske=Xa,lke=Qa,cke="[object Boolean]";function uke(e){return e===!0||e===!1||lke(e)&&ske(e)==cke}var dke=uke;const fke=Et(dke);function ah(e){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ah(e)}function ev(){return ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ev.apply(this,arguments)}function hke(e,t){return vke(e)||gke(e,t)||mke(e,t)||pke()}function pke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mke(e,t){if(e){if(typeof e=="string")return wO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wO(e,t)}}function wO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gke(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function vke(e){if(Array.isArray(e))return e}function _O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function SO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_O(Object(n),!0).forEach(function(r){yke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_O(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yke(e,t,n){return t=xke(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xke(e){var t=bke(e,"string");return ah(t)=="symbol"?t:t+""}function bke(e,t){if(ah(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jO=function(t,n,r,i,a){var o=r-i,s;return s="M ".concat(t,",").concat(n),s+="L ".concat(t+r,",").concat(n),s+="L ".concat(t+r-o/2,",").concat(n+a),s+="L ".concat(t+r-o/2-i,",").concat(n+a),s+="L ".concat(t,",").concat(n," Z"),s},wke={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_ke=function(t){var n=SO(SO({},wke),t),r=g.useRef(),i=g.useState(-1),a=hke(i,2),o=a[0],s=a[1];g.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&s(b)}catch{}},[]);var c=n.x,u=n.y,f=n.upperWidth,d=n.lowerWidth,h=n.height,p=n.className,m=n.animationEasing,v=n.animationDuration,y=n.animationBegin,x=n.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||d!==+d||h!==+h||f===0&&d===0||h===0)return null;var w=ft("recharts-trapezoid",p);return x?H.createElement(Ho,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:f,lowerWidth:d,height:h,x:c,y:u},duration:v,animationEasing:m,isActive:x},function(b){var S=b.upperWidth,j=b.lowerWidth,_=b.height,k=b.x,E=b.y;return H.createElement(Ho,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,easing:m},H.createElement("path",ev({},wt(n,!0),{className:w,d:jO(k,E,S,j,_),ref:r})))}):H.createElement("g",null,H.createElement("path",ev({},wt(n,!0),{className:w,d:jO(c,u,f,d,h)})))},Ske=["option","shapeType","propTransformer","activeClassName","isActive"];function oh(e){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oh(e)}function jke(e,t){if(e==null)return{};var n=kke(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function kke(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function kO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kO(Object(n),!0).forEach(function(r){Cke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cke(e,t,n){return t=Eke(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eke(e){var t=Ake(e,"string");return oh(t)=="symbol"?t:t+""}function Ake(e,t){if(oh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nke(e,t){return tv(tv({},t),e)}function Pke(e,t){return e==="symbols"}function CO(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return H.createElement(oC,n);case"trapezoid":return H.createElement(_ke,n);case"sector":return H.createElement(xU,n);case"symbols":if(Pke(t))return H.createElement(Sk,n);break;default:return null}}function Tke(e){return g.isValidElement(e)?e.props:e}function Oke(e){var t=e.option,n=e.shapeType,r=e.propTransformer,i=r===void 0?Nke:r,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,s=e.isActive,c=jke(e,Ske),u;if(g.isValidElement(t))u=g.cloneElement(t,tv(tv({},c),Tke(t)));else if(at(t))u=t(c);else if(oke(t)&&!fke(t)){var f=i(t,c);u=H.createElement(CO,{shapeType:n,elementProps:f})}else{var d=c;u=H.createElement(CO,{shapeType:n,elementProps:d})}return s?H.createElement(An,{className:o},u):u}function lx(e,t){return t!=null&&"trapezoids"in e.props}function cx(e,t){return t!=null&&"sectors"in e.props}function sh(e,t){return t!=null&&"points"in e.props}function Ike(e,t){var n,r,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,a=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return i&&a}function Rke(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function Mke(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function $ke(e,t){var n;return lx(e,t)?n=Ike:cx(e,t)?n=Rke:sh(e,t)&&(n=Mke),n}function Dke(e,t){var n;return lx(e,t)?n="trapezoids":cx(e,t)?n="sectors":sh(e,t)&&(n="points"),n}function Lke(e,t){if(lx(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(cx(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return sh(e,t)?t.payload:{}}function Fke(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=Dke(n,t),a=Lke(n,t),o=r.filter(function(c,u){var f=nC(a,c),d=n.props[i].filter(function(m){var v=$ke(n,t);return v(m,t)}),h=n.props[i].indexOf(d[d.length-1]),p=u===h;return f&&p}),s=r.indexOf(o[o.length-1]);return s}var Bke=Math.ceil,Uke=Math.max;function zke(e,t,n,r){for(var i=-1,a=Uke(Bke((t-e)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=e,e+=n;return o}var Wke=zke,Hke=c5,EO=1/0,qke=17976931348623157e292;function Vke(e){if(!e)return e===0?e:0;if(e=Hke(e),e===EO||e===-EO){var t=e<0?-1:1;return t*qke}return e===e?e:0}var Kke=Vke,Gke=Wke,Yke=Xy,ob=Kke;function Xke(e){return function(t,n,r){return r&&typeof r!="number"&&Yke(t,n,r)&&(n=r=void 0),t=ob(t),n===void 0?(n=t,t=0):n=ob(n),r=r===void 0?t<n?1:-1:ob(r),Gke(t,n,r,e)}}var Qke=Xke,Jke=Qke,Zke=Jke(),eCe=Zke;const nv=Et(eCe);function lh(e){"@babel/helpers - typeof";return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lh(e)}function AO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function NO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AO(Object(n),!0).forEach(function(r){OU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OU(e,t,n){return t=tCe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tCe(e){var t=nCe(e,"string");return lh(t)=="symbol"?t:t+""}function nCe(e,t){if(lh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(lh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rCe=["Webkit","Moz","O","ms"],iCe=function(t,n){var r=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=rCe.reduce(function(a,o){return NO(NO({},a),{},OU({},o+r,n))},{});return i[t]=n,i};function cu(e){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(e)}function rv(){return rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rv.apply(this,arguments)}function PO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PO(Object(n),!0).forEach(function(r){Er(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,RU(r.key),r)}}function oCe(e,t,n){return t&&TO(e.prototype,t),n&&TO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function sCe(e,t,n){return t=iv(t),lCe(e,IU()?Reflect.construct(t,n||[],iv(e).constructor):t.apply(e,n))}function lCe(e,t){if(t&&(cu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cCe(e)}function cCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IU=function(){return!!e})()}function iv(e){return iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iv(e)}function uCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x_(e,t)}function x_(e,t){return x_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},x_(e,t)}function Er(e,t,n){return t=RU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RU(e){var t=dCe(e,"string");return cu(t)=="symbol"?t:t+""}function dCe(e,t){if(cu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fCe=function(t){var n=t.data,r=t.startIndex,i=t.endIndex,a=t.x,o=t.width,s=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=Kd().domain(nv(0,c)).range([a,a+o-s]),f=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:f}},OO=function(t){return t.changedTouches&&!!t.changedTouches.length},uu=function(e){function t(n){var r;return aCe(this,t),r=sCe(this,t,[n]),Er(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Er(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Er(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),Er(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Er(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Er(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Er(r,"handleSlideDragStart",function(i){var a=OO(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return uCe(t,e),oCe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,c=s.gap,u=s.data,f=u.length-1,d=Math.min(i,a),h=Math.max(i,a),p=t.getIndexInRange(o,d),m=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:m===f?f:m-m%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,c=la(a[r],s,r);return at(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,c=this.props,u=c.x,f=c.width,d=c.travellerWidth,h=c.startIndex,p=c.endIndex,m=c.onChange,v=r.pageX-a;v>0?v=Math.min(v,u+f-d-s,u+f-d-o):v<0&&(v=Math.max(v,u-o,u-s));var y=this.getIndex({startX:o+v,endX:s+v});(y.startIndex!==h||y.endIndex!==p)&&m&&m(y),this.setState({startX:o+v,endX:s+v,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=OO(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,c=i.startX,u=this.state[o],f=this.props,d=f.x,h=f.width,p=f.travellerWidth,m=f.onChange,v=f.gap,y=f.data,x={startX:this.state.startX,endX:this.state.endX},w=r.pageX-a;w>0?w=Math.min(w,d+h-p-u):w<0&&(w=Math.max(w,d-u)),x[o]=u+w;var b=this.getIndex(x),S=b.startIndex,j=b.endIndex,_=function(){var E=y.length-1;return o==="startX"&&(s>c?S%v===0:j%v===0)||s<c&&j===E||o==="endX"&&(s>c?j%v===0:S%v===0)||s>c&&j===E};this.setState(Er(Er({},o,u+w),"brushMoveStartX",r.pageX),function(){m&&_()&&m(b)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,c=o.startX,u=o.endX,f=this.state[i],d=s.indexOf(f);if(d!==-1){var h=d+r;if(!(h===-1||h>=s.length)){var p=s[h];i==="startX"&&p>=u||i==="endX"&&p<=c||this.setState(Er({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,c=r.fill,u=r.stroke;return H.createElement("rect",{stroke:u,fill:c,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,c=r.data,u=r.children,f=r.padding,d=g.Children.only(u);return d?H.cloneElement(d,{x:i,y:a,width:o,height:s,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,c=this.props,u=c.y,f=c.travellerWidth,d=c.height,h=c.traveller,p=c.ariaLabel,m=c.data,v=c.startIndex,y=c.endIndex,x=Math.max(r,this.props.x),w=sb(sb({},wt(this.props,!1)),{},{x,y:u,width:f,height:d}),b=p||"Min value: ".concat((a=m[v])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=m[y])===null||o===void 0?void 0:o.name);return H.createElement(An,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),s.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,w))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,c=a.stroke,u=a.travellerWidth,f=Math.min(r,i)+u,d=Math.max(Math.abs(i-r)-u,0);return H.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:o,width:d,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,c=r.travellerWidth,u=r.stroke,f=this.state,d=f.startX,h=f.endX,p=5,m={pointerEvents:"none",fill:u};return H.createElement(An,{className:"recharts-brush-texts"},H.createElement(Ig,rv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:o+s/2},m),this.getTextOfTick(i)),H.createElement(Ig,rv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+c+p,y:o+s/2},m),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,c=r.y,u=r.width,f=r.height,d=r.alwaysShowText,h=this.state,p=h.startX,m=h.endX,v=h.isTextActive,y=h.isSlideMoving,x=h.isTravellerMoving,w=h.isTravellerFocused;if(!i||!i.length||!_e(s)||!_e(c)||!_e(u)||!_e(f)||u<=0||f<=0)return null;var b=ft("recharts-brush",a),S=H.Children.count(o)===1,j=iCe("userSelect","none");return H.createElement(An,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(v||y||x||w||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,c=r.stroke,u=Math.floor(a+s/2)-1;return H.createElement(H.Fragment,null,H.createElement("rect",{x:i,y:a,width:o,height:s,fill:c,stroke:"none"}),H.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),H.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return H.isValidElement(r)?a=H.cloneElement(r,i):at(r)?a=r(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,c=r.travellerWidth,u=r.updateId,f=r.startIndex,d=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return sb({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?fCe({data:a,width:o,x:s,travellerWidth:c,startIndex:f,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([s,s+o-c]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var c=Math.floor((o+s)/2);r[c]>i?s=c:o=c}return i>=r[s]?s:o}}])}(g.PureComponent);Er(uu,"displayName","Brush");Er(uu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var hCe=Tk;function pCe(e,t){var n;return hCe(e,function(r,i,a){return n=t(r,i,a),!n}),!!n}var mCe=pCe,gCe=DB,vCe=Wu,yCe=mCe,xCe=jr,bCe=Xy;function wCe(e,t,n){var r=xCe(e)?gCe:yCe;return n&&bCe(e,t,n)&&(t=void 0),r(e,vCe(t))}var _Ce=wCe;const SCe=Et(_Ce);var ia=function(t,n){var r=t.alwaysShow,i=t.ifOverflow;return r&&(i="extendDomain"),i===n},IO=i5;function jCe(e,t,n){t=="__proto__"&&IO?IO(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var kCe=jCe,CCe=kCe,ECe=n5,ACe=Wu;function NCe(e,t){var n={};return t=ACe(t),ECe(e,function(r,i,a){CCe(n,i,t(r,i,a))}),n}var PCe=NCe;const TCe=Et(PCe);function OCe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var ICe=OCe,RCe=Tk;function MCe(e,t){var n=!0;return RCe(e,function(r,i,a){return n=!!t(r,i,a),n}),n}var $Ce=MCe,DCe=ICe,LCe=$Ce,FCe=Wu,BCe=jr,UCe=Xy;function zCe(e,t,n){var r=BCe(e)?DCe:LCe;return n&&UCe(e,t,n)&&(t=void 0),r(e,FCe(t))}var WCe=zCe;const HCe=Et(WCe);var qCe=["x","y"];function ch(e){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ch(e)}function b_(){return b_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b_.apply(this,arguments)}function RO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RO(Object(n),!0).forEach(function(r){VCe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VCe(e,t,n){return t=KCe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KCe(e){var t=GCe(e,"string");return ch(t)=="symbol"?t:t+""}function GCe(e,t){if(ch(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YCe(e,t){if(e==null)return{};var n=XCe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function XCe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function QCe(e,t){var n=e.x,r=e.y,i=YCe(e,qCe),a="".concat(n),o=parseInt(a,10),s="".concat(r),c=parseInt(s,10),u="".concat(t.height||i.height),f=parseInt(u,10),d="".concat(t.width||i.width),h=parseInt(d,10);return xd(xd(xd(xd(xd({},t),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:h,name:t.name,radius:t.radius})}function MO(e){return H.createElement(Oke,b_({shapeType:"rectangle",propTransformer:QCe,activeClassName:"recharts-active-bar"},e))}var JCe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof t=="number")return t;var a=_e(r)||hle(r);return a?t(r,i):(a||nl(),n)}},ZCe=["value","background"],MU;function du(e){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},du(e)}function eEe(e,t){if(e==null)return{};var n=tEe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function tEe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function av(){return av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},av.apply(this,arguments)}function $O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$O(Object(n),!0).forEach(function(r){ko(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$O(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,DU(r.key),r)}}function rEe(e,t,n){return t&&DO(e.prototype,t),n&&DO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function iEe(e,t,n){return t=ov(t),aEe(e,$U()?Reflect.construct(t,n||[],ov(e).constructor):t.apply(e,n))}function aEe(e,t){if(t&&(du(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oEe(e)}function oEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $U(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($U=function(){return!!e})()}function ov(e){return ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ov(e)}function sEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w_(e,t)}function w_(e,t){return w_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},w_(e,t)}function ko(e,t,n){return t=DU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DU(e){var t=lEe(e,"string");return du(t)=="symbol"?t:t+""}function lEe(e,t){if(du(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ur=function(e){function t(){var n;nEe(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=iEe(this,t,[].concat(i)),ko(n,"state",{isAnimationFinished:!1}),ko(n,"id",Wy("recharts-bar-")),ko(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),ko(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return sEe(t,e),rEe(t,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,c=a.activeIndex,u=a.activeBar,f=wt(this.props,!1);return r&&r.map(function(d,h){var p=h===c,m=p?u:o,v=cn(cn(cn({},f),d),{},{isActive:p,option:m,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return H.createElement(An,av({className:"recharts-bar-rectangle"},xg(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),H.createElement(MO,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,f=i.animationEasing,d=i.animationId,h=this.state.prevData;return H.createElement(Ho,{begin:c,duration:u,isActive:s,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,v=a.map(function(y,x){var w=h&&h[x];if(w){var b=Pl(w.x,y.x),S=Pl(w.y,y.y),j=Pl(w.width,y.width),_=Pl(w.height,y.height);return cn(cn({},y),{},{x:b(m),y:S(m),width:j(m),height:_(m)})}if(o==="horizontal"){var k=Pl(0,y.height),E=k(m);return cn(cn({},y),{},{y:y.y+y.height-E,height:E})}var I=Pl(0,y.width),P=I(m);return cn(cn({},y),{},{width:P})});return H.createElement(An,null,r.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!nC(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,c=wt(this.props.background,!1);return a.map(function(u,f){u.value;var d=u.background,h=eEe(u,ZCe);if(!d)return null;var p=cn(cn(cn(cn(cn({},h),{},{fill:"#eee"},d),c),xg(r.props,u,f)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return H.createElement(MO,av({key:"background-bar-".concat(f),option:r.props.background,isActive:f===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,c=a.yAxis,u=a.layout,f=a.children,d=Ei(f,sx);if(!d)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(y,x){var w=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:w,errorVal:la(y,x)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return H.createElement(An,m,d.map(function(v){return H.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:o,xAxis:s,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,c=r.yAxis,u=r.left,f=r.top,d=r.width,h=r.height,p=r.isAnimationActive,m=r.background,v=r.id;if(i||!a||!a.length)return null;var y=this.state.isAnimationFinished,x=ft("recharts-bar",o),w=s&&s.allowDataOverflow,b=c&&c.allowDataOverflow,S=w||b,j=vt(v)?this.id:v;return H.createElement(An,{className:x},w||b?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(j)},H.createElement("rect",{x:w?u:u-d/2,y:b?f:f-h/2,width:w?d:d*2,height:b?h:h*2}))):null,H.createElement(An,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(j,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,j),(!p||y)&&ra.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(g.PureComponent);MU=ur;ko(ur,"displayName","Bar");ko(ur,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!$o.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ko(ur,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,a=e.xAxis,o=e.yAxis,s=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,p=$1e(r,n);if(!p)return null;var m=t.layout,v=n.type.defaultProps,y=v!==void 0?cn(cn({},v),n.props):n.props,x=y.dataKey,w=y.children,b=y.minPointSize,S=m==="horizontal"?o:a,j=u?S.scale.domain():null,_=H1e({numericAxis:S}),k=Ei(w,d5),E=d.map(function(I,P){var N,O,R,F,W,D;u?N=D1e(u[f+P],j):(N=la(I,x),Array.isArray(N)||(N=[_,N]));var B=JCe(b,MU.defaultProps.minPointSize)(N[1],P);if(m==="horizontal"){var $,L=[o.scale(N[0]),o.scale(N[1])],A=L[0],M=L[1];O=MT({axis:a,ticks:s,bandSize:i,offset:p.offset,entry:I,index:P}),R=($=M??A)!==null&&$!==void 0?$:void 0,F=p.size;var T=A-M;if(W=Number.isNaN(T)?0:T,D={x:O,y:o.y,width:F,height:o.height},Math.abs(B)>0&&Math.abs(W)<Math.abs(B)){var C=ji(W||B)*(Math.abs(B)-Math.abs(W));R-=C,W+=C}}else{var U=[a.scale(N[0]),a.scale(N[1])],K=U[0],Q=U[1];if(O=K,R=MT({axis:o,ticks:c,bandSize:i,offset:p.offset,entry:I,index:P}),F=Q-K,W=p.size,D={x:a.x,y:R,width:a.width,height:W},Math.abs(B)>0&&Math.abs(F)<Math.abs(B)){var Y=ji(F||B)*(Math.abs(B)-Math.abs(F));F+=Y}}return cn(cn(cn({},I),{},{x:O,y:R,width:F,height:W,value:u?N:N[1],payload:I,background:D},k&&k[P]&&k[P].props),{},{tooltipPayload:[gU(n,I)],tooltipPosition:{x:O+F/2,y:R+W/2}})});return cn({data:E,layout:m},h)});function uh(e){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uh(e)}function cEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,LU(r.key),r)}}function uEe(e,t,n){return t&&LO(e.prototype,t),n&&LO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function FO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FO(Object(n),!0).forEach(function(r){ux(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ux(e,t,n){return t=LU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LU(e){var t=dEe(e,"string");return uh(t)=="symbol"?t:t+""}function dEe(e,t){if(uh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fEe=function(t,n,r,i,a){var o=t.width,s=t.height,c=t.layout,u=t.children,f=Object.keys(n),d={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!Nr(u,ur);return f.reduce(function(p,m){var v=n[m],y=v.orientation,x=v.domain,w=v.padding,b=w===void 0?{}:w,S=v.mirror,j=v.reversed,_="".concat(y).concat(S?"Mirror":""),k,E,I,P,N;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var O=x[1]-x[0],R=1/0,F=v.categoricalDomain.sort(gle);if(F.forEach(function(U,K){K>0&&(R=Math.min((U||0)-(F[K-1]||0),R))}),Number.isFinite(R)){var W=R/O,D=v.layout==="vertical"?r.height:r.width;if(v.padding==="gap"&&(k=W*D/2),v.padding==="no-gap"){var B=el(t.barCategoryGap,W*D),$=W*D/2;k=$-B-($-B)/D*B}}}i==="xAxis"?E=[r.left+(b.left||0)+(k||0),r.left+r.width-(b.right||0)-(k||0)]:i==="yAxis"?E=c==="horizontal"?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(k||0),r.top+r.height-(b.bottom||0)-(k||0)]:E=v.range,j&&(E=[E[1],E[0]]);var L=R1e(v,a,h),A=L.scale,M=L.realScaleType;A.domain(x).range(E),M1e(A);var T=W1e(A,bi(bi({},v),{},{realScaleType:M}));i==="xAxis"?(N=y==="top"&&!S||y==="bottom"&&S,I=r.left,P=d[_]-N*v.height):i==="yAxis"&&(N=y==="left"&&!S||y==="right"&&S,I=d[_]-N*v.width,P=r.top);var C=bi(bi(bi({},v),T),{},{realScaleType:M,x:I,y:P,scale:A,width:i==="xAxis"?r.width:v.width,height:i==="yAxis"?r.height:v.height});return C.bandSize=Kg(C,T),!v.hide&&i==="xAxis"?d[_]+=(N?-1:1)*C.height:v.hide||(d[_]+=(N?-1:1)*C.width),bi(bi({},p),{},ux({},m,C))},{})},FU=function(t,n){var r=t.x,i=t.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},hEe=function(t){var n=t.x1,r=t.y1,i=t.x2,a=t.y2;return FU({x:n,y:r},{x:i,y:a})},BU=function(){function e(t){cEe(this,e),this.scale=t}return uEe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}])}();ux(BU,"EPS",1e-4);var sC=function(t){var n=Object.keys(t).reduce(function(r,i){return bi(bi({},r),{},ux({},i,BU.create(t[i])))},{});return bi(bi({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return TCe(i,function(c,u){return n[u].apply(c,{bandAware:o,position:s})})},isInRange:function(i){return HCe(i,function(a,o){return n[o].isInRange(a)})}})};function pEe(e){return(e%180+180)%180}var mEe=function(t){var n=t.width,r=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=pEe(i),o=a*Math.PI/180,s=Math.atan(r/n),c=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},gEe=vse(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),UU=g.createContext(void 0),zU=g.createContext(void 0),WU=g.createContext(void 0),vEe=g.createContext({}),HU=g.createContext(void 0),qU=g.createContext(0),VU=g.createContext(0),BO=function(t){var n=t.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=t.clipPathId,s=t.children,c=t.width,u=t.height,f=gEe(a);return H.createElement(UU.Provider,{value:r},H.createElement(zU.Provider,{value:i},H.createElement(vEe.Provider,{value:a},H.createElement(WU.Provider,{value:f},H.createElement(HU.Provider,{value:o},H.createElement(qU.Provider,{value:u},H.createElement(VU.Provider,{value:c},s)))))))},yEe=function(){return g.useContext(HU)},KU=function(t){var n=g.useContext(UU);n==null&&nl();var r=n[t];return r==null&&nl(),r},GU=function(t){var n=g.useContext(zU);n==null&&nl();var r=n[t];return r==null&&nl(),r},xEe=function(){var t=g.useContext(WU);return t},YU=function(){return g.useContext(VU)},XU=function(){return g.useContext(qU)};function fu(e){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(e)}function bEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wEe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,JU(r.key),r)}}function _Ee(e,t,n){return t&&wEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function SEe(e,t,n){return t=sv(t),jEe(e,QU()?Reflect.construct(t,n||[],sv(e).constructor):t.apply(e,n))}function jEe(e,t){if(t&&(fu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kEe(e)}function kEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QU=function(){return!!e})()}function sv(e){return sv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sv(e)}function CEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&__(e,t)}function __(e,t){return __=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},__(e,t)}function UO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UO(Object(n),!0).forEach(function(r){lC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lC(e,t,n){return t=JU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JU(e){var t=EEe(e,"string");return fu(t)=="symbol"?t:t+""}function EEe(e,t){if(fu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AEe(e,t){return OEe(e)||TEe(e,t)||PEe(e,t)||NEe()}function NEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PEe(e,t){if(e){if(typeof e=="string")return WO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WO(e,t)}}function WO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function TEe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function OEe(e){if(Array.isArray(e))return e}function S_(){return S_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S_.apply(this,arguments)}var IEe=function(t,n){var r;return H.isValidElement(t)?r=H.cloneElement(t,n):at(t)?r=t(n):r=H.createElement("line",S_({},n,{className:"recharts-reference-line-line"})),r},REe=function(t,n,r,i,a,o,s,c,u){var f=a.x,d=a.y,h=a.width,p=a.height;if(r){var m=u.y,v=t.y.apply(m,{position:o});if(ia(u,"discard")&&!t.y.isInRange(v))return null;var y=[{x:f+h,y:v},{x:f,y:v}];return c==="left"?y.reverse():y}if(n){var x=u.x,w=t.x.apply(x,{position:o});if(ia(u,"discard")&&!t.x.isInRange(w))return null;var b=[{x:w,y:d+p},{x:w,y:d}];return s==="top"?b.reverse():b}if(i){var S=u.segment,j=S.map(function(_){return t.apply(_,{position:o})});return ia(u,"discard")&&SCe(j,function(_){return!t.isInRange(_)})?null:j}return null};function MEe(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,a=e.yAxisId,o=e.shape,s=e.className,c=e.alwaysShow,u=yEe(),f=KU(i),d=GU(a),h=xEe();if(!u||!h)return null;Ls(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=sC({x:f.scale,y:d.scale}),m=_n(t),v=_n(n),y=r&&r.length===2,x=REe(p,m,v,y,h,e.position,f.orientation,d.orientation,e);if(!x)return null;var w=AEe(x,2),b=w[0],S=b.x,j=b.y,_=w[1],k=_.x,E=_.y,I=ia(e,"hidden")?"url(#".concat(u,")"):void 0,P=zO(zO({clipPath:I},wt(e,!0)),{},{x1:S,y1:j,x2:k,y2:E});return H.createElement(An,{className:ft("recharts-reference-line",s)},IEe(o,P),qn.renderCallByParent(e,hEe({x1:S,y1:j,x2:k,y2:E})))}var cC=function(e){function t(){return bEe(this,t),SEe(this,t,arguments)}return CEe(t,e),_Ee(t,[{key:"render",value:function(){return H.createElement(MEe,this.props)}}])}(H.Component);lC(cC,"displayName","ReferenceLine");lC(cC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function j_(){return j_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j_.apply(this,arguments)}function hu(e){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}function HO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HO(Object(n),!0).forEach(function(r){dx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $Ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DEe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,e6(r.key),r)}}function LEe(e,t,n){return t&&DEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FEe(e,t,n){return t=lv(t),BEe(e,ZU()?Reflect.construct(t,n||[],lv(e).constructor):t.apply(e,n))}function BEe(e,t){if(t&&(hu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UEe(e)}function UEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZU=function(){return!!e})()}function lv(e){return lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lv(e)}function zEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k_(e,t)}function k_(e,t){return k_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},k_(e,t)}function dx(e,t,n){return t=e6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e6(e){var t=WEe(e,"string");return hu(t)=="symbol"?t:t+""}function WEe(e,t){if(hu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HEe=function(t){var n=t.x,r=t.y,i=t.xAxis,a=t.yAxis,o=sC({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return ia(t,"discard")&&!o.isInRange(s)?null:s},fx=function(e){function t(){return $Ee(this,t),FEe(this,t,arguments)}return zEe(t,e),LEe(t,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,s=r.alwaysShow,c=r.clipPathId,u=_n(i),f=_n(a);if(Ls(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var d=HEe(this.props);if(!d)return null;var h=d.x,p=d.y,m=this.props,v=m.shape,y=m.className,x=ia(this.props,"hidden")?"url(#".concat(c,")"):void 0,w=qO(qO({clipPath:x},wt(this.props,!0)),{},{cx:h,cy:p});return H.createElement(An,{className:ft("recharts-reference-dot",y)},t.renderDot(v,w),qn.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(H.Component);dx(fx,"displayName","ReferenceDot");dx(fx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});dx(fx,"renderDot",function(e,t){var n;return H.isValidElement(e)?n=H.cloneElement(e,t):at(e)?n=e(t):n=H.createElement(PU,j_({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function C_(){return C_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C_.apply(this,arguments)}function pu(e){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}function VO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function KO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VO(Object(n),!0).forEach(function(r){hx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VEe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n6(r.key),r)}}function KEe(e,t,n){return t&&VEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function GEe(e,t,n){return t=cv(t),YEe(e,t6()?Reflect.construct(t,n||[],cv(e).constructor):t.apply(e,n))}function YEe(e,t){if(t&&(pu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XEe(e)}function XEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t6=function(){return!!e})()}function cv(e){return cv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cv(e)}function QEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E_(e,t)}function E_(e,t){return E_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},E_(e,t)}function hx(e,t,n){return t=n6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n6(e){var t=JEe(e,"string");return pu(t)=="symbol"?t:t+""}function JEe(e,t){if(pu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZEe=function(t,n,r,i,a){var o=a.x1,s=a.x2,c=a.y1,u=a.y2,f=a.xAxis,d=a.yAxis;if(!f||!d)return null;var h=sC({x:f.scale,y:d.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(c,{position:"start"}):h.y.rangeMin},m={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ia(a,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:FU(p,m)},px=function(e){function t(){return qEe(this,t),GEe(this,t,arguments)}return QEe(t,e),KEe(t,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,s=r.y2,c=r.className,u=r.alwaysShow,f=r.clipPathId;Ls(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=_n(i),h=_n(a),p=_n(o),m=_n(s),v=this.props.shape;if(!d&&!h&&!p&&!m&&!v)return null;var y=ZEe(d,h,p,m,this.props);if(!y&&!v)return null;var x=ia(this.props,"hidden")?"url(#".concat(f,")"):void 0;return H.createElement(An,{className:ft("recharts-reference-area",c)},t.renderRect(v,KO(KO({clipPath:x},wt(this.props,!0)),y)),qn.renderCallByParent(this.props,y))}}])}(H.Component);hx(px,"displayName","ReferenceArea");hx(px,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});hx(px,"renderRect",function(e,t){var n;return H.isValidElement(e)?n=H.cloneElement(e,t):at(e)?n=e(t):n=H.createElement(oC,C_({},t,{className:"recharts-reference-area-rect"})),n});function r6(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function eAe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return mEe(r,n)}function tAe(e,t,n){var r=n==="width",i=e.x,a=e.y,o=e.width,s=e.height;return t===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function uv(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function nAe(e,t){return r6(e,t+1)}function rAe(e,t,n,r,i){for(var a=(r||[]).slice(),o=t.start,s=t.end,c=0,u=1,f=o,d=function(){var m=r==null?void 0:r[c];if(m===void 0)return{v:r6(r,u)};var v=c,y,x=function(){return y===void 0&&(y=n(m,v)),y},w=m.coordinate,b=c===0||uv(e,w,x,f,s);b||(c=0,f=o,u+=1),b&&(f=w+e*(x()/2+i),c+=u)},h;u<=a.length;)if(h=d(),h)return h.v;return[]}function dh(e){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dh(e)}function GO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GO(Object(n),!0).forEach(function(r){iAe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iAe(e,t,n){return t=aAe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aAe(e){var t=oAe(e,"string");return dh(t)=="symbol"?t:t+""}function oAe(e,t){if(dh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sAe(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=t.start,c=t.end,u=function(h){var p=a[h],m,v=function(){return m===void 0&&(m=n(p,h)),m};if(h===o-1){var y=e*(p.coordinate+e*v()/2-c);a[h]=p=Wn(Wn({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate})}else a[h]=p=Wn(Wn({},p),{},{tickCoord:p.coordinate});var x=uv(e,p.tickCoord,v,s,c);x&&(c=p.tickCoord-e*(v()/2+i),a[h]=Wn(Wn({},p),{},{isShow:!0}))},f=o-1;f>=0;f--)u(f);return a}function lAe(e,t,n,r,i,a){var o=(r||[]).slice(),s=o.length,c=t.start,u=t.end;if(a){var f=r[s-1],d=n(f,s-1),h=e*(f.coordinate+e*d/2-u);o[s-1]=f=Wn(Wn({},f),{},{tickCoord:h>0?f.coordinate-h*e:f.coordinate});var p=uv(e,f.tickCoord,function(){return d},c,u);p&&(u=f.tickCoord-e*(d/2+i),o[s-1]=Wn(Wn({},f),{},{isShow:!0}))}for(var m=a?s-1:s,v=function(w){var b=o[w],S,j=function(){return S===void 0&&(S=n(b,w)),S};if(w===0){var _=e*(b.coordinate-e*j()/2-c);o[w]=b=Wn(Wn({},b),{},{tickCoord:_<0?b.coordinate-_*e:b.coordinate})}else o[w]=b=Wn(Wn({},b),{},{tickCoord:b.coordinate});var k=uv(e,b.tickCoord,j,c,u);k&&(c=b.tickCoord+e*(j()/2+i),o[w]=Wn(Wn({},b),{},{isShow:!0}))},y=0;y<m;y++)v(y);return o}function cAe(e,t,n){var r=e.tick,i=e.ticks,a=e.viewBox,o=e.minTickGap,s=e.orientation,c=e.interval,u=e.tickFormatter,f=e.unit,d=e.angle;if(!i||!i.length||!r)return[];if(_e(c)||$o.isSsr)return nAe(i,typeof c=="number"&&_e(c)?c:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",m=f&&p==="width"?Vd(f,{fontSize:t,letterSpacing:n}):{width:0,height:0},v=function(b,S){var j=at(u)?u(b.value,S):b.value;return p==="width"?eAe(Vd(j,{fontSize:t,letterSpacing:n}),m,d):Vd(j,{fontSize:t,letterSpacing:n})[p]},y=i.length>=2?ji(i[1].coordinate-i[0].coordinate):1,x=tAe(a,y,p);return c==="equidistantPreserveStart"?rAe(y,x,v,i,o):(c==="preserveStart"||c==="preserveStartEnd"?h=lAe(y,x,v,i,o,c==="preserveStartEnd"):h=sAe(y,x,v,i,o),h.filter(function(w){return w.isShow}))}var uAe=["viewBox"],dAe=["viewBox"],fAe=["ticks"];function mu(e){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(e)}function rc(){return rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rc.apply(this,arguments)}function YO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YO(Object(n),!0).forEach(function(r){uC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lb(e,t){if(e==null)return{};var n=hAe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function hAe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function pAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a6(r.key),r)}}function mAe(e,t,n){return t&&XO(e.prototype,t),n&&XO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function gAe(e,t,n){return t=dv(t),vAe(e,i6()?Reflect.construct(t,n||[],dv(e).constructor):t.apply(e,n))}function vAe(e,t){if(t&&(mu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yAe(e)}function yAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i6=function(){return!!e})()}function dv(e){return dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dv(e)}function xAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A_(e,t)}function A_(e,t){return A_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},A_(e,t)}function uC(e,t,n){return t=a6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a6(e){var t=bAe(e,"string");return mu(t)=="symbol"?t:t+""}function bAe(e,t){if(mu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mx=function(e){function t(n){var r;return pAe(this,t),r=gAe(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return xAe(t,e),mAe(t,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=lb(r,uAe),s=this.props,c=s.viewBox,u=lb(s,dAe);return!bc(a,c)||!bc(o,u)||!bc(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,c=i.height,u=i.orientation,f=i.tickSize,d=i.mirror,h=i.tickMargin,p,m,v,y,x,w,b=d?-1:1,S=r.tickSize||f,j=_e(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=m=r.coordinate,y=o+ +!d*c,v=y-b*S,w=v-b*h,x=j;break;case"left":v=y=r.coordinate,m=a+ +!d*s,p=m-b*S,x=p-b*h,w=j;break;case"right":v=y=r.coordinate,m=a+ +d*s,p=m+b*S,x=p+b*h,w=j;break;default:p=m=r.coordinate,y=o+ +d*c,v=y+b*S,w=v+b*h,x=j;break}return{line:{x1:p,y1:v,x2:m,y2:y},tick:{x,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,c=r.orientation,u=r.mirror,f=r.axisLine,d=mn(mn(mn({},wt(this.props,!1)),wt(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);d=mn(mn({},d),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var p=+(c==="left"&&!u||c==="right"&&u);d=mn(mn({},d),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+s})}return H.createElement("line",rc({},d,{className:ft("recharts-cartesian-axis-line",ei(f,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,c=s.tickLine,u=s.stroke,f=s.tick,d=s.tickFormatter,h=s.unit,p=cAe(mn(mn({},this.props),{},{ticks:r}),i,a),m=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),y=wt(this.props,!1),x=wt(f,!1),w=mn(mn({},y),{},{fill:"none"},wt(c,!1)),b=p.map(function(S,j){var _=o.getTickLineCoord(S),k=_.line,E=_.tick,I=mn(mn(mn(mn({textAnchor:m,verticalAnchor:v},y),{},{stroke:"none",fill:u},x),E),{},{index:j,payload:S,visibleTicksCount:p.length,tickFormatter:d});return H.createElement(An,rc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},xg(o.props,S,j)),c&&H.createElement("line",rc({},w,k,{className:ft("recharts-cartesian-axis-tick-line",ei(c,"className"))})),f&&t.renderTickItem(f,I,"".concat(at(d)?d(S.value,j):S.value).concat(h||"")))});return H.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,c=i.ticksGenerator,u=i.className,f=i.hide;if(f)return null;var d=this.props,h=d.ticks,p=lb(d,fAe),m=h;return at(c)&&(m=h&&h.length>0?c(this.props):c(p)),o<=0||s<=0||!m||!m.length?null:H.createElement(An,{className:ft("recharts-cartesian-axis",u),ref:function(y){r.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),qn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,s=ft(i.className,"recharts-cartesian-axis-tick-value");return H.isValidElement(r)?o=H.cloneElement(r,mn(mn({},i),{},{className:s})):at(r)?o=r(mn(mn({},i),{},{className:s})):o=H.createElement(Ig,rc({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(g.Component);uC(mx,"displayName","CartesianAxis");uC(mx,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});function gu(e){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gu(e)}function wAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l6(r.key),r)}}function SAe(e,t,n){return t&&_Ae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jAe(e,t,n){return t=fv(t),kAe(e,o6()?Reflect.construct(t,n||[],fv(e).constructor):t.apply(e,n))}function kAe(e,t){if(t&&(gu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CAe(e)}function CAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o6=function(){return!!e})()}function fv(e){return fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fv(e)}function EAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N_(e,t)}function N_(e,t){return N_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},N_(e,t)}function s6(e,t,n){return t=l6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l6(e){var t=AAe(e,"string");return gu(t)=="symbol"?t:t+""}function AAe(e,t){if(gu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P_(){return P_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P_.apply(this,arguments)}function NAe(e){var t=e.xAxisId,n=YU(),r=XU(),i=KU(t);return i==null?null:g.createElement(mx,P_({},i,{className:ft("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Ns(o,!0)}}))}var wa=function(e){function t(){return wAe(this,t),jAe(this,t,arguments)}return EAe(t,e),SAe(t,[{key:"render",value:function(){return g.createElement(NAe,this.props)}}])}(g.Component);s6(wa,"displayName","XAxis");s6(wa,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function vu(e){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(e)}function PAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TAe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d6(r.key),r)}}function OAe(e,t,n){return t&&TAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function IAe(e,t,n){return t=hv(t),RAe(e,c6()?Reflect.construct(t,n||[],hv(e).constructor):t.apply(e,n))}function RAe(e,t){if(t&&(vu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MAe(e)}function MAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c6=function(){return!!e})()}function hv(e){return hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hv(e)}function $Ae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T_(e,t)}function T_(e,t){return T_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},T_(e,t)}function u6(e,t,n){return t=d6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d6(e){var t=DAe(e,"string");return vu(t)=="symbol"?t:t+""}function DAe(e,t){if(vu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O_(){return O_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O_.apply(this,arguments)}var LAe=function(t){var n=t.yAxisId,r=YU(),i=XU(),a=GU(n);return a==null?null:g.createElement(mx,O_({},a,{className:ft("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Ns(s,!0)}}))},_a=function(e){function t(){return PAe(this,t),IAe(this,t,arguments)}return $Ae(t,e),OAe(t,[{key:"render",value:function(){return g.createElement(LAe,this.props)}}])}(g.Component);u6(_a,"displayName","YAxis");u6(_a,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function QO(e){return zAe(e)||UAe(e)||BAe(e)||FAe()}function FAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BAe(e,t){if(e){if(typeof e=="string")return I_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I_(e,t)}}function UAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zAe(e){if(Array.isArray(e))return I_(e)}function I_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var R_=function(t,n,r,i,a){var o=Ei(t,cC),s=Ei(t,fx),c=[].concat(QO(o),QO(s)),u=Ei(t,px),f="".concat(i,"Id"),d=i[0],h=n;if(c.length&&(h=c.reduce(function(v,y){if(y.props[f]===r&&ia(y.props,"extendDomain")&&_e(y.props[d])){var x=y.props[d];return[Math.min(v[0],x),Math.max(v[1],x)]}return v},h)),u.length){var p="".concat(d,"1"),m="".concat(d,"2");h=u.reduce(function(v,y){if(y.props[f]===r&&ia(y.props,"extendDomain")&&_e(y.props[p])&&_e(y.props[m])){var x=y.props[p],w=y.props[m];return[Math.min(v[0],x,w),Math.max(v[1],x,w)]}return v},h)}return a&&a.length&&(h=a.reduce(function(v,y){return _e(y)?[Math.min(v[0],y),Math.max(v[1],y)]:v},h)),h},f6={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function a(c,u,f,d,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new i(f,d||c,h),m=n?n+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],p]:c._events[m].push(p):(c._events[m]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],f,d;if(this._eventsCount===0)return u;for(d in f=this._events)t.call(f,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},s.prototype.listeners=function(u){var f=n?n+u:u,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,m=new Array(p);h<p;h++)m[h]=d[h].fn;return m},s.prototype.listenerCount=function(u){var f=n?n+u:u,d=this._events[f];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,f,d,h,p,m){var v=n?n+u:u;if(!this._events[v])return!1;var y=this._events[v],x=arguments.length,w,b;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,f),!0;case 3:return y.fn.call(y.context,f,d),!0;case 4:return y.fn.call(y.context,f,d,h),!0;case 5:return y.fn.call(y.context,f,d,h,p),!0;case 6:return y.fn.call(y.context,f,d,h,p,m),!0}for(b=1,w=new Array(x-1);b<x;b++)w[b-1]=arguments[b];y.fn.apply(y.context,w)}else{var S=y.length,j;for(b=0;b<S;b++)switch(y[b].once&&this.removeListener(u,y[b].fn,void 0,!0),x){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,f);break;case 3:y[b].fn.call(y[b].context,f,d);break;case 4:y[b].fn.call(y[b].context,f,d,h);break;default:if(!w)for(j=1,w=new Array(x-1);j<x;j++)w[j-1]=arguments[j];y[b].fn.apply(y[b].context,w)}}return!0},s.prototype.on=function(u,f,d){return a(this,u,f,d,!1)},s.prototype.once=function(u,f,d){return a(this,u,f,d,!0)},s.prototype.removeListener=function(u,f,d,h){var p=n?n+u:u;if(!this._events[p])return this;if(!f)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===f&&(!h||m.once)&&(!d||m.context===d)&&o(this,p);else{for(var v=0,y=[],x=m.length;v<x;v++)(m[v].fn!==f||h&&!m[v].once||d&&m[v].context!==d)&&y.push(m[v]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},s.prototype.removeAllListeners=function(u){var f;return u?(f=n?n+u:u,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(f6);var WAe=f6.exports;const HAe=Et(WAe);var cb=new HAe,ub="recharts.syncMouseEvents";function fh(e){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fh(e)}function qAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VAe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h6(r.key),r)}}function KAe(e,t,n){return t&&VAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function db(e,t,n){return t=h6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h6(e){var t=GAe(e,"string");return fh(t)=="symbol"?t:t+""}function GAe(e,t){if(fh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var YAe=function(){function e(){qAe(this,e),db(this,"activeIndex",0),db(this,"coordinateList",[]),db(this,"layout","horizontal")}return KAe(e,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,f=n.offset,d=f===void 0?null:f,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,f=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=a+c+u,h=o+this.offset.top+s/2+f;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function XAe(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],i=e==null?void 0:e[1];if(r&&i&&_e(r)&&_e(i))return!0}return!1}function QAe(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function p6(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,a=e.endAngle,o=Rn(t,n,r,i),s=Rn(t,n,r,a);return{points:[o,s],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function JAe(e,t,n){var r,i,a,o;if(e==="horizontal")r=t.x,a=r,i=n.top,o=n.top+n.height;else if(e==="vertical")i=t.y,o=i,r=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,c=t.cy,u=t.innerRadius,f=t.outerRadius,d=t.angle,h=Rn(s,c,u,d),p=Rn(s,c,f,d);r=h.x,i=h.y,a=p.x,o=p.y}else return p6(t);return[{x:r,y:i},{x:a,y:o}]}function hh(e){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hh(e)}function JO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JO(Object(n),!0).forEach(function(r){ZAe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZAe(e,t,n){return t=eNe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eNe(e){var t=tNe(e,"string");return hh(t)=="symbol"?t:t+""}function tNe(e,t){if(hh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nNe(e){var t,n,r=e.element,i=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,s=e.activePayload,c=e.offset,u=e.activeTooltipIndex,f=e.tooltipAxisBandSize,d=e.layout,h=e.chartName,p=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var m,v=QT;if(h==="ScatterChart")m=o,v=Vje;else if(h==="BarChart")m=QAe(d,o,c,f),v=oC;else if(d==="radial"){var y=p6(o),x=y.cx,w=y.cy,b=y.radius,S=y.startAngle,j=y.endAngle;m={cx:x,cy:w,startAngle:S,endAngle:j,innerRadius:b,outerRadius:b},v=xU}else m={points:JAe(d,o,c)},v=QT;var _=qp(qp(qp(qp({stroke:"#ccc",pointerEvents:"none"},c),m),wt(p,!1)),{},{payload:s,payloadIndex:u,className:ft("recharts-tooltip-cursor",p.className)});return g.isValidElement(p)?g.cloneElement(p,_):g.createElement(v,_)}var rNe=["item"],iNe=["children","className","width","height","style","compact","title","desc"];function yu(e){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yu(e)}function ic(){return ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ic.apply(this,arguments)}function ZO(e,t){return sNe(e)||oNe(e,t)||g6(e,t)||aNe()}function aNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oNe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function sNe(e){if(Array.isArray(e))return e}function e2(e,t){if(e==null)return{};var n=lNe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function lNe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function cNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uNe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v6(r.key),r)}}function dNe(e,t,n){return t&&uNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fNe(e,t,n){return t=pv(t),hNe(e,m6()?Reflect.construct(t,n||[],pv(e).constructor):t.apply(e,n))}function hNe(e,t){if(t&&(yu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pNe(e)}function pNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m6=function(){return!!e})()}function pv(e){return pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pv(e)}function mNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M_(e,t)}function M_(e,t){return M_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},M_(e,t)}function xu(e){return yNe(e)||vNe(e)||g6(e)||gNe()}function gNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g6(e,t){if(e){if(typeof e=="string")return $_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $_(e,t)}}function vNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yNe(e){if(Array.isArray(e))return $_(e)}function $_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function t2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t2(Object(n),!0).forEach(function(r){Fe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fe(e,t,n){return t=v6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v6(e){var t=xNe(e,"string");return yu(t)=="symbol"?t:t+""}function xNe(e,t){if(yu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bNe={xAxis:["bottom","top"],yAxis:["left","right"]},wNe={width:"100%",height:"100%"},y6={x:0,y:0};function Vp(e){return e}var _Ne=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},SNe=function(t,n,r,i){var a=n.find(function(f){return f&&f.index===r});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,s=i.radius;return ae(ae(ae({},i),Rn(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var c=a.coordinate,u=i.angle;return ae(ae(ae({},i),Rn(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return y6},gx=function(t,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,c){var u=c.props.data;return u&&u.length?[].concat(xu(s),xu(u)):s},[]);return o.length>0?o:t&&t.length&&_e(i)&&_e(a)?t.slice(i,a+1):[]};function x6(e){return e==="number"?[0,"auto"]:void 0}var D_=function(t,n,r,i){var a=t.graphicalItems,o=t.tooltipAxis,s=gx(n,t);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(c,u){var f,d=(f=u.props.data)!==null&&f!==void 0?f:n;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=d===void 0?s:d;h=g1(p,o.dataKey,i)}else h=d&&d[r]||s[r];return h?[].concat(xu(c),[gU(u,h)]):c},[])},n2=function(t,n,r,i){var a=i||{x:t.chartX,y:t.chartY},o=_Ne(a,r),s=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,f=A1e(o,s,u,c);if(f>=0&&u){var d=u[f]&&u[f].value,h=D_(t,n,f,d),p=SNe(r,s,f,a);return{activeTooltipIndex:f,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},jNe=function(t,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,f=t.layout,d=t.children,h=t.stackOffset,p=pU(f,a);return r.reduce(function(m,v){var y,x=v.type.defaultProps!==void 0?ae(ae({},v.type.defaultProps),v.props):v.props,w=x.type,b=x.dataKey,S=x.allowDataOverflow,j=x.allowDuplicatedCategory,_=x.scale,k=x.ticks,E=x.includeHidden,I=x[o];if(m[I])return m;var P=gx(t.data,{graphicalItems:i.filter(function(T){var C,U=o in T.props?T.props[o]:(C=T.type.defaultProps)===null||C===void 0?void 0:C[o];return U===I}),dataStartIndex:c,dataEndIndex:u}),N=P.length,O,R,F;XAe(x.domain,S,w)&&(O=r_(x.domain,null,S),p&&(w==="number"||_!=="auto")&&(F=Gd(P,b,"category")));var W=x6(w);if(!O||O.length===0){var D,B=(D=x.domain)!==null&&D!==void 0?D:W;if(b){if(O=Gd(P,b,w),w==="category"&&p){var $=mle(O);j&&$?(R=O,O=nv(0,N)):j||(O=LT(B,O,v).reduce(function(T,C){return T.indexOf(C)>=0?T:[].concat(xu(T),[C])},[]))}else if(w==="category")j?O=O.filter(function(T){return T!==""&&!vt(T)}):O=LT(B,O,v).reduce(function(T,C){return T.indexOf(C)>=0||C===""||vt(C)?T:[].concat(xu(T),[C])},[]);else if(w==="number"){var L=I1e(P,i.filter(function(T){var C,U,K=o in T.props?T.props[o]:(C=T.type.defaultProps)===null||C===void 0?void 0:C[o],Q="hide"in T.props?T.props.hide:(U=T.type.defaultProps)===null||U===void 0?void 0:U.hide;return K===I&&(E||!Q)}),b,a,f);L&&(O=L)}p&&(w==="number"||_!=="auto")&&(F=Gd(P,b,"category"))}else p?O=nv(0,N):s&&s[I]&&s[I].hasStack&&w==="number"?O=h==="expand"?[0,1]:mU(s[I].stackGroups,c,u):O=hU(P,i.filter(function(T){var C=o in T.props?T.props[o]:T.type.defaultProps[o],U="hide"in T.props?T.props.hide:T.type.defaultProps.hide;return C===I&&(E||!U)}),w,f,!0);if(w==="number")O=R_(d,O,I,a,k),B&&(O=r_(B,O,S));else if(w==="category"&&B){var A=B,M=O.every(function(T){return A.indexOf(T)>=0});M&&(O=A)}}return ae(ae({},m),{},Fe({},I,ae(ae({},x),{},{axisType:a,domain:O,categoricalDomain:F,duplicateDomain:R,originalDomain:(y=x.domain)!==null&&y!==void 0?y:W,isCategorical:p,layout:f})))},{})},kNe=function(t,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,f=t.layout,d=t.children,h=gx(t.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),p=h.length,m=pU(f,a),v=-1;return r.reduce(function(y,x){var w=x.type.defaultProps!==void 0?ae(ae({},x.type.defaultProps),x.props):x.props,b=w[o],S=x6("number");if(!y[b]){v++;var j;return m?j=nv(0,p):s&&s[b]&&s[b].hasStack?(j=mU(s[b].stackGroups,c,u),j=R_(d,j,b,a)):(j=r_(S,hU(h,r.filter(function(_){var k,E,I=o in _.props?_.props[o]:(k=_.type.defaultProps)===null||k===void 0?void 0:k[o],P="hide"in _.props?_.props.hide:(E=_.type.defaultProps)===null||E===void 0?void 0:E.hide;return I===b&&!P}),"number",f),i.defaultProps.allowDataOverflow),j=R_(d,j,b,a)),ae(ae({},y),{},Fe({},b,ae(ae({axisType:a},i.defaultProps),{},{hide:!0,orientation:ei(bNe,"".concat(a,".").concat(v%2),null),domain:j,originalDomain:S,isCategorical:m,layout:f})))}return y},{})},CNe=function(t,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,f=t.children,d="".concat(i,"Id"),h=Ei(f,a),p={};return h&&h.length?p=jNe(t,{axes:h,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=kNe(t,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:c,dataEndIndex:u})),p},ENe=function(t){var n=Bl(t),r=Ns(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Ok(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Kg(n,r)}},r2=function(t){var n=t.children,r=t.defaultShowTooltip,i=Nr(n,uu),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},ANe=function(t){return!t||!t.length?!1:t.some(function(n){var r=Oa(n&&n.type);return r&&r.indexOf("Bar")>=0})},i2=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},NNe=function(t,n){var r=t.props,i=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,s=t.yAxisMap,c=s===void 0?{}:s,u=r.width,f=r.height,d=r.children,h=r.margin||{},p=Nr(d,uu),m=Nr(d,Qi),v=Object.keys(c).reduce(function(j,_){var k=c[_],E=k.orientation;return!k.mirror&&!k.hide?ae(ae({},j),{},Fe({},E,j[E]+k.width)):j},{left:h.left||0,right:h.right||0}),y=Object.keys(o).reduce(function(j,_){var k=o[_],E=k.orientation;return!k.mirror&&!k.hide?ae(ae({},j),{},Fe({},E,ei(j,"".concat(E))+k.height)):j},{top:h.top||0,bottom:h.bottom||0}),x=ae(ae({},y),v),w=x.bottom;p&&(x.bottom+=p.props.height||uu.defaultProps.height),m&&n&&(x=T1e(x,i,r,n));var b=u-x.left-x.right,S=f-x.top-x.bottom;return ae(ae({brushBottom:w},x),{},{width:Math.max(b,0),height:Math.max(S,0)})},PNe=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},TNe=function(t){var n=t.chartName,r=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,o=t.validateTooltipEventTypes,s=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,f=t.formatAxisMap,d=t.defaultProps,h=function(x,w){var b=w.graphicalItems,S=w.stackGroups,j=w.offset,_=w.updateId,k=w.dataStartIndex,E=w.dataEndIndex,I=x.barSize,P=x.layout,N=x.barGap,O=x.barCategoryGap,R=x.maxBarSize,F=i2(P),W=F.numericAxisName,D=F.cateAxisName,B=ANe(b),$=[];return b.forEach(function(L,A){var M=gx(x.data,{graphicalItems:[L],dataStartIndex:k,dataEndIndex:E}),T=L.type.defaultProps!==void 0?ae(ae({},L.type.defaultProps),L.props):L.props,C=T.dataKey,U=T.maxBarSize,K=T["".concat(W,"Id")],Q=T["".concat(D,"Id")],Y={},le=c.reduce(function(Ze,He){var Xe=w["".concat(He.axisType,"Map")],gt=T["".concat(He.axisType,"Id")];Xe&&Xe[gt]||He.axisType==="zAxis"||nl();var yt=Xe[gt];return ae(ae({},Ze),{},Fe(Fe({},He.axisType,yt),"".concat(He.axisType,"Ticks"),Ns(yt)))},Y),Z=le[D],oe=le["".concat(D,"Ticks")],re=S&&S[K]&&S[K].hasStack&&q1e(L,S[K].stackGroups),J=Oa(L.type).indexOf("Bar")>=0,ke=Kg(Z,oe),V=[],ee=B&&N1e({barSize:I,stackGroups:S,totalSize:PNe(le,D)});if(J){var fe,je,Re=vt(U)?R:U,xe=(fe=(je=Kg(Z,oe,!0))!==null&&je!==void 0?je:Re)!==null&&fe!==void 0?fe:0;V=P1e({barGap:N,barCategoryGap:O,bandSize:xe!==ke?xe:ke,sizeList:ee[Q],maxBarSize:Re}),xe!==ke&&(V=V.map(function(Ze){return ae(ae({},Ze),{},{position:ae(ae({},Ze.position),{},{offset:Ze.position.offset-xe/2})})}))}var Te=L&&L.type&&L.type.getComposedData;Te&&$.push({props:ae(ae({},Te(ae(ae({},le),{},{displayedData:M,props:x,dataKey:C,item:L,bandSize:ke,barPosition:V,offset:j,stackedData:re,layout:P,dataStartIndex:k,dataEndIndex:E}))),{},Fe(Fe(Fe({key:L.key||"item-".concat(A)},W,le[W]),D,le[D]),"animationId",_)),childIndex:Ele(L,x.children),item:L})}),$},p=function(x,w){var b=x.props,S=x.dataStartIndex,j=x.dataEndIndex,_=x.updateId;if(!ON({props:b}))return null;var k=b.children,E=b.layout,I=b.stackOffset,P=b.data,N=b.reverseStackOrder,O=i2(E),R=O.numericAxisName,F=O.cateAxisName,W=Ei(k,r),D=z1e(P,W,"".concat(R,"Id"),"".concat(F,"Id"),I,N),B=c.reduce(function(T,C){var U="".concat(C.axisType,"Map");return ae(ae({},T),{},Fe({},U,CNe(b,ae(ae({},C),{},{graphicalItems:W,stackGroups:C.axisType===R&&D,dataStartIndex:S,dataEndIndex:j}))))},{}),$=NNe(ae(ae({},B),{},{props:b,graphicalItems:W}),w==null?void 0:w.legendBBox);Object.keys(B).forEach(function(T){B[T]=f(b,B[T],$,T.replace("Map",""),n)});var L=B["".concat(F,"Map")],A=ENe(L),M=h(b,ae(ae({},B),{},{dataStartIndex:S,dataEndIndex:j,updateId:_,graphicalItems:W,stackGroups:D,offset:$}));return ae(ae({formattedGraphicalItems:M,graphicalItems:W,offset:$,stackGroups:D},A),B)},m=function(y){function x(w){var b,S,j;return cNe(this,x),j=fNe(this,x,[w]),Fe(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Fe(j,"accessibilityManager",new YAe),Fe(j,"handleLegendBBoxUpdate",function(_){if(_){var k=j.state,E=k.dataStartIndex,I=k.dataEndIndex,P=k.updateId;j.setState(ae({legendBBox:_},p({props:j.props,dataStartIndex:E,dataEndIndex:I,updateId:P},ae(ae({},j.state),{},{legendBBox:_}))))}}),Fe(j,"handleReceiveSyncEvent",function(_,k,E){if(j.props.syncId===_){if(E===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(k)}}),Fe(j,"handleBrushChange",function(_){var k=_.startIndex,E=_.endIndex;if(k!==j.state.dataStartIndex||E!==j.state.dataEndIndex){var I=j.state.updateId;j.setState(function(){return ae({dataStartIndex:k,dataEndIndex:E},p({props:j.props,dataStartIndex:k,dataEndIndex:E,updateId:I},j.state))}),j.triggerSyncEvent({dataStartIndex:k,dataEndIndex:E})}}),Fe(j,"handleMouseEnter",function(_){var k=j.getMouseInfo(_);if(k){var E=ae(ae({},k),{},{isTooltipActive:!0});j.setState(E),j.triggerSyncEvent(E);var I=j.props.onMouseEnter;at(I)&&I(E,_)}}),Fe(j,"triggeredAfterMouseMove",function(_){var k=j.getMouseInfo(_),E=k?ae(ae({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(E),j.triggerSyncEvent(E);var I=j.props.onMouseMove;at(I)&&I(E,_)}),Fe(j,"handleItemMouseEnter",function(_){j.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),Fe(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Fe(j,"handleMouseMove",function(_){_.persist(),j.throttleTriggeredAfterMouseMove(_)}),Fe(j,"handleMouseLeave",function(_){j.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};j.setState(k),j.triggerSyncEvent(k);var E=j.props.onMouseLeave;at(E)&&E(k,_)}),Fe(j,"handleOuterEvent",function(_){var k=Cle(_),E=ei(j.props,"".concat(k));if(k&&at(E)){var I,P;/.*touch.*/i.test(k)?P=j.getMouseInfo(_.changedTouches[0]):P=j.getMouseInfo(_),E((I=P)!==null&&I!==void 0?I:{},_)}}),Fe(j,"handleClick",function(_){var k=j.getMouseInfo(_);if(k){var E=ae(ae({},k),{},{isTooltipActive:!0});j.setState(E),j.triggerSyncEvent(E);var I=j.props.onClick;at(I)&&I(E,_)}}),Fe(j,"handleMouseDown",function(_){var k=j.props.onMouseDown;if(at(k)){var E=j.getMouseInfo(_);k(E,_)}}),Fe(j,"handleMouseUp",function(_){var k=j.props.onMouseUp;if(at(k)){var E=j.getMouseInfo(_);k(E,_)}}),Fe(j,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),Fe(j,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&j.handleMouseDown(_.changedTouches[0])}),Fe(j,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&j.handleMouseUp(_.changedTouches[0])}),Fe(j,"handleDoubleClick",function(_){var k=j.props.onDoubleClick;if(at(k)){var E=j.getMouseInfo(_);k(E,_)}}),Fe(j,"handleContextMenu",function(_){var k=j.props.onContextMenu;if(at(k)){var E=j.getMouseInfo(_);k(E,_)}}),Fe(j,"triggerSyncEvent",function(_){j.props.syncId!==void 0&&cb.emit(ub,j.props.syncId,_,j.eventEmitterSymbol)}),Fe(j,"applySyncEvent",function(_){var k=j.props,E=k.layout,I=k.syncMethod,P=j.state.updateId,N=_.dataStartIndex,O=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)j.setState(ae({dataStartIndex:N,dataEndIndex:O},p({props:j.props,dataStartIndex:N,dataEndIndex:O,updateId:P},j.state)));else if(_.activeTooltipIndex!==void 0){var R=_.chartX,F=_.chartY,W=_.activeTooltipIndex,D=j.state,B=D.offset,$=D.tooltipTicks;if(!B)return;if(typeof I=="function")W=I($,_);else if(I==="value"){W=-1;for(var L=0;L<$.length;L++)if($[L].value===_.activeLabel){W=L;break}}var A=ae(ae({},B),{},{x:B.left,y:B.top}),M=Math.min(R,A.x+A.width),T=Math.min(F,A.y+A.height),C=$[W]&&$[W].value,U=D_(j.state,j.props.data,W),K=$[W]?{x:E==="horizontal"?$[W].coordinate:M,y:E==="horizontal"?T:$[W].coordinate}:y6;j.setState(ae(ae({},_),{},{activeLabel:C,activeCoordinate:K,activePayload:U,activeTooltipIndex:W}))}else j.setState(_)}),Fe(j,"renderCursor",function(_){var k,E=j.state,I=E.isTooltipActive,P=E.activeCoordinate,N=E.activePayload,O=E.offset,R=E.activeTooltipIndex,F=E.tooltipAxisBandSize,W=j.getTooltipEventType(),D=(k=_.props.active)!==null&&k!==void 0?k:I,B=j.props.layout,$=_.key||"_recharts-cursor";return H.createElement(nNe,{key:$,activeCoordinate:P,activePayload:N,activeTooltipIndex:R,chartName:n,element:_,isActive:D,layout:B,offset:O,tooltipAxisBandSize:F,tooltipEventType:W})}),Fe(j,"renderPolarAxis",function(_,k,E){var I=ei(_,"type.axisType"),P=ei(j.state,"".concat(I,"Map")),N=_.type.defaultProps,O=N!==void 0?ae(ae({},N),_.props):_.props,R=P&&P[O["".concat(I,"Id")]];return g.cloneElement(_,ae(ae({},R),{},{className:ft(I,R.className),key:_.key||"".concat(k,"-").concat(E),ticks:Ns(R,!0)}))}),Fe(j,"renderPolarGrid",function(_){var k=_.props,E=k.radialLines,I=k.polarAngles,P=k.polarRadius,N=j.state,O=N.radiusAxisMap,R=N.angleAxisMap,F=Bl(O),W=Bl(R),D=W.cx,B=W.cy,$=W.innerRadius,L=W.outerRadius;return g.cloneElement(_,{polarAngles:Array.isArray(I)?I:Ns(W,!0).map(function(A){return A.coordinate}),polarRadius:Array.isArray(P)?P:Ns(F,!0).map(function(A){return A.coordinate}),cx:D,cy:B,innerRadius:$,outerRadius:L,key:_.key||"polar-grid",radialLines:E})}),Fe(j,"renderLegend",function(){var _=j.state.formattedGraphicalItems,k=j.props,E=k.children,I=k.width,P=k.height,N=j.props.margin||{},O=I-(N.left||0)-(N.right||0),R=dU({children:E,formattedGraphicalItems:_,legendWidth:O,legendContent:u});if(!R)return null;var F=R.item,W=e2(R,rNe);return g.cloneElement(F,ae(ae({},W),{},{chartWidth:I,chartHeight:P,margin:N,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Fe(j,"renderTooltip",function(){var _,k=j.props,E=k.children,I=k.accessibilityLayer,P=Nr(E,Zn);if(!P)return null;var N=j.state,O=N.isTooltipActive,R=N.activeCoordinate,F=N.activePayload,W=N.activeLabel,D=N.offset,B=(_=P.props.active)!==null&&_!==void 0?_:O;return g.cloneElement(P,{viewBox:ae(ae({},D),{},{x:D.left,y:D.top}),active:B,label:W,payload:B?F:[],coordinate:R,accessibilityLayer:I})}),Fe(j,"renderBrush",function(_){var k=j.props,E=k.margin,I=k.data,P=j.state,N=P.offset,O=P.dataStartIndex,R=P.dataEndIndex,F=P.updateId;return g.cloneElement(_,{key:_.key||"_recharts-brush",onChange:Up(j.handleBrushChange,_.props.onChange),data:I,x:_e(_.props.x)?_.props.x:N.left,y:_e(_.props.y)?_.props.y:N.top+N.height+N.brushBottom-(E.bottom||0),width:_e(_.props.width)?_.props.width:N.width,startIndex:O,endIndex:R,updateId:"brush-".concat(F)})}),Fe(j,"renderReferenceElement",function(_,k,E){if(!_)return null;var I=j,P=I.clipPathId,N=j.state,O=N.xAxisMap,R=N.yAxisMap,F=N.offset,W=_.type.defaultProps||{},D=_.props,B=D.xAxisId,$=B===void 0?W.xAxisId:B,L=D.yAxisId,A=L===void 0?W.yAxisId:L;return g.cloneElement(_,{key:_.key||"".concat(k,"-").concat(E),xAxis:O[$],yAxis:R[A],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:P})}),Fe(j,"renderActivePoints",function(_){var k=_.item,E=_.activePoint,I=_.basePoint,P=_.childIndex,N=_.isRange,O=[],R=k.props.key,F=k.item.type.defaultProps!==void 0?ae(ae({},k.item.type.defaultProps),k.item.props):k.item.props,W=F.activeDot,D=F.dataKey,B=ae(ae({index:P,dataKey:D,cx:E.x,cy:E.y,r:4,fill:aC(k.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},wt(W,!1)),yg(W));return O.push(x.renderActiveDot(W,B,"".concat(R,"-activePoint-").concat(P))),I?O.push(x.renderActiveDot(W,ae(ae({},B),{},{cx:I.x,cy:I.y}),"".concat(R,"-basePoint-").concat(P))):N&&O.push(null),O}),Fe(j,"renderGraphicChild",function(_,k,E){var I=j.filterFormatItem(_,k,E);if(!I)return null;var P=j.getTooltipEventType(),N=j.state,O=N.isTooltipActive,R=N.tooltipAxis,F=N.activeTooltipIndex,W=N.activeLabel,D=j.props.children,B=Nr(D,Zn),$=I.props,L=$.points,A=$.isRange,M=$.baseLine,T=I.item.type.defaultProps!==void 0?ae(ae({},I.item.type.defaultProps),I.item.props):I.item.props,C=T.activeDot,U=T.hide,K=T.activeBar,Q=T.activeShape,Y=!!(!U&&O&&B&&(C||K||Q)),le={};P!=="axis"&&B&&B.props.trigger==="click"?le={onClick:Up(j.handleItemMouseEnter,_.props.onClick)}:P!=="axis"&&(le={onMouseLeave:Up(j.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:Up(j.handleItemMouseEnter,_.props.onMouseEnter)});var Z=g.cloneElement(_,ae(ae({},I.props),le));function oe(He){return typeof R.dataKey=="function"?R.dataKey(He.payload):null}if(Y)if(F>=0){var re,J;if(R.dataKey&&!R.allowDuplicatedCategory){var ke=typeof R.dataKey=="function"?oe:"payload.".concat(R.dataKey.toString());re=g1(L,ke,W),J=A&&M&&g1(M,ke,W)}else re=L==null?void 0:L[F],J=A&&M&&M[F];if(Q||K){var V=_.props.activeIndex!==void 0?_.props.activeIndex:F;return[g.cloneElement(_,ae(ae(ae({},I.props),le),{},{activeIndex:V})),null,null]}if(!vt(re))return[Z].concat(xu(j.renderActivePoints({item:I,activePoint:re,basePoint:J,childIndex:F,isRange:A})))}else{var ee,fe=(ee=j.getItemByXY(j.state.activeCoordinate))!==null&&ee!==void 0?ee:{graphicalItem:Z},je=fe.graphicalItem,Re=je.item,xe=Re===void 0?_:Re,Te=je.childIndex,Ze=ae(ae(ae({},I.props),le),{},{activeIndex:Te});return[g.cloneElement(xe,Ze),null,null]}return A?[Z,null,null]:[Z,null]}),Fe(j,"renderCustomized",function(_,k,E){return g.cloneElement(_,ae(ae({key:"recharts-customized-".concat(E)},j.props),j.state))}),Fe(j,"renderMap",{CartesianGrid:{handler:Vp,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Vp},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Vp},YAxis:{handler:Vp},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((b=w.id)!==null&&b!==void 0?b:Wy("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=u5(j.triggeredAfterMouseMove,(S=w.throttleDelay)!==null&&S!==void 0?S:1e3/60),j.state={},j}return mNe(x,y),dNe(x,[{key:"componentDidMount",value:function(){var b,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,S=b.children,j=b.data,_=b.height,k=b.layout,E=Nr(S,Zn);if(E){var I=E.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,N=D_(this.state,j,I,P),O=this.state.tooltipTicks[I].coordinate,R=(this.state.offset.top+_)/2,F=k==="horizontal",W=F?{x:O,y:R}:{y:O,x:R},D=this.state.formattedGraphicalItems.find(function($){var L=$.item;return L.type.name==="Scatter"});D&&(W=ae(ae({},W),D.props.points[I].tooltipPosition),N=D.props.points[I].tooltipPayload);var B={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:P,activePayload:N,activeCoordinate:W};this.setState(B),this.renderCursor(E),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var j,_;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(b){y1([Nr(b.children,Zn)],[Nr(this.props.children,Zn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Nr(this.props.children,Zn);if(b&&typeof b.props.shared=="boolean"){var S=b.props.shared?"axis":"item";return s.indexOf(S)>=0?S:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var S=this.container,j=S.getBoundingClientRect(),_=exe(j),k={chartX:Math.round(b.pageX-_.left),chartY:Math.round(b.pageY-_.top)},E=j.width/S.offsetWidth||1,I=this.inRange(k.chartX,k.chartY,E);if(!I)return null;var P=this.state,N=P.xAxisMap,O=P.yAxisMap,R=this.getTooltipEventType(),F=n2(this.state,this.props.data,this.props.layout,I);if(R!=="axis"&&N&&O){var W=Bl(N).scale,D=Bl(O).scale,B=W&&W.invert?W.invert(k.chartX):null,$=D&&D.invert?D.invert(k.chartY):null;return ae(ae({},k),{},{xValue:B,yValue:$},F)}return F?ae(ae({},k),F):null}},{key:"inRange",value:function(b,S){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,k=b/j,E=S/j;if(_==="horizontal"||_==="vertical"){var I=this.state.offset,P=k>=I.left&&k<=I.left+I.width&&E>=I.top&&E<=I.top+I.height;return P?{x:k,y:E}:null}var N=this.state,O=N.angleAxisMap,R=N.radiusAxisMap;if(O&&R){var F=Bl(O);return UT({x:k,y:E},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,S=this.getTooltipEventType(),j=Nr(b,Zn),_={};j&&S==="axis"&&(j.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=yg(this.props,this.handleOuterEvent);return ae(ae({},k),_)}},{key:"addListener",value:function(){cb.on(ub,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){cb.removeListener(ub,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,S,j){for(var _=this.state.formattedGraphicalItems,k=0,E=_.length;k<E;k++){var I=_[k];if(I.item===b||I.props.key===b.key||S===Oa(I.item.type)&&j===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,S=this.state.offset,j=S.left,_=S.top,k=S.height,E=S.width;return H.createElement("defs",null,H.createElement("clipPath",{id:b},H.createElement("rect",{x:j,y:_,height:k,width:E})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(S,j){var _=ZO(j,2),k=_[0],E=_[1];return ae(ae({},S),{},Fe({},k,E.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(S,j){var _=ZO(j,2),k=_[0],E=_[1];return ae(ae({},S),{},Fe({},k,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(b){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(b){var S=this.state,j=S.formattedGraphicalItems,_=S.activeItem;if(j&&j.length)for(var k=0,E=j.length;k<E;k++){var I=j[k],P=I.props,N=I.item,O=N.type.defaultProps!==void 0?ae(ae({},N.type.defaultProps),N.props):N.props,R=Oa(N.type);if(R==="Bar"){var F=(P.data||[]).find(function($){return $je(b,$)});if(F)return{graphicalItem:I,payload:F}}else if(R==="RadialBar"){var W=(P.data||[]).find(function($){return UT(b,$)});if(W)return{graphicalItem:I,payload:W}}else if(lx(I,_)||cx(I,_)||sh(I,_)){var D=Fke({graphicalItem:I,activeTooltipItem:_,itemData:O.data}),B=O.activeIndex===void 0?D:O.activeIndex;return{graphicalItem:ae(ae({},I),{},{childIndex:B}),payload:sh(I,_)?O.data[D]:I.props.data[D]}}}return null}},{key:"render",value:function(){var b=this;if(!ON(this))return null;var S=this.props,j=S.children,_=S.className,k=S.width,E=S.height,I=S.style,P=S.compact,N=S.title,O=S.desc,R=e2(S,iNe),F=wt(R,!1);if(P)return H.createElement(BO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement(b1,ic({},F,{width:k,height:E,title:N,desc:O}),this.renderClipPath(),RN(j,this.renderMap)));if(this.props.accessibilityLayer){var W,D;F.tabIndex=(W=this.props.tabIndex)!==null&&W!==void 0?W:0,F.role=(D=this.props.role)!==null&&D!==void 0?D:"application",F.onKeyDown=function($){b.accessibilityManager.keyboardEvent($)},F.onFocus=function(){b.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return H.createElement(BO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement("div",ic({className:ft("recharts-wrapper",_),style:ae({position:"relative",cursor:"default",width:k,height:E},I)},B,{ref:function(L){b.container=L}}),H.createElement(b1,ic({},F,{width:k,height:E,title:N,desc:O,style:wNe}),this.renderClipPath(),RN(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(g.Component);Fe(m,"displayName",n),Fe(m,"defaultProps",ae({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Fe(m,"getDerivedStateFromProps",function(y,x){var w=y.dataKey,b=y.data,S=y.children,j=y.width,_=y.height,k=y.layout,E=y.stackOffset,I=y.margin,P=x.dataStartIndex,N=x.dataEndIndex;if(x.updateId===void 0){var O=r2(y);return ae(ae(ae({},O),{},{updateId:0},p(ae(ae({props:y},O),{},{updateId:0}),x)),{},{prevDataKey:w,prevData:b,prevWidth:j,prevHeight:_,prevLayout:k,prevStackOffset:E,prevMargin:I,prevChildren:S})}if(w!==x.prevDataKey||b!==x.prevData||j!==x.prevWidth||_!==x.prevHeight||k!==x.prevLayout||E!==x.prevStackOffset||!bc(I,x.prevMargin)){var R=r2(y),F={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},W=ae(ae({},n2(x,b,k)),{},{updateId:x.updateId+1}),D=ae(ae(ae({},R),F),W);return ae(ae(ae({},D),p(ae({props:y},D),x)),{},{prevDataKey:w,prevData:b,prevWidth:j,prevHeight:_,prevLayout:k,prevStackOffset:E,prevMargin:I,prevChildren:S})}if(!y1(S,x.prevChildren)){var B,$,L,A,M=Nr(S,uu),T=M&&(B=($=M.props)===null||$===void 0?void 0:$.startIndex)!==null&&B!==void 0?B:P,C=M&&(L=(A=M.props)===null||A===void 0?void 0:A.endIndex)!==null&&L!==void 0?L:N,U=T!==P||C!==N,K=!vt(b),Q=K&&!U?x.updateId:x.updateId+1;return ae(ae({updateId:Q},p(ae(ae({props:y},x),{},{updateId:Q,dataStartIndex:T,dataEndIndex:C}),x)),{},{prevChildren:S,dataStartIndex:T,dataEndIndex:C})}return null}),Fe(m,"renderActiveDot",function(y,x,w){var b;return g.isValidElement(y)?b=g.cloneElement(y,x):at(y)?b=y(x):b=H.createElement(PU,x),H.createElement(An,{className:"recharts-active-dot",key:w},b)});var v=g.forwardRef(function(x,w){return H.createElement(m,ic({},x,{ref:w}))});return v.displayName=m.displayName,v},Rl=TNe({chartName:"BarChart",GraphicalChild:ur,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:wa},{axisType:"yAxis",AxisComp:_a}],formatAxisMap:fEe});const ONe=[{name:"Resolved by Human",value:15},{name:"Resolved by AI",value:85}],Li=["#60a5fa","#2563eb","#1d4ed8","#10b981","#f59e0b","#ef4444"];function INe(){g.useMemo(()=>Li.slice(0,ONe.length),[]);const[e,t]=g.useState(""),[n,r]=g.useState(""),[i,a]=g.useState([]),[o,s]=g.useState(0),[c,u]=g.useState(0),[f,d]=g.useState({total:0,ai:0,rate:0,handover:0,handover_rate:0}),[h,p]=g.useState("all"),[m,v]=g.useState([]),[y,x]=g.useState([]),[w,b]=g.useState(!1),[S,j]=g.useState([]),[_,k]=g.useState([]),[E,I]=g.useState([]),[P,N]=g.useState({input:0,output:0,total:0}),[O,R]=g.useState([]),[F,W]=g.useState([]),[D,B]=g.useState([]),[$,L]=g.useState("all"),A=C=>{if(!C||C.trim().length===0)return"(unspecified)";if(C.startsWith("other:"))return C.replace(/^other:/,"Other: ");switch(C){case"ambiguous":return"Ambiguous intent";case"payment":return"Payment-related";case"policy":return"Policy/compliance";default:return C}},M=()=>{const C=new Date,U=n?new Date(n):C,K=e?new Date(e):new Date(C.getTime()-29*24*60*60*1e3),Q=new Date(Date.UTC(K.getUTCFullYear(),K.getUTCMonth(),K.getUTCDate(),0,0,0)),Y=new Date(Date.UTC(U.getUTCFullYear(),U.getUTCMonth(),U.getUTCDate()+1,0,0,0));return{start:Q.toISOString(),end:Y.toISOString()}},T=async()=>{const{start:C,end:U}=M(),{data:K}=await X.rpc("get_channel_chat_counts",{p_from:C,p_to:U});a((K||[]).map(re=>({provider:re.provider,display_name:re.display_name,thread_count:Number(re.thread_count||0)})));const{data:Q}=await X.rpc("get_response_time_stats",{p_from:C,p_to:U,p_channel:h!=="all"?h:null});if(Q&&Q.length>0){const re=Q[0];s(Number(re.ai_avg||0)),u(Number(re.agent_avg||0))}const{data:Y,error:le}=await X.rpc("get_containment_and_handover",{p_from:C,p_to:U});if(!le&&Y&&Y.length>0){const re=Y[0];d({total:Number(re.total_threads||0),ai:Number(re.ai_resolved_count||0),rate:Number(re.containment_rate||0),handover:Number(re.handover_count||0),handover_rate:Number(re.handover_rate||0)})}else if(le&&le.code==="PGRST202"){const{data:re}=await X.rpc("get_containment",{p_from:C,p_to:U});let J=0,ke=0,V=0,ee=0,fe=0;if(re&&re.length>0){const xe=re[0];J=Number(xe.total_threads||0),ke=Number(xe.ai_resolved_count||0),V=Number(xe.rate||0)}const{data:je}=await X.rpc("get_handover_stats",{p_from:C,p_to:U}),Re=(je||[]).reduce((xe,Te)=>xe+Number(Te.count||0),0);ee=Re,fe=J>0?Re/J:0,d({total:J,ai:ke,rate:V,handover:ee,handover_rate:fe})}const{data:Z}=await X.rpc("get_chats_timeseries",{p_from:C,p_to:U,p_channel:h!=="all"?h:null});v((Z||[]).map(re=>({bucket:re.bucket,provider:re.provider,count:Number(re.count||0)})));const{data:oe}=await X.rpc("get_handover_stats",{p_from:C,p_to:U});x((oe||[]).map(re=>({reason:A(re.reason)||"(unspecified)",count:Number(re.count||0),total:Number(re.total||0),rate:Number(re.rate||0)})));try{const{data:re}=await X.from("token_usage_logs").select("made_at, prompt_tokens, completion_tokens, total_tokens, model, channel_id").gte("made_at",C).lt("made_at",U).order("made_at",{ascending:!0}),J={},ke={};let V=0,ee=0,fe=0;for(const xe of re||[]){const Te=new Date(xe.made_at).toISOString().slice(0,10),Ze=Number(xe.prompt_tokens||0),He=Number(xe.completion_tokens||0),Xe=Number(xe.total_tokens||Ze+He);J[Te]||(J[Te]={input:0,output:0,total:0}),J[Te].input+=Ze,J[Te].output+=He,J[Te].total+=Xe;const gt=String(xe.model||"unknown");ke[gt]=(ke[gt]||0)+Xe,V+=Ze,ee+=He,fe+=Xe}const je=Object.keys(J).sort().map(xe=>({day:xe,...J[xe]})),Re=Object.entries(ke).sort((xe,Te)=>Te[1]-xe[1]).slice(0,8).map(([xe,Te])=>({model:xe,tokens:Te}));k(je),I(Re),N({input:V,output:ee,total:fe})}catch{}try{const{data:re}=await X.rpc("get_handover_by_super_agent",{p_from:C,p_to:U});R((re||[]).map(ee=>({super_agent_id:ee.super_agent_id,super_agent_name:ee.super_agent_name,human_resolved:Number(ee.human_resolved||0),ai_resolved:Number(ee.ai_resolved||0),handover_rate:Number(ee.handover_rate||0)})));const J=$!=="all"?$:null,[{data:ke},{data:V}]=await Promise.all([X.rpc("get_handover_by_agent",{p_from:C,p_to:U,p_super_agent_id:J}),X.rpc("get_agent_kpis",{p_from:C,p_to:U,p_super_agent_id:J})]);W((ke||[]).map(ee=>({agent_user_id:ee.agent_user_id,agent_name:ee.agent_name,super_agent_id:ee.super_agent_id,human_resolved:Number(ee.human_resolved||0),ai_resolved:Number(ee.ai_resolved||0),handover_rate:Number(ee.handover_rate||0)}))),B((V||[]).map(ee=>({agent_user_id:ee.agent_user_id,agent_name:ee.agent_name,resolved_count:Number(ee.resolved_count||0),avg_resolution_minutes:ee.avg_resolution_minutes!=null?Number(ee.avg_resolution_minutes):null})))}catch{}};return g.useEffect(()=>{T()},[e,n,h]),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("h1",{className:"text-2xl font-semibold",children:"Analytics"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"High-level KPIs for conversations, AI agents, and human agents."})]}),l.jsxs("div",{className:"flex items-end gap-3",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"From"}),l.jsx(it,{type:"date",value:e,max:n||new Date().toISOString().slice(0,10),onChange:C=>{const U=C.target.value;t(U),n&&U&&U>n&&r(U)},className:"h-9 w-[180px]"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"To"}),l.jsx(it,{type:"date",value:n,min:e||void 0,max:new Date().toISOString().slice(0,10),onChange:C=>{const U=C.target.value;r(U),e&&U&&U<e&&t(U)},className:"h-9 w-[180px]"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Channel"}),l.jsxs(Tt,{value:h,onValueChange:async C=>{p(C);try{await It({action:"analytics.channel_filter",resource:"analytics",context:{channel:C}})}catch{}},children:[l.jsx(jt,{className:"h-9 w-[180px]",children:l.jsx(Ot,{placeholder:"All"})}),l.jsxs(kt,{children:[l.jsx(Ae,{value:"all",children:"All"}),l.jsx(Ae,{value:"whatsapp",children:"WhatsApp"}),l.jsx(Ae,{value:"web",children:"Web"}),l.jsx(Ae,{value:"telegram",children:"Telegram"})]})]})]}),l.jsx(ne,{variant:"outline",className:"h-9",onClick:T,children:"Refresh"})]}),l.jsxs(Wc,{defaultValue:"conversation",className:"w-full mt-4",children:[l.jsxs(Ks,{className:"grid w-full max-w-xl grid-cols-3",children:[l.jsx(In,{value:"conversation",children:"Conversation"}),l.jsx(In,{value:"ai-agent",children:"AI Agent"}),l.jsx(In,{value:"human-agent",children:"Human Agent"})]}),l.jsxs(xn,{value:"conversation",className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs(Ie,{children:[l.jsx(ct,{children:l.jsx(ut,{children:"Total Chats"})}),l.jsx(Je,{children:l.jsx("div",{className:"text-2xl font-semibold",children:f.total})})]}),l.jsxs(Ie,{children:[l.jsx(ct,{children:l.jsx(ut,{children:"AI Containment Rate"})}),l.jsxs(Je,{children:[l.jsxs("div",{className:"text-2xl font-semibold",children:[Math.round(f.rate*100),"%"]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[f.ai," / ",f.total]}),l.jsx(ne,{variant:"outline",className:"mt-2 h-8",onClick:async()=>{b(!0);const{start:C,end:U}=M(),{data:K}=await X.rpc("get_non_contained",{p_from:C,p_to:U,p_limit:100,p_offset:0});j(K||[])},children:"View non-contained"})]})]}),l.jsxs(Ie,{children:[l.jsx(ct,{children:l.jsx(ut,{children:"Handover Rate"})}),l.jsxs(Je,{children:[l.jsxs("div",{className:"text-2xl font-semibold",children:[Math.round(f.handover_rate*100),"%"]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[f.handover," / ",f.total]})]})]})]}),l.jsxs(Ie,{children:[l.jsx(ct,{children:l.jsx(ut,{children:"Chats per Channel"})}),l.jsx(Je,{className:"h-64",children:l.jsx(Tl,{width:"100%",height:"100%",children:l.jsxs(Rl,{data:i.map(C=>({name:C.display_name||C.provider,count:C.thread_count})),children:[l.jsx(wa,{dataKey:"name"}),l.jsx(_a,{}),l.jsx(Zn,{}),l.jsx(ur,{dataKey:"count",fill:Li[2],radius:[4,4,0,0],children:l.jsx(ra,{dataKey:"count",position:"top"})})]})})})]}),l.jsxs(Ie,{children:[l.jsx(ct,{children:l.jsx(ut,{children:"Chats Time Series (Asia/Jakarta)"})}),l.jsx(Je,{className:"h-64",children:l.jsx(Tl,{width:"100%",height:"100%",children:(()=>{const C=Array.from(new Set(m.map(Q=>Q.provider))),K=Array.from(new Set(m.map(Q=>Q.bucket))).sort().map(Q=>{var le;const Y={bucket:new Date(Q).toLocaleDateString("en-US",{timeZone:"Asia/Jakarta"})};for(const Z of C)Y[Z]=((le=m.find(oe=>oe.bucket===Q&&oe.provider===Z))==null?void 0:le.count)||0;return Y});return l.jsxs(Rl,{data:K,children:[l.jsx(wa,{dataKey:"bucket"}),l.jsx(_a,{}),l.jsx(Zn,{}),l.jsx(Qi,{}),C.map((Q,Y)=>l.jsx(ur,{dataKey:Q,stackId:void 0,fill:Li[Y%(Li.length-1)+1]},Q))]})})()})})]})]}),l.jsxs(xn,{value:"ai-agent",className:"space-y-6",children:[l.jsxs(Ie,{children:[l.jsx(ct,{children:l.jsx(ut,{children:"AI Token Usage (by day)"})}),l.jsxs(Je,{className:"h-64",children:[l.jsx(Tl,{width:"100%",height:"100%",children:l.jsxs(Rl,{data:_.map(C=>({day:new Date(C.day).toLocaleDateString("en-US",{timeZone:"Asia/Jakarta"}),input:C.input,output:C.output})),children:[l.jsx(wa,{dataKey:"day"}),l.jsx(_a,{}),l.jsx(Zn,{}),l.jsx(Qi,{}),l.jsx(ur,{dataKey:"input",stackId:"tokens",fill:Li[1],name:"Prompt tokens"}),l.jsx(ur,{dataKey:"output",stackId:"tokens",fill:Li[2],name:"Completion tokens"})]})}),l.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["Total tokens: ",P.total.toLocaleString()," (input ",P.input.toLocaleString(),", output ",P.output.toLocaleString(),")"]})]})]}),l.jsxs(Ie,{children:[l.jsx(ct,{children:l.jsx(ut,{children:"Top Models by Tokens"})}),l.jsx(Je,{className:"h-64",children:l.jsx(Tl,{width:"100%",height:"100%",children:l.jsxs(Rl,{data:E.map(C=>({name:C.model,tokens:C.tokens})),layout:"vertical",children:[l.jsx(wa,{type:"number"}),l.jsx(_a,{type:"category",dataKey:"name",width:160}),l.jsx(Zn,{}),l.jsx(ur,{dataKey:"tokens",fill:Li[4],radius:[0,4,4,0],children:l.jsx(ra,{dataKey:"tokens",position:"right"})})]})})})]})]}),l.jsxs(xn,{value:"human-agent",className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Super Agent"}),l.jsxs(Tt,{value:$,onValueChange:C=>L(C),children:[l.jsx(jt,{className:"w-[220px] h-9",children:l.jsx(Ot,{placeholder:"All"})}),l.jsxs(kt,{children:[l.jsx(Ae,{value:"all",children:"All"}),O.map(C=>l.jsx(Ae,{value:String(C.super_agent_id||"none"),children:C.super_agent_name||"—"},C.super_agent_id||"none"))]})]}),l.jsx(ne,{variant:"outline",className:"h-9",onClick:T,children:"Apply"})]}),l.jsxs(Ie,{children:[l.jsx(ct,{children:l.jsx(ut,{children:"Handover Rate by Agent (Human vs AI)"})}),l.jsx(Je,{className:"h-64",children:l.jsx(Tl,{width:"100%",height:"100%",children:l.jsxs(Rl,{data:F.map(C=>({name:C.agent_name||"—",ratePct:Math.round((C.handover_rate||0)*100),human:C.human_resolved,ai:C.ai_resolved})),children:[l.jsx(wa,{dataKey:"name"}),l.jsx(_a,{}),l.jsx(Zn,{}),l.jsx(Qi,{}),l.jsx(ur,{dataKey:"ratePct",name:"Handover % (Human/(Human+AI))",fill:Li[2],radius:[4,4,0,0],children:l.jsx(ra,{dataKey:"ratePct",position:"top"})})]})})})]}),l.jsxs(Ie,{children:[l.jsx(ct,{children:l.jsx(ut,{children:"Agent KPIs"})}),l.jsx(Je,{className:"h-64",children:l.jsx(Tl,{width:"100%",height:"100%",children:l.jsxs(Rl,{data:D.map(C=>({name:C.agent_name||"—",resolved:C.resolved_count,avgMin:Math.round(C.avg_resolution_minutes||0)})),children:[l.jsx(wa,{dataKey:"name"}),l.jsx(_a,{}),l.jsx(Zn,{}),l.jsx(Qi,{}),l.jsx(ur,{dataKey:"resolved",name:"Resolved",fill:Li[3],radius:[4,4,0,0]}),l.jsx(ur,{dataKey:"avgMin",name:"Avg Resolution (min)",fill:Li[5],radius:[4,4,0,0]})]})})})]})]})]}),l.jsx(Rr,{open:w,onOpenChange:b,children:l.jsxs(mr,{className:"max-w-3xl",children:[l.jsx(gr,{children:l.jsx(vr,{children:"Non-contained Conversations"})}),l.jsx("div",{className:"max-h-80 overflow-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"text-left py-2",children:"Time"}),l.jsx("th",{className:"text-left py-2",children:"Contact"}),l.jsx("th",{className:"text-left py-2",children:"Handover Reason"}),l.jsx("th",{className:"text-left py-2",children:"Status"})]})}),l.jsx("tbody",{children:S.map(C=>l.jsxs("tr",{children:[l.jsx("td",{className:"py-1",children:new Date(C.created_at).toLocaleString()}),l.jsx("td",{className:"py-1",children:C.contact_name}),l.jsx("td",{className:"py-1",children:C.handover_reason||"(none)"}),l.jsx("td",{className:"py-1",children:C.status})]},C.id))})]})})]})})]})}var vx="Switch",[RNe,W$e]=Dn(vx),[MNe,$Ne]=RNe(vx),b6=g.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:o,disabled:s,value:c="on",onCheckedChange:u,form:f,...d}=e,[h,p]=g.useState(null),m=ze(t,b=>p(b)),v=g.useRef(!1),y=h?f||!!h.closest("form"):!0,[x,w]=ri({prop:i,defaultProp:a??!1,onChange:u,caller:vx});return l.jsxs(MNe,{scope:n,checked:x,disabled:s,children:[l.jsx(Se.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":j6(x),"data-disabled":s?"":void 0,disabled:s,value:c,...d,ref:m,onClick:me(e.onClick,b=>{w(S=>!S),y&&(v.current=b.isPropagationStopped(),v.current||b.stopPropagation())})}),y&&l.jsx(S6,{control:h,bubbles:!v.current,name:r,value:c,checked:x,required:o,disabled:s,form:f,style:{transform:"translateX(-100%)"}})]})});b6.displayName=vx;var w6="SwitchThumb",_6=g.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=$Ne(w6,n);return l.jsx(Se.span,{"data-state":j6(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});_6.displayName=w6;var DNe="SwitchBubbleInput",S6=g.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},a)=>{const o=g.useRef(null),s=ze(o,a),c=nk(n),u=lj(t);return g.useEffect(()=>{const f=o.current;if(!f)return;const d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"checked").set;if(c!==n&&p){const m=new Event("click",{bubbles:r});p.call(f,n),f.dispatchEvent(m)}},[c,n,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});S6.displayName=DNe;function j6(e){return e?"checked":"unchecked"}var k6=b6,LNe=_6;const rl=g.forwardRef(({className:e,...t},n)=>l.jsx(k6,{className:pe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:l.jsx(LNe,{className:pe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));rl.displayName=k6.displayName;var yx="Collapsible",[FNe,H$e]=Dn(yx),[BNe,dC]=FNe(yx),C6=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:a,onOpenChange:o,...s}=e,[c,u]=ri({prop:r,defaultProp:i??!1,onChange:o,caller:yx});return l.jsx(BNe,{scope:n,disabled:a,contentId:Sn(),open:c,onOpenToggle:g.useCallback(()=>u(f=>!f),[u]),children:l.jsx(Se.div,{"data-state":hC(c),"data-disabled":a?"":void 0,...s,ref:t})})});C6.displayName=yx;var E6="CollapsibleTrigger",A6=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,i=dC(E6,n);return l.jsx(Se.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":hC(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:t,onClick:me(e.onClick,i.onOpenToggle)})});A6.displayName=E6;var fC="CollapsibleContent",N6=g.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=dC(fC,e.__scopeCollapsible);return l.jsx(jn,{present:n||i.open,children:({present:a})=>l.jsx(UNe,{...r,ref:t,present:a})})});N6.displayName=fC;var UNe=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:i,...a}=e,o=dC(fC,n),[s,c]=g.useState(r),u=g.useRef(null),f=ze(t,u),d=g.useRef(0),h=d.current,p=g.useRef(0),m=p.current,v=o.open||s,y=g.useRef(v),x=g.useRef(void 0);return g.useEffect(()=>{const w=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(w)},[]),an(()=>{const w=u.current;if(w){x.current=x.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const b=w.getBoundingClientRect();d.current=b.height,p.current=b.width,y.current||(w.style.transitionDuration=x.current.transitionDuration,w.style.animationName=x.current.animationName),c(r)}},[o.open,r]),l.jsx(Se.div,{"data-state":hC(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!v,...a,ref:f,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":m?`${m}px`:void 0,...e.style},children:v&&i})});function hC(e){return e?"open":"closed"}var zNe=C6;const WNe=zNe,HNe=A6,qNe=N6,P6=e=>{const[t,n]=g.useState(!0),[r,i]=g.useState(!1),[a,o]=g.useState(null),[s,c]=g.useState(null),u=async()=>{try{if(n(!0),c(null),e){const{data:p,error:m}=await X.from("ai_profiles").select("*").eq("id",e).single();if(m)throw m;p&&o(p)}else o(null)}catch(p){console.error("Error fetching AI profile:",p),c(p instanceof Error?p.message:"Failed to fetch profile")}finally{n(!1)}},f=async p=>{try{if(i(!0),c(null),a!=null&&a.id){const{error:m}=await X.from("ai_profiles").update(p).eq("id",a.id);try{await It({action:"ai_profile.update",resource:"ai_profile",resourceId:a.id,context:p})}catch{}if(m)throw m}else{const{data:m,error:v}=await X.from("ai_profiles").insert([{...p,org_id:"00000000-0000-0000-0000-000000000001"}]).select().single();if(v)throw v;m&&o(m);try{await It({action:"ai_profile.create",resource:"ai_profile",resourceId:(m==null?void 0:m.id)??null,context:p})}catch{}}await u()}catch(m){console.error("Error saving AI profile:",m),c(m instanceof Error?m.message:"Failed to save profile")}finally{i(!1)}},d=async p=>{try{n(!0),c(null);const{data:m,error:v}=await X.from("ai_profiles").select("*").eq("org_id",p||"00000000-0000-0000-0000-000000000001").order("created_at",{ascending:!1});if(v)throw v;return m}catch(m){return console.error("Error fetching AI profiles:",m),c(m instanceof Error?m.message:"Failed to fetch profiles"),[]}finally{n(!1)}},h=async p=>{try{i(!0),c(null);const{error:m}=await X.from("ai_profiles").delete().eq("id",p);try{await It({action:"ai_profile.delete",resource:"ai_profile",resourceId:p})}catch{}if(m)throw m}catch(m){throw console.error("Error deleting AI profile:",m),c(m instanceof Error?m.message:"Failed to delete profile"),m}finally{i(!1)}};return g.useEffect(()=>{e?u():n(!1)},[e]),{profile:a,loading:t,saving:r,error:s,fetchProfile:u,saveProfile:f,fetchAllProfiles:d,deleteProfile:h}},VNe="https://tgrmxlbnutxpewfmofdx.supabase.co",KNe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRncm14bGJudXR4cGV3Zm1vZmR4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ5MDY0NzgsImV4cCI6MjA3MDQ4MjQ3OH0.ijDctaGPXK3Ce9uao72YaaYCX9fpPFZGpmrsWp9IfU8",ao=RD(VNe,KNe,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),GNe=({welcomeMessage:e,systemPrompt:t,modelDisplay:n,modelName:r,temperature:i,transfer_conditions:a})=>{const[o,s]=g.useState([]);g.useEffect(()=>{s([{id:"1",content:e||"Halo! 👋 Selamat datang di Okbang Top Up Center~",sender:"ai",timestamp:new Date}])},[e]);const[c,u]=g.useState(""),[f,d]=g.useState(!1),[h,p]=g.useState(!0),[m,v]=g.useState(""),y=g.useRef(null);g.useEffect(()=>{(()=>{const k=Date.now(),E=Math.random().toString(36).substring(2,15),I=`session_${k}_${E}`;v(I),console.log("Generated session ID:",I)})()},[]);const x=()=>{var _;(_=y.current)==null||_.scrollIntoView({behavior:"smooth"})};g.useEffect(()=>{x()},[o]);const w=async()=>{if(!c.trim()||f)return;const _={id:Date.now().toString(),content:c,sender:"user",timestamp:new Date};s(k=>[...k,_]),u(""),d(!0);try{const k={message:c,model:r,temperature:i,session_id:m,timestamp:new Date().toISOString()};console.log("Sending request to API:",k);const E=await fetch(ot.buildUrl(ot.ENDPOINTS.AI_AGENT.CHAT_SETTINGS),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)});if(!E.ok)throw new Error(`HTTP error! status: ${E.status}`);const I=await E.json();console.log("API Response:",I);const P={id:(Date.now()+1).toString(),content:I.output||"Sorry, I couldn't process your message.",sender:"ai",timestamp:new Date};s(N=>[...N,P]),Oe.success("Message sent successfully!"),p(!0)}catch(k){console.error("Error sending message:",k),Oe.error("Failed to send message"),p(!1);const E={id:(Date.now()+1).toString(),content:"Sorry, I'm having trouble connecting right now. Please try again later.",sender:"ai",timestamp:new Date};s(I=>[...I,E])}finally{d(!1)}},b=_=>{_.key==="Enter"&&!_.shiftKey&&(_.preventDefault(),w())},S=()=>{s([{id:"1",content:e||"Halo! 👋 Selamat datang di Okbang Top Up Center~",sender:"ai",timestamp:new Date}]),Oe.info("Chat history cleared")},j=()=>{const _=Date.now(),k=Math.random().toString(36).substring(2,15),E=`session_${_}_${k}`;v(E),s([{id:"1",content:e||"Halo! 👋 Selamat datang di Okbang Top Up Center~",sender:"ai",timestamp:new Date}]),Oe.success("Session refreshed! New session ID: "+E),console.log("New session ID:",E)};return l.jsxs(Ie,{className:"flex flex-col h-full",children:[l.jsxs("div",{className:"flex items-center gap-3 p-4 border-b",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center",children:l.jsx(ZM,{className:"w-4 h-4"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("span",{className:"font-medium",children:"AI Agent Chat"}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["Model: ",n," • Temp: ",i,l.jsx("span",{className:`ml-2 px-1 rounded text-xs ${h?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:h?"Connected":"Disconnected"})]}),m&&l.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Session: ",m.substring(0,20),"..."]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[f&&l.jsx(St,{className:"w-4 h-4 animate-spin"}),l.jsx(ne,{variant:"ghost",size:"sm",onClick:j,title:"Refresh session",children:l.jsx(ZS,{className:"w-4 h-4"})}),l.jsx(ne,{variant:"ghost",size:"sm",onClick:S,title:"Clear chat history",children:l.jsx(FH,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{className:"flex-1 p-4 space-y-4 overflow-auto max-h-96",children:[o.map(_=>l.jsx("div",{className:`flex ${_.sender==="user"?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-[80%] p-3 rounded-lg ${_.sender==="user"?"bg-primary text-primary-foreground":"bg-muted"}`,children:[l.jsx("p",{className:"text-sm",children:_.content}),l.jsx("p",{className:"text-xs opacity-70 mt-1",children:_.timestamp.toLocaleTimeString()})]})},_.id)),f&&l.jsx("div",{className:"flex justify-start",children:l.jsx("div",{className:"bg-muted p-3 rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(St,{className:"w-4 h-4 animate-spin"}),l.jsx("span",{className:"text-sm",children:"AI is typing..."})]})})}),l.jsx("div",{ref:y})]}),l.jsxs("div",{className:"p-4 border-t",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("textarea",{value:c,onChange:_=>u(_.target.value),onKeyPress:b,placeholder:"Type your message...",className:"flex-1 p-2 border rounded-lg text-sm resize-none",rows:2,disabled:f}),l.jsx(ne,{size:"sm",onClick:w,disabled:!c.trim()||f,children:l.jsx(Bv,{className:"w-4 h-4"})})]}),l.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Press Enter to send, Shift+Enter for new line"})]})]})},YNe=({agentName:e,onBack:t,profileId:n})=>{const[r,i]=g.useState("general"),[a,o]=g.useState("text"),s=!n,{hasPermission:c}=Ga(),u="ai_agent_files.manage",f=c(u),{profile:d,loading:h,saving:p,error:m,saveProfile:v}=P6(n),[y,x]=g.useState(s?"You are a helpful AI assistant for customer service. Be friendly, professional, and helpful. Always respond in Indonesian unless the customer speaks in another language.":(d==null?void 0:d.system_prompt)||""),[w,b]=g.useState(s?"Halo! 👋 Selamat datang! Ada yang bisa saya bantu hari ini?":(d==null?void 0:d.welcome_message)||""),[S,j]=g.useState(s?`Transfer to human agent when:
- Customer requests to speak with a human
- Complex technical issues arise
- Customer is dissatisfied or angry
- Payment or billing issues
- Escalation is needed`:(d==null?void 0:d.transfer_conditions)||""),[_,k]=g.useState((d==null?void 0:d.stop_ai_after_handoff)??!0),[E,I]=g.useState([]),[P,N]=g.useState(""),[O,R]=g.useState((d==null?void 0:d.temperature)||.3),[F,W]=g.useState((d==null?void 0:d.auto_resolve_after_minutes)??0),[D,B]=g.useState(!!((d==null?void 0:d.enable_resolve)??!1));g.useEffect(()=>{(async()=>{try{const{data:G,error:te}=await ao.from("ai_models").select("id, provider, model_name, display_name, is_active").eq("is_active",!0).order("display_name",{ascending:!0});if(te)throw te;const ue=G||[];I(ue),N(de=>{var ye;return de||((ye=ue[0])==null?void 0:ye.id)||""})}catch(G){console.error("Failed to load ai_models",G)}})()},[]);const $=E.find(z=>z.id===P)||null,[L,A]=g.useState([]),M=g.useRef(null),[T,C]=g.useState(!1),U=async()=>{const z=(d==null?void 0:d.id)??n;if(!z)throw new Error("Please save the AI Agent first before uploading files.");let G=(d==null?void 0:d.org_id)??null;if(!G){const{data:{user:te}}=await ao.auth.getUser();if(te){const{data:ue}=await ao.from("org_members").select("org_id").eq("user_id",te.id).limit(1).maybeSingle();G=(ue==null?void 0:ue.org_id)??null}}if(!G)throw new Error("Could not determine your organization. Please re-login or contact support.");return{orgId:G,profileId:z}},K=async(z,G)=>{try{if(!f)throw new Error("You do not have permission to upload agent files.");const te=((z==null?void 0:z.type)||"").toLowerCase()==="application/pdf",ue=((z==null?void 0:z.name)||"").toLowerCase().endsWith(".pdf");if(!te&&!ue)throw new Error("Only PDF files are supported");const{orgId:de,profileId:ye}=await U(),Ue=await z.arrayBuffer(),Ye=await crypto.subtle.digest("SHA-256",Ue),De=Array.from(new Uint8Array(Ye)).map(Zt=>Zt.toString(16).padStart(2,"0")).join(""),sr=((z==null?void 0:z.name)||"file.pdf").replace(/[^a-zA-Z0-9_.-]/g,"").replace(/\.pdf$/i,""),Ln=`${De}_${sr}.pdf`,ie=`org_${de}/profile_${ye}/${Ln}`,ge=new FormData;ge.append("file",z),ge.append("file_name",z.name||"file.pdf"),ge.append("org_id",de),ge.append("profile_id",ye),ge.append("hashFile",De);const we=await fetch(ot.buildUrl(ot.ENDPOINTS.KNOWLEDGE.FILE_UPLOAD),{method:"POST",body:ge});if(!we.ok){let Zt=`Upload failed (${we.status})`;try{const on=await we.json();Zt=(on==null?void 0:on.message)||Zt}catch{}throw new Error(Zt)}const Le=await we.json().catch(()=>({})),be=(Le==null?void 0:Le.document_id)||(Le==null?void 0:Le.documentId)||void 0,Ce=String((Le==null?void 0:Le.status)||"").toLowerCase();if(Ce==="duplicate"){const Zt=new Error("duplicate");throw Zt.code="DUPLICATE_CONTENT",Zt}if(Ce!=="success")throw new Error(`Upload webhook returned unexpected status: ${Ce||"unknown"}`);let rt=null;const{error:$t}=await ao.storage.from("ai-agent-files").upload(ie,z,{cacheControl:"31536000",contentType:"application/pdf",upsert:!1});if($t&&!(typeof($t==null?void 0:$t.message)=="string"&&/exists|duplicate|409/i.test($t.message)))throw $t;const{data:Qe,error:ln}=await ao.storage.from("ai-agent-files").createSignedUrl(ie,60*60*24*7);return!ln&&(Qe!=null&&Qe.signedUrl)&&(rt=Qe.signedUrl),{url:rt||"",filePath:ie,documentId:be}}catch(te){throw console.error("Error uploading file to Supabase:",te),new Error(`Failed to upload ${z.name}: ${(te==null?void 0:te.message)||"Unknown error"}`)}},Q=async()=>{try{C(!0);const{orgId:z,profileId:G}=await U(),te=`org_${z}/profile_${G}`,ue=`profile_${G}`,de=async De=>{const{data:lt,error:sr}=await ao.storage.from("ai-agent-files").list(De,{limit:100});return sr?[]:(lt||[]).map(Ln=>({...Ln,__prefix:De}))},[ye,Ue]=await Promise.all([de(te),de(ue)]),Ye=[...ye,...Ue];if(Ye.length===0){A([]);return}const $e=[];for(const De of Ye){if(!De||!De.name)continue;const lt=String(De.name);if(lt.endsWith("/")||lt===".emptyFolderPlaceholder"||lt===".emptyfolderplaceholder")continue;const sr=`${De.__prefix}/${De.name}`,Ln=De.metadata&&typeof De.metadata.size<"u"?De.metadata.size:0,ie=typeof Ln=="number"?Ln:Number(Ln||0);let ge="";const{data:we}=await ao.storage.from("ai-agent-files").createSignedUrl(sr,60*60*24*7);ge=(we==null?void 0:we.signedUrl)||"",$e.push({id:Date.now()+Math.random(),name:De.name,size:ie,uploadedAt:De.updated_at||De.created_at||new Date().toISOString(),status:"ready",url:ge,filePath:sr})}$e.sort((De,lt)=>new Date(lt.uploadedAt).getTime()-new Date(De.uploadedAt).getTime()),A($e)}catch(z){console.error("Failed to load knowledge files:",z)}finally{C(!1)}};g.useEffect(()=>{a==="file"&&Q()},[a,d==null?void 0:d.id,n]);const Y=async z=>{const G=Array.from(z.target.files||[]);if(G.length===0)return;try{await U()}catch(de){Oe.error((de==null?void 0:de.message)||"Unable to upload at this time"),M.current&&(M.current.value="");return}const te=new Date().toISOString(),ue=G.map(de=>({id:Date.now()+Math.random(),name:de.name,size:de.size,uploadedAt:te,status:"uploading"}));A(de=>[...ue,...de]);for(let de=0;de<G.length;de++){const ye=G[de],Ue=ue[de];try{const{url:Ye,filePath:$e}=await K(ye,Ue.id);A(De=>De.map(lt=>lt.id===Ue.id?{...lt,status:"ready",url:Ye,filePath:$e}:lt)),Oe.success(`${ye.name} uploaded successfully!`)}catch(Ye){if(String((Ye==null?void 0:Ye.message)||"").toLowerCase().includes("duplicate")||(Ye==null?void 0:Ye.code)==="DUPLICATE_CONTENT"){A($e=>$e.map(De=>De.id===Ue.id?{...De,status:"ready"}:De)),setTimeout(()=>{var $e,De;(De=($e=Q())==null?void 0:$e.catch)==null||De.call($e,()=>{})},0),Oe.info(`${ye.name} already exists. Skipped re-upload.`);continue}A($e=>$e.map(De=>De.id===Ue.id?{...De,status:"failed"}:De)),Oe.error(Ye.message||`Failed to upload ${ye.name}`)}}M.current&&(M.current.value="")},le=async z=>{z.preventDefault();const G=Array.from(z.dataTransfer.files||[]);if(G.length===0)return;try{await U()}catch(de){Oe.error((de==null?void 0:de.message)||"Unable to upload at this time");return}const te=new Date().toISOString(),ue=G.map(de=>({id:Date.now()+Math.random(),name:de.name,size:de.size,uploadedAt:te,status:"uploading"}));A(de=>[...ue,...de]);for(let de=0;de<G.length;de++){const ye=G[de],Ue=ue[de];try{const{url:Ye,filePath:$e}=await K(ye,Ue.id);A(De=>De.map(lt=>lt.id===Ue.id?{...lt,status:"ready",url:Ye,filePath:$e}:lt)),Oe.success(`${ye.name} uploaded successfully!`)}catch(Ye){A($e=>$e.map(De=>De.id===Ue.id?{...De,status:"failed"}:De)),Oe.error(Ye.message||`Failed to upload ${ye.name}`)}}},Z=z=>{z.preventDefault()},oe=async z=>{const G=L.find(te=>te.id===z);try{const{orgId:te,profileId:ue}=await U();if(G!=null&&G.filePath){const de=await fetch(ot.buildUrl(ot.ENDPOINTS.KNOWLEDGE.FILE_DELETE),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({org_id:te,profile_id:ue,file_key:G.filePath,document_id:(G==null?void 0:G.documentId)||void 0})});if(!de.ok){let Ye=`Delete failed (${de.status})`;try{const $e=await de.json();Ye=($e==null?void 0:$e.message)||Ye}catch{}throw new Error(Ye)}let ye={};try{ye=await de.json()}catch{}if(String((ye==null?void 0:ye.status)||"").toLowerCase()!=="deleted")throw new Error((ye==null?void 0:ye.message)||"Delete not confirmed by webhook")}A(de=>de.filter(ye=>ye.id!==z)),Oe.info(`${(G==null?void 0:G.name)||"File"} removed`)}catch(te){console.error("Error deleting file via webhook:",te),Oe.error((te==null?void 0:te.message)||"Failed to delete file")}},re=async z=>{try{const G=z.filePath;if(!G)throw new Error("Missing file path");const{data:te,error:ue}=await ao.storage.from("ai-agent-files").createSignedUrl(G,60*60,{download:z.name||"file.pdf"});if(ue)throw ue;const de=(te==null?void 0:te.signedUrl)||z.url||"";if(!de)throw new Error("Unable to generate download link");const ye=document.createElement("a");ye.href=de,ye.download=z.name||"",ye.target="_blank",ye.rel="noopener",document.body.appendChild(ye),ye.click(),ye.remove()}catch(G){Oe.error((G==null?void 0:G.message)||"Failed to download file")}},J=async()=>{const z=L.filter(G=>G.filePath);if(z.length>0)try{const{orgId:G,profileId:te}=await U();await Promise.all(z.map(async ue=>{try{const de=await fetch(ot.buildUrl(ot.ENDPOINTS.KNOWLEDGE.FILE_DELETE),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({org_id:G,profile_id:te,file_key:ue.filePath,document_id:(ue==null?void 0:ue.documentId)||void 0})});if(de.ok){let ye={};try{ye=await de.json()}catch{}const Ue=String((ye==null?void 0:ye.status)||"").toLowerCase();Ue!=="deleted"&&console.warn("Delete webhook did not confirm deletion for",ue.filePath,Ue)}else{let ye=`Delete failed (${de.status})`;try{const Ue=await de.json();ye=(Ue==null?void 0:Ue.message)||ye}catch{}console.warn("Delete webhook failed for",ue.filePath,ye)}}catch(de){console.warn("Delete webhook error for",ue.filePath,de)}}))}catch(G){console.error("Error clearing files via webhook:",G)}A([]),Oe.info("All files cleared")},[ke,V]=g.useState([{id:Date.now(),question:"",answer:""}]),[ee,fe]=g.useState([{id:Date.now(),question:"",answer:""}]),je=()=>{const z={id:Date.now()+Math.random(),question:"",answer:""};V(G=>[z,...G]),fe(G=>[JSON.parse(JSON.stringify(z)),...G])},Re=z=>{V(G=>G.filter(te=>te.id!==z)),fe(G=>G.filter(te=>te.id!==z))},xe=(z,G,te)=>{V(ue=>ue.map(de=>de.id===z?{...de,[G]:te}:de))},Te=z=>{const G=ee.find(de=>de.id===z.id),te=(z.question||"").trim(),ue=(z.answer||"").trim();return G?te!==(G.question||"").trim()||ue!==(G.answer||"").trim():te!==""||ue!==""},[Ze,He]=g.useState([{id:1,prompt:"Hai! Ada yang bisa saya bantu lagi?",delay:60,expanded:!1},{id:2,prompt:"Jika ada pertanyaan lain, jangan ragu untuk bertanya!",delay:120,expanded:!1}]),Xe=()=>{const z={id:Date.now(),prompt:"",delay:60,expanded:!1};He([...Ze,z])},gt=z=>{He(Ze.filter(G=>G.id!==z))},yt=(z,G,te)=>{He(Ze.map(ue=>ue.id===z?{...ue,[G]:te}:ue))},q=z=>{He(Ze.map(G=>G.id===z?{...G,expanded:!G.expanded}:G))};g.useEffect(()=>{if(d&&!s){x(d.system_prompt||""),b(d.welcome_message||""),j(d.transfer_conditions||""),k(d.stop_ai_after_handoff),R(d.temperature||.3),W((d==null?void 0:d.auto_resolve_after_minutes)??0),B(!!((d==null?void 0:d.enable_resolve)??!1));const z=d==null?void 0:d.qna;if(z&&Array.isArray(z)){const G=z.map((te,ue)=>({id:Date.now()+ue,question:te.q??te.question??"",answer:te.a??te.answer??""}));V(G),fe(JSON.parse(JSON.stringify(G)))}}},[d,s]),g.useEffect(()=>{s&&fe(JSON.parse(JSON.stringify(ke)))},[]);const ce=async()=>{const z={system_prompt:y,welcome_message:w,transfer_conditions:S,stop_ai_after_handoff:_,temperature:O,name:e,auto_resolve_after_minutes:F,enable_resolve:D,qna:ke.filter(G=>{var te,ue;return((te=G.question)==null?void 0:te.trim())||((ue=G.answer)==null?void 0:ue.trim())}).map(({question:G,answer:te})=>({q:G.trim(),a:te.trim()}))};try{await v(z),Oe.success(s?"AI agent created successfully!":"AI agent settings saved successfully!")}catch{Oe.error(s?"Failed to create AI agent":"Failed to save AI agent settings")}};return h&&!s?l.jsxs("div",{className:"flex items-center justify-center h-64",children:[l.jsx(St,{className:"w-8 h-8 animate-spin"}),l.jsx("span",{className:"ml-2",children:"Loading AI profile..."})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(ne,{variant:"ghost",size:"sm",onClick:t,className:"gap-2",children:[l.jsx(Fv,{className:"w-4 h-4"}),"Back"]}),l.jsx("h1",{className:"text-2xl font-bold",children:e}),s?l.jsx(bt,{variant:"outline",className:"text-blue-600 border-blue-600",children:"New Agent"}):d&&l.jsxs(bt,{variant:"secondary",children:["Last Updated: ",new Date(d.created_at).toLocaleDateString()]})]}),m&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:l.jsxs("p",{className:"text-red-800 text-sm",children:["Error: ",m]})}),l.jsxs(Wc,{value:r,onValueChange:i,children:[l.jsxs(Ks,{className:"grid w-full grid-cols-2",children:[l.jsxs(In,{value:"general",className:"gap-2",children:[l.jsx(dc,{className:"w-4 h-4"}),"General"]}),l.jsxs(In,{value:"knowledge",className:"gap-2",children:[l.jsx(bH,{className:"w-4 h-4"}),"Knowledge Sources"]})]}),l.jsx(xn,{value:"general",className:"space-y-6",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[l.jsx(Ie,{className:"p-6",children:l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-muted flex items-center justify-center text-lg font-semibold",children:e.charAt(0)}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold",children:e}),l.jsx("p",{className:"text-muted-foreground",children:s?"New AI Agent - Configure your settings below":(d==null?void 0:d.description)||"AI Agent"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:s?"Not saved yet":`Last Updated: ${d?new Date(d.created_at).toLocaleString():"Never"}`})]})]})}),l.jsxs(Ie,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4 text-primary",children:"AI Agent Behavior"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Ini adalah Prompt AI yang akan mengatur gaya bicara dan identitas AI nya."}),l.jsx(Ki,{className:"min-h-[200px] mb-4",value:y,onChange:z=>x(z.target.value),placeholder:s?`Define your AI's personality, behavior, and capabilities here. For example:

You are a helpful customer service AI assistant. Be friendly, professional, and always respond in Indonesian unless the customer speaks in another language. Help customers with their inquiries about products, services, and support.`:"Enter system prompt..."}),l.jsxs("div",{className:"text-right text-xs text-muted-foreground",children:[y.length,"/15000"]})]}),l.jsxs(Ie,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2 text-primary",children:"Welcome Message"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Pesan pertama yang akan dikirim AI kepada user."}),l.jsx(ne,{variant:"outline",size:"sm",className:"mb-4",children:"Upload gambar untuk Welcome Message"}),l.jsx(Ki,{className:"min-h-[100px] mb-4",value:w,onChange:z=>b(z.target.value),placeholder:s?"This is the first message your AI will send to customers when they start a conversation. Make it welcoming and helpful!":"Enter welcome message..."}),l.jsxs("div",{className:"text-right text-xs text-muted-foreground",children:[w.length,"/5000"]})]}),l.jsxs(Ie,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4 text-primary",children:"Agent Transfer Conditions"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Tentukan kondisi yang akan memicu AI untuk mentransfer chat ke agen manusia. Status chat akan menjadi Pending dan akan muncul di tab Chat Assigned."}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(Ki,{className:"min-h-[80px]",value:S,onChange:z=>j(z.target.value),placeholder:s?`Define when your AI should transfer the conversation to a human agent. For example:
- Customer requests to speak with a human
- Complex technical issues
- Payment or billing problems
- Customer is angry or dissatisfied`:"Enter transfer conditions..."}),l.jsxs("div",{className:"text-right text-xs text-muted-foreground",children:[S.length,"/750"]})]})]}),l.jsx(Ie,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Stop AI after Handoff"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Hentikan AI mengirim pesan setelah status chat berubah menjadi Pending."})]}),l.jsx(rl,{checked:_,onCheckedChange:k})]})}),l.jsxs(Ie,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4 text-primary",children:"Model Settings"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Temperature"}),l.jsx("input",{type:"number",min:"0",max:"2",step:"0.1",value:O,onChange:z=>R(parseFloat(z.target.value)),className:"w-full p-2 border rounded-lg mt-1"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Enable Auto-resolve"}),l.jsx("div",{className:"mt-2",children:l.jsx(rl,{checked:D,onCheckedChange:B})})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Auto-resolve after (minutes)"}),l.jsx("input",{type:"number",min:"0",step:"1",value:F,onChange:z=>W(Math.max(0,parseInt(z.target.value||"0",10))),disabled:!D,className:`w-full p-2 border rounded-lg mt-1 ${D?"":"opacity-60 cursor-not-allowed bg-muted/50"}`}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:D?"Set 0 to disable auto-resolve.":"Enable Auto-resolve to edit this value."})]})]})]}),l.jsx(ne,{className:"w-full",onClick:ce,disabled:p,children:p?l.jsxs(l.Fragment,{children:[l.jsx(St,{className:"w-4 h-4 mr-2 animate-spin"}),s?"Creating...":"Saving..."]}):l.jsxs(l.Fragment,{children:[l.jsx(dc,{className:"w-4 h-4 mr-2"}),s?"Create AI Agent":"Save AI Settings"]})})]}),l.jsx("div",{className:"lg:col-span-1",children:l.jsx(GNe,{welcomeMessage:w,systemPrompt:y,modelDisplay:($==null?void 0:$.display_name)||($==null?void 0:$.model_name)||"Not selected",modelName:($==null?void 0:$.model_name)||"",temperature:O,transfer_conditions:S})})]})}),l.jsx(xn,{value:"knowledge",className:"space-y-6",children:l.jsx(Ie,{className:"p-6",children:l.jsxs(Wc,{value:a,onValueChange:o,className:"w-full",children:[l.jsxs(Ks,{className:"grid w-full grid-cols-3 mb-6",children:[l.jsxs(In,{value:"text",className:"gap-2",children:[l.jsx(TH,{className:"w-4 h-4"}),"Text"]}),l.jsxs(In,{value:"file",className:"gap-2",children:[l.jsx(t0,{className:"w-4 h-4"}),"File"]}),l.jsxs(In,{value:"qa",className:"gap-2",children:[l.jsx(kw,{className:"w-4 h-4"}),"Q&A"]})]}),l.jsxs(xn,{value:"text",className:"space-y-4",children:[l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsxs(ne,{size:"sm",className:"gap-2",children:[l.jsx($H,{className:"w-4 h-4"}),"Add"]}),l.jsx(ne,{variant:"outline",size:"sm",children:"Default"})]}),l.jsxs("div",{className:"flex items-center gap-1 p-2 border rounded-md bg-muted/30",children:[l.jsx(ne,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:l.jsx(UH,{className:"w-4 h-4"})}),l.jsx(ne,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:l.jsx(LH,{className:"w-4 h-4"})}),l.jsx("div",{className:"w-px h-6 bg-border mx-1"}),l.jsx(ne,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:l.jsx(xH,{className:"w-4 h-4"})}),l.jsx(ne,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:l.jsx(IH,{className:"w-4 h-4"})}),l.jsx("div",{className:"w-px h-6 bg-border mx-1"}),l.jsx(ne,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:l.jsx(vH,{className:"w-4 h-4"})}),l.jsx(ne,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:l.jsx(mH,{className:"w-4 h-4"})}),l.jsx(ne,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:l.jsx(yH,{className:"w-4 h-4"})}),l.jsx(ne,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:l.jsx(gH,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[l.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-sm flex items-center justify-center",children:l.jsx("span",{className:"text-white text-xs",children:"📖"})}),l.jsx("span",{children:"Panduan Umum: Deposit, Withdraw & Tambah Rekening"})]}),l.jsx("div",{className:"pl-6 space-y-2 text-sm",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-orange-500",children:"⚠️"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Cara Isi Saldo / Deposit"}),l.jsx("p",{className:"text-muted-foreground",children:"Lakukan transfer ke rekening tujuan yang tertera di menu DEPOSIT > REKENING TUJUAN."}),l.jsx("p",{className:"text-muted-foreground",children:"Gunakan metode ATM atau M-Banking (tidak tersedia autodebet)."}),l.jsx("p",{className:"text-muted-foreground",children:"Setelah transfer, wajib upload bukti transfer agar diproses lebih cepat."})]})]})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[l.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-sm flex items-center justify-center",children:l.jsx("span",{className:"text-white text-xs",children:"🏦"})}),l.jsx("span",{children:"Khusus Bank BCA"})]}),l.jsxs("div",{className:"pl-6 text-sm text-muted-foreground",children:[l.jsx("p",{children:"Wajib menggunakan rekening BCA atas nama yang terdaftar di website."}),l.jsx("p",{children:"Tidak bisa menggunakan rekening BCA milik orang lain."})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[l.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-sm flex items-center justify-center",children:l.jsx("span",{className:"text-white text-xs",children:"💳"})}),l.jsx("span",{children:"Tambah Rekening / E-Wallet"})]}),l.jsxs("div",{className:"pl-6 text-sm text-muted-foreground",children:[l.jsx("p",{children:"Bisa menambahkan rekening atau e-wallet selama nama pemiliknya sama dengan yang sudah terdaftar."}),l.jsx("p",{children:"Akses dari halaman utama > klik menu REKENING > TAMBAH REKENING."})]})]}),l.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[l.jsx("p",{children:"Minimal deposit Via Bank BCA, MANDIRI, BRI, BNI, CIMB, OCBC, BANK JAGO, & Dan Semua Jenis E-wallet adalah 5.000"}),l.jsx("p",{children:"Minimal deposit QRIS = 10.000"}),l.jsx("p",{children:"Minimal withdraw Bank & E-wallet = 50.000"}),l.jsx("p",{children:"Jika menggunakan pulsa, akan dikenakan potongan 20%"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[l.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-sm flex items-center justify-center",children:l.jsx("span",{className:"text-white text-xs",children:"🔐"})}),l.jsx("span",{children:"Lupa User ID atau Password?"})]}),l.jsxs("div",{className:"pl-6 text-sm text-muted-foreground",children:[l.jsx("p",{children:"Format reset:"}),l.jsx("p",{children:"Nama Rekening :"}),l.jsx("p",{children:"Nomor Rekening :"}),l.jsx("p",{children:"Bank / E-wallet :"})]})]})]}),l.jsx("div",{className:"text-right text-xs text-muted-foreground",children:"10931 Characters"})]}),l.jsxs(xn,{value:"website",className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Provide Link"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Provide a link to the page you want the AI to learn from."})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ne,{variant:"default",size:"sm",className:"bg-muted text-foreground hover:bg-muted/80",children:"Batch Link"}),l.jsx(ne,{variant:"outline",size:"sm",children:"Single Link"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Web Link Collector"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(it,{placeholder:"Link URL",className:"flex-1"}),l.jsx(ne,{className:"bg-blue-600 hover:bg-blue-700",children:"Collect Link"})]}),l.jsxs("div",{className:"flex items-start gap-2 text-sm text-blue-600",children:[l.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-600 flex items-center justify-center mt-0.5",children:l.jsx("span",{className:"text-white text-xs",children:"!"})}),l.jsxs("p",{children:["Start with URL and this tool will gather up to ",l.jsx("strong",{children:"30 unique"})," links from the site, excluding any files"]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Trained Link"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"select-all",className:"rounded"}),l.jsx("label",{htmlFor:"select-all",className:"text-sm text-blue-600 cursor-pointer",children:"Select"})]}),l.jsx(it,{placeholder:"Search Links",className:"flex-1"})]})]})]}),l.jsxs(xn,{value:"file",className:"space-y-6",children:[l.jsxs("div",{onDrop:f?le:void 0,onDragOver:f?Z:void 0,className:`border border-dashed rounded-lg p-6 text-center ${f?"bg-muted/30":"bg-muted/50 opacity-70"}`,children:[l.jsx("input",{ref:M,type:"file",multiple:!0,hidden:!0,onChange:Y,disabled:!f}),l.jsx(t0,{className:"w-10 h-10 mx-auto mb-3 text-muted-foreground"}),f?l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Drag & drop documents here, or"}),l.jsx(ne,{size:"sm",onClick:()=>{var z;return(z=M.current)==null?void 0:z.click()},children:"Browse Files"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Supported: PDF"})]}):l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"You don't have permission to upload files."}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Requires permission: ",u]})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h3",{className:"text-sm font-medium",children:["Uploaded Files (",L.length,")"]}),L.length>0&&l.jsx(ne,{variant:"ghost",size:"sm",onClick:J,className:"text-red-600 hover:text-red-700",children:"Clear All"})]}),T?l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading files..."}):L.length===0?l.jsx("div",{className:"text-sm text-muted-foreground",children:"No files uploaded yet."}):l.jsx("div",{className:"border rounded-md divide-y",children:L.map(z=>l.jsxs("div",{className:"flex items-center justify-between p-3",children:[l.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[l.jsx("div",{className:"w-8 h-8 rounded bg-muted flex items-center justify-center",children:l.jsx(t0,{className:"w-4 h-4"})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("div",{className:"truncate text-sm font-medium",children:z.name}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:[(z.size/1024).toFixed(1)," KB • ",new Date(z.uploadedAt).toLocaleString()]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${z.status==="ready"?"bg-green-100 text-green-700":z.status==="uploading"?"bg-blue-100 text-blue-700":z.status==="processing"?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:z.status==="uploading"?l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(St,{className:"w-3 h-3 animate-spin"}),"uploading"]}):z.status}),l.jsx(ne,{size:"sm",variant:"outline",onClick:()=>re(z),disabled:z.status==="uploading",children:"Download"}),l.jsx(ne,{size:"sm",variant:"ghost",className:"text-red-600 hover:text-red-700",onClick:()=>oe(z.id),disabled:z.status==="uploading",children:l.jsx(fc,{className:"w-4 h-4"})})]})]},z.id))})]})]}),l.jsxs(xn,{value:"qa",className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Q&A Knowledge"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Add question–answer pairs the AI can reference."})]}),l.jsxs(ne,{size:"sm",onClick:()=>{o("qa"),je()},className:"gap-2",children:[l.jsx(Fa,{className:"w-4 h-4"}),"Add Pair"]})]}),ke.length===0?l.jsx("div",{className:"text-sm text-muted-foreground",children:"No Q&A pairs. Click Add Pair to create one."}):l.jsx("div",{className:"space-y-3",children:ke.map(z=>l.jsx(Ie,{className:"p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx(it,{placeholder:"Question",value:z.question,onChange:G=>xe(z.id,"question",G.target.value)}),l.jsx(Ki,{placeholder:"Answer",className:"min-h-[80px]",value:z.answer,onChange:G=>xe(z.id,"answer",G.target.value)})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[Te(z)&&l.jsx(ne,{variant:"outline",size:"sm",onClick:async G=>{G.preventDefault(),G.stopPropagation(),o("qa");try{await v({qna:ke.filter(te=>{var ue,de;return((ue=te.question)==null?void 0:ue.trim())||((de=te.answer)==null?void 0:de.trim())}).map(({question:te,answer:ue})=>({q:te.trim(),a:ue.trim()}))}),fe(JSON.parse(JSON.stringify(ke))),Oe.success("Q&A saved")}catch(te){Oe.error((te==null?void 0:te.message)||"Failed to save Q&A")}},children:"Save"}),l.jsx(ne,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",onClick:()=>Re(z.id),children:l.jsx(fc,{className:"w-4 h-4"})})]})]})},z.id))})]}),l.jsx(xn,{value:"product",children:l.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[l.jsx(MH,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"Product knowledge and catalog integration"})]})})]})})}),l.jsx(xn,{value:"integrations",children:l.jsxs(Ie,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Integrations"}),l.jsx("p",{className:"text-muted-foreground",children:"Set up integrations with external services."})]})}),l.jsx(xn,{value:"followups",className:"space-y-6",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Followups"}),l.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[l.jsxs("p",{children:["Tambahkan pesan Followup yang akan dikirim kepada ",l.jsx("span",{className:"text-blue-600",children:"pelanggan setelah jeda waktu tertentu"}),"."]}),l.jsx("p",{children:"Isi dengan prompt. Prompt adalah arahan yang AI akan pakai untuk menulis Followup sesuai dengan history chat dan knowledge anda."}),l.jsx("p",{children:"Anda juga bisa menulis kondisi Handoff to Agent anda di Prompt"}),l.jsx("p",{className:"text-blue-600",children:"Anda bisa mengirim gambar di followup. Klik disini untuk Upload gambar."})]})]}),l.jsx("div",{className:"space-y-4",children:Ze.map((z,G)=>l.jsx(Ie,{className:"p-4",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium",children:"Prompt:"}),l.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>gt(z.id),className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:l.jsx(fc,{className:"w-4 h-4"})})]}),l.jsx(Ki,{value:z.prompt,onChange:te=>yt(z.id,"prompt",te.target.value),className:"min-h-[80px]",placeholder:"Enter followup message..."}),l.jsx("div",{className:"flex items-center gap-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-medium",children:"Delay (min):"}),l.jsx(it,{type:"number",value:z.delay,onChange:te=>yt(z.id,"delay",parseInt(te.target.value)||1),className:"w-20",min:"1"})]})}),l.jsxs(WNe,{children:[l.jsxs(HNe,{onClick:()=>q(z.id),className:"flex items-center gap-2 text-sm font-medium hover:text-primary",children:[l.jsx(vf,{className:`w-4 h-4 transition-transform ${z.expanded?"rotate-180":""}`}),"Options"]}),l.jsx(qNe,{className:"pt-4",children:l.jsx("div",{className:"text-sm text-muted-foreground",children:"Additional options for this followup message can be configured here."})})]})]})},z.id))}),l.jsxs("div",{className:"flex justify-between",children:[l.jsxs(ne,{onClick:Xe,className:"gap-2",children:[l.jsx(Fa,{className:"w-4 h-4"}),"Add Followup"]}),l.jsx(ne,{className:"bg-green-600 hover:bg-green-700",children:"Save Followups"})]})]})}),l.jsx(xn,{value:"evaluation",children:l.jsxs(Ie,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Evaluation"}),l.jsx("p",{className:"text-muted-foreground",children:"Review AI agent performance metrics."})]})})]})]})},XNe=({agent:e,onSettings:t,onDelete:n})=>l.jsxs(Ie,{className:"p-6 text-center space-y-4 hover:shadow-md transition-shadow",children:[l.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center text-xl font-semibold text-muted-foreground",children:e.initials}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-lg",children:e.name}),l.jsx("p",{className:"text-sm text-muted-foreground",children:e.creator}),e.description&&l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:e.description}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Created: ",new Date(e.created_at).toLocaleDateString()]})]})]}),l.jsxs("div",{className:"flex gap-2 justify-center",children:[l.jsxs(ne,{variant:"outline",size:"sm",className:"gap-2",onClick:()=>t(e),children:[l.jsx(dc,{className:"w-4 h-4"}),"Settings"]}),l.jsxs(ne,{variant:"outline",size:"sm",className:"gap-2 text-destructive hover:text-destructive",onClick:()=>n(e.id),children:[l.jsx(fc,{className:"w-4 h-4"}),"Delete"]})]})]}),QNe=({onClick:e})=>l.jsx(Ie,{className:"p-6 text-center space-y-4 hover:shadow-md transition-shadow bg-blue-600 text-white cursor-pointer group",onClick:e,children:l.jsxs("div",{className:"flex flex-col items-center justify-center h-full space-y-4",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-white/20 flex items-center justify-center group-hover:bg-white/30 transition-colors",children:l.jsx(Fa,{className:"w-8 h-8"})}),l.jsx("h3",{className:"font-semibold text-lg",children:"Create New"})]})}),JNe=()=>{const[e,t]=g.useState(null),[n,r]=g.useState([]),[i,a]=g.useState(!0),[o,s]=g.useState(null),[c,u]=g.useState(!1),[f,d]=g.useState(""),[h,p]=g.useState("customer-service"),{fetchAllProfiles:m,deleteProfile:v}=P6(),y=async()=>{try{a(!0),s(null);const S=await m();if(S){const j=S.map(_=>({id:_.id,name:_.name,initials:_.name.split(" ").map(k=>k.charAt(0)).join("").toUpperCase().slice(0,2),creator:"Admin",description:_.description,created_at:_.created_at}));r(j)}}catch(S){console.error("Error fetching agents:",S),s("Failed to load AI agents"),Oe.error("Failed to load AI agents")}finally{a(!1)}},x=async S=>{const j=n.find(_=>_.id===S);if(window.confirm(`Are you sure you want to delete "${j==null?void 0:j.name}"? This action cannot be undone.`))try{await v(S),await y(),Oe.success(`"${j==null?void 0:j.name}" has been deleted successfully`)}catch(_){console.error("Error deleting agent:",_),s("Failed to delete AI agent"),Oe.error("Failed to delete AI agent")}},w=()=>{u(!0)},b=()=>{if(!f.trim()){Oe.error("Please enter an AI agent name");return}const S={id:"new",name:f.trim(),initials:f.trim().split(" ").map(j=>j.charAt(0)).join("").toUpperCase().slice(0,2),creator:"Admin",created_at:new Date().toISOString()};t(S),u(!1),d(""),p("customer-service"),Oe.info("Creating new AI agent...")};return g.useEffect(()=>{y()},[]),e?l.jsx(YNe,{agentName:e.name,onBack:()=>{t(null),y()},profileId:e.id==="new"?void 0:e.id}):i?l.jsxs("div",{className:"flex items-center justify-center h-64",children:[l.jsx(St,{className:"w-8 h-8 animate-spin"}),l.jsx("span",{className:"ml-2",children:"Loading AI agents..."})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx("h1",{className:"text-3xl font-bold",children:"AI Agents"}),l.jsxs("div",{className:"text-muted-foreground max-w-2xl mx-auto",children:[l.jsx("p",{children:"Ini adalah halaman di mana Anda dapat mengunjungi AI yang telah Anda buat sebelumnya."}),l.jsx("p",{children:"Jangan ragu untuk membuat perubahan dan membuat chatbot sebanyak yang Anda inginkan kapan saja!"})]})]}),o&&l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[l.jsxs("p",{className:"text-red-800 text-sm",children:["Error: ",o]}),l.jsx(ne,{variant:"outline",size:"sm",className:"mt-2",onClick:y,children:"Retry"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs(Ie,{className:"p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-primary",children:n.length}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Total AI Agents"})]}),l.jsxs(Ie,{className:"p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:n.filter(S=>S.creator==="Hanna").length}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Agents"})]}),l.jsxs(Ie,{className:"p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:n.length>0?new Date(Math.max(...n.map(S=>new Date(S.created_at).getTime()))).toLocaleDateString():"N/A"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Last Created"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.map(S=>l.jsx(XNe,{agent:S,onSettings:t,onDelete:x},S.id)),l.jsx(QNe,{onClick:w})]}),n.length===0&&!i&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"w-24 h-24 mx-auto mb-4 rounded-full bg-muted flex items-center justify-center",children:l.jsx(Fa,{className:"w-12 h-12 text-muted-foreground"})}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No AI Agents Yet"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first AI agent to get started with automated customer support."}),l.jsxs(ne,{onClick:w,children:[l.jsx(Fa,{className:"w-4 h-4 mr-2"}),"Create Your First AI Agent"]})]}),l.jsx(Rr,{open:c,onOpenChange:u,children:l.jsxs(mr,{className:"sm:max-w-[425px]",children:[l.jsx(gr,{children:l.jsx(vr,{className:"text-xl font-semibold",children:"Create New AI Agent"})}),l.jsxs("div",{className:"space-y-6 pt-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Name"}),l.jsx(it,{placeholder:"Enter AI name",value:f,onChange:S=>d(S.target.value),className:"w-full"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Template"}),l.jsxs(Tt,{value:h,onValueChange:p,children:[l.jsx(jt,{className:"w-full",children:l.jsx(Ot,{placeholder:"Select a template"})}),l.jsx(kt,{children:l.jsx(Ae,{value:"customer-service",children:l.jsx("div",{className:"space-y-1",children:l.jsx("div",{className:"font-medium",children:"Customer Service AI"})})})})]}),h==="customer-service"&&l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"and sales inquiries for your business."})]}),l.jsx(ne,{onClick:b,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",disabled:!f.trim(),children:"Create AI Agent"})]})]})})]})};function ws({permission:e,permissions:t=[],requireAll:n=!1,fallback:r=null,children:i}){const{hasPermission:a,hasAnyPermission:o,hasAllPermissions:s,loading:c}=Ga();if(c)return null;const u=e?[e,...t]:t;return(n?s(u):o(u))?l.jsx(l.Fragment,{children:i}):l.jsx(l.Fragment,{children:r})}const ZNe=()=>{const[e,t]=g.useState(!1),[n,r]=g.useState(!1),[i,a]=g.useState(!1),[o,s]=g.useState(null),[c,u]=g.useState(!1),[f,d]=g.useState({enabled:!1,perDay:0,perMonth:0,twoFA:!1}),[h,p]=g.useState("7d"),[m,v]=g.useState(null),[y,x]=g.useState(!1),[w,b]=g.useState(null),[S,j]=g.useState({name:"",email:"",role:"agent"}),[_,k]=g.useState(!1),[E,I]=g.useState(!1),[P,N]=g.useState(null),[O,R]=g.useState(!1),[F,W]=g.useState(!1),[D,B]=g.useState(null),{toast:$}=ll(),{hasPermission:L,hasRole:A}=Ga(),M=S.name.trim()&&S.email.trim()&&(S.role!=="agent"||P),[T,C]=g.useState(null),{aiAgents:U,setFilterBySuper:K,fetchAIAgents:Q}=Ru(),{agents:Y,loading:le,error:Z,fetchAgents:oe,createAgent:re,updateAgentStatus:J,updateAgentRole:ke,deleteAgent:V,setEnable2FAFlagForCreate:ee}=pl(),fe=async()=>{var z,G;if(!S.name||!S.email){$({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}if(S.role==="agent"&&!P){$({title:"Error",description:"Please select a Super Agent for this agent",variant:"destructive"});return}try{I(!0),ee(_);const te=await re({full_name:S.name,email:S.email,role:S.role});try{if(S.role==="agent"){const ue=P;if(!ue)$({title:"Assignment needed",description:"Select a Super Agent to attach this agent to.",variant:"destructive"});else if(te!=null&&te.id){const{data:de}=await X.auth.getUser(),{data:ye}=await X.from("org_members").select("org_id").eq("user_id",((z=de==null?void 0:de.user)==null?void 0:z.id)||"").limit(1),Ue=((G=ye==null?void 0:ye[0])==null?void 0:G.org_id)||null;Ue&&await X.from("super_agent_members").insert({org_id:Ue,super_agent_id:ue,agent_user_id:te.id})}}}catch{}j({name:"",email:"",role:"agent"}),N(null),k(!1),t(!1),$({title:"Success",description:"Agent created successfully"})}catch(te){$({title:"Error",description:te instanceof Error?te.message:"Failed to create agent",variant:"destructive"})}finally{I(!1)}},je=async z=>{try{W(!0),await V(z),$({title:"Success",description:"Agent deleted successfully"}),R(!1),B(null)}catch(G){$({title:"Error",description:G instanceof Error?G.message:"Failed to delete agent",variant:"destructive"})}finally{W(!1)}},Re=async z=>{try{s(z);const{data:G,error:te}=await X.from("users_profile").select("token_limit_enabled, max_tokens_per_day, max_tokens_per_month, is_2fa_email_enabled").eq("user_id",z.user_id).maybeSingle();if(te)throw te;d({enabled:!!(G!=null&&G.token_limit_enabled),perDay:Number((G==null?void 0:G.max_tokens_per_day)??0),perMonth:Number((G==null?void 0:G.max_tokens_per_month)??0),twoFA:!!(G!=null&&G.is_2fa_email_enabled)}),r(!0)}catch(G){$({title:"Error",description:(G==null?void 0:G.message)||"Failed to load token limits",variant:"destructive"})}},xe=async()=>{if(o)try{u(!0);const{error:z}=await X.from("users_profile").update({token_limit_enabled:f.enabled,max_tokens_per_day:Math.max(0,Math.floor(f.perDay||0)),max_tokens_per_month:Math.max(0,Math.floor(f.perMonth||0)),is_2fa_email_enabled:f.twoFA}).eq("user_id",o.user_id);if(z)throw z;$({title:"Saved",description:"Token limits updated."}),r(!1)}catch(z){$({title:"Error",description:(z==null?void 0:z.message)||"Failed to save token limits",variant:"destructive"})}finally{u(!1)}},Te=z=>{const G=new Date;let te;if(z==="this_month")te=new Date(Date.UTC(G.getUTCFullYear(),G.getUTCMonth(),1,0,0,0));else{const de=z==="7d"?7:30;te=new Date(Date.UTC(G.getUTCFullYear(),G.getUTCMonth(),G.getUTCDate(),0,0,0)),te.setUTCDate(te.getUTCDate()-(de-1))}const ue=G;return{start:te.toISOString(),end:ue.toISOString()}},Ze=async z=>{s(z),a(!0),await He(z.user_id,h)},He=async(z,G)=>{var te;try{x(!0);const{start:ue,end:de}=Te(G),ye=((te=Y.find(be=>be.user_id===z))==null?void 0:te.super_agent_id)||null,Ue=ye?Y.filter(be=>be.primaryRole==="agent"&&be.super_agent_id===ye).map(be=>be.user_id):[z],{data:Ye}=await X.from("threads").select("id").in("assignee_user_id",Ue).gte("created_at",ue).lt("created_at",de),$e=(Ye||[]).map(be=>be.id),[De,lt]=await Promise.all([$e.length>0?X.from("token_usage_logs").select("id,total_tokens").in("thread_id",$e).gte("made_at",ue).lt("made_at",de):Promise.resolve({data:[]}),X.from("token_usage_logs").select("id,total_tokens").in("user_id",Ue).gte("made_at",ue).lt("made_at",de)]),sr=new Set;let Ln=0;for(const be of[...De.data||[],...lt.data||[]]){const Ce=String(be.id);sr.has(Ce)||(sr.add(Ce),Ln+=Number(be.total_tokens||0))}v(Ln);const[ie,ge,we,Le]=await Promise.all([X.from("threads").select("id",{count:"exact",head:!0}).gte("created_at",ue).lt("created_at",de).eq("assignee_user_id",z),X.from("threads").select("id",{count:"exact",head:!0}).gte("created_at",ue).lt("created_at",de).eq("assigned_by_user_id",z),X.from("threads").select("id",{count:"exact",head:!0}).gte("created_at",ue).lt("created_at",de).eq("resolved_by_user_id",z),X.from("threads").select("id",{count:"exact",head:!0}).gte("created_at",ue).lt("created_at",de).eq("assignee_user_id",z).not("ai_handoff_at","is",null)]);b({assignedTo:ie.count||0,assignedBy:ge.count||0,resolvedBy:we.count||0,handoverFromAI:Le.count||0})}catch(ue){v(null),b(null),$({title:"Error",description:(ue==null?void 0:ue.message)||"Failed to load usage",variant:"destructive"})}finally{x(!1)}},Xe=async(z,G)=>{try{const{error:te}=await X.from("users_profile").update({is_active:G==="Active"}).eq("user_id",z);if(te)throw te;$({title:"Success",description:`Status changed to ${G}`}),await oe()}catch(te){$({title:"Error",description:(te==null?void 0:te.message)||"Failed to change status",variant:"destructive"})}},gt=async(z,G)=>{try{await ke(z,G),$({title:"Success",description:`Agent role updated to ${G}`})}catch(te){$({title:"Error",description:te instanceof Error?te.message:"Failed to update role",variant:"destructive"})}},yt=z=>z.split(" ").map(G=>G[0]).join("").toUpperCase().slice(0,2),q=z=>z==="Active"?"bg-green-500":"bg-gray-400",ce=z=>z==="master_agent"?"bg-blue-100 text-blue-700":z==="super_agent"?"bg-emerald-100 text-emerald-700":"bg-gray-100 text-gray-700";return Z?l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Human Agent Settings"}),l.jsx("p",{className:"text-muted-foreground",children:"Manage your human agents and teams"})]})}),l.jsx("div",{className:"rounded-lg border bg-red-50 p-6",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-6 w-6 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),l.jsx("div",{className:"mt-2 text-sm text-red-700",children:l.jsx("p",{children:Z})})]})]})})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Human Agent Settings"}),l.jsx("p",{className:"text-muted-foreground",children:"Manage your human agents"})]}),l.jsx(ws,{permission:"super_agents.create",children:l.jsxs(Rr,{open:e,onOpenChange:t,children:[l.jsx(ek,{asChild:!0,children:l.jsxs(ne,{className:"gap-2 bg-blue-600 hover:bg-blue-700 text-white",children:[l.jsx(Fa,{className:"h-4 w-4"}),"Create Agent"]})}),l.jsxs(mr,{className:"sm:max-w-md bg-background border",children:[l.jsx(gr,{children:l.jsx(vr,{children:"Create New Agent"})}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ge,{htmlFor:"agent-name",children:["Agent Name ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx(it,{id:"agent-name",value:S.name,onChange:z=>j({...S,name:z.target.value}),placeholder:"Enter agent name"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ge,{htmlFor:"agent-email",children:["Email ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx(it,{id:"agent-email",type:"email",value:S.email,onChange:z=>j({...S,email:z.target.value}),placeholder:"Enter email address"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"agent-phone",children:"Phone (Optional)"}),l.jsx(it,{id:"agent-phone",type:"tel",value:S.phone||"",onChange:z=>j({...S,phone:z.target.value}),placeholder:"Enter phone number"})]}),l.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[l.jsx(Aa,{id:"agent-2fa",checked:_,onCheckedChange:z=>k(!!z)}),l.jsx(Ge,{htmlFor:"agent-2fa",className:"text-sm",children:"Enable email 2FA for this agent"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"agent-role",children:"Role"}),l.jsxs(Tt,{value:S.role,onValueChange:z=>j({...S,role:z}),children:[l.jsx(jt,{className:"bg-background border",children:l.jsx(Ot,{})}),l.jsxs(kt,{className:"bg-background border z-50",children:[l.jsx(Ae,{value:"agent",children:"Agent"}),l.jsx(Ae,{value:"super_agent",children:"Super Agent"}),l.jsx(ws,{permission:"super_agents.create",children:l.jsx(Ae,{value:"master_agent",children:"Master Agent"})})]})]})]}),S.role==="agent"&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ge,{children:["Attach to Super Agent ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs(Tt,{value:P||"",onValueChange:z=>N(z),children:[l.jsx(jt,{className:"bg-background border",children:l.jsx(Ot,{placeholder:"Select Super Agent"})}),l.jsx(kt,{className:"bg-background border z-50",children:Y.filter(z=>z.primaryRole==="super_agent").map(z=>l.jsx(Ae,{value:z.user_id,children:z.display_name||z.email},z.user_id))})]})]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.jsxs("p",{children:["Fields marked with ",l.jsx("span",{className:"text-red-500",children:"*"})," are required."]}),S.role==="agent"&&l.jsx("p",{className:"mt-1",children:"Agents must be attached to a Super Agent."})]}),l.jsxs("div",{className:"flex gap-2 pt-4",children:[l.jsx(ne,{onClick:fe,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",disabled:E||!M,children:E?l.jsxs("span",{className:"inline-flex items-center gap-2",children:[l.jsx(St,{className:"h-4 w-4 animate-spin"}),"Creating..."]}):"Create Agent"}),l.jsx(ne,{variant:"outline",onClick:()=>t(!1),className:"flex-1",disabled:E,children:"Cancel"})]})]})]})]})})]}),l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{className:"rounded-lg border bg-card",children:[l.jsxs("div",{className:"grid grid-cols-[200px,1fr,120px,120px,100px] gap-4 p-4 border-b bg-muted/50 font-medium text-sm",children:[l.jsx("div",{children:"Agent Name"}),l.jsx("div",{children:"Email"}),l.jsx("div",{children:"Role"}),l.jsx("div",{children:"Status"}),l.jsx("div",{children:"Action"})]}),l.jsx("div",{className:"divide-y",children:le?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(St,{className:"w-4 h-4 animate-spin"}),l.jsx("span",{children:"Loading agents..."})]})}):Y.length===0?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx(o$,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Agents Yet"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first agent to get started."}),l.jsx(ws,{permission:"super_agents.create",children:l.jsxs(ne,{onClick:()=>t(!0),children:[l.jsx(Fa,{className:"h-4 w-4 mr-2"}),"Create Agent"]})})]})}):Y.map(z=>l.jsxs("div",{className:"grid grid-cols-[200px,1fr,120px,120px,100px] gap-4 p-4 items-center hover:bg-muted/30 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Jo,{className:"h-8 w-8",children:l.jsx(Zo,{className:"text-xs bg-blue-100 text-blue-700",children:yt(z.display_name||"Unknown")})}),l.jsx("span",{className:"font-medium text-blue-600",children:z.display_name||"Unknown User"})]}),l.jsx("div",{className:"text-sm text-muted-foreground",children:z.email||"No email"}),l.jsx("div",{children:L("super_agents.update")&&z.primaryRole!=="master_agent"?l.jsxs(e1,{children:[l.jsx(t1,{asChild:!0,children:l.jsxs(ne,{variant:"ghost",size:"sm",className:"gap-2 h-8",children:[l.jsx(bt,{className:`text-xs ${ce(z.primaryRole)}`,children:z.primaryRole==="master_agent"?"Master Agent":z.primaryRole==="super_agent"?"Super Agent":z.primaryRole==="agent"?"Agent":"No Role"}),l.jsx(vf,{className:"h-3 w-3"})]})}),l.jsxs(ig,{className:"bg-background border z-50",children:[z.primaryRole!=="master_agent"&&l.jsx(ec,{onClick:()=>gt(z.user_id,"agent"),children:l.jsx(bt,{className:`text-xs ${ce("agent")}`,children:"Agent"})}),z.primaryRole!=="master_agent"&&l.jsx(ec,{onClick:()=>gt(z.user_id,"super_agent"),children:l.jsx(bt,{className:`text-xs ${ce("super_agent")}`,children:"Super Agent"})})]})]}):l.jsx(bt,{className:`text-xs ${ce(z.primaryRole)}`,children:z.primaryRole==="master_agent"?"Master Agent":z.primaryRole==="super_agent"?"Super Agent":z.primaryRole==="agent"?"Agent":"No Role"})}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs(e1,{children:[l.jsx(t1,{asChild:!0,children:l.jsxs(ne,{variant:"ghost",size:"sm",className:"gap-2 h-8",children:[l.jsx("div",{className:`h-2 w-2 rounded-full ${q(z.status)}`}),l.jsx("span",{className:"text-xs",children:z.status}),l.jsx(vf,{className:"h-3 w-3"})]})}),l.jsxs(ig,{className:"bg-background border z-50",children:[l.jsx(ec,{onClick:()=>Xe(z.user_id,"Active"),children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"}),"Active"]})}),l.jsx(ec,{onClick:()=>Xe(z.user_id,"Inactive"),children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-2 w-2 rounded-full bg-gray-400"}),"Inactive"]})})]})]})}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(ws,{permission:"users_profile.update_token_limit",children:l.jsx(ne,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50",onClick:()=>Re(z),children:l.jsx(i$,{className:"h-4 w-4"})})}),A(p1.MASTER_AGENT)&&l.jsx(ne,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-emerald-600 hover:text-emerald-700 hover:bg-emerald-50",onClick:()=>Ze(z),title:"View token usage",children:l.jsx(_H,{className:"h-4 w-4"})}),l.jsx(ws,{permission:"super_agents.delete",children:l.jsx(ne,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>{B(z),R(!0)},children:l.jsx(fc,{className:"h-4 w-4"})})})]})]},z.user_id))})]})}),l.jsxs("div",{className:"rounded-lg border bg-card",children:[l.jsx("div",{className:"p-4 border-b bg-muted/50 font-medium text-sm",children:"Clustering: Super Agents → Agents & AI Agents"}),l.jsx("div",{className:"p-4 space-y-4",children:l.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:"Select Super Agent"}),l.jsxs(Tt,{value:T||"",onValueChange:z=>{C(z),K(z)},children:[l.jsx(jt,{className:"bg-background border",children:l.jsx(Ot,{placeholder:"Choose a super agent"})}),l.jsx(kt,{className:"bg-background border z-50",children:Y.filter(z=>z.primaryRole==="super_agent").map(z=>l.jsx(Ae,{value:z.user_id,children:z.display_name||z.email},z.user_id))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:"Agents"}),l.jsx("div",{className:"rounded-md border p-2 max-h-64 overflow-auto",children:T?l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"text-xs text-muted-foreground",children:"Assigned to this Super"}),Y.filter(z=>z.primaryRole==="agent"&&z.super_agent_id===T).map(z=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{children:z.display_name||z.email}),l.jsx(ne,{size:"sm",variant:"outline",onClick:async()=>{var G,te;try{const{data:ue}=await X.auth.getUser(),{data:de}=await X.from("org_members").select("org_id").eq("user_id",((G=ue==null?void 0:ue.user)==null?void 0:G.id)||"").limit(1),ye=((te=de==null?void 0:de[0])==null?void 0:te.org_id)||null;ye&&await X.from("super_agent_members").delete().eq("org_id",ye).eq("agent_user_id",z.user_id),$({title:"Unassigned",description:"Agent removed from Super Agent"}),await oe({force:!0})}catch(ue){$({title:"Error",description:(ue==null?void 0:ue.message)||"Failed",variant:"destructive"})}},children:"Remove"})]},z.user_id)),l.jsx("div",{className:"h-px bg-border my-2"}),l.jsx("div",{className:"text-xs text-muted-foreground",children:"Available (Unassigned)"}),Y.filter(z=>z.primaryRole==="agent"&&!z.super_agent_id).map(z=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{children:z.display_name||z.email}),l.jsx(ne,{size:"sm",onClick:async()=>{var G,te;try{const{data:ue}=await X.auth.getUser(),{data:de}=await X.from("org_members").select("org_id").eq("user_id",((G=ue==null?void 0:ue.user)==null?void 0:G.id)||"").limit(1),ye=((te=de==null?void 0:de[0])==null?void 0:te.org_id)||null;ye&&T&&await X.from("super_agent_members").insert({org_id:ye,super_agent_id:T,agent_user_id:z.user_id}),$({title:"Assigned",description:"Agent assigned to Super Agent"}),await oe({force:!0})}catch(ue){$({title:"Error",description:(ue==null?void 0:ue.message)||"Failed",variant:"destructive"})}},children:"Assign"})]},z.user_id))]}):l.jsx("div",{className:"text-sm text-muted-foreground",children:"Select a Super Agent."})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:"AI Agents"}),l.jsx("div",{className:"rounded-md border p-2 max-h-64 overflow-auto",children:l.jsx("div",{className:"text-sm text-muted-foreground",children:"AI Agents are now independent and can be assigned to channels directly in the Platforms section. Super Agents are assigned to channels, not to AI Agents."})})]})]})})]}),l.jsx(Rr,{open:O,onOpenChange:z=>{F||R(z)},children:l.jsxs(mr,{className:"sm:max-w-md bg-background border",children:[l.jsx(gr,{children:l.jsx(vr,{children:"Delete Agent"})}),l.jsxs("div",{className:"space-y-3 py-2",children:[l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Are you sure you want to permanently delete ",(D==null?void 0:D.display_name)||"this agent","? This will remove their profile and role assignments. This action cannot be undone."]}),l.jsxs("div",{className:"rounded-md border p-3 bg-muted/30 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Name:"})," ",(D==null?void 0:D.display_name)||"—"]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Email:"})," ",(D==null?void 0:D.email)||"—"]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Role:"})," ",(D==null?void 0:D.primaryRole)||"—"]})]}),l.jsxs("div",{className:"flex gap-2 pt-2",children:[l.jsx(ne,{variant:"destructive",className:"flex-1",onClick:()=>D&&je(D.user_id),disabled:F,children:F?l.jsxs("span",{className:"inline-flex items-center gap-2",children:[l.jsx(St,{className:"h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete"}),l.jsx(ne,{variant:"outline",className:"flex-1",onClick:()=>R(!1),disabled:F,children:"Cancel"})]})]})]})}),l.jsx(Rr,{open:n,onOpenChange:r,children:l.jsxs(mr,{className:"sm:max-w-md bg-background border",children:[l.jsx(gr,{children:l.jsxs(vr,{children:["Token Limits",o?` — ${o.display_name||o.email}`:""]})}),l.jsxs("div",{className:"space-y-4 py-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:"Enable Limits"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Block token-consuming actions when exceeded."})]}),l.jsx(rl,{checked:f.enabled,onCheckedChange:z=>d({...f,enabled:!!z})})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:"Require Email 2FA"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"User must enter a one-time code at sign-in."})]}),l.jsx(rl,{checked:f.twoFA,onCheckedChange:z=>d({...f,twoFA:!!z})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"limit-day",children:"Max Tokens / Day"}),l.jsx(it,{id:"limit-day",type:"number",min:0,value:f.perDay,onChange:z=>d({...f,perDay:Number(z.target.value)})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"limit-month",children:"Max Tokens / Month"}),l.jsx(it,{id:"limit-month",type:"number",min:0,value:f.perMonth,onChange:z=>d({...f,perMonth:Number(z.target.value)})})]})]}),l.jsxs("div",{className:"flex gap-2 pt-2",children:[l.jsx(ne,{onClick:xe,disabled:c,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",children:"Save"}),l.jsx(ne,{variant:"outline",onClick:()=>r(!1),className:"flex-1",children:"Cancel"})]})]})]})}),l.jsx(Rr,{open:i,onOpenChange:a,children:l.jsxs(mr,{className:"sm:max-w-md bg-background border",children:[l.jsx(gr,{children:l.jsxs(vr,{children:["Token Usage",o?` — ${o.display_name||o.email}`:""]})}),l.jsxs("div",{className:"space-y-4 py-2",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:"Timeframe"}),l.jsxs(Tt,{value:h,onValueChange:async z=>{const G=z;p(G),o&&await He(o.user_id,G)},children:[l.jsx(jt,{className:"bg-background border",children:l.jsx(Ot,{})}),l.jsxs(kt,{className:"bg-background border z-50",children:[l.jsx(Ae,{value:"7d",children:"Last 7 days"}),l.jsx(Ae,{value:"30d",children:"Last 30 days"}),l.jsx(Ae,{value:"this_month",children:"This month"})]})]})]}),l.jsxs("div",{className:"rounded-md border p-4",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Tokens"}),l.jsx("div",{className:"text-2xl font-bold",children:y?"…":(m==null?void 0:m.toLocaleString())??0})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsxs("div",{className:"rounded-md border p-3",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Assigned To Agent"}),l.jsx("div",{className:"text-xl font-semibold",children:(w==null?void 0:w.assignedTo)??0})]}),l.jsxs("div",{className:"rounded-md border p-3",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Takeovers Initiated"}),l.jsx("div",{className:"text-xl font-semibold",children:(w==null?void 0:w.assignedBy)??0})]}),l.jsxs("div",{className:"rounded-md border p-3",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Resolved by Agent"}),l.jsx("div",{className:"text-xl font-semibold",children:(w==null?void 0:w.resolvedBy)??0})]}),l.jsxs("div",{className:"rounded-md border p-3",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"AI→Agent Handovers"}),l.jsx("div",{className:"text-xl font-semibold",children:(w==null?void 0:w.handoverFromAI)??0})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx(ne,{variant:"outline",onClick:()=>a(!1),children:"Close"})})]})]})})]})},Kp=["create","read","update","delete"],bd=e=>{const t=(e||"").toLowerCase();return t==="edit"?"update":t==="remove"?"delete":t},ePe=()=>{const[e,t]=g.useState([]),[n,r]=g.useState([]),[i,a]=g.useState([]),[o,s]=g.useState(!0),[c,u]=g.useState(null),[f,d]=g.useState("roles"),{toast:h}=ll(),{refreshRBAC:p}=Ga(),[m,v]=g.useState({}),y=["conversations","users","channels","analytics","topup","config"],x=["view","create","update","delete","export"],[w,b]=g.useState({}),[S,j]=g.useState(!1),[_,k]=g.useState(!1),E=async()=>{try{s(!0);const{data:M,error:T}=await X.from("roles").select("*").order("name");if(T)throw T;t(M||[]);const{data:C,error:U}=await X.from("permissions").select("*").order("resource",{ascending:!0});if(U)throw U;r(C||[]);const{data:K,error:Q}=await X.from("role_permissions").select("*");if(Q)throw Q;a(K||[])}catch(M){console.error("Error fetching RBAC data:",M),h({title:"Error",description:"Failed to fetch permissions data",variant:"destructive"})}finally{s(!1)}};g.useEffect(()=>{E()},[]),g.useEffect(()=>{(async()=>{if(c)try{j(!0);const{data:T,error:C}=await X.rpc("get_role_policy",{p_role:c.id});if(C)throw C;const K=(T||{}).resources||{},Q={};for(const Y of y)Q[Y]=new Set(Array.isArray(K[Y])?K[Y]:[]);b(Q)}catch(T){console.warn("Failed to load policy",T),b({})}finally{j(!1)}})()},[c==null?void 0:c.id]);const I=(M,T)=>{b(C=>{const U=new Set(C[M]||[]);return U.has(T)?U.delete(T):U.add(T),{...C,[M]:U}})},P=async()=>{if(c)try{k(!0);const M={resources:{}};for(const C of y)M.resources[C]=Array.from(w[C]||[]);const{error:T}=await X.rpc("put_role_policy",{p_role:c.id,p_policy:M});if(T)throw T;await It({action:"rbac.policy_update",resource:"rbac",context:{role_id:c.id,policy:M}}),h({title:"Saved",description:"Policy updated"})}catch(M){console.error(M),h({title:"Error",description:"Failed to save policy",variant:"destructive"})}finally{k(!1)}},N=(M,T)=>i.some(C=>C.role_id===M&&C.permission_id===T),O=async(M,T)=>{try{const C=N(M,T),U=`${M}:${T}`;if(v(K=>({...K,[U]:!0})),C){const{error:K}=await X.rpc("revoke_role_permission",{p_role:M,p_perm:T});if(K)throw K;a(Q=>Q.filter(Y=>!(Y.role_id===M&&Y.permission_id===T)));try{await It({action:"rbac.revoke",resource:"rbac",context:{role_id:M,permission_id:T}})}catch{}}else{const{error:K}=await X.rpc("grant_role_permission",{p_role:M,p_perm:T});if(K)throw K;a(Q=>[...Q,{role_id:M,permission_id:T}]);try{await It({action:"rbac.grant",resource:"rbac",context:{role_id:M,permission_id:T}})}catch{}}await p(),h({title:"Success",description:`Permission ${C?"removed from":"added to"} role`})}catch(C){console.error("Error updating role permission:",C),h({title:"Error",description:"Failed to update permission",variant:"destructive"})}finally{const C=`${M}:${T}`;v(U=>({...U,[C]:!1}))}},R=n.filter(M=>Kp.includes(bd(M.action))),F=n.filter(M=>!Kp.includes(bd(M.action))).sort((M,T)=>{if(M.resource!==T.resource)return M.resource.localeCompare(T.resource);const C=bd(M.action),U=bd(T.action);return C.localeCompare(U)}),W=R.reduce((M,T)=>{M[T.resource]||(M[T.resource]={});const C=bd(T.action);return M[T.resource][C]=T,M},{}),D=F.reduce((M,T)=>(M[T.resource]||(M[T.resource]=[]),M[T.resource].push(T),M),{}),B=M=>i.filter(C=>C.role_id===M).length,$=M=>M.replace("_"," ").toUpperCase(),L=M=>M.replace(/_/g," ").replace(/\b\w/g,T=>T.toUpperCase()),A=M=>{const T=M.name||"",C=T.indexOf(": ");if(C!==-1)return T.slice(C+2)};return o?l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Role Permissions"}),l.jsx("p",{className:"text-muted-foreground",children:"Manage role permissions"})]})}),l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Vm,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4 animate-pulse"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading roles..."})]})})]}):f==="roles"?l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Role Permissions"}),l.jsx("p",{className:"text-muted-foreground",children:"Manage role permissions"})]})}),l.jsxs(Ie,{children:[l.jsxs(ct,{children:[l.jsx(ut,{children:"Roles"}),l.jsx(_i,{children:"Click on a role to manage its permissions"})]}),l.jsx(Je,{children:l.jsxs(gc,{children:[l.jsx(vc,{children:l.jsxs(Tr,{children:[l.jsx(Bt,{children:"Role Name"}),l.jsx(Bt,{children:"Description"}),l.jsx(Bt,{children:"Permissions"}),l.jsx(Bt,{children:"Actions"})]})}),l.jsx(yc,{children:e.map(M=>l.jsxs(Tr,{children:[l.jsx(Nt,{className:"font-medium",children:l.jsx(bt,{variant:"outline",children:$(M.name)})}),l.jsx(Nt,{children:M.description}),l.jsx(Nt,{children:l.jsxs(bt,{variant:"secondary",children:[B(M.id)," permissions"]})}),l.jsx(Nt,{children:l.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>{u(M),d("configure")},children:[l.jsx(dc,{className:"h-4 w-4 mr-2"}),"Configure"]})})]},M.id))})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs(Ie,{children:[l.jsxs(ct,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(ut,{className:"text-sm font-medium",children:"Total Roles"}),l.jsx(Vm,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsx(Je,{children:l.jsx("div",{className:"text-2xl font-bold",children:e.length})})]}),l.jsxs(Ie,{children:[l.jsxs(ct,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(ut,{className:"text-sm font-medium",children:"Total Permissions"}),l.jsx(dc,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Je,{children:[l.jsx("div",{className:"text-2xl font-bold",children:n.length}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[R.length," CRUD + ",F.length," special"]})]})]}),l.jsxs(Ie,{children:[l.jsxs(ct,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(ut,{className:"text-sm font-medium",children:"Resources"}),l.jsx(dc,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Je,{children:[l.jsx("div",{className:"text-2xl font-bold",children:Object.keys(W).length}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"CRUD resources"})]})]})]})]}):f==="configure"&&c?l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsx(ne,{variant:"ghost",onClick:()=>d("roles"),className:"mb-2",children:"← Back to Roles"}),l.jsxs("h1",{className:"text-2xl font-bold tracking-tight",children:["Configure ",$(c.name)]}),l.jsx("p",{className:"text-muted-foreground",children:c.description})]})}),l.jsxs(Ie,{children:[l.jsxs(ct,{children:[l.jsx(ut,{children:"CRUD Permissions"}),l.jsx(_i,{children:"Standard Create, Read, Update, and Delete permissions"})]}),l.jsx(Je,{children:l.jsx("div",{className:"w-full overflow-x-auto rounded-md border",children:l.jsxs(gc,{children:[l.jsx(vc,{children:l.jsxs(Tr,{children:[l.jsx(Bt,{className:"w-1/3",children:"Resource"}),Kp.map(M=>l.jsx(Bt,{className:"capitalize text-center",children:M},M))]})}),l.jsx(yc,{children:Object.entries(W).map(([M,T])=>l.jsxs(Tr,{children:[l.jsx(Nt,{className:"font-medium",children:L(M)}),Kp.map(C=>{const U=T[C];return l.jsx(Nt,{className:"text-center",children:U?l.jsx("div",{className:"inline-flex items-center gap-2",children:l.jsx(Aa,{id:`${M}-${C}`,checked:N(c.id,U.id),onCheckedChange:()=>O(c.id,U.id),disabled:!!m[`${c.id}:${U.id}`],className:"border-blue-300 focus-visible:ring-blue-400 data-[state=checked]:bg-blue-100 data-[state=checked]:border-blue-400 data-[state=checked]:text-blue-600"})}):l.jsx("div",{className:"inline-flex items-center gap-2",children:l.jsx(Aa,{disabled:!0,checked:!1,className:"border-blue-300 data-[state=checked]:bg-blue-100 data-[state=checked]:border-blue-400 data-[state=checked]:text-blue-600"})})},C)})]},M))})]})})})]}),l.jsxs(Ie,{children:[l.jsxs(ct,{children:[l.jsx(ut,{children:"Policy Rules (Matrix)"}),l.jsx(_i,{children:"Fine-grained allow-list per resource and action"})]}),l.jsxs(Je,{children:[S?l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading policy…"}):l.jsx("div",{className:"w-full overflow-x-auto rounded-md border",children:l.jsxs(gc,{children:[l.jsx(vc,{children:l.jsxs(Tr,{children:[l.jsx(Bt,{className:"w-1/3",children:"Resource"}),x.map(M=>l.jsx(Bt,{className:"capitalize text-center",children:M},M))]})}),l.jsx(yc,{children:y.map(M=>l.jsxs(Tr,{children:[l.jsx(Nt,{className:"font-medium",children:L(M)}),x.map(T=>{var C;return l.jsx(Nt,{className:"text-center",children:l.jsx(Aa,{checked:!!((C=w[M])!=null&&C.has(T)),onCheckedChange:()=>I(M,T),className:"border-blue-300 focus-visible:ring-blue-400 data-[state=checked]:bg-blue-100 data-[state=checked]:border-blue-400 data-[state=checked]:text-blue-600"})},T)})]},M))})]})}),l.jsx("div",{className:"mt-3",children:l.jsx(ne,{onClick:P,disabled:_,children:_?"Saving…":"Save Policy"})})]})]}),l.jsxs(Ie,{children:[l.jsxs(ct,{children:[l.jsx(ut,{children:"Special Permissions"}),l.jsx(_i,{children:"Advanced permissions that don't follow the standard CRUD pattern"})]}),l.jsx(Je,{children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(D).map(([M,T])=>l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"font-medium text-sm uppercase tracking-wide text-muted-foreground border-b pb-2",children:L(M)}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:T.map(C=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Aa,{id:C.id,checked:N(c.id,C.id),onCheckedChange:()=>O(c.id,C.id),disabled:!!m[`${c.id}:${C.id}`],className:"border-blue-300 focus-visible:ring-blue-400 data-[state=checked]:bg-blue-100 data-[state=checked]:border-blue-400 data-[state=checked]:text-blue-600"}),l.jsx(Ge,{htmlFor:C.id,className:"text-sm font-normal cursor-pointer",children:A(C)})]},C.id))})]},M))})})]}),l.jsxs(Ie,{children:[l.jsxs(ct,{children:[l.jsx(ut,{children:"Permission Summary"}),l.jsxs(_i,{children:["Current permissions assigned to ",$(c.name)]})]}),l.jsx(Je,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"CRUD Permissions"}),l.jsxs(bt,{variant:"secondary",children:[i.filter(M=>M.role_id===c.id&&R.some(T=>T.id===M.permission_id)).length," assigned"]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Special Permissions"}),l.jsxs(bt,{variant:"secondary",children:[i.filter(M=>M.role_id===c.id&&F.some(T=>T.id===M.permission_id)).length," assigned"]})]})]})})]})]}):null};function tPe(){var F,W;Ri();const[e,t]=g.useState([]),[n,r]=g.useState(20),[i,a]=g.useState(1),[o,s]=g.useState(0),[c,u]=g.useState("all"),[f,d]=g.useState("all"),[h,p]=g.useState(""),[m,v]=g.useState(""),[y,x]=g.useState([]),[w,b]=g.useState([]),[S,j]=g.useState({}),[_,k]=g.useState(!1),[E,I]=g.useState(null),P=g.useMemo(()=>({from:h?new Date(h).toISOString():null,to:m?new Date(m).toISOString():null}),[h,m]),N=async()=>{const{data:D}=await X.from("audit_logs").select("user_id").not("user_id","is",null).limit(1e3),B=Array.from(new Set((D||[]).map(L=>L.user_id)));if(B.length>0){const{data:L}=await X.from("v_users").select("id,email,display_name").in("id",B),A=(L||[]).map(T=>({id:T.id,email:T.email}));x(A);const M={};for(const T of L||[])M[T.id]={email:T.email,display_name:T.display_name};j(T=>({...T,...M}))}else x([]);const{data:$}=await X.from("audit_logs").select("action").limit(1e3);b(Array.from(new Set(($||[]).map(L=>L.action))))},O=async()=>{const D=(i-1)*n,{data:B,error:$}=await X.rpc("get_audit_logs",{p_user_id:c!=="all"?c:null,p_action:f!=="all"?f:null,p_from:P.from,p_to:P.to,p_limit:n,p_offset:D});if(!$){const L=B||[];t(L);let A=X.from("audit_logs").select("id",{count:"exact"});c!=="all"&&(A=A.eq("user_id",c)),f!=="all"&&(A=A.eq("action",f)),P.from&&(A=A.gte("created_at",P.from)),P.to&&(A=A.lte("created_at",P.to));const{count:M}=await A;s(M||0);const C=Array.from(new Set(L.map(U=>U.user_id).filter(Boolean))).filter(U=>!S[U]);if(C.length>0){const{data:U}=await X.from("v_users").select("id,email,display_name").in("id",C),K={};for(const Q of U||[])K[Q.id]={email:Q.email,display_name:Q.display_name};Object.keys(K).length&&j(Q=>({...Q,...K}))}}};g.useEffect(()=>{N()},[]),g.useEffect(()=>{O()},[i,n,c,f,P.from,P.to]),g.useEffect(()=>{const D=X.channel("realtime:logs").on("postgres_changes",{event:"INSERT",schema:"public",table:"audit_logs"},B=>{const $=B.new;t(A=>[$,...A].slice(0,n));const L=$.user_id;L&&!S[L]&&X.from("v_users").select("id,email,display_name").eq("id",L).maybeSingle().then(({data:A})=>{A&&j(M=>({...M,[A.id]:{email:A.email,display_name:A.display_name}}))}),s(A=>A+1)}).subscribe();return()=>{X.removeChannel(D)}},[n]);const R=Math.max(1,Math.ceil(o/n));return l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsx("h1",{className:"text-2xl font-semibold",children:"Logs"}),l.jsxs(Ie,{children:[l.jsx(ct,{children:l.jsx(ut,{children:"Filters"})}),l.jsxs(Je,{className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-muted-foreground",children:"User"}),l.jsxs(Tt,{value:c,onValueChange:u,children:[l.jsx(jt,{className:"h-9",children:l.jsx(Ot,{placeholder:"All"})}),l.jsxs(kt,{children:[l.jsx(Ae,{value:"all",children:"All"}),y.map(D=>l.jsx(Ae,{value:D.id,children:D.email},D.id))]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-muted-foreground",children:"Action"}),l.jsxs(Tt,{value:f,onValueChange:d,children:[l.jsx(jt,{className:"h-9",children:l.jsx(Ot,{placeholder:"All"})}),l.jsxs(kt,{children:[l.jsx(Ae,{value:"all",children:"All"}),w.map(D=>l.jsx(Ae,{value:D,children:D},D))]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-muted-foreground",children:"From"}),l.jsx(it,{type:"date",value:h,onChange:D=>p(D.target.value),className:"h-9"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-muted-foreground",children:"To"}),l.jsx(it,{type:"date",value:m,onChange:D=>v(D.target.value),className:"h-9"})]}),l.jsxs("div",{className:"flex items-end gap-2",children:[l.jsxs(Tt,{value:String(n),onValueChange:D=>r(Number(D)),children:[l.jsx(jt,{className:"h-9",children:l.jsx(Ot,{placeholder:"Page size"})}),l.jsx(kt,{children:[10,20,50,100].map(D=>l.jsxs(Ae,{value:String(D),children:[D," / page"]},D))})]}),l.jsx(ne,{variant:"outline",onClick:()=>{const D=e.map(B=>{var $;return{time:new Date(B.created_at).toISOString(),user:B.user_id?(($=S[B.user_id])==null?void 0:$.email)||B.user_id:"",action:B.action,resource:B.resource,resource_id:B.resource_id||"",ip:B.ip?B.ip.replace(/(\d+\.\d+\.\d+)\.\d+/,"$1.*"):"",context:JSON.stringify(f$(B.context||{}))}});w7(`logs_${new Date().toISOString()}.csv`,D)},children:"Export CSV"})]})]})]}),l.jsxs(Ie,{children:[l.jsx(ct,{children:l.jsxs(ut,{children:["Entries (",o,")"]})}),l.jsxs(Je,{children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs(gc,{children:[l.jsx(vc,{children:l.jsxs(Tr,{children:[l.jsx(Bt,{children:"Time"}),l.jsx(Bt,{children:"User"}),l.jsx(Bt,{children:"Action"}),l.jsx(Bt,{children:"Resource"}),l.jsx(Bt,{children:"Resource ID"}),l.jsx(Bt,{children:"IP"}),l.jsx(Bt,{})]})}),l.jsx(yc,{children:e.map(D=>{var B,$;return l.jsxs(Tr,{children:[l.jsx(Nt,{children:new Date(D.created_at).toLocaleString()}),l.jsx(Nt,{children:D.user_id?((B=S[D.user_id])==null?void 0:B.display_name)||(($=S[D.user_id])==null?void 0:$.email)||D.user_id:"—"}),l.jsx(Nt,{children:D.action}),l.jsx(Nt,{children:D.resource}),l.jsx(Nt,{children:D.resource_id||"—"}),l.jsx(Nt,{children:D.ip||"—"}),l.jsx(Nt,{className:"text-right",children:l.jsx(ne,{variant:"outline",size:"sm",onClick:()=>{I(D),k(!0)},children:"Details"})})]},D.id)})})]})}),l.jsxs("div",{className:"flex items-center justify-between mt-4",children:[l.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",i," of ",R]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ne,{variant:"outline",disabled:i<=1,onClick:()=>a(D=>Math.max(1,D-1)),children:"Prev"}),l.jsx(ne,{variant:"outline",disabled:i>=R,onClick:()=>a(D=>Math.min(R,D+1)),children:"Next"})]})]})]})]}),l.jsx(Rr,{open:_,onOpenChange:k,children:l.jsxs(mr,{className:"max-w-2xl",children:[l.jsxs(gr,{children:[l.jsx(vr,{children:"Log Details"}),l.jsx(Ou,{children:E?new Date(E.created_at).toLocaleString():""})]}),E&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-muted-foreground",children:"User"}),l.jsx("div",{children:E.user_id?((F=S[E.user_id])==null?void 0:F.display_name)||((W=S[E.user_id])==null?void 0:W.email)||E.user_id:"—"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-muted-foreground",children:"Action"}),l.jsx("div",{children:E.action})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-muted-foreground",children:"Resource"}),l.jsx("div",{children:E.resource})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-muted-foreground",children:"Resource ID"}),l.jsx("div",{children:E.resource_id||"—"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-muted-foreground",children:"IP"}),l.jsx("div",{children:E.ip||"—"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-muted-foreground",children:"User Agent"}),l.jsx("div",{className:"truncate",title:E.user_agent||void 0,children:E.user_agent||"—"})]})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Context"}),l.jsx("pre",{className:"max-h-64 overflow-auto rounded bg-muted p-3 text-xs",children:JSON.stringify(E.context??{},null,2)})]})]}),l.jsx(xF,{children:l.jsx(ne,{variant:"outline",onClick:()=>k(!1),children:"Close"})})]})})]})}const a2=({children:e})=>{var u,f,d,h;const{user:t,signOut:n}=Ri();g.useState("profile");const[r,i]=g.useState(!0),[a,o]=g.useState(!1),s=(p,m)=>p?p.split(" ").map(v=>v[0]).join("").toUpperCase().slice(0,2):m.substring(0,2).toUpperCase(),c=async()=>{try{await n()}catch(p){console.error("Error signing out:",p)}};return l.jsxs(Ca,{children:[l.jsx(Ea,{asChild:!0,children:e}),l.jsx(Xi,{className:"w-[300px] h-[320px] p-0 overflow-hidden",side:"left",align:"start",children:l.jsx("div",{className:"flex h-full",children:l.jsx("div",{className:"flex-1 p-4",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs(Jo,{className:"h-10 w-10",children:[l.jsx(Tu,{src:(u=t==null?void 0:t.user_metadata)==null?void 0:u.avatar_url,alt:((f=t==null?void 0:t.user_metadata)==null?void 0:f.full_name)||(t==null?void 0:t.email)}),l.jsx(Zo,{className:"text-sm bg-blue-100 text-blue-600",children:s((d=t==null?void 0:t.user_metadata)==null?void 0:d.full_name,(t==null?void 0:t.email)||"")})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-sm font-semibold",children:((h=t==null?void 0:t.user_metadata)==null?void 0:h.full_name)||"Audit 4"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:t==null?void 0:t.email})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-xs text-muted-foreground",children:"Online Status"}),l.jsx("div",{className:"text-xs font-medium",children:"Online"})]}),l.jsx(rl,{checked:r,onCheckedChange:i,className:"scale-75"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-xs text-muted-foreground",children:"Notifications"}),l.jsx("div",{className:"text-xs font-medium",children:"Disabled"})]}),l.jsx(rl,{checked:a,onCheckedChange:o,className:"scale-75"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs font-medium",children:"Reset Password"}),l.jsx(ne,{variant:"ghost",size:"sm",className:"p-1 h-6 w-6",children:l.jsx(Wm,{className:"h-3 w-3 text-muted-foreground"})})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs font-medium",children:"Log Out"}),l.jsx(ne,{variant:"ghost",size:"sm",className:"p-1 h-6 w-6",onClick:c,children:l.jsx(JS,{className:"h-3 w-3 text-muted-foreground"})})]})]})]})})})})]})};function nPe({icon:e,label:t,active:n=!1,onClick:r,collapsed:i,permissions:a,requireAll:o=!1,resourceAny:s=[]}){const{hasAnyPermission:c,hasAllPermissions:u,userPermissions:f,loading:d}=Ga();return d||!(o?u(a):c(a))?null:l.jsxs("button",{type:"button",onClick:r,className:pe("group grid h-10 w-full grid-cols-[1.125rem,1fr] items-center rounded-md px-3 text-left text-sm transition-all duration-200 gap-2",n?"bg-blue-100 text-blue-700 border border-blue-200":"text-muted-foreground hover:bg-blue-50 hover:text-blue-600 hover:border hover:border-blue-100",i&&"grid-cols-[1.125rem,0fr]"),"aria-current":n?"page":void 0,title:i?t:void 0,children:[l.jsx(e,{className:`h-4 w-4 shrink-0 transition-colors ${n?"text-blue-600":"group-hover:text-blue-600"}`}),l.jsx("span",{className:pe("overflow-hidden whitespace-nowrap text-ellipsis transition-opacity duration-200",i&&"opacity-0 pointer-events-none"),children:t})]})}const fb={chat:{key:"chat",label:"Chat",icon:Hm,permissions:["messages.read","threads.read"],requireAll:!1,description:"View and manage conversations"},analytics:{key:"analytics",label:"Analytics",icon:SH,permissions:["analytics.view_kpi","analytics.view_containment_rate","analytics.view_handover_rate"],requireAll:!1,description:"View performance metrics and insights"},logs:{key:"logs",label:"Logs",icon:AH,permissions:["audit_logs.read"],requireAll:!0,description:"View user action logs"},contacts:{key:"contacts",label:"Contacts",icon:o$,permissions:["contacts.read","contact_identities.read"],requireAll:!1,description:"Manage customer contacts and identities"},platforms:{key:"platforms",label:"Connected Platforms",icon:DH,permissions:["channels.read"],requireAll:!0,description:"Manage connected channels and integrations"},aiagents:{key:"aiagents",label:"AI Agents",icon:ZM,permissions:["ai_profiles.read"],requireAll:!1,description:"Configure and manage AI agents"},humanagents:{key:"humanagents",label:"Human Agents",icon:BH,permissions:["super_agents.read"],requireAll:!0,description:"Manage human agent assignments and roles"},permissions:{key:"permissions",label:"Permissions",icon:Vm,permissions:["access_rules.configure"],requireAll:!0,description:"Manage roles and permissions"}},L_=["chat","analytics","logs","contacts","platforms","aiagents","humanagents","permissions"];function rPe(){const{hasAnyPermission:e,hasAllPermissions:t}=Ga(),n=o=>{const s=fb[o];return s?s.requireAll?t(s.permissions):e(s.permissions):!1},r=()=>L_.filter(o=>n(o));return{canAccessNavItem:n,getAccessibleNavItems:r,getDefaultNavItem:()=>{const o=r();return o.length>0?o[0]:null},getNavItem:o=>fb[o],navigationConfig:fb}}const Gp=({step:e,title:t,description:n,emoji:r})=>l.jsxs("div",{className:"flex items-start gap-4 rounded-lg border border-border bg-card p-4 shadow-sm transition-transform hover:-translate-y-0.5",children:[l.jsx("div",{className:"text-2xl animate-float","aria-hidden":!0,children:r}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(bt,{variant:"secondary",children:[e,"."]}),l.jsx("h3",{className:"text-base font-semibold text-foreground",children:t})]}),l.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:n})]})]}),iPe=()=>{var y,x,w,b,S;const[e,t]=g.useState("chat"),[n,r]=g.useState(!1),{user:i,signOut:a}=Ri();Ka();const[o,s]=gG(),{getDefaultNavItem:c,getNavItem:u,canAccessNavItem:f}=rPe(),{loading:d}=Ga(),h=L_,p=(j,_)=>{const k=new URLSearchParams(o);k.set("menu",j),s(k,_)};g.useEffect(()=>{if(d)return;const j=o.get("menu");if(j&&h.includes(j)){const _=j;if(f(_))_!==e&&t(_);else{const k=c();k&&k!==e&&(t(k),p(k,{replace:!0}))}}else j||p("chat",{replace:!0})},[o,f,c,d]),g.useEffect(()=>{if(d)return;const j=c();(!h.includes(e)||!f(e))&&j&&(t(j),p(j,{replace:!0}))},[c,f,e,h,d]);const m=async()=>{try{await a()}catch(j){console.error("Error signing out:",j)}},v=(j,_)=>j?j.split(" ").map(k=>k[0]).join("").toUpperCase().slice(0,2):_.substring(0,2).toUpperCase();return l.jsx("div",{className:"min-h-screen bg-background text-foreground",children:l.jsxs("div",{className:"mx-auto flex min-h-screen",children:[l.jsxs("aside",{className:`shrink-0 border-r border-sidebar-border bg-sidebar transition-all duration-300 ease-in-out ${n?"w-64":"w-20"} md:flex md:flex-col p-4 sticky top-0 h-screen overflow-y-auto`,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[l.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 transition-all duration-200",children:[l.jsx("div",{className:"h-8 w-8 shrink-0 rounded-full bg-gradient-to-tr from-brand to-primary","aria-hidden":!0}),l.jsx("span",{className:`text-lg font-semibold transition-opacity duration-200 whitespace-nowrap ${n?"opacity-100":"opacity-0 w-0 overflow-hidden"}`,children:"Cekat AI"})]}),l.jsx(Nf,{className:"my-4"}),l.jsx("nav",{className:"flex flex-col gap-1 flex-1",children:L_.map(j=>{const _=u(j);return l.jsx(nPe,{icon:_.icon,label:_.label,active:e===j,onClick:()=>{t(j),p(j)},collapsed:!n,permissions:_.permissions,requireAll:_.requireAll,resourceAny:_.resourceAny},j)})}),l.jsxs("div",{className:"mt-auto flex flex-col gap-1 pt-6",children:[l.jsx(Nf,{className:"mb-3"}),l.jsx(a2,{children:l.jsxs("button",{type:"button",className:pe("group grid h-10 w-full grid-cols-[1.125rem,1fr] items-center rounded-md px-3 text-left text-sm transition-all duration-200 gap-2","text-muted-foreground hover:bg-blue-50 hover:text-blue-600 hover:border hover:border-blue-100",!n&&"grid-cols-[1.125rem,0fr]"),title:n?void 0:"Profile",children:[l.jsx(zH,{className:"h-4 w-4 shrink-0 transition-colors group-hover:text-blue-600"}),l.jsx("span",{className:pe("overflow-hidden whitespace-nowrap text-ellipsis transition-opacity duration-200",!n&&"opacity-0 pointer-events-none"),children:"Profile"})]})})]})]}),l.jsxs("main",{className:"flex-1",children:[l.jsx("header",{className:"sticky top-0 z-10 border-b border-border bg-background/80 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:l.jsxs("div",{className:"flex items-center justify-between gap-4 px-4 py-3 md:px-6",children:[l.jsx("div",{className:"flex items-center gap-2 md:gap-3"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(bt,{className:"hidden sm:inline-flex bg-success text-success-foreground",children:"Online"}),l.jsxs("div",{className:"text-right hidden sm:block",children:[l.jsx("div",{className:"text-sm font-medium",children:((y=i==null?void 0:i.user_metadata)==null?void 0:y.full_name)||"User"}),l.jsx("div",{className:"text-xs text-muted-foreground",children:i==null?void 0:i.email})]}),l.jsxs(e1,{children:[l.jsx(t1,{asChild:!0,children:l.jsx(ne,{variant:"ghost",className:"relative h-9 w-9 rounded-full",children:l.jsxs(Jo,{className:"h-9 w-9",children:[l.jsx(Tu,{src:(x=i==null?void 0:i.user_metadata)==null?void 0:x.avatar_url,alt:((w=i==null?void 0:i.user_metadata)==null?void 0:w.full_name)||(i==null?void 0:i.email)}),l.jsx(Zo,{className:"text-sm",children:v((b=i==null?void 0:i.user_metadata)==null?void 0:b.full_name,(i==null?void 0:i.email)||"")})]})})}),l.jsxs(ig,{className:"w-56",align:"end",forceMount:!0,children:[l.jsx(c4,{className:"font-normal",children:l.jsxs("div",{className:"flex flex-col space-y-1",children:[l.jsx("p",{className:"text-sm font-medium leading-none",children:((S=i==null?void 0:i.user_metadata)==null?void 0:S.full_name)||"User"}),l.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:i==null?void 0:i.email})]})}),l.jsx(n1,{}),l.jsx(a2,{children:l.jsxs("button",{className:"flex items-center w-full px-2 py-1.5 text-sm text-left hover:bg-accent hover:text-accent-foreground rounded-sm",children:[l.jsx(a$,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Profile"})]})}),l.jsx(n1,{}),l.jsxs(ec,{onClick:m,children:[l.jsx(JS,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Log out"})]})]})]})]})]})}),l.jsx("section",{className:"px-4 py-6 md:px-8",children:e==="chat"?l.jsxs(l.Fragment,{children:[l.jsx("h1",{className:"sr-only",children:"Chat Inbox"}),l.jsx(sie,{})]}):e==="analytics"?l.jsxs(l.Fragment,{children:[l.jsx("h1",{className:"sr-only",children:"Analytics Dashboard"}),l.jsx(INe,{})]}):e==="contacts"?l.jsxs(l.Fragment,{children:[l.jsx("h1",{className:"sr-only",children:"Contacts Management"}),l.jsx(Aie,{})]}):e==="platforms"?l.jsxs(l.Fragment,{children:[l.jsx("h1",{className:"sr-only",children:"Connected Platforms"}),l.jsx(Rie,{})]}):e==="aiagents"?l.jsxs(l.Fragment,{children:[l.jsx("h1",{className:"sr-only",children:"AI Agents"}),l.jsx(JNe,{})]}):e==="humanagents"?l.jsxs(l.Fragment,{children:[l.jsx("h1",{className:"sr-only",children:"Human Agents"}),l.jsx(ZNe,{})]}):e==="permissions"?l.jsxs(ws,{permission:"access_rules.configure",fallback:l.jsx("div",{className:"text-sm text-muted-foreground",children:"You do not have access to Permissions."}),children:[l.jsx("h1",{className:"sr-only",children:"Permissions"}),l.jsx(ePe,{})]}):e==="logs"?l.jsxs(ws,{permission:"audit_logs.read",fallback:l.jsx("div",{className:"text-sm text-muted-foreground",children:"You do not have access to Logs."}),children:[l.jsx("h1",{className:"sr-only",children:"Logs"}),l.jsx(tPe,{})]}):l.jsxs(l.Fragment,{children:[l.jsx("h1",{className:"text-2xl font-bold tracking-tight md:text-3xl",children:"Selamat datang kembali di Cekat AI!"}),l.jsxs("div",{className:"mt-6 grid gap-4 md:max-w-2xl",children:[l.jsx(Gp,{step:1,title:"Hubungkan Platform",description:"Mulai terima pesan dari Whatsapp, IG, dan FB Anda!",emoji:"📨"}),l.jsx(Gp,{step:2,title:"Buat AI Agent",description:"Jawab pesan masuk dengan Agent AI Anda.",emoji:"🤖"}),l.jsx(Gp,{step:3,title:"Undang Agen Manusia",description:"Undang tim Anda untuk membantu menjawab chat.",emoji:"🧑‍💼"}),l.jsx(Gp,{step:4,title:"Konek AI Agent ke Inbox",description:"Hubungkan AI Agent dan Human Agent ke platform.",emoji:"🔗"})]}),l.jsxs("p",{className:"mt-4 text-sm text-muted-foreground",children:["Butuh bantuan lebih? ",l.jsx("a",{className:"text-brand underline underline-offset-4",href:"#",children:"Lihat Tutorial Youtube kami"})]})]})})]})]})})};function aPe(){var s,c,u,f;const{user:e,signOut:t}=Ri(),[n,r]=g.useState(!1),i=async()=>{r(!0);try{await t(),Oe.success("Signed out successfully")}catch{Oe.error("Failed to sign out")}finally{r(!1)}};if(!e)return null;const a=(d,h)=>d?d.split(" ").map(p=>p[0]).join("").toUpperCase().slice(0,2):h.substring(0,2).toUpperCase(),o=d=>new Date(d).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return l.jsxs(Ie,{className:"w-full max-w-md mx-auto",children:[l.jsxs(ct,{className:"text-center",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsxs(Jo,{className:"h-20 w-20",children:[l.jsx(Tu,{src:(s=e.user_metadata)==null?void 0:s.avatar_url,alt:((c=e.user_metadata)==null?void 0:c.full_name)||e.email}),l.jsx(Zo,{className:"text-lg",children:a((u=e.user_metadata)==null?void 0:u.full_name,e.email||"")})]})}),l.jsx(ut,{className:"text-xl",children:((f=e.user_metadata)==null?void 0:f.full_name)||"User"}),l.jsx(_i,{children:e.email}),l.jsx("div",{className:"flex justify-center mt-2",children:l.jsxs(bt,{variant:"secondary",className:"flex items-center gap-1",children:[l.jsx(Vm,{className:"w-3 h-3"}),e.email_confirmed_at?"Verified":"Unverified"]})})]}),l.jsxs(Je,{className:"space-y-4",children:[l.jsx(Nf,{}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Cw,{className:"w-4 h-4 text-muted-foreground"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Email"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:e.email})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(jw,{className:"w-4 h-4 text-muted-foreground"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Member since"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:o(e.created_at)})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(a$,{className:"w-4 h-4 text-muted-foreground"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"User ID"}),l.jsxs("p",{className:"text-sm text-muted-foreground font-mono",children:[e.id.substring(0,8),"..."]})]})]})]}),l.jsx(Nf,{}),l.jsxs(ne,{variant:"outline",className:"w-full",onClick:i,disabled:n,children:[l.jsx(JS,{className:"w-4 h-4 mr-2"}),n?"Signing out...":"Sign Out"]})]})]})}function oPe(){const e=Ka();return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs(ne,{variant:"ghost",onClick:()=>e("/"),className:"mb-4",children:[l.jsx(Fv,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Profile"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your account settings and preferences"})]}),l.jsx(aPe,{})]})})}function o2(){const[e,t]=g.useState(""),[n,r]=g.useState(""),[i,a]=g.useState(!1),[o,s]=g.useState(!1),[c,u]=g.useState(null),[f,d]=g.useState(!1),h=Ka();g.useEffect(()=>{(async()=>{try{const y=new URL(window.location.href).searchParams.get("code");y&&await X.auth.exchangeCodeForSession(y);const{data:{session:x}}=await X.auth.getSession();x||u("Invalid or expired reset link. Please request a new password reset.")}catch(v){console.warn("Password setup init failed",v)}})()},[]);const p=async m=>{if(m.preventDefault(),s(!0),u(null),e!==n){u("Passwords do not match"),s(!1);return}try{const{error:v}=await X.auth.updateUser({password:e});if(v)throw v;try{const{data:{user:y}}=await X.auth.getUser();y&&await X.from("users_profile").update({password_set:!0}).eq("user_id",y.id)}catch(y){console.warn("Failed to update password_set flag:",y)}d(!0),Oe.success("Password updated successfully!");try{await X.auth.signOut()}catch{}try{localStorage.removeItem("otpVerified"),localStorage.removeItem("otpRequired"),localStorage.removeItem("app.lastAuthEvent"),localStorage.removeItem("auth.intent")}catch{}setTimeout(()=>{h("/")},1500)}catch(v){console.error("Password reset error:",v),u(v instanceof Error?v.message:"Failed to update password"),Oe.error("Failed to update password")}finally{s(!1)}};return f?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:l.jsxs(Ie,{className:"w-full max-w-md",children:[l.jsxs(ct,{className:"text-center",children:[l.jsx(ut,{className:"text-2xl font-bold text-green-600",children:"Success!"}),l.jsx(_i,{children:"Your password has been updated successfully. You will be redirected to the login page shortly."})]}),l.jsx(Je,{className:"text-center",children:l.jsx(ne,{onClick:()=>h("/"),className:"w-full",children:"Go to Login"})})]})}):l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:l.jsxs(Ie,{className:"w-full max-w-md",children:[l.jsxs(ct,{className:"space-y-1",children:[l.jsxs(ne,{variant:"ghost",size:"sm",onClick:()=>h("/"),className:"absolute top-4 left-4",children:[l.jsx(Fv,{className:"w-4 h-4 mr-2"}),"Back to Login"]}),l.jsxs("div",{className:"text-center",children:[l.jsx(ut,{className:"text-2xl font-bold",children:"Reset Password"}),l.jsx(_i,{children:"Enter your new password below"})]})]}),l.jsxs(Je,{children:[c&&l.jsx(Ef,{className:"mb-4 border-red-200 bg-red-50",children:l.jsx(Af,{className:"text-red-800",children:c})}),l.jsxs("form",{onSubmit:p,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"password",children:"New Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(Wm,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(it,{id:"password",type:i?"text":"password",placeholder:"Enter new password",value:e,onChange:m=>t(m.target.value),className:"pl-10 pr-10",required:!0,minLength:6}),l.jsx(ne,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>a(!i),children:i?l.jsx(t$,{className:"h-4 w-4"}):l.jsx(n$,{className:"h-4 w-4"})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"confirm-password",children:"Confirm New Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(Wm,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(it,{id:"confirm-password",type:i?"text":"password",placeholder:"Confirm new password",value:n,onChange:m=>r(m.target.value),className:"pl-10",required:!0})]})]}),l.jsx(ne,{type:"submit",className:"w-full",disabled:o,children:o?l.jsxs(l.Fragment,{children:[l.jsx(St,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating password..."]}):"Update Password"})]})]})]})})}var sPe=Object.defineProperty,lPe=Object.defineProperties,cPe=Object.getOwnPropertyDescriptors,mv=Object.getOwnPropertySymbols,T6=Object.prototype.hasOwnProperty,O6=Object.prototype.propertyIsEnumerable,s2=(e,t,n)=>t in e?sPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uPe=(e,t)=>{for(var n in t||(t={}))T6.call(t,n)&&s2(e,n,t[n]);if(mv)for(var n of mv(t))O6.call(t,n)&&s2(e,n,t[n]);return e},dPe=(e,t)=>lPe(e,cPe(t)),fPe=(e,t)=>{var n={};for(var r in e)T6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&mv)for(var r of mv(e))t.indexOf(r)<0&&O6.call(e,r)&&(n[r]=e[r]);return n};function hPe(e){let t=setTimeout(e,0),n=setTimeout(e,10),r=setTimeout(e,50);return[t,n,r]}function pPe(e){let t=g.useRef();return g.useEffect(()=>{t.current=e}),t.current}var mPe=18,I6=40,gPe=`${I6}px`,vPe=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function yPe({containerRef:e,inputRef:t,pushPasswordManagerStrategy:n,isFocused:r}){let[i,a]=g.useState(!1),[o,s]=g.useState(!1),[c,u]=g.useState(!1),f=g.useMemo(()=>n==="none"?!1:(n==="increase-width"||n==="experimental-no-flickering")&&i&&o,[i,o,n]),d=g.useCallback(()=>{let h=e.current,p=t.current;if(!h||!p||c||n==="none")return;let m=h,v=m.getBoundingClientRect().left+m.offsetWidth,y=m.getBoundingClientRect().top+m.offsetHeight/2,x=v-mPe,w=y;document.querySelectorAll(vPe).length===0&&document.elementFromPoint(x,w)===h||(a(!0),u(!0))},[e,t,c,n]);return g.useEffect(()=>{let h=e.current;if(!h||n==="none")return;function p(){let v=window.innerWidth-h.getBoundingClientRect().right;s(v>=I6)}p();let m=setInterval(p,1e3);return()=>{clearInterval(m)}},[e,n]),g.useEffect(()=>{let h=r||document.activeElement===t.current;if(n==="none"||!h)return;let p=setTimeout(d,0),m=setTimeout(d,2e3),v=setTimeout(d,5e3),y=setTimeout(()=>{u(!0)},6e3);return()=>{clearTimeout(p),clearTimeout(m),clearTimeout(v),clearTimeout(y)}},[t,r,n,d]),{hasPWMBadge:i,willPushPWMBadge:f,PWM_BADGE_SPACE_WIDTH:gPe}}var R6=g.createContext({}),M6=g.forwardRef((e,t)=>{var n=e,{value:r,onChange:i,maxLength:a,textAlign:o="left",pattern:s,placeholder:c,inputMode:u="numeric",onComplete:f,pushPasswordManagerStrategy:d="increase-width",pasteTransformer:h,containerClassName:p,noScriptCSSFallback:m=xPe,render:v,children:y}=n,x=fPe(n,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),w,b,S,j,_;let[k,E]=g.useState(typeof x.defaultValue=="string"?x.defaultValue:""),I=r??k,P=pPe(I),N=g.useCallback(V=>{i==null||i(V),E(V)},[i]),O=g.useMemo(()=>s?typeof s=="string"?new RegExp(s):s:null,[s]),R=g.useRef(null),F=g.useRef(null),W=g.useRef({value:I,onChange:N,isIOS:typeof window<"u"&&((b=(w=window==null?void 0:window.CSS)==null?void 0:w.supports)==null?void 0:b.call(w,"-webkit-touch-callout","none"))}),D=g.useRef({prev:[(S=R.current)==null?void 0:S.selectionStart,(j=R.current)==null?void 0:j.selectionEnd,(_=R.current)==null?void 0:_.selectionDirection]});g.useImperativeHandle(t,()=>R.current,[]),g.useEffect(()=>{let V=R.current,ee=F.current;if(!V||!ee)return;W.current.value!==V.value&&W.current.onChange(V.value),D.current.prev=[V.selectionStart,V.selectionEnd,V.selectionDirection];function fe(){if(document.activeElement!==V){T(null),U(null);return}let xe=V.selectionStart,Te=V.selectionEnd,Ze=V.selectionDirection,He=V.maxLength,Xe=V.value,gt=D.current.prev,yt=-1,q=-1,ce;if(Xe.length!==0&&xe!==null&&Te!==null){let ue=xe===Te,de=xe===Xe.length&&Xe.length<He;if(ue&&!de){let ye=xe;if(ye===0)yt=0,q=1,ce="forward";else if(ye===He)yt=ye-1,q=ye,ce="backward";else if(He>1&&Xe.length>1){let Ue=0;if(gt[0]!==null&&gt[1]!==null){ce=ye<gt[1]?"backward":"forward";let Ye=gt[0]===gt[1]&&gt[0]<He;ce==="backward"&&!Ye&&(Ue=-1)}yt=Ue+ye,q=Ue+ye+1}}yt!==-1&&q!==-1&&yt!==q&&R.current.setSelectionRange(yt,q,ce)}let z=yt!==-1?yt:xe,G=q!==-1?q:Te,te=ce??Ze;T(z),U(G),D.current.prev=[z,G,te]}if(document.addEventListener("selectionchange",fe,{capture:!0}),fe(),document.activeElement===V&&A(!0),!document.getElementById("input-otp-style")){let xe=document.createElement("style");if(xe.id="input-otp-style",document.head.appendChild(xe),xe.sheet){let Te="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";wd(xe.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),wd(xe.sheet,`[data-input-otp]:autofill { ${Te} }`),wd(xe.sheet,`[data-input-otp]:-webkit-autofill { ${Te} }`),wd(xe.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),wd(xe.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let je=()=>{ee&&ee.style.setProperty("--root-height",`${V.clientHeight}px`)};je();let Re=new ResizeObserver(je);return Re.observe(V),()=>{document.removeEventListener("selectionchange",fe,{capture:!0}),Re.disconnect()}},[]);let[B,$]=g.useState(!1),[L,A]=g.useState(!1),[M,T]=g.useState(null),[C,U]=g.useState(null);g.useEffect(()=>{hPe(()=>{var V,ee,fe,je;(V=R.current)==null||V.dispatchEvent(new Event("input"));let Re=(ee=R.current)==null?void 0:ee.selectionStart,xe=(fe=R.current)==null?void 0:fe.selectionEnd,Te=(je=R.current)==null?void 0:je.selectionDirection;Re!==null&&xe!==null&&(T(Re),U(xe),D.current.prev=[Re,xe,Te])})},[I,L]),g.useEffect(()=>{P!==void 0&&I!==P&&P.length<a&&I.length===a&&(f==null||f(I))},[a,f,P,I]);let K=yPe({containerRef:F,inputRef:R,pushPasswordManagerStrategy:d,isFocused:L}),Q=g.useCallback(V=>{let ee=V.currentTarget.value.slice(0,a);if(ee.length>0&&O&&!O.test(ee)){V.preventDefault();return}typeof P=="string"&&ee.length<P.length&&document.dispatchEvent(new Event("selectionchange")),N(ee)},[a,N,P,O]),Y=g.useCallback(()=>{var V;if(R.current){let ee=Math.min(R.current.value.length,a-1),fe=R.current.value.length;(V=R.current)==null||V.setSelectionRange(ee,fe),T(ee),U(fe)}A(!0)},[a]),le=g.useCallback(V=>{var ee,fe;let je=R.current;if(!h&&(!W.current.isIOS||!V.clipboardData||!je))return;let Re=V.clipboardData.getData("text/plain"),xe=h?h(Re):Re;V.preventDefault();let Te=(ee=R.current)==null?void 0:ee.selectionStart,Ze=(fe=R.current)==null?void 0:fe.selectionEnd,He=(Te!==Ze?I.slice(0,Te)+xe+I.slice(Ze):I.slice(0,Te)+xe+I.slice(Te)).slice(0,a);if(He.length>0&&O&&!O.test(He))return;je.value=He,N(He);let Xe=Math.min(He.length,a-1),gt=He.length;je.setSelectionRange(Xe,gt),T(Xe),U(gt)},[a,N,O,I]),Z=g.useMemo(()=>({position:"relative",cursor:x.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[x.disabled]),oe=g.useMemo(()=>({position:"absolute",inset:0,width:K.willPushPWMBadge?`calc(100% + ${K.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:K.willPushPWMBadge?`inset(0 ${K.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:o,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[K.PWM_BADGE_SPACE_WIDTH,K.willPushPWMBadge,o]),re=g.useMemo(()=>g.createElement("input",dPe(uPe({autoComplete:x.autoComplete||"one-time-code"},x),{"data-input-otp":!0,"data-input-otp-placeholder-shown":I.length===0||void 0,"data-input-otp-mss":M,"data-input-otp-mse":C,inputMode:u,pattern:O==null?void 0:O.source,"aria-placeholder":c,style:oe,maxLength:a,value:I,ref:R,onPaste:V=>{var ee;le(V),(ee=x.onPaste)==null||ee.call(x,V)},onChange:Q,onMouseOver:V=>{var ee;$(!0),(ee=x.onMouseOver)==null||ee.call(x,V)},onMouseLeave:V=>{var ee;$(!1),(ee=x.onMouseLeave)==null||ee.call(x,V)},onFocus:V=>{var ee;Y(),(ee=x.onFocus)==null||ee.call(x,V)},onBlur:V=>{var ee;A(!1),(ee=x.onBlur)==null||ee.call(x,V)}})),[Q,Y,le,u,oe,a,C,M,x,O==null?void 0:O.source,I]),J=g.useMemo(()=>({slots:Array.from({length:a}).map((V,ee)=>{var fe;let je=L&&M!==null&&C!==null&&(M===C&&ee===M||ee>=M&&ee<C),Re=I[ee]!==void 0?I[ee]:null,xe=I[0]!==void 0?null:(fe=c==null?void 0:c[ee])!=null?fe:null;return{char:Re,placeholderChar:xe,isActive:je,hasFakeCaret:je&&Re===null}}),isFocused:L,isHovering:!x.disabled&&B}),[L,B,a,C,M,x.disabled,I]),ke=g.useMemo(()=>v?v(J):g.createElement(R6.Provider,{value:J},y),[y,J,v]);return g.createElement(g.Fragment,null,m!==null&&g.createElement("noscript",null,g.createElement("style",null,m)),g.createElement("div",{ref:F,"data-input-otp-container":!0,style:Z,className:p},ke,g.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},re)))});M6.displayName="Input";function wd(e,t){try{e.insertRule(t)}catch{console.error("input-otp could not insert CSS rule:",t)}}var xPe=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const $6=g.forwardRef(({className:e,containerClassName:t,...n},r)=>l.jsx(M6,{ref:r,containerClassName:pe("flex items-center gap-2 has-[:disabled]:opacity-50",t),className:pe("disabled:cursor-not-allowed",e),...n}));$6.displayName="InputOTP";const D6=g.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:pe("flex items-center",e),...t}));D6.displayName="InputOTPGroup";const xs=g.forwardRef(({index:e,className:t,...n},r)=>{const i=g.useContext(R6),{char:a,hasFakeCaret:o,isActive:s}=i.slots[e];return l.jsxs("div",{ref:r,className:pe("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",s&&"z-10 ring-2 ring-ring ring-offset-background",t),...n,children:[a,o&&l.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:l.jsx("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})})]})});xs.displayName="InputOTPSlot";const bPe=g.forwardRef(({...e},t)=>l.jsx("div",{ref:t,role:"separator",...e,children:l.jsx(PH,{})}));bPe.displayName="InputOTPSeparator";function wPe(){const e=Ka(),t=Xo(),{user:n,session:r,otpRequired:i,setOtpVerified:a}=Ri(),[o,s]=g.useState(""),[c,u]=g.useState(!1),[f,d]=g.useState(!1),[h,p]=g.useState(null),[m,v]=g.useState(null),[y,x]=g.useState(!1),[w,b]=g.useState(0),[S,j]=g.useState(0);g.useEffect(()=>{v((n==null?void 0:n.email)??null),(!n||!i)&&e("/",{replace:!0});try{const I=new URL(window.location.href),P=I.searchParams.get("type"),N=!!I.searchParams.get("code"),R=(window.location.hash||"").includes("access_token=");x(P==="recovery"||N||R);const F=localStorage.getItem("otpCooldownUntil"),W=F?parseInt(F,10):0;W&&W>Date.now()&&b(W)}catch{}},[n,i,e]),g.useEffect(()=>{if(!w){j(0);return}const I=()=>{const N=Math.ceil((w-Date.now())/1e3);if(N<=0){j(0),b(0);try{localStorage.removeItem("otpCooldownUntil")}catch{}}else j(N)};I();const P=setInterval(I,1e3);return()=>clearInterval(P)},[w]);const _=async I=>{var P,N;I.preventDefault(),u(!0),p(null);try{const O=n==null?void 0:n.email,{data:R,error:F}=await X.rpc("verify_email_2fa",{p_code:o,p_session_minutes:10,p_user:n==null?void 0:n.id});if(F)throw F;if(!R)throw new Error("Invalid code");a(!0);try{localStorage.setItem("otpVerified","true"),localStorage.removeItem("auth.intent")}catch{}if(Oe.success("Verification successful"),(((P=t==null?void 0:t.state)==null?void 0:P.intent)||null)==="recovery"||y)e("/reset-password",{replace:!0});else{const D=((N=t==null?void 0:t.state)==null?void 0:N.from)||"/";e(D,{replace:!0})}}catch(O){p((O==null?void 0:O.message)||"Verification failed"),Oe.error("Verification failed")}finally{u(!1)}},k=async()=>{if(!(S>0)){d(!0);try{await X.functions.invoke("send-2fa-email",{headers:r!=null&&r.access_token?{Authorization:`Bearer ${r.access_token}`}:void 0}),Oe.success("A new code was sent");const I=Date.now()+3e4;b(I);try{localStorage.setItem("otpCooldownUntil",String(I))}catch{}}catch{Oe.error("Could not resend code")}finally{d(!1)}}},E=async()=>{try{await X.auth.signOut()}catch{}try{localStorage.removeItem("otpVerified"),localStorage.removeItem("otpRequired"),localStorage.removeItem("auth.intent"),localStorage.removeItem("otpCooldownUntil")}catch{}e("/",{replace:!0})};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:l.jsxs(Ie,{className:"w-full max-w-md",children:[l.jsxs(ct,{className:"space-y-1 text-center",children:[l.jsx(ut,{className:"text-2xl font-bold",children:"Enter verification code"}),l.jsxs(_i,{children:["We sent a 6-digit code to ",m?l.jsx("span",{className:"font-medium",children:m}):"your email","."]})]}),l.jsxs(Je,{children:[h&&l.jsx(Ef,{className:"mb-4 border-red-200 bg-red-50",children:l.jsx(Af,{className:"text-red-800",children:h})}),l.jsxs("form",{onSubmit:_,className:"space-y-6",children:[l.jsx("div",{className:"flex justify-center",children:l.jsx($6,{maxLength:6,value:o,onChange:s,autoFocus:!0,children:l.jsxs(D6,{children:[l.jsx(xs,{index:0}),l.jsx(xs,{index:1}),l.jsx(xs,{index:2}),l.jsx(xs,{index:3}),l.jsx(xs,{index:4}),l.jsx(xs,{index:5})]})})}),l.jsx(ne,{type:"submit",className:"w-full",disabled:c||o.length!==6,children:c?l.jsxs(l.Fragment,{children:[l.jsx(St,{className:"mr-2 h-4 w-4 animate-spin"}),"Verifying..."]}):"Verify"}),l.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[l.jsx("span",{children:"Didn't get the code?"}),l.jsx(ne,{type:"button",variant:"link",className:"px-0",onClick:k,disabled:f||S>0,children:f?"Resending...":S>0?`Resend in ${S}s`:"Resend code"})]}),l.jsx("div",{className:"flex items-center justify-center",children:l.jsx(ne,{type:"button",variant:"ghost",onClick:E,children:"Sign out"})})]})]})]})})}function _Pe(){const e=Ka();return g.useEffect(()=>{(async()=>{try{await X.auth.signOut()}catch{}try{localStorage.removeItem("otpVerified"),localStorage.removeItem("otpRequired")}catch{}e("/",{replace:!0})})()},[e]),null}const SPe=()=>{const e=Xo();return g.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),l.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};function jPe(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const kPe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,CPe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,EPe={};function l2(e,t){return(EPe.jsx?CPe:kPe).test(e)}const APe=/[ \t\n\f\r]/g;function NPe(e){return typeof e=="object"?e.type==="text"?c2(e.value):!1:c2(e)}function c2(e){return e.replace(APe,"")===""}class Yh{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Yh.prototype.normal={};Yh.prototype.property={};Yh.prototype.space=void 0;function L6(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Yh(n,r,t)}function F_(e){return e.toLowerCase()}class kr{constructor(t,n){this.attribute=n,this.property=t}}kr.prototype.attribute="";kr.prototype.booleanish=!1;kr.prototype.boolean=!1;kr.prototype.commaOrSpaceSeparated=!1;kr.prototype.commaSeparated=!1;kr.prototype.defined=!1;kr.prototype.mustUseProperty=!1;kr.prototype.number=!1;kr.prototype.overloadedBoolean=!1;kr.prototype.property="";kr.prototype.spaceSeparated=!1;kr.prototype.space=void 0;let PPe=0;const Ke=xl(),un=xl(),B_=xl(),ve=xl(),Lt=xl(),Sc=xl(),Cr=xl();function xl(){return 2**++PPe}const U_=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ke,booleanish:un,commaOrSpaceSeparated:Cr,commaSeparated:Sc,number:ve,overloadedBoolean:B_,spaceSeparated:Lt},Symbol.toStringTag,{value:"Module"})),hb=Object.keys(U_);class pC extends kr{constructor(t,n,r,i){let a=-1;if(super(t,n),u2(this,"space",i),typeof r=="number")for(;++a<hb.length;){const o=hb[a];u2(this,hb[a],(r&U_[o])===U_[o])}}}pC.prototype.defined=!0;function u2(e,t,n){n&&(e[t]=n)}function Ku(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const a=new pC(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[F_(r)]=r,n[F_(a.attribute)]=r}return new Yh(t,n,e.space)}const F6=Ku({properties:{ariaActiveDescendant:null,ariaAtomic:un,ariaAutoComplete:null,ariaBusy:un,ariaChecked:un,ariaColCount:ve,ariaColIndex:ve,ariaColSpan:ve,ariaControls:Lt,ariaCurrent:null,ariaDescribedBy:Lt,ariaDetails:null,ariaDisabled:un,ariaDropEffect:Lt,ariaErrorMessage:null,ariaExpanded:un,ariaFlowTo:Lt,ariaGrabbed:un,ariaHasPopup:null,ariaHidden:un,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Lt,ariaLevel:ve,ariaLive:null,ariaModal:un,ariaMultiLine:un,ariaMultiSelectable:un,ariaOrientation:null,ariaOwns:Lt,ariaPlaceholder:null,ariaPosInSet:ve,ariaPressed:un,ariaReadOnly:un,ariaRelevant:null,ariaRequired:un,ariaRoleDescription:Lt,ariaRowCount:ve,ariaRowIndex:ve,ariaRowSpan:ve,ariaSelected:un,ariaSetSize:ve,ariaSort:null,ariaValueMax:ve,ariaValueMin:ve,ariaValueNow:ve,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function B6(e,t){return t in e?e[t]:t}function U6(e,t){return B6(e,t.toLowerCase())}const TPe=Ku({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Sc,acceptCharset:Lt,accessKey:Lt,action:null,allow:null,allowFullScreen:Ke,allowPaymentRequest:Ke,allowUserMedia:Ke,alt:null,as:null,async:Ke,autoCapitalize:null,autoComplete:Lt,autoFocus:Ke,autoPlay:Ke,blocking:Lt,capture:null,charSet:null,checked:Ke,cite:null,className:Lt,cols:ve,colSpan:null,content:null,contentEditable:un,controls:Ke,controlsList:Lt,coords:ve|Sc,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ke,defer:Ke,dir:null,dirName:null,disabled:Ke,download:B_,draggable:un,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ke,formTarget:null,headers:Lt,height:ve,hidden:B_,high:ve,href:null,hrefLang:null,htmlFor:Lt,httpEquiv:Lt,id:null,imageSizes:null,imageSrcSet:null,inert:Ke,inputMode:null,integrity:null,is:null,isMap:Ke,itemId:null,itemProp:Lt,itemRef:Lt,itemScope:Ke,itemType:Lt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ke,low:ve,manifest:null,max:null,maxLength:ve,media:null,method:null,min:null,minLength:ve,multiple:Ke,muted:Ke,name:null,nonce:null,noModule:Ke,noValidate:Ke,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ke,optimum:ve,pattern:null,ping:Lt,placeholder:null,playsInline:Ke,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ke,referrerPolicy:null,rel:Lt,required:Ke,reversed:Ke,rows:ve,rowSpan:ve,sandbox:Lt,scope:null,scoped:Ke,seamless:Ke,selected:Ke,shadowRootClonable:Ke,shadowRootDelegatesFocus:Ke,shadowRootMode:null,shape:null,size:ve,sizes:null,slot:null,span:ve,spellCheck:un,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ve,step:null,style:null,tabIndex:ve,target:null,title:null,translate:null,type:null,typeMustMatch:Ke,useMap:null,value:un,width:ve,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Lt,axis:null,background:null,bgColor:null,border:ve,borderColor:null,bottomMargin:ve,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ke,declare:Ke,event:null,face:null,frame:null,frameBorder:null,hSpace:ve,leftMargin:ve,link:null,longDesc:null,lowSrc:null,marginHeight:ve,marginWidth:ve,noResize:Ke,noHref:Ke,noShade:Ke,noWrap:Ke,object:null,profile:null,prompt:null,rev:null,rightMargin:ve,rules:null,scheme:null,scrolling:un,standby:null,summary:null,text:null,topMargin:ve,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ve,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ke,disableRemotePlayback:Ke,prefix:null,property:null,results:ve,security:null,unselectable:null},space:"html",transform:U6}),OPe=Ku({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Cr,accentHeight:ve,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ve,amplitude:ve,arabicForm:null,ascent:ve,attributeName:null,attributeType:null,azimuth:ve,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ve,by:null,calcMode:null,capHeight:ve,className:Lt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ve,diffuseConstant:ve,direction:null,display:null,dur:null,divisor:ve,dominantBaseline:null,download:Ke,dx:null,dy:null,edgeMode:null,editable:null,elevation:ve,enableBackground:null,end:null,event:null,exponent:ve,externalResourcesRequired:null,fill:null,fillOpacity:ve,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Sc,g2:Sc,glyphName:Sc,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ve,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ve,horizOriginX:ve,horizOriginY:ve,id:null,ideographic:ve,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ve,k:ve,k1:ve,k2:ve,k3:ve,k4:ve,kernelMatrix:Cr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ve,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ve,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ve,overlineThickness:ve,paintOrder:null,panose1:null,path:null,pathLength:ve,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Lt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ve,pointsAtY:ve,pointsAtZ:ve,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Cr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Cr,rev:Cr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Cr,requiredFeatures:Cr,requiredFonts:Cr,requiredFormats:Cr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ve,specularExponent:ve,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ve,strikethroughThickness:ve,string:null,stroke:null,strokeDashArray:Cr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ve,strokeOpacity:ve,strokeWidth:null,style:null,surfaceScale:ve,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Cr,tabIndex:ve,tableValues:null,target:null,targetX:ve,targetY:ve,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Cr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ve,underlineThickness:ve,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ve,values:null,vAlphabetic:ve,vMathematical:ve,vectorEffect:null,vHanging:ve,vIdeographic:ve,version:null,vertAdvY:ve,vertOriginX:ve,vertOriginY:ve,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ve,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:B6}),z6=Ku({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),W6=Ku({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:U6}),H6=Ku({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),IPe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},RPe=/[A-Z]/g,d2=/-[a-z]/g,MPe=/^data[-\w.:]+$/i;function $Pe(e,t){const n=F_(t);let r=t,i=kr;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&MPe.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(d2,LPe);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!d2.test(a)){let o=a.replace(RPe,DPe);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=pC}return new i(r,t)}function DPe(e){return"-"+e.toLowerCase()}function LPe(e){return e.charAt(1).toUpperCase()}const FPe=L6([F6,TPe,z6,W6,H6],"html"),mC=L6([F6,OPe,z6,W6,H6],"svg");function BPe(e){return e.join(" ").trim()}var gC={},f2=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,UPe=/\n/g,zPe=/^\s*/,WPe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,HPe=/^:\s*/,qPe=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,VPe=/^[;\s]*/,KPe=/^\s+|\s+$/g,GPe=`
`,h2="/",p2="*",_s="",YPe="comment",XPe="declaration",QPe=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(m){var v=m.match(UPe);v&&(n+=v.length);var y=m.lastIndexOf(GPe);r=~y?m.length-y:r+m.length}function a(){var m={line:n,column:r};return function(v){return v.position=new o(m),u(),v}}function o(m){this.start=m,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function s(m){var v=new Error(t.source+":"+n+":"+r+": "+m);if(v.reason=m,v.filename=t.source,v.line=n,v.column=r,v.source=e,!t.silent)throw v}function c(m){var v=m.exec(e);if(v){var y=v[0];return i(y),e=e.slice(y.length),v}}function u(){c(zPe)}function f(m){var v;for(m=m||[];v=d();)v!==!1&&m.push(v);return m}function d(){var m=a();if(!(h2!=e.charAt(0)||p2!=e.charAt(1))){for(var v=2;_s!=e.charAt(v)&&(p2!=e.charAt(v)||h2!=e.charAt(v+1));)++v;if(v+=2,_s===e.charAt(v-1))return s("End of comment missing");var y=e.slice(2,v-2);return r+=2,i(y),e=e.slice(v),r+=2,m({type:YPe,comment:y})}}function h(){var m=a(),v=c(WPe);if(v){if(d(),!c(HPe))return s("property missing ':'");var y=c(qPe),x=m({type:XPe,property:m2(v[0].replace(f2,_s)),value:y?m2(y[0].replace(f2,_s)):_s});return c(VPe),x}}function p(){var m=[];f(m);for(var v;v=h();)v!==!1&&(m.push(v),f(m));return m}return u(),p()};function m2(e){return e?e.replace(KPe,_s):_s}var JPe=fn&&fn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gC,"__esModule",{value:!0});gC.default=eTe;var ZPe=JPe(QPe);function eTe(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,ZPe.default)(e),i=typeof t=="function";return r.forEach(function(a){if(a.type==="declaration"){var o=a.property,s=a.value;i?t(o,s,a):s&&(n=n||{},n[o]=s)}}),n}var xx={};Object.defineProperty(xx,"__esModule",{value:!0});xx.camelCase=void 0;var tTe=/^--[a-zA-Z0-9_-]+$/,nTe=/-([a-z])/g,rTe=/^[^-]+$/,iTe=/^-(webkit|moz|ms|o|khtml)-/,aTe=/^-(ms)-/,oTe=function(e){return!e||rTe.test(e)||tTe.test(e)},sTe=function(e,t){return t.toUpperCase()},g2=function(e,t){return"".concat(t,"-")},lTe=function(e,t){return t===void 0&&(t={}),oTe(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(aTe,g2):e=e.replace(iTe,g2),e.replace(nTe,sTe))};xx.camelCase=lTe;var cTe=fn&&fn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},uTe=cTe(gC),dTe=xx;function z_(e,t){var n={};return!e||typeof e!="string"||(0,uTe.default)(e,function(r,i){r&&i&&(n[(0,dTe.camelCase)(r,t)]=i)}),n}z_.default=z_;var fTe=z_;const hTe=Et(fTe),q6=V6("end"),vC=V6("start");function V6(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function pTe(e){const t=vC(e),n=q6(e);if(t&&n)return{start:t,end:n}}function Xd(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?v2(e.position):"start"in e||"end"in e?v2(e):"line"in e||"column"in e?W_(e):""}function W_(e){return y2(e&&e.line)+":"+y2(e&&e.column)}function v2(e){return W_(e&&e.start)+"-"+W_(e&&e.end)}function y2(e){return e&&typeof e=="number"?e:1}class Gn extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},o=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?i=t:!a.cause&&t&&(o=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?a.ruleId=r:(a.source=r.slice(0,c),a.ruleId=r.slice(c+1))}if(!a.place&&a.ancestors&&a.ancestors){const c=a.ancestors[a.ancestors.length-1];c&&(a.place=c.position)}const s=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=Xd(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Gn.prototype.file="";Gn.prototype.name="";Gn.prototype.reason="";Gn.prototype.message="";Gn.prototype.stack="";Gn.prototype.column=void 0;Gn.prototype.line=void 0;Gn.prototype.ancestors=void 0;Gn.prototype.cause=void 0;Gn.prototype.fatal=void 0;Gn.prototype.place=void 0;Gn.prototype.ruleId=void 0;Gn.prototype.source=void 0;const yC={}.hasOwnProperty,mTe=new Map,gTe=/[A-Z]/g,vTe=new Set(["table","tbody","thead","tfoot","tr"]),yTe=new Set(["td","th"]),K6="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function xTe(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=ETe(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=CTe(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?mC:FPe,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=G6(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function G6(e,t,n){if(t.type==="element")return bTe(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return wTe(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return STe(e,t,n);if(t.type==="mdxjsEsm")return _Te(e,t);if(t.type==="root")return jTe(e,t,n);if(t.type==="text")return kTe(e,t)}function bTe(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=mC,e.schema=i),e.ancestors.push(t);const a=X6(e,t.tagName,!1),o=ATe(e,t);let s=bC(e,t);return vTe.has(t.tagName)&&(s=s.filter(function(c){return typeof c=="string"?!NPe(c):!0})),Y6(e,o,a,t),xC(o,s),e.ancestors.pop(),e.schema=r,e.create(t,a,o,n)}function wTe(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}ph(e,t.position)}function _Te(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);ph(e,t.position)}function STe(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=mC,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:X6(e,t.name,!0),o=NTe(e,t),s=bC(e,t);return Y6(e,o,a,t),xC(o,s),e.ancestors.pop(),e.schema=r,e.create(t,a,o,n)}function jTe(e,t,n){const r={};return xC(r,bC(e,t)),e.create(t,e.Fragment,r,n)}function kTe(e,t){return t.value}function Y6(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function xC(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function CTe(e,t,n){return r;function r(i,a,o,s){const u=Array.isArray(o.children)?n:t;return s?u(a,o,s):u(a,o)}}function ETe(e,t){return n;function n(r,i,a,o){const s=Array.isArray(a.children),c=vC(r);return t(i,a,o,s,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function ATe(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&yC.call(t.properties,i)){const a=PTe(e,i,t.properties[i]);if(a){const[o,s]=a;e.tableCellAlignToStyle&&o==="align"&&typeof s=="string"&&yTe.has(t.tagName)?r=s:n[o]=s}}if(r){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function NTe(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const o=a.expression;o.type;const s=o.properties[0];s.type,Object.assign(n,e.evaluater.evaluateExpression(s.argument))}else ph(e,t.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const s=r.value.data.estree.body[0];s.type,a=e.evaluater.evaluateExpression(s.expression)}else ph(e,t.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function bC(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:mTe;for(;++r<t.children.length;){const a=t.children[r];let o;if(e.passKeys){const c=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(c){const u=i.get(c)||0;o=c+"-"+u,i.set(c,u+1)}}const s=G6(e,a,o);s!==void 0&&n.push(s)}return n}function PTe(e,t,n){const r=$Pe(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?jPe(n):BPe(n)),r.property==="style"){let i=typeof n=="object"?n:TTe(e,String(n));return e.stylePropertyNameCase==="css"&&(i=OTe(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?IPe[r.property]||r.property:r.attribute,n]}}function TTe(e,t){try{return hTe(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Gn("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=K6+"#cannot-parse-style-attribute",i}}function X6(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,o;for(;++a<i.length;){const s=l2(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};o=o?{type:"MemberExpression",object:o,property:s,computed:!!(a&&s.type==="Literal"),optional:!1}:s}r=o}else r=l2(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return yC.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);ph(e)}function ph(e,t){const n=new Gn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=K6+"#cannot-handle-mdx-estrees-without-createevaluater",n}function OTe(e){const t={};let n;for(n in e)yC.call(e,n)&&(t[ITe(n)]=e[n]);return t}function ITe(e){let t=e.replace(gTe,RTe);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function RTe(e){return"-"+e.toLowerCase()}const pb={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},MTe={};function wC(e,t){const n=MTe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Q6(e,r,i)}function Q6(e,t,n){if($Te(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return x2(e.children,t,n)}return Array.isArray(e)?x2(e,t,n):""}function x2(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Q6(e[i],t,n);return r.join("")}function $Te(e){return!!(e&&typeof e=="object")}const b2=document.createElement("i");function _C(e){const t="&"+e+";";b2.innerHTML=t;const n=b2.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Dr(e,t,n,r){const i=e.length;let a=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);a<r.length;)o=r.slice(a,a+1e4),o.unshift(t,0),e.splice(...o),a+=1e4,t+=1e4}function Yr(e,t){return e.length>0?(Dr(e,e.length,0,t),e):t}const w2={}.hasOwnProperty;function J6(e){const t={};let n=-1;for(;++n<e.length;)DTe(t,e[n]);return t}function DTe(e,t){let n;for(n in t){const i=(w2.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let o;if(a)for(o in a){w2.call(i,o)||(i[o]=[]);const s=a[o];LTe(i[o],Array.isArray(s)?s:s?[s]:[])}}}function LTe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Dr(e,0,0,r)}function Z6(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Ai(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const tr=ss(/[A-Za-z]/),Vn=ss(/[\dA-Za-z]/),FTe=ss(/[#-'*+\--9=?A-Z^-~]/);function gv(e){return e!==null&&(e<32||e===127)}const H_=ss(/\d/),BTe=ss(/[\dA-Fa-f]/),UTe=ss(/[!-/:-@[-`{-~]/);function Me(e){return e!==null&&e<-2}function Mt(e){return e!==null&&(e<0||e===32)}function tt(e){return e===-2||e===-1||e===32}const bx=ss(new RegExp("\\p{P}|\\p{S}","u")),il=ss(/\s/);function ss(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Gu(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let o="";if(a===37&&Vn(e.charCodeAt(n+1))&&Vn(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const s=e.charCodeAt(n+1);a<56320&&s>56319&&s<57344?(o=String.fromCharCode(a,s),i=1):o="�"}else o=String.fromCharCode(a);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function st(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(c){return tt(c)?(e.enter(n),s(c)):t(c)}function s(c){return tt(c)&&a++<i?(e.consume(c),s):(e.exit(n),t(c))}}const zTe={tokenize:WTe};function WTe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),st(e,t,"linePrefix")}function i(s){return e.enter("paragraph"),a(s)}function a(s){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return Me(s)?(e.consume(s),e.exit("chunkText"),a):(e.consume(s),o)}}const HTe={tokenize:qTe},_2={tokenize:VTe};function qTe(e){const t=this,n=[];let r=0,i,a,o;return s;function s(b){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,c,u)(b)}return u(b)}function c(b){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&w();const S=t.events.length;let j=S,_;for(;j--;)if(t.events[j][0]==="exit"&&t.events[j][1].type==="chunkFlow"){_=t.events[j][1].end;break}x(r);let k=S;for(;k<t.events.length;)t.events[k][1].end={..._},k++;return Dr(t.events,j+1,0,t.events.slice(S)),t.events.length=k,u(b)}return s(b)}function u(b){if(r===n.length){if(!i)return h(b);if(i.currentConstruct&&i.currentConstruct.concrete)return m(b);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(_2,f,d)(b)}function f(b){return i&&w(),x(r),h(b)}function d(b){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,m(b)}function h(b){return t.containerState={},e.attempt(_2,p,m)(b)}function p(b){return r++,n.push([t.currentConstruct,t.containerState]),h(b)}function m(b){if(b===null){i&&w(),x(0),e.consume(b);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),v(b)}function v(b){if(b===null){y(e.exit("chunkFlow"),!0),x(0),e.consume(b);return}return Me(b)?(e.consume(b),y(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(b),v)}function y(b,S){const j=t.sliceStream(b);if(S&&j.push(null),b.previous=a,a&&(a.next=b),a=b,i.defineSkip(b.start),i.write(j),t.parser.lazy[b.start.line]){let _=i.events.length;for(;_--;)if(i.events[_][1].start.offset<o&&(!i.events[_][1].end||i.events[_][1].end.offset>o))return;const k=t.events.length;let E=k,I,P;for(;E--;)if(t.events[E][0]==="exit"&&t.events[E][1].type==="chunkFlow"){if(I){P=t.events[E][1].end;break}I=!0}for(x(r),_=k;_<t.events.length;)t.events[_][1].end={...P},_++;Dr(t.events,E+1,0,t.events.slice(k)),t.events.length=_}}function x(b){let S=n.length;for(;S-- >b;){const j=n[S];t.containerState=j[1],j[0].exit.call(t,e)}n.length=b}function w(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function VTe(e,t,n){return st(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function bu(e){if(e===null||Mt(e)||il(e))return 1;if(bx(e))return 2}function wx(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const q_={name:"attention",resolveAll:KTe,tokenize:GTe};function KTe(e,t){let n=-1,r,i,a,o,s,c,u,f;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d={...e[r][1].end},h={...e[n][1].start};S2(d,-c),S2(h,c),o={type:c>1?"strongSequence":"emphasisSequence",start:d,end:{...e[r][1].end}},s={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},a={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...o.start},end:{...s.end}},e[r][1].end={...o.start},e[n][1].start={...s.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Yr(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Yr(u,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",a,t]]),u=Yr(u,wx(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Yr(u,[["exit",a,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(f=2,u=Yr(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):f=0,Dr(e,r-1,n-r+3,u),n=r+u.length-f-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function GTe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=bu(r);let a;return o;function o(c){return a=c,e.enter("attentionSequence"),s(c)}function s(c){if(c===a)return e.consume(c),s;const u=e.exit("attentionSequence"),f=bu(c),d=!f||f===2&&i||n.includes(c),h=!i||i===2&&f||n.includes(r);return u._open=!!(a===42?d:d&&(i||!h)),u._close=!!(a===42?h:h&&(f||!d)),t(c)}}function S2(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const YTe={name:"autolink",tokenize:XTe};function XTe(e,t,n){let r=0;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(p){return tr(p)?(e.consume(p),o):p===64?n(p):u(p)}function o(p){return p===43||p===45||p===46||Vn(p)?(r=1,s(p)):u(p)}function s(p){return p===58?(e.consume(p),r=0,c):(p===43||p===45||p===46||Vn(p))&&r++<32?(e.consume(p),s):(r=0,u(p))}function c(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||gv(p)?n(p):(e.consume(p),c)}function u(p){return p===64?(e.consume(p),f):FTe(p)?(e.consume(p),u):n(p)}function f(p){return Vn(p)?d(p):n(p)}function d(p){return p===46?(e.consume(p),r=0,f):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):h(p)}function h(p){if((p===45||Vn(p))&&r++<63){const m=p===45?h:d;return e.consume(p),m}return n(p)}}const Xh={partial:!0,tokenize:QTe};function QTe(e,t,n){return r;function r(a){return tt(a)?st(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||Me(a)?t(a):n(a)}}const ez={continuation:{tokenize:ZTe},exit:eOe,name:"blockQuote",tokenize:JTe};function JTe(e,t,n){const r=this;return i;function i(o){if(o===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),a}return n(o)}function a(o){return tt(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function ZTe(e,t,n){const r=this;return i;function i(o){return tt(o)?st(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return e.attempt(ez,t,n)(o)}}function eOe(e){e.exit("blockQuote")}const tz={name:"characterEscape",tokenize:tOe};function tOe(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return UTe(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const nz={name:"characterReference",tokenize:nOe};function nOe(e,t,n){const r=this;let i=0,a,o;return s;function s(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),c}function c(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),a=31,o=Vn,f(d))}function u(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,o=BTe,f):(e.enter("characterReferenceValue"),a=7,o=H_,f(d))}function f(d){if(d===59&&i){const h=e.exit("characterReferenceValue");return o===Vn&&!_C(r.sliceSerialize(h))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(d)&&i++<a?(e.consume(d),f):n(d)}}const j2={partial:!0,tokenize:iOe},k2={concrete:!0,name:"codeFenced",tokenize:rOe};function rOe(e,t,n){const r=this,i={partial:!0,tokenize:j};let a=0,o=0,s;return c;function c(_){return u(_)}function u(_){const k=r.events[r.events.length-1];return a=k&&k[1].type==="linePrefix"?k[2].sliceSerialize(k[1],!0).length:0,s=_,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),f(_)}function f(_){return _===s?(o++,e.consume(_),f):o<3?n(_):(e.exit("codeFencedFenceSequence"),tt(_)?st(e,d,"whitespace")(_):d(_))}function d(_){return _===null||Me(_)?(e.exit("codeFencedFence"),r.interrupt?t(_):e.check(j2,v,S)(_)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(_))}function h(_){return _===null||Me(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(_)):tt(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),st(e,p,"whitespace")(_)):_===96&&_===s?n(_):(e.consume(_),h)}function p(_){return _===null||Me(_)?d(_):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),m(_))}function m(_){return _===null||Me(_)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(_)):_===96&&_===s?n(_):(e.consume(_),m)}function v(_){return e.attempt(i,S,y)(_)}function y(_){return e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),x}function x(_){return a>0&&tt(_)?st(e,w,"linePrefix",a+1)(_):w(_)}function w(_){return _===null||Me(_)?e.check(j2,v,S)(_):(e.enter("codeFlowValue"),b(_))}function b(_){return _===null||Me(_)?(e.exit("codeFlowValue"),w(_)):(e.consume(_),b)}function S(_){return e.exit("codeFenced"),t(_)}function j(_,k,E){let I=0;return P;function P(W){return _.enter("lineEnding"),_.consume(W),_.exit("lineEnding"),N}function N(W){return _.enter("codeFencedFence"),tt(W)?st(_,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(W):O(W)}function O(W){return W===s?(_.enter("codeFencedFenceSequence"),R(W)):E(W)}function R(W){return W===s?(I++,_.consume(W),R):I>=o?(_.exit("codeFencedFenceSequence"),tt(W)?st(_,F,"whitespace")(W):F(W)):E(W)}function F(W){return W===null||Me(W)?(_.exit("codeFencedFence"),k(W)):E(W)}}}function iOe(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const mb={name:"codeIndented",tokenize:oOe},aOe={partial:!0,tokenize:sOe};function oOe(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),st(e,a,"linePrefix",5)(u)}function a(u){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?c(u):Me(u)?e.attempt(aOe,o,c)(u):(e.enter("codeFlowValue"),s(u))}function s(u){return u===null||Me(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),s)}function c(u){return e.exit("codeIndented"),t(u)}}function sOe(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):Me(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):st(e,a,"linePrefix",5)(o)}function a(o){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):Me(o)?i(o):n(o)}}const lOe={name:"codeText",previous:uOe,resolve:cOe,tokenize:dOe};function cOe(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function uOe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function dOe(e,t,n){let r=0,i,a;return o;function o(d){return e.enter("codeText"),e.enter("codeTextSequence"),s(d)}function s(d){return d===96?(e.consume(d),r++,s):(e.exit("codeTextSequence"),c(d))}function c(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),c):d===96?(a=e.enter("codeTextSequence"),i=0,f(d)):Me(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),c):(e.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||Me(d)?(e.exit("codeTextData"),c(d)):(e.consume(d),u)}function f(d){return d===96?(e.consume(d),i++,f):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(a.type="codeTextData",u(d))}}class fOe{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&_d(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),_d(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),_d(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);_d(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);_d(this.left,n.reverse())}}}function _d(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function rz(e){const t={};let n=-1,r,i,a,o,s,c,u;const f=new fOe(e);for(;++n<f.length;){for(;n in t;)n=t[n];if(r=f.get(n),n&&r[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,a=0,a<c.length&&c[a][1].type==="lineEndingBlank"&&(a+=2),a<c.length&&c[a][1].type==="content"))for(;++a<c.length&&c[a][1].type!=="content";)c[a][1].type==="chunkText"&&(c[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,hOe(f,n)),n=t[n],u=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(o=f.get(a),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=a);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...f.get(i)[1].start},s=f.slice(i,n),s.unshift(r),f.splice(i,n-i+1,s))}}return Dr(e,0,Number.POSITIVE_INFINITY,f.slice(0)),!u}function hOe(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const a=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const s=o.events,c=[],u={};let f,d,h=-1,p=n,m=0,v=0;const y=[v];for(;p;){for(;e.get(++i)[1]!==p;);a.push(i),p._tokenizer||(f=r.sliceStream(p),p.next||f.push(null),d&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(f),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++h<s.length;)s[h][0]==="exit"&&s[h-1][0]==="enter"&&s[h][1].type===s[h-1][1].type&&s[h][1].start.line!==s[h][1].end.line&&(v=h+1,y.push(v),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):y.pop(),h=y.length;h--;){const x=s.slice(y[h],y[h+1]),w=a.pop();c.push([w,w+x.length-1]),e.splice(w,2,x)}for(c.reverse(),h=-1;++h<c.length;)u[m+c[h][0]]=m+c[h][1],m+=c[h][1]-c[h][0]-1;return u}const pOe={resolve:gOe,tokenize:vOe},mOe={partial:!0,tokenize:yOe};function gOe(e){return rz(e),e}function vOe(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?a(s):Me(s)?e.check(mOe,o,a)(s):(e.consume(s),i)}function a(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function yOe(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),st(e,a,"linePrefix")}function a(o){if(o===null||Me(o))return n(o);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function iz(e,t,n,r,i,a,o,s,c){const u=c||Number.POSITIVE_INFINITY;let f=0;return d;function d(x){return x===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(x),e.exit(a),h):x===null||x===32||x===41||gv(x)?n(x):(e.enter(r),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),v(x))}function h(x){return x===62?(e.enter(a),e.consume(x),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),p(x))}function p(x){return x===62?(e.exit("chunkString"),e.exit(s),h(x)):x===null||x===60||Me(x)?n(x):(e.consume(x),x===92?m:p)}function m(x){return x===60||x===62||x===92?(e.consume(x),p):p(x)}function v(x){return!f&&(x===null||x===41||Mt(x))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(r),t(x)):f<u&&x===40?(e.consume(x),f++,v):x===41?(e.consume(x),f--,v):x===null||x===32||x===40||gv(x)?n(x):(e.consume(x),x===92?y:v)}function y(x){return x===40||x===41||x===92?(e.consume(x),v):v(x)}}function az(e,t,n,r,i,a){const o=this;let s=0,c;return u;function u(p){return e.enter(r),e.enter(i),e.consume(p),e.exit(i),e.enter(a),f}function f(p){return s>999||p===null||p===91||p===93&&!c||p===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(p):p===93?(e.exit(a),e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):Me(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),f):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===null||p===91||p===93||Me(p)||s++>999?(e.exit("chunkString"),f(p)):(e.consume(p),c||(c=!tt(p)),p===92?h:d)}function h(p){return p===91||p===92||p===93?(e.consume(p),s++,d):d(p)}}function oz(e,t,n,r,i,a){let o;return s;function s(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),o=h===40?41:h,c):n(h)}function c(h){return h===o?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(a),u(h))}function u(h){return h===o?(e.exit(a),c(o)):h===null?n(h):Me(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),st(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===o||h===null||Me(h)?(e.exit("chunkString"),u(h)):(e.consume(h),h===92?d:f)}function d(h){return h===o||h===92?(e.consume(h),f):f(h)}}function Qd(e,t){let n;return r;function r(i){return Me(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):tt(i)?st(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const xOe={name:"definition",tokenize:wOe},bOe={partial:!0,tokenize:_Oe};function wOe(e,t,n){const r=this;let i;return a;function a(p){return e.enter("definition"),o(p)}function o(p){return az.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function s(p){return i=Ai(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),c):n(p)}function c(p){return Mt(p)?Qd(e,u)(p):u(p)}function u(p){return iz(e,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function f(p){return e.attempt(bOe,d,d)(p)}function d(p){return tt(p)?st(e,h,"whitespace")(p):h(p)}function h(p){return p===null||Me(p)?(e.exit("definition"),r.parser.defined.push(i),t(p)):n(p)}}function _Oe(e,t,n){return r;function r(s){return Mt(s)?Qd(e,i)(s):n(s)}function i(s){return oz(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function a(s){return tt(s)?st(e,o,"whitespace")(s):o(s)}function o(s){return s===null||Me(s)?t(s):n(s)}}const SOe={name:"hardBreakEscape",tokenize:jOe};function jOe(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return Me(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const kOe={name:"headingAtx",resolve:COe,tokenize:EOe};function COe(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Dr(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function EOe(e,t,n){let r=0;return i;function i(f){return e.enter("atxHeading"),a(f)}function a(f){return e.enter("atxHeadingSequence"),o(f)}function o(f){return f===35&&r++<6?(e.consume(f),o):f===null||Mt(f)?(e.exit("atxHeadingSequence"),s(f)):n(f)}function s(f){return f===35?(e.enter("atxHeadingSequence"),c(f)):f===null||Me(f)?(e.exit("atxHeading"),t(f)):tt(f)?st(e,s,"whitespace")(f):(e.enter("atxHeadingText"),u(f))}function c(f){return f===35?(e.consume(f),c):(e.exit("atxHeadingSequence"),s(f))}function u(f){return f===null||f===35||Mt(f)?(e.exit("atxHeadingText"),s(f)):(e.consume(f),u)}}const AOe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],C2=["pre","script","style","textarea"],NOe={concrete:!0,name:"htmlFlow",resolveTo:OOe,tokenize:IOe},POe={partial:!0,tokenize:MOe},TOe={partial:!0,tokenize:ROe};function OOe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function IOe(e,t,n){const r=this;let i,a,o,s,c;return u;function u(C){return f(C)}function f(C){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(C),d}function d(C){return C===33?(e.consume(C),h):C===47?(e.consume(C),a=!0,v):C===63?(e.consume(C),i=3,r.interrupt?t:A):tr(C)?(e.consume(C),o=String.fromCharCode(C),y):n(C)}function h(C){return C===45?(e.consume(C),i=2,p):C===91?(e.consume(C),i=5,s=0,m):tr(C)?(e.consume(C),i=4,r.interrupt?t:A):n(C)}function p(C){return C===45?(e.consume(C),r.interrupt?t:A):n(C)}function m(C){const U="CDATA[";return C===U.charCodeAt(s++)?(e.consume(C),s===U.length?r.interrupt?t:O:m):n(C)}function v(C){return tr(C)?(e.consume(C),o=String.fromCharCode(C),y):n(C)}function y(C){if(C===null||C===47||C===62||Mt(C)){const U=C===47,K=o.toLowerCase();return!U&&!a&&C2.includes(K)?(i=1,r.interrupt?t(C):O(C)):AOe.includes(o.toLowerCase())?(i=6,U?(e.consume(C),x):r.interrupt?t(C):O(C)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(C):a?w(C):b(C))}return C===45||Vn(C)?(e.consume(C),o+=String.fromCharCode(C),y):n(C)}function x(C){return C===62?(e.consume(C),r.interrupt?t:O):n(C)}function w(C){return tt(C)?(e.consume(C),w):P(C)}function b(C){return C===47?(e.consume(C),P):C===58||C===95||tr(C)?(e.consume(C),S):tt(C)?(e.consume(C),b):P(C)}function S(C){return C===45||C===46||C===58||C===95||Vn(C)?(e.consume(C),S):j(C)}function j(C){return C===61?(e.consume(C),_):tt(C)?(e.consume(C),j):b(C)}function _(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),c=C,k):tt(C)?(e.consume(C),_):E(C)}function k(C){return C===c?(e.consume(C),c=null,I):C===null||Me(C)?n(C):(e.consume(C),k)}function E(C){return C===null||C===34||C===39||C===47||C===60||C===61||C===62||C===96||Mt(C)?j(C):(e.consume(C),E)}function I(C){return C===47||C===62||tt(C)?b(C):n(C)}function P(C){return C===62?(e.consume(C),N):n(C)}function N(C){return C===null||Me(C)?O(C):tt(C)?(e.consume(C),N):n(C)}function O(C){return C===45&&i===2?(e.consume(C),D):C===60&&i===1?(e.consume(C),B):C===62&&i===4?(e.consume(C),M):C===63&&i===3?(e.consume(C),A):C===93&&i===5?(e.consume(C),L):Me(C)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(POe,T,R)(C)):C===null||Me(C)?(e.exit("htmlFlowData"),R(C)):(e.consume(C),O)}function R(C){return e.check(TOe,F,T)(C)}function F(C){return e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),W}function W(C){return C===null||Me(C)?R(C):(e.enter("htmlFlowData"),O(C))}function D(C){return C===45?(e.consume(C),A):O(C)}function B(C){return C===47?(e.consume(C),o="",$):O(C)}function $(C){if(C===62){const U=o.toLowerCase();return C2.includes(U)?(e.consume(C),M):O(C)}return tr(C)&&o.length<8?(e.consume(C),o+=String.fromCharCode(C),$):O(C)}function L(C){return C===93?(e.consume(C),A):O(C)}function A(C){return C===62?(e.consume(C),M):C===45&&i===2?(e.consume(C),A):O(C)}function M(C){return C===null||Me(C)?(e.exit("htmlFlowData"),T(C)):(e.consume(C),M)}function T(C){return e.exit("htmlFlow"),t(C)}}function ROe(e,t,n){const r=this;return i;function i(o){return Me(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):n(o)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function MOe(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Xh,t,n)}}const $Oe={name:"htmlText",tokenize:DOe};function DOe(e,t,n){const r=this;let i,a,o;return s;function s(A){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(A),c}function c(A){return A===33?(e.consume(A),u):A===47?(e.consume(A),j):A===63?(e.consume(A),b):tr(A)?(e.consume(A),E):n(A)}function u(A){return A===45?(e.consume(A),f):A===91?(e.consume(A),a=0,m):tr(A)?(e.consume(A),w):n(A)}function f(A){return A===45?(e.consume(A),p):n(A)}function d(A){return A===null?n(A):A===45?(e.consume(A),h):Me(A)?(o=d,B(A)):(e.consume(A),d)}function h(A){return A===45?(e.consume(A),p):d(A)}function p(A){return A===62?D(A):A===45?h(A):d(A)}function m(A){const M="CDATA[";return A===M.charCodeAt(a++)?(e.consume(A),a===M.length?v:m):n(A)}function v(A){return A===null?n(A):A===93?(e.consume(A),y):Me(A)?(o=v,B(A)):(e.consume(A),v)}function y(A){return A===93?(e.consume(A),x):v(A)}function x(A){return A===62?D(A):A===93?(e.consume(A),x):v(A)}function w(A){return A===null||A===62?D(A):Me(A)?(o=w,B(A)):(e.consume(A),w)}function b(A){return A===null?n(A):A===63?(e.consume(A),S):Me(A)?(o=b,B(A)):(e.consume(A),b)}function S(A){return A===62?D(A):b(A)}function j(A){return tr(A)?(e.consume(A),_):n(A)}function _(A){return A===45||Vn(A)?(e.consume(A),_):k(A)}function k(A){return Me(A)?(o=k,B(A)):tt(A)?(e.consume(A),k):D(A)}function E(A){return A===45||Vn(A)?(e.consume(A),E):A===47||A===62||Mt(A)?I(A):n(A)}function I(A){return A===47?(e.consume(A),D):A===58||A===95||tr(A)?(e.consume(A),P):Me(A)?(o=I,B(A)):tt(A)?(e.consume(A),I):D(A)}function P(A){return A===45||A===46||A===58||A===95||Vn(A)?(e.consume(A),P):N(A)}function N(A){return A===61?(e.consume(A),O):Me(A)?(o=N,B(A)):tt(A)?(e.consume(A),N):I(A)}function O(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(e.consume(A),i=A,R):Me(A)?(o=O,B(A)):tt(A)?(e.consume(A),O):(e.consume(A),F)}function R(A){return A===i?(e.consume(A),i=void 0,W):A===null?n(A):Me(A)?(o=R,B(A)):(e.consume(A),R)}function F(A){return A===null||A===34||A===39||A===60||A===61||A===96?n(A):A===47||A===62||Mt(A)?I(A):(e.consume(A),F)}function W(A){return A===47||A===62||Mt(A)?I(A):n(A)}function D(A){return A===62?(e.consume(A),e.exit("htmlTextData"),e.exit("htmlText"),t):n(A)}function B(A){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),$}function $(A){return tt(A)?st(e,L,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):L(A)}function L(A){return e.enter("htmlTextData"),o(A)}}const SC={name:"labelEnd",resolveAll:UOe,resolveTo:zOe,tokenize:WOe},LOe={tokenize:HOe},FOe={tokenize:qOe},BOe={tokenize:VOe};function UOe(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Dr(e,0,e.length,n),e}function zOe(e,t){let n=e.length,r=0,i,a,o,s;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const c={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[a][1].start},end:{...e[o][1].end}},f={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[o-2][1].start}};return s=[["enter",c,t],["enter",u,t]],s=Yr(s,e.slice(a+1,a+r+3)),s=Yr(s,[["enter",f,t]]),s=Yr(s,wx(t.parser.constructs.insideSpan.null,e.slice(a+r+4,o-3),t)),s=Yr(s,[["exit",f,t],e[o-2],e[o-1],["exit",u,t]]),s=Yr(s,e.slice(o+1)),s=Yr(s,[["exit",c,t]]),Dr(e,a,e.length,s),e}function WOe(e,t,n){const r=this;let i=r.events.length,a,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return s;function s(h){return a?a._inactive?d(h):(o=r.parser.defined.includes(Ai(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),c):n(h)}function c(h){return h===40?e.attempt(LOe,f,o?f:d)(h):h===91?e.attempt(FOe,f,o?u:d)(h):o?f(h):d(h)}function u(h){return e.attempt(BOe,f,d)(h)}function f(h){return t(h)}function d(h){return a._balanced=!0,n(h)}}function HOe(e,t,n){return r;function r(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),i}function i(d){return Mt(d)?Qd(e,a)(d):a(d)}function a(d){return d===41?f(d):iz(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return Mt(d)?Qd(e,c)(d):f(d)}function s(d){return n(d)}function c(d){return d===34||d===39||d===40?oz(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):f(d)}function u(d){return Mt(d)?Qd(e,f)(d):f(d)}function f(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function qOe(e,t,n){const r=this;return i;function i(s){return az.call(r,e,a,o,"reference","referenceMarker","referenceString")(s)}function a(s){return r.parser.defined.includes(Ai(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function o(s){return n(s)}}function VOe(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const KOe={name:"labelStartImage",resolveAll:SC.resolveAll,tokenize:GOe};function GOe(e,t,n){const r=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),a}function a(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const YOe={name:"labelStartLink",resolveAll:SC.resolveAll,tokenize:XOe};function XOe(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const gb={name:"lineEnding",tokenize:QOe};function QOe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),st(e,t,"linePrefix")}}const vm={name:"thematicBreak",tokenize:JOe};function JOe(e,t,n){let r=0,i;return a;function a(u){return e.enter("thematicBreak"),o(u)}function o(u){return i=u,s(u)}function s(u){return u===i?(e.enter("thematicBreakSequence"),c(u)):r>=3&&(u===null||Me(u))?(e.exit("thematicBreak"),t(u)):n(u)}function c(u){return u===i?(e.consume(u),r++,c):(e.exit("thematicBreakSequence"),tt(u)?st(e,s,"whitespace")(u):s(u))}}const lr={continuation:{tokenize:n2e},exit:i2e,name:"list",tokenize:t2e},ZOe={partial:!0,tokenize:a2e},e2e={partial:!0,tokenize:r2e};function t2e(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return s;function s(p){const m=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:H_(p)){if(r.containerState.type||(r.containerState.type=m,e.enter(m,{_container:!0})),m==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(vm,n,u)(p):u(p);if(!r.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(p)}return n(p)}function c(p){return H_(p)&&++o<10?(e.consume(p),c):(!r.interrupt||o<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),u(p)):n(p)}function u(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,e.check(Xh,r.interrupt?n:f,e.attempt(ZOe,h,d))}function f(p){return r.containerState.initialBlankLine=!0,a++,h(p)}function d(p){return tt(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),h):n(p)}function h(p){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function n2e(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Xh,i,a);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,st(e,t,"listItemIndent",r.containerState.size+1)(s)}function a(s){return r.containerState.furtherBlankLines||!tt(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(e2e,t,o)(s))}function o(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,st(e,e.attempt(lr,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function r2e(e,t,n){const r=this;return st(e,i,"listItemIndent",r.containerState.size+1);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(a):n(a)}}function i2e(e){e.exit(this.containerState.type)}function a2e(e,t,n){const r=this;return st(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const o=r.events[r.events.length-1];return!tt(a)&&o&&o[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const E2={name:"setextUnderline",resolveTo:o2e,tokenize:s2e};function o2e(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",o,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function s2e(e,t,n){const r=this;let i;return a;function a(u){let f=r.events.length,d;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){d=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(e.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),s(u)}function s(u){return u===i?(e.consume(u),s):(e.exit("setextHeadingLineSequence"),tt(u)?st(e,c,"lineSuffix")(u):c(u))}function c(u){return u===null||Me(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const l2e={tokenize:c2e};function c2e(e){const t=this,n=e.attempt(Xh,r,e.attempt(this.parser.constructs.flowInitial,i,st(e,e.attempt(this.parser.constructs.flow,i,e.attempt(pOe,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const u2e={resolveAll:lz()},d2e=sz("string"),f2e=sz("text");function sz(e){return{resolveAll:lz(e==="text"?h2e:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,o,s);return o;function o(f){return u(f)?a(f):s(f)}function s(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),c}function c(f){return u(f)?(n.exit("data"),a(f)):(n.consume(f),c)}function u(f){if(f===null)return!0;const d=i[f];let h=-1;if(d)for(;++h<d.length;){const p=d[h];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function lz(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function h2e(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,o=-1,s=0,c;for(;a--;){const u=i[a];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(u===-2)c=!0,s++;else if(u!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const u={type:n===e.length||c||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?o:r.start._bufferIndex+o,_index:r.start._index+a,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const p2e={42:lr,43:lr,45:lr,48:lr,49:lr,50:lr,51:lr,52:lr,53:lr,54:lr,55:lr,56:lr,57:lr,62:ez},m2e={91:xOe},g2e={[-2]:mb,[-1]:mb,32:mb},v2e={35:kOe,42:vm,45:[E2,vm],60:NOe,61:E2,95:vm,96:k2,126:k2},y2e={38:nz,92:tz},x2e={[-5]:gb,[-4]:gb,[-3]:gb,33:KOe,38:nz,42:q_,60:[YTe,$Oe],91:YOe,92:[SOe,tz],93:SC,95:q_,96:lOe},b2e={null:[q_,u2e]},w2e={null:[42,95]},_2e={null:[]},S2e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:w2e,contentInitial:m2e,disable:_2e,document:p2e,flow:v2e,flowInitial:g2e,insideSpan:b2e,string:y2e,text:x2e},Symbol.toStringTag,{value:"Module"}));function j2e(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let o=[],s=[];const c={attempt:k(j),check:k(_),consume:w,enter:b,exit:S,interrupt:k(_,{interrupt:!0})},u={code:null,containerState:{},defineSkip:v,events:[],now:m,parser:e,previous:null,sliceSerialize:h,sliceStream:p,write:d};let f=t.tokenize.call(u,c);return t.resolveAll&&a.push(t),u;function d(N){return o=Yr(o,N),y(),o[o.length-1]!==null?[]:(E(t,0),u.events=wx(a,u.events,u),u.events)}function h(N,O){return C2e(p(N),O)}function p(N){return k2e(o,N)}function m(){const{_bufferIndex:N,_index:O,line:R,column:F,offset:W}=r;return{_bufferIndex:N,_index:O,line:R,column:F,offset:W}}function v(N){i[N.line]=N.column,P()}function y(){let N;for(;r._index<o.length;){const O=o[r._index];if(typeof O=="string")for(N=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===N&&r._bufferIndex<O.length;)x(O.charCodeAt(r._bufferIndex));else x(O)}}function x(N){f=f(N)}function w(N){Me(N)?(r.line++,r.column=1,r.offset+=N===-3?2:1,P()):N!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=N}function b(N,O){const R=O||{};return R.type=N,R.start=m(),u.events.push(["enter",R,u]),s.push(R),R}function S(N){const O=s.pop();return O.end=m(),u.events.push(["exit",O,u]),O}function j(N,O){E(N,O.from)}function _(N,O){O.restore()}function k(N,O){return R;function R(F,W,D){let B,$,L,A;return Array.isArray(F)?T(F):"tokenize"in F?T([F]):M(F);function M(Q){return Y;function Y(le){const Z=le!==null&&Q[le],oe=le!==null&&Q.null,re=[...Array.isArray(Z)?Z:Z?[Z]:[],...Array.isArray(oe)?oe:oe?[oe]:[]];return T(re)(le)}}function T(Q){return B=Q,$=0,Q.length===0?D:C(Q[$])}function C(Q){return Y;function Y(le){return A=I(),L=Q,Q.partial||(u.currentConstruct=Q),Q.name&&u.parser.constructs.disable.null.includes(Q.name)?K():Q.tokenize.call(O?Object.assign(Object.create(u),O):u,c,U,K)(le)}}function U(Q){return N(L,A),W}function K(Q){return A.restore(),++$<B.length?C(B[$]):D}}}function E(N,O){N.resolveAll&&!a.includes(N)&&a.push(N),N.resolve&&Dr(u.events,O,u.events.length-O,N.resolve(u.events.slice(O),u)),N.resolveTo&&(u.events=N.resolveTo(u.events,u))}function I(){const N=m(),O=u.previous,R=u.currentConstruct,F=u.events.length,W=Array.from(s);return{from:F,restore:D};function D(){r=N,u.previous=O,u.currentConstruct=R,u.events.length=F,s=W,P()}}function P(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function k2e(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,a)];else{if(o=e.slice(n,i),r>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(r):o.shift()}a>0&&o.push(e[i].slice(0,a))}return o}function C2e(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(a)}i=a===-2,r.push(o)}return r.join("")}function E2e(e){const r={constructs:J6([S2e,...(e||{}).extensions||[]]),content:i(zTe),defined:[],document:i(HTe),flow:i(l2e),lazy:{},string:i(d2e),text:i(f2e)};return r;function i(a){return o;function o(s){return j2e(r,a,s)}}}function A2e(e){for(;!rz(e););return e}const A2=/[\0\t\n\r]/g;function N2e(){let e=1,t="",n=!0,r;return i;function i(a,o,s){const c=[];let u,f,d,h,p;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),d=0,t="",n&&(a.charCodeAt(0)===65279&&d++,n=void 0);d<a.length;){if(A2.lastIndex=d,u=A2.exec(a),h=u&&u.index!==void 0?u.index:a.length,p=a.charCodeAt(h),!u){t=a.slice(d);break}if(p===10&&d===h&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),d<h&&(c.push(a.slice(d,h)),e+=h-d),p){case 0:{c.push(65533),e++;break}case 9:{for(f=Math.ceil(e/4)*4,c.push(-2);e++<f;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}d=h+1}return s&&(r&&c.push(-5),t&&c.push(t),c.push(null)),c}}const P2e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function T2e(e){return e.replace(P2e,O2e)}function O2e(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return Z6(n.slice(a?2:1),a?16:10)}return _C(n)||e}const cz={}.hasOwnProperty;function I2e(e,t,n){return typeof t!="string"&&(n=t,t=void 0),R2e(n)(A2e(E2e(n).document().write(N2e()(e,t,!0))))}function R2e(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(xe),autolinkProtocol:I,autolinkEmail:I,atxHeading:a(ee),blockQuote:a(oe),characterEscape:I,characterReference:I,codeFenced:a(re),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(re,o),codeText:a(J,o),codeTextData:I,data:I,codeFlowValue:I,definition:a(ke),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a(V),hardBreakEscape:a(fe),hardBreakTrailing:a(fe),htmlFlow:a(je,o),htmlFlowData:I,htmlText:a(je,o),htmlTextData:I,image:a(Re),label:o,link:a(xe),listItem:a(Ze),listItemValue:h,listOrdered:a(Te,d),listUnordered:a(Te),paragraph:a(He),reference:C,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(ee),strong:a(Xe),thematicBreak:a(yt)},exit:{atxHeading:c(),atxHeadingSequence:j,autolink:c(),autolinkEmail:Z,autolinkProtocol:le,blockQuote:c(),characterEscapeValue:P,characterReferenceMarkerHexadecimal:K,characterReferenceMarkerNumeric:K,characterReferenceValue:Q,characterReference:Y,codeFenced:c(y),codeFencedFence:v,codeFencedFenceInfo:p,codeFencedFenceMeta:m,codeFlowValue:P,codeIndented:c(x),codeText:c(W),codeTextData:P,data:P,definition:c(),definitionDestinationString:S,definitionLabelString:w,definitionTitleString:b,emphasis:c(),hardBreakEscape:c(O),hardBreakTrailing:c(O),htmlFlow:c(R),htmlFlowData:P,htmlText:c(F),htmlTextData:P,image:c(B),label:L,labelText:$,lineEnding:N,link:c(D),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:U,resourceDestinationString:A,resourceTitleString:M,resource:T,setextHeading:c(E),setextHeadingLineSequence:k,setextHeadingText:_,strong:c(),thematicBreak:c()}};uz(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(q){let ce={type:"root",children:[]};const z={stack:[ce],tokenStack:[],config:t,enter:s,exit:u,buffer:o,resume:f,data:n},G=[];let te=-1;for(;++te<q.length;)if(q[te][1].type==="listOrdered"||q[te][1].type==="listUnordered")if(q[te][0]==="enter")G.push(te);else{const ue=G.pop();te=i(q,ue,te)}for(te=-1;++te<q.length;){const ue=t[q[te][0]];cz.call(ue,q[te][1].type)&&ue[q[te][1].type].call(Object.assign({sliceSerialize:q[te][2].sliceSerialize},z),q[te][1])}if(z.tokenStack.length>0){const ue=z.tokenStack[z.tokenStack.length-1];(ue[1]||N2).call(z,void 0,ue[0])}for(ce.position={start:oo(q.length>0?q[0][1].start:{line:1,column:1,offset:0}),end:oo(q.length>0?q[q.length-2][1].end:{line:1,column:1,offset:0})},te=-1;++te<t.transforms.length;)ce=t.transforms[te](ce)||ce;return ce}function i(q,ce,z){let G=ce-1,te=-1,ue=!1,de,ye,Ue,Ye;for(;++G<=z;){const $e=q[G];switch($e[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{$e[0]==="enter"?te++:te--,Ye=void 0;break}case"lineEndingBlank":{$e[0]==="enter"&&(de&&!Ye&&!te&&!Ue&&(Ue=G),Ye=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ye=void 0}if(!te&&$e[0]==="enter"&&$e[1].type==="listItemPrefix"||te===-1&&$e[0]==="exit"&&($e[1].type==="listUnordered"||$e[1].type==="listOrdered")){if(de){let De=G;for(ye=void 0;De--;){const lt=q[De];if(lt[1].type==="lineEnding"||lt[1].type==="lineEndingBlank"){if(lt[0]==="exit")continue;ye&&(q[ye][1].type="lineEndingBlank",ue=!0),lt[1].type="lineEnding",ye=De}else if(!(lt[1].type==="linePrefix"||lt[1].type==="blockQuotePrefix"||lt[1].type==="blockQuotePrefixWhitespace"||lt[1].type==="blockQuoteMarker"||lt[1].type==="listItemIndent"))break}Ue&&(!ye||Ue<ye)&&(de._spread=!0),de.end=Object.assign({},ye?q[ye][1].start:$e[1].end),q.splice(ye||G,0,["exit",de,$e[2]]),G++,z++}if($e[1].type==="listItemPrefix"){const De={type:"listItem",_spread:!1,start:Object.assign({},$e[1].start),end:void 0};de=De,q.splice(G,0,["enter",De,$e[2]]),G++,z++,Ue=void 0,Ye=!0}}}return q[ce][1]._spread=ue,z}function a(q,ce){return z;function z(G){s.call(this,q(G),G),ce&&ce.call(this,G)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(q,ce,z){this.stack[this.stack.length-1].children.push(q),this.stack.push(q),this.tokenStack.push([ce,z||void 0]),q.position={start:oo(ce.start),end:void 0}}function c(q){return ce;function ce(z){q&&q.call(this,z),u.call(this,z)}}function u(q,ce){const z=this.stack.pop(),G=this.tokenStack.pop();if(G)G[0].type!==q.type&&(ce?ce.call(this,q,G[0]):(G[1]||N2).call(this,q,G[0]));else throw new Error("Cannot close `"+q.type+"` ("+Xd({start:q.start,end:q.end})+"): it’s not open");z.position.end=oo(q.end)}function f(){return wC(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function h(q){if(this.data.expectingFirstListItemValue){const ce=this.stack[this.stack.length-2];ce.start=Number.parseInt(this.sliceSerialize(q),10),this.data.expectingFirstListItemValue=void 0}}function p(){const q=this.resume(),ce=this.stack[this.stack.length-1];ce.lang=q}function m(){const q=this.resume(),ce=this.stack[this.stack.length-1];ce.meta=q}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){const q=this.resume(),ce=this.stack[this.stack.length-1];ce.value=q.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const q=this.resume(),ce=this.stack[this.stack.length-1];ce.value=q.replace(/(\r?\n|\r)$/g,"")}function w(q){const ce=this.resume(),z=this.stack[this.stack.length-1];z.label=ce,z.identifier=Ai(this.sliceSerialize(q)).toLowerCase()}function b(){const q=this.resume(),ce=this.stack[this.stack.length-1];ce.title=q}function S(){const q=this.resume(),ce=this.stack[this.stack.length-1];ce.url=q}function j(q){const ce=this.stack[this.stack.length-1];if(!ce.depth){const z=this.sliceSerialize(q).length;ce.depth=z}}function _(){this.data.setextHeadingSlurpLineEnding=!0}function k(q){const ce=this.stack[this.stack.length-1];ce.depth=this.sliceSerialize(q).codePointAt(0)===61?1:2}function E(){this.data.setextHeadingSlurpLineEnding=void 0}function I(q){const z=this.stack[this.stack.length-1].children;let G=z[z.length-1];(!G||G.type!=="text")&&(G=gt(),G.position={start:oo(q.start),end:void 0},z.push(G)),this.stack.push(G)}function P(q){const ce=this.stack.pop();ce.value+=this.sliceSerialize(q),ce.position.end=oo(q.end)}function N(q){const ce=this.stack[this.stack.length-1];if(this.data.atHardBreak){const z=ce.children[ce.children.length-1];z.position.end=oo(q.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ce.type)&&(I.call(this,q),P.call(this,q))}function O(){this.data.atHardBreak=!0}function R(){const q=this.resume(),ce=this.stack[this.stack.length-1];ce.value=q}function F(){const q=this.resume(),ce=this.stack[this.stack.length-1];ce.value=q}function W(){const q=this.resume(),ce=this.stack[this.stack.length-1];ce.value=q}function D(){const q=this.stack[this.stack.length-1];if(this.data.inReference){const ce=this.data.referenceType||"shortcut";q.type+="Reference",q.referenceType=ce,delete q.url,delete q.title}else delete q.identifier,delete q.label;this.data.referenceType=void 0}function B(){const q=this.stack[this.stack.length-1];if(this.data.inReference){const ce=this.data.referenceType||"shortcut";q.type+="Reference",q.referenceType=ce,delete q.url,delete q.title}else delete q.identifier,delete q.label;this.data.referenceType=void 0}function $(q){const ce=this.sliceSerialize(q),z=this.stack[this.stack.length-2];z.label=T2e(ce),z.identifier=Ai(ce).toLowerCase()}function L(){const q=this.stack[this.stack.length-1],ce=this.resume(),z=this.stack[this.stack.length-1];if(this.data.inReference=!0,z.type==="link"){const G=q.children;z.children=G}else z.alt=ce}function A(){const q=this.resume(),ce=this.stack[this.stack.length-1];ce.url=q}function M(){const q=this.resume(),ce=this.stack[this.stack.length-1];ce.title=q}function T(){this.data.inReference=void 0}function C(){this.data.referenceType="collapsed"}function U(q){const ce=this.resume(),z=this.stack[this.stack.length-1];z.label=ce,z.identifier=Ai(this.sliceSerialize(q)).toLowerCase(),this.data.referenceType="full"}function K(q){this.data.characterReferenceType=q.type}function Q(q){const ce=this.sliceSerialize(q),z=this.data.characterReferenceType;let G;z?(G=Z6(ce,z==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):G=_C(ce);const te=this.stack[this.stack.length-1];te.value+=G}function Y(q){const ce=this.stack.pop();ce.position.end=oo(q.end)}function le(q){P.call(this,q);const ce=this.stack[this.stack.length-1];ce.url=this.sliceSerialize(q)}function Z(q){P.call(this,q);const ce=this.stack[this.stack.length-1];ce.url="mailto:"+this.sliceSerialize(q)}function oe(){return{type:"blockquote",children:[]}}function re(){return{type:"code",lang:null,meta:null,value:""}}function J(){return{type:"inlineCode",value:""}}function ke(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function V(){return{type:"emphasis",children:[]}}function ee(){return{type:"heading",depth:0,children:[]}}function fe(){return{type:"break"}}function je(){return{type:"html",value:""}}function Re(){return{type:"image",title:null,url:"",alt:null}}function xe(){return{type:"link",title:null,url:"",children:[]}}function Te(q){return{type:"list",ordered:q.type==="listOrdered",start:null,spread:q._spread,children:[]}}function Ze(q){return{type:"listItem",spread:q._spread,checked:null,children:[]}}function He(){return{type:"paragraph",children:[]}}function Xe(){return{type:"strong",children:[]}}function gt(){return{type:"text",value:""}}function yt(){return{type:"thematicBreak"}}}function oo(e){return{line:e.line,column:e.column,offset:e.offset}}function uz(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?uz(e,r):M2e(e,r)}}function M2e(e,t){let n;for(n in t)if(cz.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function N2(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Xd({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Xd({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Xd({start:t.start,end:t.end})+") is still open")}function $2e(e){const t=this;t.parser=n;function n(r){return I2e(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function D2e(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function L2e(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function F2e(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function B2e(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function U2e(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function z2e(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Gu(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let o,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=a+1,s+=1,e.footnoteCounts.set(r,s);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,u),e.applyData(t,u)}function W2e(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function H2e(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function dz(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function q2e(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return dz(e,t);const i={src:Gu(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function V2e(e,t){const n={src:Gu(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function K2e(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function G2e(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return dz(e,t);const i={href:Gu(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function Y2e(e,t){const n={href:Gu(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function X2e(e,t,n){const r=e.all(t),i=n?Q2e(n):fz(t),a={},o=[];if(typeof t.checked=="boolean"){const f=r[0];let d;f&&f.type==="element"&&f.tagName==="p"?d=f:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const f=r[s];(i||s!==0||f.type!=="element"||f.tagName!=="p")&&o.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?o.push(...f.children):o.push(f)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:a,children:o};return e.patch(t,u),e.applyData(t,u)}function Q2e(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=fz(n[r])}return t}function fz(e){const t=e.spread;return t??e.children.length>1}function J2e(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function Z2e(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function eIe(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function tIe(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function nIe(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=vC(t.children[1]),c=q6(t.children[t.children.length-1]);s&&c&&(o.position={start:s,end:c}),i.push(o)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function rIe(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,s=o?o.length:t.children.length;let c=-1;const u=[];for(;++c<s;){const d=t.children[c],h={},p=o?o[c]:void 0;p&&(h.align=p);let m={type:"element",tagName:a,properties:h,children:[]};d&&(m.children=e.all(d),e.patch(d,m),m=e.applyData(d,m)),u.push(m)}const f={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,f),e.applyData(t,f)}function iIe(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const P2=9,T2=32;function aIe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(O2(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(O2(t.slice(i),i>0,!1)),a.join("")}function O2(e,t,n){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===P2||a===T2;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(i-1);for(;a===P2||a===T2;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function oIe(e,t){const n={type:"text",value:aIe(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function sIe(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const lIe={blockquote:D2e,break:L2e,code:F2e,delete:B2e,emphasis:U2e,footnoteReference:z2e,heading:W2e,html:H2e,imageReference:q2e,image:V2e,inlineCode:K2e,linkReference:G2e,link:Y2e,listItem:X2e,list:J2e,paragraph:Z2e,root:eIe,strong:tIe,table:nIe,tableCell:iIe,tableRow:rIe,text:oIe,thematicBreak:sIe,toml:Yp,yaml:Yp,definition:Yp,footnoteDefinition:Yp};function Yp(){}const hz=-1,_x=0,Jd=1,vv=2,jC=3,kC=4,CC=5,EC=6,pz=7,mz=8,I2=typeof self=="object"?self:globalThis,cIe=(e,t)=>{const n=(i,a)=>(e.set(a,i),i),r=i=>{if(e.has(i))return e.get(i);const[a,o]=t[i];switch(a){case _x:case hz:return n(o,i);case Jd:{const s=n([],i);for(const c of o)s.push(r(c));return s}case vv:{const s=n({},i);for(const[c,u]of o)s[r(c)]=r(u);return s}case jC:return n(new Date(o),i);case kC:{const{source:s,flags:c}=o;return n(new RegExp(s,c),i)}case CC:{const s=n(new Map,i);for(const[c,u]of o)s.set(r(c),r(u));return s}case EC:{const s=n(new Set,i);for(const c of o)s.add(r(c));return s}case pz:{const{name:s,message:c}=o;return n(new I2[s](c),i)}case mz:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:s}=new Uint8Array(o);return n(new DataView(s),o)}}return n(new I2[a](o),i)};return r},R2=e=>cIe(new Map,e)(0),Ml="",{toString:uIe}={},{keys:dIe}=Object,Sd=e=>{const t=typeof e;if(t!=="object"||!e)return[_x,t];const n=uIe.call(e).slice(8,-1);switch(n){case"Array":return[Jd,Ml];case"Object":return[vv,Ml];case"Date":return[jC,Ml];case"RegExp":return[kC,Ml];case"Map":return[CC,Ml];case"Set":return[EC,Ml];case"DataView":return[Jd,n]}return n.includes("Array")?[Jd,n]:n.includes("Error")?[pz,n]:[vv,n]},Xp=([e,t])=>e===_x&&(t==="function"||t==="symbol"),fIe=(e,t,n,r)=>{const i=(o,s)=>{const c=r.push(o)-1;return n.set(s,c),c},a=o=>{if(n.has(o))return n.get(o);let[s,c]=Sd(o);switch(s){case _x:{let f=o;switch(c){case"bigint":s=mz,f=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);f=null;break;case"undefined":return i([hz],o)}return i([s,f],o)}case Jd:{if(c){let h=o;return c==="DataView"?h=new Uint8Array(o.buffer):c==="ArrayBuffer"&&(h=new Uint8Array(o)),i([c,[...h]],o)}const f=[],d=i([s,f],o);for(const h of o)f.push(a(h));return d}case vv:{if(c)switch(c){case"BigInt":return i([c,o.toString()],o);case"Boolean":case"Number":case"String":return i([c,o.valueOf()],o)}if(t&&"toJSON"in o)return a(o.toJSON());const f=[],d=i([s,f],o);for(const h of dIe(o))(e||!Xp(Sd(o[h])))&&f.push([a(h),a(o[h])]);return d}case jC:return i([s,o.toISOString()],o);case kC:{const{source:f,flags:d}=o;return i([s,{source:f,flags:d}],o)}case CC:{const f=[],d=i([s,f],o);for(const[h,p]of o)(e||!(Xp(Sd(h))||Xp(Sd(p))))&&f.push([a(h),a(p)]);return d}case EC:{const f=[],d=i([s,f],o);for(const h of o)(e||!Xp(Sd(h)))&&f.push(a(h));return d}}const{message:u}=o;return i([s,{name:c,message:u}],o)};return a},M2=(e,{json:t,lossy:n}={})=>{const r=[];return fIe(!(t||n),!!t,new Map,r)(e),r},yv=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?R2(M2(e,t)):structuredClone(e):(e,t)=>R2(M2(e,t));function hIe(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function pIe(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function mIe(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||hIe,r=e.options.footnoteBackLabel||pIe,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let c=-1;for(;++c<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[c]);if(!u)continue;const f=e.all(u),d=String(u.identifier).toUpperCase(),h=Gu(d.toLowerCase());let p=0;const m=[],v=e.footnoteCounts.get(d);for(;v!==void 0&&++p<=v;){m.length>0&&m.push({type:"text",value:" "});let w=typeof n=="string"?n:n(c,p);typeof w=="string"&&(w={type:"text",value:w}),m.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,p),className:["data-footnote-backref"]},children:Array.isArray(w)?w:[w]})}const y=f[f.length-1];if(y&&y.type==="element"&&y.tagName==="p"){const w=y.children[y.children.length-1];w&&w.type==="text"?w.value+=" ":y.children.push({type:"text",value:" "}),y.children.push(...m)}else f.push(...m);const x={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(f,!0)};e.patch(u,x),s.push(x)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...yv(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const Sx=function(e){if(e==null)return xIe;if(typeof e=="function")return jx(e);if(typeof e=="object")return Array.isArray(e)?gIe(e):vIe(e);if(typeof e=="string")return yIe(e);throw new Error("Expected function, string, or object as test")};function gIe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Sx(e[n]);return jx(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function vIe(e){const t=e;return jx(n);function n(r){const i=r;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function yIe(e){return jx(t);function t(n){return n&&n.type===e}}function jx(e){return t;function t(n,r,i){return!!(bIe(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function xIe(){return!0}function bIe(e){return e!==null&&typeof e=="object"&&"type"in e}const gz=[],wIe=!0,V_=!1,_Ie="skip";function vz(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const a=Sx(i),o=r?-1:1;s(e,void 0,[])();function s(c,u,f){const d=c&&typeof c=="object"?c:{};if(typeof d.type=="string"){const p=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(c.type+(p?"<"+p+">":""))+")"})}return h;function h(){let p=gz,m,v,y;if((!t||a(c,u,f[f.length-1]||void 0))&&(p=SIe(n(c,f)),p[0]===V_))return p;if("children"in c&&c.children){const x=c;if(x.children&&p[0]!==_Ie)for(v=(r?x.children.length:-1)+o,y=f.concat(x);v>-1&&v<x.children.length;){const w=x.children[v];if(m=s(w,v,y)(),m[0]===V_)return m;v=typeof m[1]=="number"?m[1]:v+o}}return p}}}function SIe(e){return Array.isArray(e)?e:typeof e=="number"?[wIe,e]:e==null?gz:[e]}function AC(e,t,n,r){let i,a,o;typeof t=="function"&&typeof n!="function"?(a=void 0,o=t,i=n):(a=t,o=n,i=r),vz(e,a,s,i);function s(c,u){const f=u[u.length-1],d=f?f.children.indexOf(c):void 0;return o(c,d,f)}}const K_={}.hasOwnProperty,jIe={};function kIe(e,t){const n=t||jIe,r=new Map,i=new Map,a=new Map,o={...lIe,...n.handlers},s={all:u,applyData:EIe,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:o,one:c,options:n,patch:CIe,wrap:NIe};return AC(e,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const d=f.type==="definition"?r:i,h=String(f.identifier).toUpperCase();d.has(h)||d.set(h,f)}}),s;function c(f,d){const h=f.type,p=s.handlers[h];if(K_.call(s.handlers,h)&&p)return p(s,f,d);if(s.options.passThrough&&s.options.passThrough.includes(h)){if("children"in f){const{children:v,...y}=f,x=yv(y);return x.children=s.all(f),x}return yv(f)}return(s.options.unknownHandler||AIe)(s,f,d)}function u(f){const d=[];if("children"in f){const h=f.children;let p=-1;for(;++p<h.length;){const m=s.one(h[p],f);if(m){if(p&&h[p-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=$2(m.value)),!Array.isArray(m)&&m.type==="element")){const v=m.children[0];v&&v.type==="text"&&(v.value=$2(v.value))}Array.isArray(m)?d.push(...m):d.push(m)}}}return d}}function CIe(e,t){e.position&&(t.position=pTe(e))}function EIe(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&a&&Object.assign(n.properties,yv(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function AIe(e,t){const n=t.data||{},r="value"in t&&!(K_.call(n,"hProperties")||K_.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function NIe(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function $2(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function D2(e,t){const n=kIe(e,t),r=n.one(e,void 0),i=mIe(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function PIe(e,t){return e&&"run"in e?async function(n,r){const i=D2(n,{file:r,...t});await e.run(i,r)}:function(n,r){return D2(n,{file:r,...e||t})}}function L2(e){if(e)throw e}var ym=Object.prototype.hasOwnProperty,yz=Object.prototype.toString,F2=Object.defineProperty,B2=Object.getOwnPropertyDescriptor,U2=function(t){return typeof Array.isArray=="function"?Array.isArray(t):yz.call(t)==="[object Array]"},z2=function(t){if(!t||yz.call(t)!=="[object Object]")return!1;var n=ym.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&ym.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||ym.call(t,i)},W2=function(t,n){F2&&n.name==="__proto__"?F2(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},H2=function(t,n){if(n==="__proto__")if(ym.call(t,n)){if(B2)return B2(t,n).value}else return;return t[n]},TIe=function e(){var t,n,r,i,a,o,s=arguments[0],c=1,u=arguments.length,f=!1;for(typeof s=="boolean"&&(f=s,s=arguments[1]||{},c=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});c<u;++c)if(t=arguments[c],t!=null)for(n in t)r=H2(s,n),i=H2(t,n),s!==i&&(f&&i&&(z2(i)||(a=U2(i)))?(a?(a=!1,o=r&&U2(r)?r:[]):o=r&&z2(r)?r:{},W2(s,{name:n,newValue:e(f,o,i)})):typeof i<"u"&&W2(s,{name:n,newValue:i}));return s};const vb=Et(TIe);function G_(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function OIe(){const e=[],t={run:n,use:r};return t;function n(...i){let a=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...i);function s(c,...u){const f=e[++a];let d=-1;if(c){o(c);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,f?IIe(f,s)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function IIe(e,t){let n;return r;function r(...o){const s=e.length>o.length;let c;s&&o.push(i);try{c=e.apply(this,o)}catch(u){const f=u;if(s&&n)throw f;return i(f)}s||(c&&c.then&&typeof c.then=="function"?c.then(a,i):c instanceof Error?i(c):a(c))}function i(o,...s){n||(n=!0,t(o,...s))}function a(o){i(null,o)}}const Ui={basename:RIe,dirname:MIe,extname:$Ie,join:DIe,sep:"/"};function RIe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Qh(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else o<0&&(a=!0,o=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(r=i):(s=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function MIe(e){if(Qh(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function $Ie(e){Qh(e);let t=e.length,n=-1,r=0,i=-1,a=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),s===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function DIe(...e){let t=-1,n;for(;++t<e.length;)Qh(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":LIe(n)}function LIe(e){Qh(e);const t=e.codePointAt(0)===47;let n=FIe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function FIe(e,t){let n="",r=0,i=-1,a=0,o=-1,s,c;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=o,a=0;continue}}else if(n.length>0){n="",r=0,i=o,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,a=0}else s===46&&a>-1?a++:a=-1}return n}function Qh(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const BIe={cwd:UIe};function UIe(){return"/"}function Y_(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function zIe(e){if(typeof e=="string")e=new URL(e);else if(!Y_(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return WIe(e)}function WIe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const yb=["history","path","basename","stem","extname","dirname"];class xz{constructor(t){let n;t?Y_(t)?n={path:t}:typeof t=="string"||HIe(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":BIe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<yb.length;){const a=yb[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)yb.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Ui.basename(this.path):void 0}set basename(t){bb(t,"basename"),xb(t,"basename"),this.path=Ui.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Ui.dirname(this.path):void 0}set dirname(t){q2(this.basename,"dirname"),this.path=Ui.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Ui.extname(this.path):void 0}set extname(t){if(xb(t,"extname"),q2(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ui.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Y_(t)&&(t=zIe(t)),bb(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Ui.basename(this.path,this.extname):void 0}set stem(t){bb(t,"stem"),xb(t,"stem"),this.path=Ui.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Gn(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function xb(e,t){if(e&&e.includes(Ui.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Ui.sep+"`")}function bb(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function q2(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function HIe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const qIe=function(e){const r=this.constructor.prototype,i=r[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},VIe={}.hasOwnProperty;class NC extends qIe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=OIe()}copy(){const t=new NC;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(vb(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Sb("data",this.frozen),this.namespace[t]=n,this):VIe.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Sb("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Qp(t),r=this.parser||this.Parser;return wb("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),wb("process",this.parser||this.Parser),_b("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,o){const s=Qp(t),c=r.parse(s);r.run(c,s,function(f,d,h){if(f||!d||!h)return u(f);const p=d,m=r.stringify(p,h);YIe(m)?h.value=m:h.result=m,u(f,h)});function u(f,d){f||!d?o(f):a?a(d):n(void 0,d)}}}processSync(t){let n=!1,r;return this.freeze(),wb("processSync",this.parser||this.Parser),_b("processSync",this.compiler||this.Compiler),this.process(t,i),K2("processSync","process",n),r;function i(a,o){n=!0,L2(a),r=o}}run(t,n,r){V2(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(o,s){const c=Qp(n);i.run(t,c,u);function u(f,d,h){const p=d||t;f?s(f):o?o(p):r(void 0,p,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,a),K2("runSync","run",r),i;function a(o,s){L2(o),i=s,r=!0}}stringify(t,n){this.freeze();const r=Qp(n),i=this.compiler||this.Compiler;return _b("stringify",i),V2(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(Sb("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[f,...d]=u;c(f,d)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(u.plugins),u.settings&&(i.settings=vb(!0,i.settings,u.settings))}function s(u){let f=-1;if(u!=null)if(Array.isArray(u))for(;++f<u.length;){const d=u[f];a(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,f){let d=-1,h=-1;for(;++d<r.length;)if(r[d][0]===u){h=d;break}if(h===-1)r.push([u,...f]);else if(f.length>0){let[p,...m]=f;const v=r[h][1];G_(v)&&G_(p)&&(p=vb(!0,v,p)),r[h]=[u,p,...m]}}}}const KIe=new NC().freeze();function wb(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function _b(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Sb(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function V2(e){if(!G_(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function K2(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Qp(e){return GIe(e)?e:new xz(e)}function GIe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function YIe(e){return typeof e=="string"||XIe(e)}function XIe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const QIe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",G2=[],Y2={allowDangerousHtml:!0},JIe=/^(https?|ircs?|mailto|xmpp)$/i,ZIe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function eRe(e){const t=tRe(e),n=nRe(e);return rRe(t.runSync(t.parse(n),n),e)}function tRe(e){const t=e.rehypePlugins||G2,n=e.remarkPlugins||G2,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Y2}:Y2;return KIe().use($2e).use(n).use(PIe,r).use(t)}function nRe(e){const t=e.children||"",n=new xz;return typeof t=="string"&&(n.value=t),n}function rRe(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,a=t.disallowedElements,o=t.skipHtml,s=t.unwrapDisallowed,c=t.urlTransform||iRe;for(const f of ZIe)Object.hasOwn(t,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+QIe+f.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),AC(e,u),xTe(e,{Fragment:l.Fragment,components:i,ignoreInvalidStyle:!0,jsx:l.jsx,jsxs:l.jsxs,passKeys:!0,passNode:!0});function u(f,d,h){if(f.type==="raw"&&h&&typeof d=="number")return o?h.children.splice(d,1):h.children[d]={type:"text",value:f.value},d;if(f.type==="element"){let p;for(p in pb)if(Object.hasOwn(pb,p)&&Object.hasOwn(f.properties,p)){const m=f.properties[p],v=pb[p];(v===null||v.includes(f.tagName))&&(f.properties[p]=c(String(m||""),p,f))}}if(f.type==="element"){let p=n?!n.includes(f.tagName):a?a.includes(f.tagName):!1;if(!p&&r&&typeof d=="number"&&(p=!r(f,d,h)),p&&h&&typeof d=="number")return s&&f.children?h.children.splice(d,1,...f.children):h.children.splice(d,1),d}}}function iRe(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||JIe.test(e.slice(0,t))?e:""}function X2(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function aRe(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function oRe(e,t,n){const i=Sx((n||{}).ignore||[]),a=sRe(t);let o=-1;for(;++o<a.length;)vz(e,"text",s);function s(u,f){let d=-1,h;for(;++d<f.length;){const p=f[d],m=h?h.children:void 0;if(i(p,m?m.indexOf(p):void 0,h))return;h=p}if(h)return c(u,f)}function c(u,f){const d=f[f.length-1],h=a[o][0],p=a[o][1];let m=0;const y=d.children.indexOf(u);let x=!1,w=[];h.lastIndex=0;let b=h.exec(u.value);for(;b;){const S=b.index,j={index:b.index,input:b.input,stack:[...f,u]};let _=p(...b,j);if(typeof _=="string"&&(_=_.length>0?{type:"text",value:_}:void 0),_===!1?h.lastIndex=S+1:(m!==S&&w.push({type:"text",value:u.value.slice(m,S)}),Array.isArray(_)?w.push(..._):_&&w.push(_),m=S+b[0].length,x=!0),!h.global)break;b=h.exec(u.value)}return x?(m<u.value.length&&w.push({type:"text",value:u.value.slice(m)}),d.children.splice(y,1,...w)):w=[u],y+w.length}}function sRe(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([lRe(i[0]),cRe(i[1])])}return t}function lRe(e){return typeof e=="string"?new RegExp(aRe(e),"g"):e}function cRe(e){return typeof e=="function"?e:function(){return e}}const jb="phrasing",kb=["autolink","link","image","label"];function uRe(){return{transforms:[vRe],enter:{literalAutolink:fRe,literalAutolinkEmail:Cb,literalAutolinkHttp:Cb,literalAutolinkWww:Cb},exit:{literalAutolink:gRe,literalAutolinkEmail:mRe,literalAutolinkHttp:hRe,literalAutolinkWww:pRe}}}function dRe(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:jb,notInConstruct:kb},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:jb,notInConstruct:kb},{character:":",before:"[ps]",after:"\\/",inConstruct:jb,notInConstruct:kb}]}}function fRe(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Cb(e){this.config.enter.autolinkProtocol.call(this,e)}function hRe(e){this.config.exit.autolinkProtocol.call(this,e)}function pRe(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function mRe(e){this.config.exit.autolinkEmail.call(this,e)}function gRe(e){this.exit(e)}function vRe(e){oRe(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,yRe],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),xRe]],{ignore:["link","linkReference"]})}function yRe(e,t,n,r,i){let a="";if(!bz(i)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!bRe(n)))return!1;const o=wRe(n+r);if(!o[0])return!1;const s={type:"link",title:null,url:a+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[s,{type:"text",value:o[1]}]:s}function xRe(e,t,n,r){return!bz(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function bRe(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function wRe(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=X2(e,"(");let a=X2(e,")");for(;r!==-1&&i>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[e,n]}function bz(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||il(n)||bx(n))&&(!t||n!==47)}wz.peek=PRe;function _Re(){this.buffer()}function SRe(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function jRe(){this.buffer()}function kRe(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function CRe(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ai(this.sliceSerialize(e)).toLowerCase(),n.label=t}function ERe(e){this.exit(e)}function ARe(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ai(this.sliceSerialize(e)).toLowerCase(),n.label=t}function NRe(e){this.exit(e)}function PRe(){return"["}function wz(e,t,n,r){const i=n.createTracker(r);let a=i.move("[^");const o=n.enter("footnoteReference"),s=n.enter("reference");return a+=i.move(n.safe(n.associationId(e),{after:"]",before:a})),s(),o(),a+=i.move("]"),a}function TRe(){return{enter:{gfmFootnoteCallString:_Re,gfmFootnoteCall:SRe,gfmFootnoteDefinitionLabelString:jRe,gfmFootnoteDefinition:kRe},exit:{gfmFootnoteCallString:CRe,gfmFootnoteCall:ERe,gfmFootnoteDefinitionLabelString:ARe,gfmFootnoteDefinition:NRe}}}function ORe(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:wz},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,a,o){const s=a.createTracker(o);let c=s.move("[^");const u=a.enter("footnoteDefinition"),f=a.enter("label");return c+=s.move(a.safe(a.associationId(r),{before:c,after:"]"})),f(),c+=s.move("]:"),r.children&&r.children.length>0&&(s.shift(4),c+=s.move((t?`
`:" ")+a.indentLines(a.containerFlow(r,s.current()),t?_z:IRe))),u(),c}}function IRe(e,t,n){return t===0?e:_z(e,t,n)}function _z(e,t,n){return(n?"":"    ")+e}const RRe=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Sz.peek=FRe;function MRe(){return{canContainEols:["delete"],enter:{strikethrough:DRe},exit:{strikethrough:LRe}}}function $Re(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:RRe}],handlers:{delete:Sz}}}function DRe(e){this.enter({type:"delete",children:[]},e)}function LRe(e){this.exit(e)}function Sz(e,t,n,r){const i=n.createTracker(r),a=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),a(),o}function FRe(){return"~"}function BRe(e){return e.length}function URe(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||BRe,a=[],o=[],s=[],c=[];let u=0,f=-1;for(;++f<e.length;){const v=[],y=[];let x=-1;for(e[f].length>u&&(u=e[f].length);++x<e[f].length;){const w=zRe(e[f][x]);if(n.alignDelimiters!==!1){const b=i(w);y[x]=b,(c[x]===void 0||b>c[x])&&(c[x]=b)}v.push(w)}o[f]=v,s[f]=y}let d=-1;if(typeof r=="object"&&"length"in r)for(;++d<u;)a[d]=Q2(r[d]);else{const v=Q2(r);for(;++d<u;)a[d]=v}d=-1;const h=[],p=[];for(;++d<u;){const v=a[d];let y="",x="";v===99?(y=":",x=":"):v===108?y=":":v===114&&(x=":");let w=n.alignDelimiters===!1?1:Math.max(1,c[d]-y.length-x.length);const b=y+"-".repeat(w)+x;n.alignDelimiters!==!1&&(w=y.length+w+x.length,w>c[d]&&(c[d]=w),p[d]=w),h[d]=b}o.splice(1,0,h),s.splice(1,0,p),f=-1;const m=[];for(;++f<o.length;){const v=o[f],y=s[f];d=-1;const x=[];for(;++d<u;){const w=v[d]||"";let b="",S="";if(n.alignDelimiters!==!1){const j=c[d]-(y[d]||0),_=a[d];_===114?b=" ".repeat(j):_===99?j%2?(b=" ".repeat(j/2+.5),S=" ".repeat(j/2-.5)):(b=" ".repeat(j/2),S=b):S=" ".repeat(j)}n.delimiterStart!==!1&&!d&&x.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&w==="")&&(n.delimiterStart!==!1||d)&&x.push(" "),n.alignDelimiters!==!1&&x.push(b),x.push(w),n.alignDelimiters!==!1&&x.push(S),n.padding!==!1&&x.push(" "),(n.delimiterEnd!==!1||d!==u-1)&&x.push("|")}m.push(n.delimiterEnd===!1?x.join("").replace(/ +$/,""):x.join(""))}return m.join(`
`)}function zRe(e){return e==null?"":String(e)}function Q2(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function WRe(e,t,n,r){const i=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const o=n.indentLines(n.containerFlow(e,a.current()),HRe);return i(),o}function HRe(e,t,n){return">"+(n?"":" ")+e}function qRe(e,t){return J2(e,t.inConstruct,!0)&&!J2(e,t.notInConstruct,!1)}function J2(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function Z2(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&qRe(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function VRe(e,t){const n=String(e);let r=n.indexOf(t),i=r,a=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++a>o&&(o=a):a=1,i=r+t.length,r=n.indexOf(t,i);return o}function KRe(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function GRe(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function YRe(e,t,n,r){const i=GRe(n),a=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(KRe(e,n)){const d=n.enter("codeIndented"),h=n.indentLines(a,XRe);return d(),h}const s=n.createTracker(r),c=i.repeat(Math.max(VRe(a,i)+1,3)),u=n.enter("codeFenced");let f=s.move(c);if(e.lang){const d=n.enter(`codeFencedLang${o}`);f+=s.move(n.safe(e.lang,{before:f,after:" ",encode:["`"],...s.current()})),d()}if(e.lang&&e.meta){const d=n.enter(`codeFencedMeta${o}`);f+=s.move(" "),f+=s.move(n.safe(e.meta,{before:f,after:`
`,encode:["`"],...s.current()})),d()}return f+=s.move(`
`),a&&(f+=s.move(a+`
`)),f+=s.move(c),u(),f}function XRe(e,t,n){return(n?"":"    ")+e}function PC(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function QRe(e,t,n,r){const i=PC(n),a=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let s=n.enter("label");const c=n.createTracker(r);let u=c.move("[");return u+=c.move(n.safe(n.associationId(e),{before:u,after:"]",...c.current()})),u+=c.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(s=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...c.current()}))),s(),e.title&&(s=n.enter(`title${a}`),u+=c.move(" "+i),u+=c.move(n.safe(e.title,{before:u,after:i,...c.current()})),u+=c.move(i),s()),o(),u}function JRe(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function mh(e){return"&#x"+e.toString(16).toUpperCase()+";"}function xv(e,t,n){const r=bu(e),i=bu(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}jz.peek=ZRe;function jz(e,t,n,r){const i=JRe(n),a=n.enter("emphasis"),o=n.createTracker(r),s=o.move(i);let c=o.move(n.containerPhrasing(e,{after:i,before:s,...o.current()}));const u=c.charCodeAt(0),f=xv(r.before.charCodeAt(r.before.length-1),u,i);f.inside&&(c=mh(u)+c.slice(1));const d=c.charCodeAt(c.length-1),h=xv(r.after.charCodeAt(0),d,i);h.inside&&(c=c.slice(0,-1)+mh(d));const p=o.move(i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:f.outside},s+c+p}function ZRe(e,t,n){return n.options.emphasis||"*"}function eMe(e,t){let n=!1;return AC(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,V_}),!!((!e.depth||e.depth<3)&&wC(e)&&(t.options.setext||n))}function tMe(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if(eMe(e,n)){const f=n.enter("headingSetext"),d=n.enter("phrasing"),h=n.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return d(),f(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const o="#".repeat(i),s=n.enter("headingAtx"),c=n.enter("phrasing");a.move(o+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(u)&&(u=mh(u.charCodeAt(0))+u.slice(1)),u=u?o+" "+u:o,n.options.closeAtx&&(u+=" "+o),c(),s(),u}kz.peek=nMe;function kz(e){return e.value||""}function nMe(){return"<"}Cz.peek=rMe;function Cz(e,t,n,r){const i=PC(n),a=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let s=n.enter("label");const c=n.createTracker(r);let u=c.move("![");return u+=c.move(n.safe(e.alt,{before:u,after:"]",...c.current()})),u+=c.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(s=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":")",...c.current()}))),s(),e.title&&(s=n.enter(`title${a}`),u+=c.move(" "+i),u+=c.move(n.safe(e.title,{before:u,after:i,...c.current()})),u+=c.move(i),s()),u+=c.move(")"),o(),u}function rMe(){return"!"}Ez.peek=iMe;function Ez(e,t,n,r){const i=e.referenceType,a=n.enter("imageReference");let o=n.enter("label");const s=n.createTracker(r);let c=s.move("![");const u=n.safe(e.alt,{before:c,after:"]",...s.current()});c+=s.move(u+"]["),o();const f=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),{before:c,after:"]",...s.current()});return o(),n.stack=f,a(),i==="full"||!u||u!==d?c+=s.move(d+"]"):i==="shortcut"?c=c.slice(0,-1):c+=s.move("]"),c}function iMe(){return"!"}Az.peek=aMe;function Az(e,t,n){let r=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const o=n.unsafe[a],s=n.compilePattern(o);let c;if(o.atBreak)for(;c=s.exec(r);){let u=c.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(c.index+1)}}return i+r+i}function aMe(){return"`"}function Nz(e,t){const n=wC(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}Pz.peek=oMe;function Pz(e,t,n,r){const i=PC(n),a=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let s,c;if(Nz(e,n)){const f=n.stack;n.stack=[],s=n.enter("autolink");let d=o.move("<");return d+=o.move(n.containerPhrasing(e,{before:d,after:">",...o.current()})),d+=o.move(">"),s(),n.stack=f,d}s=n.enter("link"),c=n.enter("label");let u=o.move("[");return u+=o.move(n.containerPhrasing(e,{before:u,after:"](",...o.current()})),u+=o.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(n.safe(e.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(c=n.enter("destinationRaw"),u+=o.move(n.safe(e.url,{before:u,after:e.title?" ":")",...o.current()}))),c(),e.title&&(c=n.enter(`title${a}`),u+=o.move(" "+i),u+=o.move(n.safe(e.title,{before:u,after:i,...o.current()})),u+=o.move(i),c()),u+=o.move(")"),s(),u}function oMe(e,t,n){return Nz(e,n)?"<":"["}Tz.peek=sMe;function Tz(e,t,n,r){const i=e.referenceType,a=n.enter("linkReference");let o=n.enter("label");const s=n.createTracker(r);let c=s.move("[");const u=n.containerPhrasing(e,{before:c,after:"]",...s.current()});c+=s.move(u+"]["),o();const f=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),{before:c,after:"]",...s.current()});return o(),n.stack=f,a(),i==="full"||!u||u!==d?c+=s.move(d+"]"):i==="shortcut"?c=c.slice(0,-1):c+=s.move("]"),c}function sMe(){return"["}function TC(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function lMe(e){const t=TC(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function cMe(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function Oz(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function uMe(e,t,n,r){const i=n.enter("list"),a=n.bulletCurrent;let o=e.ordered?cMe(n):TC(n);const s=e.ordered?o==="."?")":".":lMe(n);let c=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const f=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&f&&(!f.children||!f.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),Oz(n)===o&&f){let d=-1;for(;++d<e.children.length;){const h=e.children[d];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(o=s),n.bulletCurrent=o;const u=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=a,i(),u}function dMe(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function fMe(e,t,n,r){const i=dMe(n);let a=n.bulletCurrent||TC(n);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let o=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const s=n.createTracker(r);s.move(a+" ".repeat(o-a.length)),s.shift(o);const c=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,s.current()),f);return c(),u;function f(d,h,p){return h?(p?"":" ".repeat(o))+d:(p?a:a+" ".repeat(o-a.length))+d}}function hMe(e,t,n,r){const i=n.enter("paragraph"),a=n.enter("phrasing"),o=n.containerPhrasing(e,r);return a(),i(),o}const pMe=Sx(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function mMe(e,t,n,r){return(e.children.some(function(o){return pMe(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function gMe(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}Iz.peek=vMe;function Iz(e,t,n,r){const i=gMe(n),a=n.enter("strong"),o=n.createTracker(r),s=o.move(i+i);let c=o.move(n.containerPhrasing(e,{after:i,before:s,...o.current()}));const u=c.charCodeAt(0),f=xv(r.before.charCodeAt(r.before.length-1),u,i);f.inside&&(c=mh(u)+c.slice(1));const d=c.charCodeAt(c.length-1),h=xv(r.after.charCodeAt(0),d,i);h.inside&&(c=c.slice(0,-1)+mh(d));const p=o.move(i+i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:f.outside},s+c+p}function vMe(e,t,n){return n.options.strong||"*"}function yMe(e,t,n,r){return n.safe(e.value,r)}function xMe(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function bMe(e,t,n){const r=(Oz(n)+(n.options.ruleSpaces?" ":"")).repeat(xMe(n));return n.options.ruleSpaces?r.slice(0,-1):r}const Rz={blockquote:WRe,break:Z2,code:YRe,definition:QRe,emphasis:jz,hardBreak:Z2,heading:tMe,html:kz,image:Cz,imageReference:Ez,inlineCode:Az,link:Pz,linkReference:Tz,list:uMe,listItem:fMe,paragraph:hMe,root:mMe,strong:Iz,text:yMe,thematicBreak:bMe};function wMe(){return{enter:{table:_Me,tableData:eI,tableHeader:eI,tableRow:jMe},exit:{codeText:kMe,table:SMe,tableData:Eb,tableHeader:Eb,tableRow:Eb}}}function _Me(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function SMe(e){this.exit(e),this.data.inTable=void 0}function jMe(e){this.enter({type:"tableRow",children:[]},e)}function Eb(e){this.exit(e)}function eI(e){this.enter({type:"tableCell",children:[]},e)}function kMe(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,CMe));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function CMe(e,t){return t==="|"?t:e}function EMe(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:o,tableCell:c,tableRow:s}};function o(p,m,v,y){return u(f(p,v,y),p.align)}function s(p,m,v,y){const x=d(p,v,y),w=u([x]);return w.slice(0,w.indexOf(`
`))}function c(p,m,v,y){const x=v.enter("tableCell"),w=v.enter("phrasing"),b=v.containerPhrasing(p,{...y,before:a,after:a});return w(),x(),b}function u(p,m){return URe(p,{align:m,alignDelimiters:r,padding:n,stringLength:i})}function f(p,m,v){const y=p.children;let x=-1;const w=[],b=m.enter("table");for(;++x<y.length;)w[x]=d(y[x],m,v);return b(),w}function d(p,m,v){const y=p.children;let x=-1;const w=[],b=m.enter("tableRow");for(;++x<y.length;)w[x]=c(y[x],p,m,v);return b(),w}function h(p,m,v){let y=Rz.inlineCode(p,m,v);return v.stack.includes("tableCell")&&(y=y.replace(/\|/g,"\\$&")),y}}function AMe(){return{exit:{taskListCheckValueChecked:tI,taskListCheckValueUnchecked:tI,paragraph:PMe}}}function NMe(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:TMe}}}function tI(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function PMe(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let a=-1,o;for(;++a<i.length;){const s=i[a];if(s.type==="paragraph"){o=s;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function TMe(e,t,n,r){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",s=n.createTracker(r);a&&s.move(o);let c=Rz.listItem(e,t,n,{...r,...s.current()});return a&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),c;function u(f){return f+o}}function OMe(){return[uRe(),TRe(),MRe(),wMe(),AMe()]}function IMe(e){return{extensions:[dRe(),ORe(e),$Re(),EMe(e),NMe()]}}const RMe={tokenize:BMe,partial:!0},Mz={tokenize:UMe,partial:!0},$z={tokenize:zMe,partial:!0},Dz={tokenize:WMe,partial:!0},MMe={tokenize:HMe,partial:!0},Lz={name:"wwwAutolink",tokenize:LMe,previous:Bz},Fz={name:"protocolAutolink",tokenize:FMe,previous:Uz},Za={name:"emailAutolink",tokenize:DMe,previous:zz},fa={};function $Me(){return{text:fa}}let ds=48;for(;ds<123;)fa[ds]=Za,ds++,ds===58?ds=65:ds===91&&(ds=97);fa[43]=Za;fa[45]=Za;fa[46]=Za;fa[95]=Za;fa[72]=[Za,Fz];fa[104]=[Za,Fz];fa[87]=[Za,Lz];fa[119]=[Za,Lz];function DMe(e,t,n){const r=this;let i,a;return o;function o(d){return!X_(d)||!zz.call(r,r.previous)||OC(r.events)?n(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(d))}function s(d){return X_(d)?(e.consume(d),s):d===64?(e.consume(d),c):n(d)}function c(d){return d===46?e.check(MMe,f,u)(d):d===45||d===95||Vn(d)?(a=!0,e.consume(d),c):f(d)}function u(d){return e.consume(d),i=!0,c}function f(d){return a&&i&&tr(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(d)):n(d)}}function LMe(e,t,n){const r=this;return i;function i(o){return o!==87&&o!==119||!Bz.call(r,r.previous)||OC(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(RMe,e.attempt(Mz,e.attempt($z,a),n),n)(o))}function a(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function FMe(e,t,n){const r=this;let i="",a=!1;return o;function o(d){return(d===72||d===104)&&Uz.call(r,r.previous)&&!OC(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),e.consume(d),s):n(d)}function s(d){if(tr(d)&&i.length<5)return i+=String.fromCodePoint(d),e.consume(d),s;if(d===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(d),c}return n(d)}function c(d){return d===47?(e.consume(d),a?u:(a=!0,c)):n(d)}function u(d){return d===null||gv(d)||Mt(d)||il(d)||bx(d)?n(d):e.attempt(Mz,e.attempt($z,f),n)(d)}function f(d){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(d)}}function BMe(e,t,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),i):o===46&&r===3?(e.consume(o),a):n(o)}function a(o){return o===null?n(o):t(o)}}function UMe(e,t,n){let r,i,a;return o;function o(u){return u===46||u===95?e.check(Dz,c,s)(u):u===null||Mt(u)||il(u)||u!==45&&bx(u)?c(u):(a=!0,e.consume(u),o)}function s(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),o}function c(u){return i||r||!a?n(u):t(u)}}function zMe(e,t){let n=0,r=0;return i;function i(o){return o===40?(n++,e.consume(o),i):o===41&&r<n?a(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(Dz,t,a)(o):o===null||Mt(o)||il(o)?t(o):(e.consume(o),i)}function a(o){return o===41&&r++,e.consume(o),i}}function WMe(e,t,n){return r;function r(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),r):s===38?(e.consume(s),a):s===93?(e.consume(s),i):s===60||s===null||Mt(s)||il(s)?t(s):n(s)}function i(s){return s===null||s===40||s===91||Mt(s)||il(s)?t(s):r(s)}function a(s){return tr(s)?o(s):n(s)}function o(s){return s===59?(e.consume(s),r):tr(s)?(e.consume(s),o):n(s)}}function HMe(e,t,n){return r;function r(a){return e.consume(a),i}function i(a){return Vn(a)?n(a):t(a)}}function Bz(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Mt(e)}function Uz(e){return!tr(e)}function zz(e){return!(e===47||X_(e))}function X_(e){return e===43||e===45||e===46||e===95||Vn(e)}function OC(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const qMe={tokenize:ZMe,partial:!0};function VMe(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:XMe,continuation:{tokenize:QMe},exit:JMe}},text:{91:{name:"gfmFootnoteCall",tokenize:YMe},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:KMe,resolveTo:GMe}}}}function KMe(e,t,n){const r=this;let i=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const c=r.events[i][1];if(c.type==="labelImage"){o=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return s;function s(c){if(!o||!o._balanced)return n(c);const u=Ai(r.sliceSerialize({start:o.end,end:r.now()}));return u.codePointAt(0)!==94||!a.includes(u.slice(1))?n(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function GMe(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},s=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",o,t],["exit",o,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...s),e}function YMe(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,o;return s;function s(d){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),c}function c(d){return d!==94?n(d):(e.enter("gfmFootnoteCallMarker"),e.consume(d),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(d){if(a>999||d===93&&!o||d===null||d===91||Mt(d))return n(d);if(d===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(Ai(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(d)}return Mt(d)||(o=!0),a++,e.consume(d),d===92?f:u}function f(d){return d===91||d===92||d===93?(e.consume(d),a++,u):u(d)}}function XMe(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,o=0,s;return c;function c(m){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(m){return m===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",f):n(m)}function f(m){if(o>999||m===93&&!s||m===null||m===91||Mt(m))return n(m);if(m===93){e.exit("chunkString");const v=e.exit("gfmFootnoteDefinitionLabelString");return a=Ai(r.sliceSerialize(v)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return Mt(m)||(s=!0),o++,e.consume(m),m===92?d:f}function d(m){return m===91||m===92||m===93?(e.consume(m),o++,f):f(m)}function h(m){return m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),i.includes(a)||i.push(a),st(e,p,"gfmFootnoteDefinitionWhitespace")):n(m)}function p(m){return t(m)}}function QMe(e,t,n){return e.check(Xh,t,e.attempt(qMe,t,n))}function JMe(e){e.exit("gfmFootnoteDefinition")}function ZMe(e,t,n){const r=this;return st(e,i,"gfmFootnoteDefinitionIndent",5);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(a):n(a)}}function e$e(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:a,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,s){let c=-1;for(;++c<o.length;)if(o[c][0]==="enter"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._close){let u=c;for(;u--;)if(o[u][0]==="exit"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._open&&o[c][1].end.offset-o[c][1].start.offset===o[u][1].end.offset-o[u][1].start.offset){o[c][1].type="strikethroughSequence",o[u][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},o[u][1].start),end:Object.assign({},o[c][1].end)},d={type:"strikethroughText",start:Object.assign({},o[u][1].end),end:Object.assign({},o[c][1].start)},h=[["enter",f,s],["enter",o[u][1],s],["exit",o[u][1],s],["enter",d,s]],p=s.parser.constructs.insideSpan.null;p&&Dr(h,h.length,0,wx(p,o.slice(u+1,c),s)),Dr(h,h.length,0,[["exit",d,s],["enter",o[c][1],s],["exit",o[c][1],s],["exit",f,s]]),Dr(o,u-1,c-u+3,h),c=u+h.length-2;break}}for(c=-1;++c<o.length;)o[c][1].type==="strikethroughSequenceTemporary"&&(o[c][1].type="data");return o}function a(o,s,c){const u=this.previous,f=this.events;let d=0;return h;function h(m){return u===126&&f[f.length-1][1].type!=="characterEscape"?c(m):(o.enter("strikethroughSequenceTemporary"),p(m))}function p(m){const v=bu(u);if(m===126)return d>1?c(m):(o.consume(m),d++,p);if(d<2&&!n)return c(m);const y=o.exit("strikethroughSequenceTemporary"),x=bu(m);return y._open=!x||x===2&&!!v,y._close=!v||v===2&&!!x,s(m)}}}class t$e{constructor(){this.map=[]}add(t,n,r){n$e(this,t,n,r)}consume(t){if(this.map.sort(function(a,o){return a[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const a of i)t.push(a);i=r.pop()}this.map.length=0}}function n$e(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function r$e(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function i$e(){return{flow:{null:{name:"table",tokenize:a$e,resolveAll:o$e}}}}function a$e(e,t,n){const r=this;let i=0,a=0,o;return s;function s(P){let N=r.events.length-1;for(;N>-1;){const F=r.events[N][1].type;if(F==="lineEnding"||F==="linePrefix")N--;else break}const O=N>-1?r.events[N][1].type:null,R=O==="tableHead"||O==="tableRow"?_:c;return R===_&&r.parser.lazy[r.now().line]?n(P):R(P)}function c(P){return e.enter("tableHead"),e.enter("tableRow"),u(P)}function u(P){return P===124||(o=!0,a+=1),f(P)}function f(P){return P===null?n(P):Me(P)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),p):n(P):tt(P)?st(e,f,"whitespace")(P):(a+=1,o&&(o=!1,i+=1),P===124?(e.enter("tableCellDivider"),e.consume(P),e.exit("tableCellDivider"),o=!0,f):(e.enter("data"),d(P)))}function d(P){return P===null||P===124||Mt(P)?(e.exit("data"),f(P)):(e.consume(P),P===92?h:d)}function h(P){return P===92||P===124?(e.consume(P),d):d(P)}function p(P){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(P):(e.enter("tableDelimiterRow"),o=!1,tt(P)?st(e,m,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):m(P))}function m(P){return P===45||P===58?y(P):P===124?(o=!0,e.enter("tableCellDivider"),e.consume(P),e.exit("tableCellDivider"),v):j(P)}function v(P){return tt(P)?st(e,y,"whitespace")(P):y(P)}function y(P){return P===58?(a+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(P),e.exit("tableDelimiterMarker"),x):P===45?(a+=1,x(P)):P===null||Me(P)?S(P):j(P)}function x(P){return P===45?(e.enter("tableDelimiterFiller"),w(P)):j(P)}function w(P){return P===45?(e.consume(P),w):P===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(P),e.exit("tableDelimiterMarker"),b):(e.exit("tableDelimiterFiller"),b(P))}function b(P){return tt(P)?st(e,S,"whitespace")(P):S(P)}function S(P){return P===124?m(P):P===null||Me(P)?!o||i!==a?j(P):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(P)):j(P)}function j(P){return n(P)}function _(P){return e.enter("tableRow"),k(P)}function k(P){return P===124?(e.enter("tableCellDivider"),e.consume(P),e.exit("tableCellDivider"),k):P===null||Me(P)?(e.exit("tableRow"),t(P)):tt(P)?st(e,k,"whitespace")(P):(e.enter("data"),E(P))}function E(P){return P===null||P===124||Mt(P)?(e.exit("data"),k(P)):(e.consume(P),P===92?I:E)}function I(P){return P===92||P===124?(e.consume(P),E):E(P)}}function o$e(e,t){let n=-1,r=!0,i=0,a=[0,0,0,0],o=[0,0,0,0],s=!1,c=0,u,f,d;const h=new t$e;for(;++n<e.length;){const p=e[n],m=p[1];p[0]==="enter"?m.type==="tableHead"?(s=!1,c!==0&&(nI(h,t,c,u,f),f=void 0,c=0),u={type:"table",start:Object.assign({},m.start),end:Object.assign({},m.end)},h.add(n,0,[["enter",u,t]])):m.type==="tableRow"||m.type==="tableDelimiterRow"?(r=!0,d=void 0,a=[0,0,0,0],o=[0,n+1,0,0],s&&(s=!1,f={type:"tableBody",start:Object.assign({},m.start),end:Object.assign({},m.end)},h.add(n,0,[["enter",f,t]])),i=m.type==="tableDelimiterRow"?2:f?3:1):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(a[1]!==0&&(o[0]=o[1],d=Jp(h,t,a,i,void 0,d),a=[0,0,0,0]),o[2]=n)):m.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(o[0]=o[1],d=Jp(h,t,a,i,void 0,d)),a=o,o=[a[1],n,0,0])):m.type==="tableHead"?(s=!0,c=n):m.type==="tableRow"||m.type==="tableDelimiterRow"?(c=n,a[1]!==0?(o[0]=o[1],d=Jp(h,t,a,i,n,d)):o[1]!==0&&(d=Jp(h,t,o,i,n,d)),i=0):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")&&(o[3]=n)}for(c!==0&&nI(h,t,c,u,f),h.consume(t.events),n=-1;++n<t.events.length;){const p=t.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=r$e(t.events,n))}return e}function Jp(e,t,n,r,i,a){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",s="tableContent";n[0]!==0&&(a.end=Object.assign({},Ul(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const c=Ul(t.events,n[1]);if(a={type:o,start:Object.assign({},c),end:Object.assign({},c)},e.add(n[1],0,[["enter",a,t]]),n[2]!==0){const u=Ul(t.events,n[2]),f=Ul(t.events,n[3]),d={type:s,start:Object.assign({},u),end:Object.assign({},f)};if(e.add(n[2],0,[["enter",d,t]]),r!==2){const h=t.events[n[2]],p=t.events[n[3]];if(h[1].end=Object.assign({},p[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const m=n[2]+1,v=n[3]-n[2]-1;e.add(m,v,[])}}e.add(n[3]+1,0,[["exit",d,t]])}return i!==void 0&&(a.end=Object.assign({},Ul(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function nI(e,t,n,r,i){const a=[],o=Ul(t.events,n);i&&(i.end=Object.assign({},o),a.push(["exit",i,t])),r.end=Object.assign({},o),a.push(["exit",r,t]),e.add(n+1,0,a)}function Ul(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const s$e={name:"tasklistCheck",tokenize:c$e};function l$e(){return{text:{91:s$e}}}function c$e(e,t,n){const r=this;return i;function i(c){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),a)}function a(c){return Mt(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),o):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),o):n(c)}function o(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):n(c)}function s(c){return Me(c)?t(c):tt(c)?e.check({tokenize:u$e},t,n)(c):n(c)}}function u$e(e,t,n){return st(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function d$e(e){return J6([$Me(),VMe(),e$e(e),i$e(),l$e()])}const f$e={};function h$e(e){const t=this,n=e||f$e,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(d$e(n)),a.push(OMe()),o.push(IMe(n))}const p$e=`# Change Log\r
# [0.0.29] FE WEB CEKAT 2025-10-04\r
Commit: Invite flow fixes, required field validation, form improvements\r
### Updates\r
- Invite Flow Fixes\r
  - Fixed invite flow to redirect users directly to password creation page instead of 2FA page\r
  - Added invite flow detection to skip 2FA requirements for invited users\r
  - Prevented duplicate 2FA emails for invited users\r
  - Added \`/invite\` route for proper invite handling\r
  - Enhanced ProtectedRoute to detect and redirect invite flows appropriately\r
- Form Validation Improvements\r
  - Made "Attach to Super Agent" field required for regular agents\r
  - Added visual indicators (red asterisks) for all required fields\r
  - Implemented real-time form validation with disabled submit button\r
  - Added contextual help text explaining field requirements\r
  - Enhanced error messages with specific validation feedback\r
- User Experience Enhancements\r
  - Submit button now disabled until all required fields are filled\r
  - Clear visual hierarchy distinguishing required vs optional fields\r
  - Real-time validation feedback as users type/select\r
  - Improved form accessibility with proper labeling\r
- Bug Fixes\r
  - Fixed invite users being incorrectly redirected to 2FA page\r
  - Resolved duplicate 2FA email sending for invited users\r
  - Corrected form submission logic for agent creation\r
  - Enhanced error handling for missing required fields\r
\r
# [0.0.28] FE WEB CEKAT 2025-10-04\r
Commit: Auto-resolve functionality, thread timestamp fixes, audio notifications, UI improvements\r
### Updates\r
- Auto-Resolve System\r
  - Fixed auto-resolve functionality to work correctly with AI agents\r
  - Database triggers now properly set \`auto_resolve_at\` timestamp when AI responds\r
  - Auto-resolve function uses correct enum value \`'closed'\` instead of \`'resolved'\`\r
  - Periodic checking every 30 seconds for threads ready to auto-resolve\r
  - Real-time auto-resolve checks on message events\r
  - Threads auto-resolve after specified minutes of inactivity without user response\r
- Thread List Improvements\r
  - Fixed thread list to show latest message timestamp instead of first message timestamp\r
  - WhatsApp-style conversation sorting with unreplied threads at top\r
  - Real-time conversation preview updates without full list refresh\r
- Audio Notifications\r
  - Added audio notification system for new messages in opened threads\r
  - Two notification sounds: incoming (\`mixkit-message-pop-alert-2354.mp3\`) and outgoing (\`mixkit-long-pop-2358.wav\`)\r
  - Debounced notifications to prevent duplicate sounds\r
  - Tab visibility checks to only play sounds when tab is active\r
  - User controls: enable/disable audio notifications, test notification\r
- UI Improvements\r
  - Removed clock icon from chat message bubbles for cleaner appearance\r
  - Enhanced message streaming with better real-time updates\r
  - Improved conversation list performance with optimized refresh logic\r
- Database Schema Updates\r
  - Added \`channel_id\` to \`token_usage_logs\` table for better analytics\r
  - Added \`super_agent_id\` to \`channels\` table (moved from \`ai_profiles\`)\r
  - Updated RLS policies to use \`channels.super_agent_id\` for proper clustering\r
  - Fixed foreign key constraints and relationships\r
- Bug Fixes\r
  - Fixed page reload issues when alt+tabbing between browser tabs\r
  - Resolved conversation data leakage between different super agents\r
  - Fixed AI Agent dropdown filtering logic\r
  - Corrected thread timestamp display in conversation list\r
\r
# [0.0.27] FE WEB CEKAT 2025-10-03\r
- Enabling AI Profiles fetch instead of using cache \r
\r
# [0.0.26] FE WEB CEKAT 2025-10-03\r
Commit: Live Chat realtime + anon policies, auto-resolve with enable flag, reopen on user reply, UI polish\r
### Updates\r
- Live Chat (Embed)\r
  - Messages now stream from Supabase realtime (\`public.messages\`); webhook response is ignored for content.\r
  - Sends \`channel_id\`, \`session_id\`, and a persistent friendly \`username\` (stored per host in localStorage). Removed \`platform_id\` from payload.\r
  - Ringtones wired to \`public/tones\` assets; low = \`mixkit-message-pop-alert-2354.mp3\`, high = \`mixkit-long-pop-2358.wav\`.\r
  - Thread lookup uses \`contacts(name)\` with \`maybeSingle()\` (fixes PGRST116 when 0 rows).\r
- Database (Supabase)\r
  - Added anon SELECT RLS for web embed:\r
    - \`channels\`: \`allow_public_select_web_channels\` (provider='web' and active only).\r
    - \`threads\`: \`public_read_web_threads\` (via web channels).\r
    - \`messages\`: \`public_read_web_messages\` (via web channels).\r
    - Fixes 401/42501 when opening standalone live chat.\r
  - Auto-resolve framework:\r
    - \`ai_profiles.auto_resolve_after_minutes\` (int) and \`enable_resolve\` (bool).\r
    - \`threads.auto_resolve_at\` scheduled by trigger \`set_thread_auto_resolve_after_message\` on agent/assistant replies; cleared on user replies.\r
    - Function \`auto_close_due_threads()\` (cron-friendly) and helper \`schedule_auto_resolve_for_open_threads()\` for backfill.\r
  - Auto-reopen: trigger \`reopen_thread_on_user_message\` reopens closed threads and unassigns when a new user message arrives.\r
- AI Agent Settings\r
  - “Enable Auto-resolve” switch added; “Auto-resolve after (minutes)” is disabled when switch is off.\r
  - Removed sending \`system_prompt\` to webhook; UI still saves prompt to profile.\r
- Conversations UI\r
  - “Unreplied” badge restyled (soft red background, darker red text) to match “Assigned” styling.\r
\r
# [0.0.25] FE WEB CEKAT 2025-10-02\r
Commit: Human vs AI handover analytics, WAHA sessions fetch, realtime chats, Platforms loop fix, UI polish\r
### Updates\r
- Analytics (Human Agent)\r
  - Handover rate redefined as Human/(Human+AI) across all conversations (not only resolved).\r
  - Added breakdowns: by Super Agent and by Agent, with Super Agent filter.\r
- Database (Supabase)\r
  - New/updated RPCs: \`get_handover_by_super_agent\`, \`get_handover_by_agent\`, \`get_agent_kpis\`.\r
  - Enabled realtime by adding \`public.threads\` and \`public.messages\` to \`supabase_realtime\`.\r
- Platforms (WhatsApp)\r
  - Fetch sessions from WAHA (\`/api/sessions\` and \`/api/sessions/{name}\`); removed dependency on webhook \`/get_sessions\` calls in UI.\r
  - Filter sessions to selected channel; debounced refresh; fixed infinite refresh loop on Platforms page.\r
  - QR polling uses WAHA session endpoint; Disconnect/Delete refresh safely.\r
- Conversations\r
  - Live-updating conversation list and counts via realtime subscriptions to \`threads\` and \`messages\` (debounced).\r
- UI\r
  - Delete Channel button shows spinner + “Deleting…” and subtle pulse while processing.\r
- Changelog\r
  - Source from root \`CHANGELOG.md\` only; removed \`public/CHANGELOG.md\`; scripts updated to skip copy.\r
\r
# [0.0.24] FE WEB CEKAT 2025-09-30\r
### Updates\r
- Enhance message handling in ConversationPage and useConversations hooks.\r
- Optimistic UI updates for message status\r
\r
# [0.0.23] FE WEB CEKAT 2025-10-02\r
### Updates\r
- Live Chat\r
  - New embedded-only chat page at \`/livechat/:platform_id\` with blue-white palette, gradient background, glassy card, and clearer borders.\r
  - Sound notifications: low note on send, high note on AI reply; ringtone-style sequences; support external audio and synthesized chimes.\r
  - Netlify SPA routing for \`/livechat/*\` via redirects in \`netlify.toml\` and \`public/_redirects\`.\r
\r
- Connected Platforms\r
  - Live chat link and embed now use \`https://classy-frangollo-337599.netlify.app/livechat/{platform_id}\`.\r
  - Added Super Agent section (single-select; master-only). Human Agents now a searchable multi-select of regular agents only.\r
  - Removed “Teams” card. Agent chips show proper names and can be removed.\r
\r
- Platform Forms (Web, WhatsApp, Telegram)\r
  - Enforce Super Agent selection; filter AI/Human Agents by the selected Super Agent.\r
  - Fixed Telegram \`useEffect\` import error; safer webhook response handling.\r
  - Only selected human agents are attached on create.\r
\r
- Hooks and data\r
  - \`usePlatforms\`: join \`channel_agents\`; insert/remove on create/update; read/update \`channels.credentials.super_agent_id\`.\r
  - \`useAIAgents\`/\`LiveChat\`: dropped non-existent \`model\`; filter by \`super_agent_id\`.\r
  - \`useHumanAgents\`: include \`super_agent_id\` via \`super_agent_members\`.\r
\r
- Human Agents page\r
  - Clustering UI to manage Super Agents → Agents & AI Agents; token totals by cluster.\r
\r
- Database (Supabase)\r
  - New \`super_agent_members\` table (RLS) and \`ai_profiles.super_agent_id\` (NOT NULL).\r
  - Added \`users_profile.used_tokens\` plus \`refresh_used_tokens_for_super_agents\` function and trigger to aggregate token usage per super agent.\r
  - Deployed and backfilled via Supabase MCP; membership mappings added where needed.\r
\r
- Fixes\r
  - Resolved SPA 404s for \`/livechat/*\`.\r
  - Fixed \`users_profile.email\` and \`ai_profiles.model\` 42703 errors.\r
  - Ensured agent removal updates \`channel_agents\` and access.\r
\r
# [0.0.22] FE WEB CEKAT 2025-09-30\r
### Updates\r
- Fix platform creating for telegram\r
- Add saving functionality for selected AI agent in ConnectedPlatforms and prevent duplicate Telegram bot tokens in TelegramPlatform Form\r
- Enhance AI Agent Settings: Implement file upload functionality with Supabase integration, including upload progress tracking and error handling. Update UI to reflect file statuses and permissions. Add new knowledgebase endpoints for file management.\r
- Enhance file upload process in AIAgentSettings: pre-compute content hash for stable key, include additional metadata (storageName, storageSize, storageUpdatedAt) in upload response, and improve file validation checks.\r
\r
# [0.0.21] FE WEB CEKAT 2025-09-30\r
### Updates\r
- Update CHANGELOG and enhance Analytics and HumanAgents components. \r
- Added token usage tracking in Analytics with visualizations for daily usage and top models. \r
- Improved token aggregation logic in HumanAgents to account for super-agent clusters.\r
\r
# [0.0.20] FE WEB CEKAT 2025-09-30\r
### Updates\r
- Platform agent assignment\r
  - Persist selected agents on create to \`channel_agents\`; updates replace assignments.\r
  - Agents now only see platforms they’re assigned to; master/super see all.\r
  - Platforms list shows only attached human agents (no more org-wide members).\r
\r
- Platform details UI\r
  - New Super Agent section: shows assigned super agent; single-select; editable by master agents only; stored in \`channels.credentials.super_agent_id\`.\r
  - Human Agent manager: chips with remove (X) + searchable multi-select to add; lists only regular agents (excludes super/master).\r
  - Removed unused “Teams” card; unified details behavior across providers.\r
\r
- Telegram platform creation\r
  - Hits \`POST /telegram/create-platform\` (CREATE_PLATFORM) before channel insert.\r
  - Sends \`brand_name, display_name, description, telegram_bot_token, ai_profile_id, human_agent_ids, org_id\`.\r
  - Robust response handling for empty/non-JSON bodies; emits refresh after success.\r
\r
- Data fetching and names\r
  - Human agent names prefer \`users_profile.display_name\` with fallback to \`v_users.display_name\`; email sourced from \`v_users\`.\r
  - Fixed error when \`users_profile.email\` was selected (column doesn’t exist).\r
\r
- Components\r
  - Added \`ui/multi-select\` (popover + search + checkbox) for multi-add of agents.\r
\r
- Fixes\r
  - Agent chips now display the correct agent name (not internal IDs).\r
  - Only the agents selected during platform creation are attached (no more “all agents” issue).\r
  - Resolved Telegram JSON parse errors and \`42703 users_profile.email\` error.\r
\r
# [0.0.19] FE WEB CEKAT 2025-09-23\r
### Updates\r
- Automatically switch to the Resolved tab when only closed conversations are present\r
- Updated Resolved tab UI to display the count of closed conversations.\r
\r
# [0.0.18] FE WEB CEKAT 2025-09-20\r
### Updates\r
- Added provider tabs (WhatsApp, Telegram, Live Chat) to filter the list; auto-select first item in active tab\r
- Replaced black status dot with green (active) / gray (inactive) indicator\r
\r
# [0.0.17] FE WEB CEKAT 2025-09-20\r
### Updates\r
- Scope data fetching and realtime to visible pages and active routes (Conversations, Human Agents, Platforms, Contacts, AI Agents, RBAC, Analytics)\r
- Add tab-visibility guards to avoid background fetch on tab-restore; hydrate from cache first where applicable\r
- Standardize React Query defaults (staleTime=60s, gc=5m, disable refetch on focus/reconnect)\r
- Reduce audit log verbosity: ignore refresh/update events; add 3s debounce in \`logAction\`; include current route in log context\r
- Analytics\r
  - Default to last 30 days and align to full-day UTC boundaries\r
  - Prevent invalid date ranges (From ≤ To; To ≥ From) with input min/max and clamping\r
  - Fetch once per change; removed duplicate initial fetch\r
- UI consistency: set Telegram Platform create button to blue\r
- Utilities: add \`isDocumentHidden\` and \`onDocumentVisible\` helpers\r
\r
# [0.0.16] FE WEB CEKAT 2025-09-19\r
### Updates\r
- Enhance real-time synchronization for conversations and messages; always fetch fresh data on mount\r
\r
# [0.0.15] FE WEB CEKAT 2025-09-19\r
### Updates\r
- Auth/OTP: eliminate redirect flicker by gating on \`otpEvaluated\`; \`ProtectedRoute\` and \`Otp\` now wait for evaluation; \`ResetPassword\` handles magic-link \`?code=\` with \`exchangeCodeForSession\`.\r
- Changelog page: render Markdown (react-markdown + GFM), Tailwind Typography, compact heading sizes; added Netlify \`public/_redirects\`; added \`prebuild\`/\`predev\` to copy root \`CHANGELOG.md\` to \`public/\`.\r
- Build: remove top-level await in \`main.tsx\` (wrap in async IIFE).\r
- Analytics (global): add graceful fallback when \`get_containment_and_handover\` is missing; improved handover reason labels; added per-user analytics (Assigned To, Takeovers Initiated, Resolved By, AI→Agent Handovers).\r
- Human Agents:\r
  - Create Agent dialog with loader; 2FA enable checkbox on create; colored CTAs.\r
  - Add confirmation dialog with loader for deletion; wire hard delete.\r
  - Status changed to Active/Inactive; add \`users_profile.is_active\` column and update UI/actions.\r
  - Edit dialog shows “Require Email 2FA” switch and token limits; loads/saves \`is_2fa_email_enabled\`.\r
  - Role badges and submenu restyled (blue/green/gray).\r
- Edge Functions: \`admin-create-user\` (invite + profile + role, CORS) and \`admin-delete-user\` (hard delete auth user and related rows).\r
- Logging: \`logAction\` falls back to default org when \`org_id\` cannot be resolved (fixes audit log NOT NULL).\r
- UI theming: replaced remaining dark/black buttons with blue/green/red where appropriate.\r
\r
# [0.0.14] FE WEB CEKAT 2025-09-19\r
### Updates\r
- Fix changelog is not accessible in staging\r
\r
# [0.0.13] FE WEB CEKAT 2025-09-19\r
### Updates\r
- Implement OTP flow for login and enhance ProtectedRoute for OTP verification. \r
- Added new Otp and Logout pages\r
- Updated AuthContext to manage OTP state \r
- Modified Login component to handle OTP requirements.\r
\r
# [0.0.12] FE WEB CEKAT 2025-09-18\r
### Updates\r
- Enhance authentication flow with local storage caching and session restoration\r
- Implemented local storage caching for AI agents and conversations to improve performance and reduce flicker on refresh.\r
- Added session restoration from local storage to ensure user authentication state is maintained across page reloads.\r
- Updated AuthContext to prioritize local storage for session data before reconciling with Supabase.\r
- Introduced a loading state management to handle UI updates more smoothly during data fetching.\r
\r
# [0.0.11] FE WEB CEKAT 2025-09-17\r
### Updates\r
- Audit Logs self-read policy for non-master users.\r
- Added \`get_audit_logs\` RPC with server-side filters, paging, and master-only org-wide access.\r
- Analytics foundations: date-range controls and labeled charts; wired to secure RPCs.\r
- KPI RPCs: \`get_chats_timeseries\` and \`get_response_time_stats\` (avg/median/p90) with Asia/Jakarta bucketing.\r
- RBAC and conversation label changes now emit audit log entries.\r
- Analytics UI now uses new KPI RPCs with channel filter, time-series, and labeled bars.\r
- Containment/Handover groundwork: added \`threads.resolution\`, \`end_reason\`, \`handover_reason\`, AI auto-resolution trigger.\r
- Analytics RPCs: \`get_containment\` (with previous period) and \`get_handover_stats\` (reason breakdown).\r
- Server-side validation: handover reason now required when handover happens; added helpful indexes for analytics.\r
- Added \`get_non_contained\` RPC for drilldown of non-contained conversations.\r
- Containment/Handover dashboard cards with drilldown and reason pie chart.\r
- RBAC policy engine scaffold: \`rbac_policies\` table, RPCs (\`get_role_policy\`, \`put_role_policy\`, \`apply_role_policy\`), extended \`has_perm\` to honor policies.\r
- Role Policy editor UI (matrix) to manage per-resource actions; policy changes logged.\r
- Added docs/ANALYTICS_AND_LOGS.md covering RPCs, validation, and telemetry.\r
- Added PII sanitization tests for log CSV export.\r
- Added analytics time-series, containment, handover, and RBAC policy tests; basic E2E seed.\r
- TODO roadmap (server-validated) added for Analytics KPIs, Containment/Handover, RBAC policies, indexes, docs, and tests.\r
- implement OTP flow in login\r
- enhance ProtectedRoute for OTP verification\r
\r
# [0.0.10] FE WEB CEKAT 2025-09-16\r
### Updates\r
- fix: remove duplicate import of useRBAC in ConversationPage component\r
\r
# [0.0.9] FE WEB CEKAT 2025-09-16\r
### Updates\r
- Created loggings for every users, and only admin can access.\r
- Made Role Management for admins to setting the role.\r
\r
# [0.0.8] FE WEB CEKAT 2025-09-14\r
### Updates\r
- Replaced thread participants with collaborators in the database schema.\r
- Implemented checks for user collaboration status on conversations.\r
- Enhanced thread assignment logic to ensure proper user assignment and audit fields.\r
- Updated UI elements for chat takeover functionality to reflect new collaborator roles.\r
\r
# [0.0.7] FE WEB CEKAT 2025-09-13\r
### Updates\r
- Removed static permission constants in favor of direct string references for better alignment with database values.\r
- Updated components to utilize new permission string format, enhancing consistency across the application.\r
- Improved navigation logic to enforce permission checks when syncing active tabs, ensuring users only access permitted items.\r
- Streamlined permission-related code in various components, enhancing maintainability and readability.\r
\r
# [0.0.6] FE WEB CEKAT 2025-09-03\r
### Updates\r
- Implement OpenAI usage tracking and enhance analytics component\r
- Added OpenAI API key configuration to .env for usage tracking.\r
- Refactored vite.config.ts to include a usage proxy plugin for fetching OpenAI usage data.\r
- Enhanced Analytics component to display OpenAI token usage with dynamic date range selection and improved UI elements.\r
- Integrated charts to visualize input, output, and total tokens over selected time ranges.\r
- Implemented error handling and loading states for better user experience during data fetching.\r
\r
# [0.0.5] FE WEB CEKAT 2025-09-03\r
### Updates\r
- Updated PermissionNavItem and NavigationItem interfaces to use string arrays for permissions instead of PermissionName type for better flexibility.\r
- Modified NAVIGATION_CONFIG to replace permission constants with string representations for improved readability and consistency.\r
- Enhanced RBACProvider's hasPermission function to support various permission formats, including direct matches and synonyms for better user experience.\r
- Integrated a new PermissionsPage component into the main Index page, ensuring proper permission checks with PermissionGate.\r
\r
\r
# [0.0.4] FE WEB CEKAT 2025-09-03\r
### Updates\r
- Integrate RBAC and enhance agent management features\r
- Added RBACProvider to App component for role-based access control.\r
- Updated HumanAgents component to utilize PermissionGate for role management and agent creation.\r
- Refactored agent role handling to support new roles: master_agent and super_agent.\r
- Enhanced ConversationPage to display channel provider information for better context.\r
- Improved useHumanAgents hook to fetch agents from the new v_users view, streamlining data retrieval and role assignment.\r
\r
# [0.0.3] FE WEB CEKAT 2025-09-03\r
### Updates\r
- Implement WhatsApp session polling and enhance deletion handling\r
- Added polling mechanism to check WhatsApp session status while the QR modal is open, improving user feedback on connection status.\r
- Introduced loading state management for channel deletion actions to prevent multiple submissions and enhance user experience.\r
- Removed phone number input from WhatsAppPlatformForm as per updated requirements, streamlining the form submission process.\r
\r
# [0.0.2] FE WEB CEKAT 2025-09-01\r
### Updates\r
- Deleted AUTHENTICATION_SETUP.md, CHAT_SETUP.md, HUMAN_AGENTS_SETUP.md, sample_data.sql, and simple_sample_data.sql as they are no longer relevant to the current project structure.\r
- Updated package.json version to 0.0.1 and removed unnecessary dev dependencies from package-lock.json.\r
- Enhanced Login component to display the current version of the application.\r
- Enhanced Whatsapp channel connecting flow and validation\r
\r
# [0.0.1] FE WEB CEKAT 2025-09-01\r
### Updates\r
- Enhance ClientEditProfileForm: Make company industry selection read-only for non-admin users`;function m$e(){const e=p$e;return l.jsx("div",{className:"min-h-screen bg-background text-foreground p-6 flex justify-center",children:l.jsx(Ie,{className:"w-full max-w-2xl",children:l.jsx(Je,{children:l.jsx("article",{className:"prose prose-sm md:prose-base dark:prose-invert max-w-none prose-headings:font-semibold prose-h1:text-2xl prose-h2:text-xl prose-h3:text-lg prose-h1:mt-4 prose-h1:mb-2 prose-h2:mt-2 prose-h2:mb-2 prose-h3:mt-1 prose-h3:mb-1 prose-p:my-1 prose-li:my-0 prose-ul:my-2",children:l.jsx(eRe,{remarkPlugins:[h$e],children:e})})})})})}function rI(){const{platform_id:e,platformId:t}=WK(),n=g.useMemo(()=>e||t||"unknown",[e,t]),[r,i]=g.useState([]),[a,o]=g.useState(""),[s,c]=g.useState(!1),[u,f]=g.useState(!0),[d,h]=g.useState("session_"+Date.now()),[p,m]=g.useState(null),[v,y]=g.useState(""),x=g.useRef(null),w=g.useRef(null),b=g.useRef(null),S=g.useRef(null),j="/tones/mixkit-message-pop-alert-2354.mp3",_="/tones/mixkit-long-pop-2358.wav",k=()=>{const D=window.AudioContext||window.webkitAudioContext;return w.current=w.current??new D,w.current},E=(D,B,$,L,A=.05,M="sine")=>{const T=D.createOscillator(),C=D.createGain();T.type=M,T.frequency.value=$,C.gain.value=1e-4,T.connect(C),C.connect(D.destination);const U=B+L/1e3;C.gain.setValueAtTime(1e-4,B),C.gain.exponentialRampToValueAtTime(A,B+.02),C.gain.setValueAtTime(A,Math.max(B+.02,U-.05)),C.gain.exponentialRampToValueAtTime(1e-4,U),T.start(B),T.stop(U)},I=(D,B=110,$=.06)=>{try{const L=k(),A=L.currentTime+.01;D.forEach((M,T)=>{const C=A+T*B/1e3,U=B*.9;Array.isArray(M)?M.forEach(K=>E(L,C,K,U,$,"sine")):E(L,C,M,U,$,"triangle")})}catch{}},P=async D=>{var B,$;try{const A=(D==="low"?(B=window.chatConfig)==null?void 0:B.sendToneUrl:($=window.chatConfig)==null?void 0:$.replyToneUrl)||(D==="low"?j:_),M=D==="low"?b.current??(b.current=new Audio(A)):S.current??(S.current=new Audio(A));return M.src!==A&&(M.src=A),M.currentTime=0,M.volume=D==="low"?.35:.45,await M.play(),!0}catch{return!1}},N=async()=>{await P("low")||I([493.88,523.25,493.88,523.25],110,.045)},O=async()=>{await P("high")||I([1046.5,1318.5,1568,[1046.5,1318.5,1568,2093]],120,.06)};g.useEffect(()=>{try{const D=typeof window<"u"?window.location.host:"unknown",B=`livechat_username_${n}_${D}`;let $="";try{$=localStorage.getItem(B)||""}catch{}if(!$){const L=["Happy","Bright","Calm","Brave","Kind","Sunny","Lucky","Cheerful","Swift","Clever"],A=["User","Visitor","Friend","Guest","Buddy","Pal","Explorer","Champion","Star","Hero"],M=L[Math.floor(Math.random()*L.length)],T=A[Math.floor(Math.random()*A.length)],C=Math.floor(100+Math.random()*900);$=`${M} ${T} ${C}`;try{localStorage.setItem(B,$)}catch{}}y($)}catch{}},[n]),g.useEffect(()=>{var D;(D=x.current)==null||D.scrollIntoView({behavior:"smooth"})},[r.length]),g.useEffect(()=>{let D=null,B=null;const $=M=>{!M||M.length===0||i(T=>{const C=new Map;T.forEach(K=>C.set(K.id,K));for(const K of M){if(!(K!=null&&K.id))continue;const Q=K.role==="agent"||K.role==="assistant"?"assistant":"user",Y={id:K.id,role:Q,body:K.body||"",at:K.created_at||new Date().toISOString()};C.set(Y.id,Y)}const U=Array.from(C.values());return U.sort((K,Q)=>new Date(K.at).getTime()-new Date(Q.at).getTime()),U})},L=async M=>{m(M);try{const{data:T}=await X.from("messages").select("id, role, body, created_at").eq("thread_id",M).order("created_at",{ascending:!0});Array.isArray(T)&&$(T)}catch{}D=X.channel(`livechat-msgs-${M}`).on("postgres_changes",{event:"*",schema:"public",table:"messages",filter:`thread_id=eq.${M}`},T=>{const C=T==null?void 0:T.eventType,U=(T==null?void 0:T.new)||(T==null?void 0:T.old);U&&(C==="INSERT"&&(U!=null&&U.body)&&i(K=>{const Q=K.findIndex(Y=>Y.id.startsWith("temp-")&&Y.role==="user"&&Y.body===U.body);if(Q>=0){const Y=K.slice();return Y.splice(Q,1),Y}return K}),$([U]))}).subscribe(),f(!1)};return(async()=>{try{const{data:M}=await X.from("threads").select("id, contact_id, contacts(name)").eq("channel_id",n).eq("contacts.name",v).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(M!=null&&M.id){await L(M.id);return}}catch{}B=X.channel(`livechat-threads-${n}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"threads",filter:`channel_id=eq.${n}`},async M=>{var U,K;const T=(U=M==null?void 0:M.new)==null?void 0:U.id,C=(K=M==null?void 0:M.new)==null?void 0:K.contact_id;if(!(!T||!C))try{const{data:Q}=await X.from("contacts").select("id, name").eq("id",C).maybeSingle();Q!=null&&Q.name&&v&&Q.name===v&&await L(T)}catch{}}).subscribe(()=>f(!1))})(),()=>{try{D&&X.removeChannel(D)}catch{}try{B&&X.removeChannel(B)}catch{}}},[n,v]);const R=async()=>{const D=a.trim();if(!D)return;o("");const B=`temp-${Date.now()}`;i($=>[...$,{id:B,role:"user",body:D,at:new Date().toISOString()}]),N(),c(!0);try{const $={message:D,session_id:d,timestamp:new Date().toISOString(),channel_id:n,username:v||void 0},L=await fetch(ot.buildUrl(ot.ENDPOINTS.AI_AGENT.CHAT_SETTINGS),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($)});if(!L.ok)throw new Error(`Webhook failed ${L.status}`);O()}catch{i(L=>L.filter(A=>A.id!==B).concat({id:crypto.randomUUID(),role:"assistant",body:"Sorry, I'm having trouble right now. Please try again later.",at:new Date().toISOString()})),O()}finally{c(!1)}},F=D=>{D.key==="Enter"&&!D.shiftKey&&(D.preventDefault(),R())},W=D=>new Date(D).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white flex items-center justify-center",children:l.jsx("div",{className:"mx-auto w-full max-w-xl h-full",children:l.jsx(Ie,{className:"border border-blue-100 shadow-xl rounded-2xl bg-white/90 backdrop-blur",children:l.jsxs(Je,{className:"p-0",children:[l.jsx("div",{className:"flex items-center justify-between px-4 py-3 rounded-t-2xl bg-gradient-to-r from-blue-600 to-blue-500 text-white",children:l.jsx("div",{className:"text-sm font-medium tracking-wide",children:"Live Chat"})}),l.jsx(tc,{className:"h-[450px] p-4",children:l.jsxs("div",{className:"space-y-3",children:[u&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[l.jsx(St,{className:"h-4 w-4 animate-spin text-blue-600"}),"Preparing chat…"]}),r.map(D=>l.jsx("div",{className:`flex ${D.role==="user"?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:"max-w-[80%] space-y-1",children:[l.jsx("div",{className:`px-4 py-2 text-sm rounded-2xl shadow-sm transition-colors ${D.role==="user"?"bg-blue-600 text-white rounded-br-md":"bg-white text-slate-900 border border-blue-100 rounded-bl-md"}`,children:D.body}),l.jsx("div",{className:`text-[10px] ${D.role==="user"?"text-blue-200 text-right":"text-slate-400"}`,children:W(D.at)})]})},D.id)),s&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[l.jsx(St,{className:"h-4 w-4 animate-spin text-blue-600"}),"Typing…"]}),l.jsx("div",{ref:x})]})}),l.jsx("div",{className:"p-3 border-t border-blue-100 rounded-b-2xl bg-blue-50/40",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(it,{placeholder:"Type a message",value:a,onChange:D=>o(D.target.value),onKeyPress:F,className:"rounded-full h-10 px-4 border-blue-200 focus-visible:ring-blue-500 placeholder:text-slate-400"}),l.jsx(ne,{onClick:R,disabled:!a.trim(),className:"rounded-full h-10 w-10 p-0 bg-blue-600 hover:bg-blue-700 text-white",children:l.jsx(Bv,{className:"h-4 w-4"})})]})})]})})})})}const g$e=new fK({defaultOptions:{queries:{staleTime:6e4,gcTime:5*6e4,refetchOnWindowFocus:!1,refetchOnReconnect:!1,retry:1},mutations:{retry:0}}}),v$e=()=>l.jsx(pK,{client:g$e,children:l.jsx(RX,{children:l.jsx(MX,{children:l.jsxs(WV,{children:[l.jsx(k7,{}),l.jsx(rq,{}),l.jsx(fG,{children:l.jsxs(iG,{children:[l.jsx(di,{path:"/",element:l.jsx(g0,{children:l.jsx(iPe,{})})}),l.jsx(di,{path:"/profile",element:l.jsx(g0,{children:l.jsx(oPe,{})})}),l.jsx(di,{path:"/reset-password",element:l.jsx(o2,{})}),l.jsx(di,{path:"/invite",element:l.jsx(o2,{})}),l.jsx(di,{path:"/otp",element:l.jsx(g0,{children:l.jsx(wPe,{})})}),l.jsx(di,{path:"/logout",element:l.jsx(_Pe,{})}),l.jsx(di,{path:"/changelog",element:l.jsx(m$e,{})}),l.jsx(di,{path:"/livechat/:platform_id",element:l.jsx(rI,{})}),l.jsx(di,{path:"/livechat/:platformId",element:l.jsx(rI,{})}),l.jsx(di,{path:"*",element:l.jsx(SPe,{})})]})})]})})})}),y$e="sb-tgrmxlbnutxpewfmofdx-auth-token";async function x$e(){var e,t;try{const n=localStorage.getItem(y$e);if(!n)return;const r=JSON.parse(n),i=(r==null?void 0:r.access_token)||((e=r==null?void 0:r.currentSession)==null?void 0:e.access_token),a=(r==null?void 0:r.refresh_token)||((t=r==null?void 0:r.currentSession)==null?void 0:t.refresh_token);i&&a&&await X.auth.setSession({access_token:i,refresh_token:a})}catch{}}(async()=>{try{await x$e()}catch{}kM(document.getElementById("root")).render(l.jsx(v$e,{}))})();
